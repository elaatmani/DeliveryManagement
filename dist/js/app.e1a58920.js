(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},5084:function(t,e,r){"use strict";r.d(e,{Z:function(){return ARt}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var i=r(7139);const n="https://vldo.shop/",w="https://api.vldo.shop/",d="1.0.1",c="$",u="vlds";var p={name:"App",data:()=>({theme:"light",version:d}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},m=r(89);const g=(0,m.Z)(p,[["render",o],["__scopeId","data-v-4a3ad42f"]]);var h=g,f=r(2483);let b={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var v={name:"user",namespaced:!0,state:b,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},x={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let y={products:[],fetched:!1};var _={name:"product",namespaced:!0,state:y,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},k={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};r(541);let C={fetched:!1,sales:[],count:0};var D={name:"sale",namespaced:!0,state:C,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let S={orders:[],order:null,all_orders:[],fetched:!1};var z={name:"order",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var P={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},L=r(6943);const q=L.Z.create({baseURL:w}),A=L.Z.create({baseURL:w});A.defaults.withCredentials=!0,A.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},q.defaults.withCredentials=!0,q.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var W=q,$=r(680),E={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):W.get("sanctum/csrf-cookie")}};class T{async statistics(t){return await E.getCookie(),W.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await E.getCookie(),W.post("api/v1/agent/orders"+t,e)}async counts(){return await E.getCookie(),W.get("api/v1/agent/orders/counts")}async update(t,e){return await E.getCookie(),W.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await E.getCookie(),W.get("api/orders/toconfirmate")}async getOrder(){return await E.getCookie(),W.get("api/orders/add")}async create(t){return await E.getCookie(),W.post("api/v1/agent/orders/create",t)}}var O=new T;let F={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var I={name:"agent",namespaced:!0,state:F,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),O.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const V=localStorage.getItem("cities");let j={fetched:!1,cities:V?JSON.parse(V):[]};var R={name:"city",namespaced:!0,state:j,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let H={shops:[]};var M={name:"shop",namespaced:!0,state:H,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let N={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Y={name:"notification",namespaced:!0,state:N,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let Z={fetched:!1,warehouses:[]};var K={name:"warehouse",namespaced:!0,state:Z,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let B={fetched:!1,factorisations:[]};var J={name:"factorisation",namespaced:!0,state:B,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let Q={fetched:!1,sheets:[]};var G={name:"sheet",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.unshift(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}},X=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:v,product:_,alert:x,sale:D,order:z,inventory:P,city:R,agent:I,shop:M,notification:Y,warehouse:K,factorisation:J,sheet:G,app:k}});class tt{async login(t){return await E.getCookie(),W.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await E.getCookie(),W.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all,commission:parseFloat(t.commission)})}async update(t,e){return await E.getCookie(),W.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all,commission:parseFloat(t.commission)})}async updateProfile(t,e){return await E.getCookie(),W.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await E.getCookie(),W.get("api/user")}async profile(){return await E.getCookie(),W.get("api/users/profile")}async logout(){return await E.getCookie(),W.get("api/auth/logout")}async clear(){return await E.getCookie(),W.get("api/auth/clear")}async permession(){return await E.getCookie(),W.get("api/auth/permission")}async permessions(){return await E.getCookie(),W.get("api/permissions")}async roles(){return await E.getCookie(),W.get("api/auth/roles")}async all(){return await E.getCookie(),W.get("api/users")}async updateStatus({id:t,status:e}){return await E.getCookie(),W.post("api/users/status/"+t,{status:e})}async delete(t){return await E.getCookie(),W["delete"]("api/users/delete/"+t)}async getUser(t){return await E.getCookie(),W.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await E.getCookie(),W.post("api/roles/new",{name:t,permissions:e})}async createPermission(t){return await E.getCookie(),W.post("api/permissions/new",{name:t})}async updateRole(t,{name:e,permissions:r}){return await E.getCookie(),W.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await E.getCookie(),W["delete"]("api/roles/delete/"+t)}async getRole(t){return await E.getCookie(),W.get("api/roles/"+t)}async agents(){return await E.getCookie(),W.get("api/agents")}async deliveries(){return await E.getCookie(),W.get("api/delevries")}async allDeliveries(){return await E.getCookie(),W.get("api/deliveries")}async cities(){return await E.getCookie(),W.get("api/cities")}}var et=new tt;function rt(t,e,r){if(document.title=t.meta?.title+" | Vldo Shop",!X.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(et.online().catch(ARt.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=X.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(X.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var at=r(2268),st=r(7312),lt=r(3369),ot=r(3289),it=r(165);const nt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},wt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},dt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ct={class:"px-md-10 tw-w-full"},ut={class:"tw-w-[150px]"},pt=["src"],mt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},gt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},ht=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),ft=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),bt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},vt={class:"mt-5"},xt=(0,s._)("p",{class:"mb-1"},"Email",-1),yt=(0,s._)("p",{class:"mb-1"},"Password",-1),_t={class:"mt-5"},kt=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),Ct={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Dt=["src"];function St(t,e,r,l,o,i){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",nt,[(0,s.Wm)(n),(0,s._)("div",wt,[(0,s._)("div",dt,[(0,s.Wm)(lt.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ct,[(0,s._)("div",ut,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"assets/img/logo.png"},null,8,pt)]),(0,s._)("div",mt,[(0,s._)("div",gt,[ht,ft,o.error.active?((0,s.wg)(),(0,s.iD)("p",bt,(0,at.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",vt,[(0,s._)("div",null,[xt,(0,s.Wm)(it.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[yt,(0,s.Wm)(it.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ot.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",_t,[(0,s.Wm)(st.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[kt])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",Ct,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Dt)])])])}function zt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function Ut(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Pt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Lt(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function qt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function At(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function Wt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var $t=r(7771),Et=r(8952);const Tt={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Ot={class:"tw-text-sm"};function Ft(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Et.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Tt,[(0,s.Wm)($t.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ot,(0,at.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var It={computed:{state(){return this.$store.getters["alert/alert"]}}};const Vt=(0,m.Z)(It,[["render",Ft]]);var jt=Vt,Rt={components:{Alert:jt},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=zt(this.email),this.passwordStatus=Ut(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},et.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){et.clear().then((()=>{this.cookiesCleared=!0}))}};const Ht=(0,m.Z)(Rt,[["render",St]]);var Mt=Ht,Nt={name:"login",path:"/login",component:Mt,meta:{title:"Login"}},Yt=r(4454),Zt=r(3140);function Kt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),w=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Yt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Uk)("j "),(0,s.Wm)(w),(0,s.Wm)(d),(0,s.Wm)(Zt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.K,{fluid:"",class:(0,at.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:(0,at.C_)([["scanner/code"==t.$route.name?"tw-left-3":"tw-right-3"],"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"])},[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})],2)):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Bt=r(6439),Jt=r(9156);const Qt={class:"tw-flex tw-items-center tw-gap-2"};function Gt(t,e,r,l,o,i){const n=(0,s.up)("GlobalNotification"),w=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Bt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Qt,[(0,s.Wm)(n),(0,s.Wm)(w)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Jt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var Xt=r(652),te=r(4075),ee=r(8694),re=r(8793);const ae={class:"tw-relative"},se=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),le={key:0,class:"!tw-duration-100"},oe={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ie={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},ne={class:"d-flex flex-column justify-center"},we={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},de={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},ce=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),ue={class:"d-flex tw-items-center tw-gap-2"},pe=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function me(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ae,[(0,s.Wm)(st.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),se])),_:1},8,["onClick"]),(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",le,[(0,s._)("div",oe,[(0,s._)("div",ie,[(0,s.Wm)(Xt.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",ne,[(0,s._)("div",we,(0,at.zw)(o.user.firstname)+" "+(0,at.zw)(o.user.lastname),1),(0,s._)("div",de,(0,at.zw)(o.user.role),1)])]),(0,s.Wm)(te.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(st.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),ce])),_:1})]),(0,s.Wm)(te.J),(0,s._)("div",ue,[(0,s.Wm)(st.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:(0,at.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),pe])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,o.closeMenu]])}var ge={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,et.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const he=(0,m.Z)(ge,[["render",me]]);var fe=he,be=r(4870);class ve{async AllNotifications(t={}){return await E.getCookie(),W.get("api/app/all",{params:t})}async notifications(){return await E.getCookie(),W.get("api/app/notifications")}async Changestatus(){return await E.getCookie(),W.get("api/app/changestatus")}}var xe=new ve,ye=r(6797),_e=r.n(ye),ke=r(6562);const Ce={class:"tw-relative"},De={key:0,class:"!tw-duration-100"},Se={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},ze=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Ue={key:0},Pe={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Le={key:1},qe={key:0},Ae=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),We=[Ae],$e={class:"tw-text-sm"},Ee={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Te={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var Oe={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,be.iH)(!1),a=(0,be.iH)(!1),l=()=>{r.value=!r.value},o=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},w=()=>{r.value=!1},d=()=>{xe.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{xe.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s.Wm)(st.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{width:"22",height:"22",src:(0,be.SU)(n)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&(0,be.SU)(u).count>0?((0,s.wg)(),(0,s.j4)(ke.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:(0,be.SU)(u).count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",De,[(0,s._)("div",Se,[ze,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ue,[(0,s._)("div",Pe,[(0,s.Wm)(ot.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Le,[""==(0,be.SU)(u).data?((0,s.wg)(),(0,s.iD)("div",qe,We)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(u).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,at.C_)([o(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",$e,(0,at.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",Ee,(0,at.zw)((0,be.SU)(_e())(t.created_at).fromNow()),1)],2)])))),128))])):(0,s.kq)("",!0),(0,s._)("div",Te,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(st.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,w]])}}};const Fe=Oe;var Ie=Fe,Ve={emits:["toggleSidebar"],components:{HeaderMenu:fe,GlobalNotification:Ie},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const je=(0,m.Z)(Ve,[["render",Gt]]);var Re=je,He=r(9457),Me=r(2329),Ne=r(9657);function Ye(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Ne.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(He.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(ee.f,{width:"140",src:l.localUrl+"assets/img/logo.png"},null,8,["src"])])])),_:1}),(0,s.Wm)(Me.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const Ze=[4,6,7],Ke=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Analytics",subModule:"dashboard/analytics",gate:"access_to_analytics",to:"/analytics"},{id:3,title:"Charts",subModule:"admin/charts",role:"admin",to:"/dashboards/admin/charts"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Add new sourcing",subModule:"sourcing/new",role:["admin"],to:"/sourcings/new"},{id:2,title:"All sourcings",subModule:"sourcing/index",role:["admin"],to:"/sourcings"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"},{id:2,title:"New Factorisation list",subModule:"factorisation/newlist",gate:"show_all_factorisations",to:"/newfactorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_ads",to:"/ads"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:12,title:"Settings",module:"settings",gate:"access_to_account",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Account",subModule:"settings/account",gate:"access_to_account",to:"/settings/account"},{id:1,title:"Blacklist",subModule:"settings/blacklist",gate:"access_to_account",to:"/settings/blacklist"}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var Be=r(9234),Je=r(2127);const Qe={key:0},Ge={class:"d-flex align-center"},Xe={class:"tw-rounded-md tw-bg-gray-50"},tr={class:"tw-h-full py-2"},er={key:1},rr={key:2},ar={key:3};function sr(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),w=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&"all"!=r.link.gate&&!r.link.role?.includes(o.user.role)||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qe,[(0,s.Wm)(He.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",Ge,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ee.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,at.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(Je.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,at.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(Be.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(ot.t,{key:2,class:(0,at.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",Xe,[(0,s.Wm)(Me.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(He.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",tr,[(0,s.Wm)(ot.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,at.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,at.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",er,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",rr,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",ar,[(0,s.Wm)(w)])):(0,s.kq)("",!0)])}const lr={key:0},or={class:"d-flex align-center"},ir={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},nr={key:1,class:"tw-text-xs"},wr={class:"tw-rounded-md tw-bg-gray-50"},dr={class:"tw-h-full py-2"};function cr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",lr,[(0,s.Wm)(He.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",or,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ee.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,at.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(Je.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,at.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",ir,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",nr,(0,at.zw)(o.count),1))]),(0,s.Wm)(Be.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(ot.t,{key:2,class:(0,at.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",wr,[(0,s.Wm)(Me.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(He.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",dr,[(0,s.Wm)(ot.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,at.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,at.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var ur={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const pr=(0,m.Z)(ur,[["render",cr],["__scopeId","data-v-419eeb7c"]]);var mr=pr;const gr={key:0},hr={class:"d-flex align-center"},fr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},br={key:1,class:"tw-text-xs"};function vr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",gr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(He.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",hr,[(0,s.Wm)(ot.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(Je.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,at.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(Be.C),(0,s._)("div",fr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",br,(0,at.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class xr{async delivery(){return await E.getCookie(),W.get("api/dashboard/delivery")}async agente(){return await E.getCookie(),W.get("api/dashboard/agente")}async productPerformanceByConfirmation(){return await E.getCookie(),W.get("api/charts/products-performance/confirmation")}async productPerformanceByDelivery(){return await E.getCookie(),W.get("api/charts/products-performance/delivery")}async CostPerDay(t,e,r){return await E.getCookie(),W.get("api/charts/cost_per_day",{params:{date_avant:t,date_apres:e,period:r}})}async LeadsPerDay(t,e,r){return await E.getCookie(),W.get("api/charts/leads_per_day",{params:{date_avant:t,date_apres:e,period:r}})}async AmountPerLead(t,e,r){return await E.getCookie(),W.get("api/charts/amount_per_lead",{params:{date_avant:t,date_apres:e,period:r}})}async CostPerMarketer(t,e,r){return await E.getCookie(),W.get("api/charts/cost_per_marketer",{params:{date_avant:t,date_apres:e,period:r}})}async CostPerProduct(t,e,r,a){return await E.getCookie(),W.get("api/charts/cost_per_product",{params:{date_avant:t,date_apres:e,period:r,selectedOption:a}})}async ConfirmationStatesDonuts(t,e,r){return await E.getCookie(),W.get("api/charts/confirmation_state_donuts",{params:{date_avant:t,date_apres:e,period:r}})}async TopProductSelles(t,e,r){return await E.getCookie(),W.get("https://api.vldo.shop/v1/admin/get_top_products",{params:{date_avant:t,date_apres:e,period:r}})}async statistics(t){return await E.getCookie(),W.post("api/v1/marketer/statistics",t)}}var yr=new xr,_r={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,yr.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const kr=(0,m.Z)(_r,[["render",vr],["__scopeId","data-v-69fa82e9"]]);var Cr=kr;const Dr={key:0},Sr={class:"d-flex align-center"},zr={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Ur={key:1,class:"tw-text-xs"},Pr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Lr={key:1,class:"tw-text-xs"};function qr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",Dr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(He.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Sr,[(0,s.Wm)(ot.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(Je.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,at.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(Be.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",zr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Ur,(0,at.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Pr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Lr,(0,at.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Ar={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Wr=(0,m.Z)(Ar,[["render",qr],["__scopeId","data-v-26146d6f"]]);var $r=Wr,Er={props:["link"],components:{SidebarSales:mr,SidebarDelivery:Cr,SidebarAgente:$r},data(){return{localUrl:n,disabled_links:Ze,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Tr=(0,m.Z)(Er,[["render",sr],["__scopeId","data-v-7463e42d"]]);var Or=Tr,Fr={components:{SidebarItem:Or},props:["active"],data(){return{localUrl:n,drawer:!0,links:Ke}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Ir=(0,m.Z)(Fr,[["render",Ye]]);var Vr=Ir;const jr={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},Rr=["dir"],Hr={class:"tw-flex tw-items-start"},Mr={class:"tw-p-2"},Nr={class:"tw-p-2"},Yr={class:"tw-text-white tw-font-semibold"},Zr={key:0,class:"tw-flex-1"},Kr={key:1,class:"tw-pt-2 tw-pr-2"},Br=["onClick"];var Jr={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>X.getters["app/alerts"])),r=(0,s.Fl)((()=>X.getters["user/user"])),l=(0,be.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},n=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return n(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[(0,be.SU)(e).fetched&&(0,be.SU)(o).length?((0,s.wg)(),(0,s.iD)("div",jr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(o),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,at.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",Hr,[(0,s._)("div",Mr,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",Nr,[(0,s._)("p",Yr,(0,at.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",Zr)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",Kr,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,Br)])):(0,s.kq)("",!0)])],10,Rr)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const Qr=Jr;var Gr=Qr;class Xr{async paginate(t="",e){return await E.getCookie(),W.get("api/alerts"+t,{params:e})}async alerts(){return await E.getCookie(),W.get("api/my-alerts")}async create(t){return await E.getCookie(),W.post("api/alerts",t)}async update(t,e){return await E.getCookie(),W.post("api/alerts/"+t,e)}async get(t){return await E.getCookie(),W.get("api/alerts/"+t)}async delete(t){return await E.getCookie(),W["delete"]("api/alerts/"+t)}}var ta=new Xr;const ea={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},ra={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},aa={class:"tw-text-xs"},sa=["disabled"];var la={__name:"AlertNotification",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)(!0),a=(0,i.oR)(),l=async()=>{e.value=!0,await xe.Changestatus().then((t=>{"SUCCESS"==t.data.code&&a.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!1,e.value=!1},o=(0,s.Fl)((()=>a.getters["app/notifications"].highlighted));return console.log(o.value),(t,a)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,be.SU)(o)&&r.value?((0,s.wg)(),(0,s.iD)("div",ea,[(0,s.Wm)($t.w,{text:(0,be.SU)(o).message,color:"white",border:"top","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,at.zw)((0,be.SU)(o).message),1),(0,s._)("div",ra,[(0,s._)("span",aa,(0,at.zw)((0,be.SU)(_e())((0,be.SU)(o).created_at).fromNow()),1),(0,s._)("button",{disabled:e.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,at.zw)(e.value?"Closing...":"Close"),9,sa)])])),_:1},8,["text"])])):(0,s.kq)("",!0)]))}};const oa=la;var ia=oa,na=r(4410),wa=r.n(na),da=r(6027);class ca{async all(){return await E.getCookie(),W.get("api/sheets")}async create(t){await E.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch,user_id:t.user_id};return W.post("api/sheets",e)}async update(t,e){await E.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch,user_id:e.user_id};return W.post("api/sheets/"+t,r)}async delete(t){return await E.getCookie(),W["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await E.getCookie(),W.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await E.getCookie(),W.get("api/sync/"+t)}async sync_all(){return await E.getCookie(),W.get("api/sync")}async auto(){return await E.getCookie(),W.post("api/sync")}async saveOrders(t){return await E.getCookie(),W.get("api/sync/"+t+"/save")}}var ua=new ca;class pa{async paginate(t="/",e){return await E.getCookie(),W.post("api/v1/products"+t,e)}async create(t){await E.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("ref",t.reference),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),e.append("status",1),A.post("api/products/new",e)}async update(t,e){await E.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("ref",e.reference),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),r.append("status",1),A.post("api/products/update/"+t,r)}async all(){return await E.getCookie(),W.get("api/products")}async allForOrder(){return await E.getCookie(),W.get("api/products/for-order")}async getProduct(t){return await E.getCookie(),W.get("api/products/"+t)}async delete(t){return await E.getCookie(),W["delete"]("api/products/delete/"+t)}async stockAlert(){return await E.getCookie(),W.get("api/product/stockAlert")}}var ma=new pa;class ga{async all(){return await E.getCookie(),W.get("api/sales")}async delete(t){return await E.getCookie(),W.get("api/sales/delete/"+t)}async update(t,e){return await E.getCookie(),W.post("api/orders/update/"+t,e)}async create(t){return await E.getCookie(),W.post("api/sales/new",t)}async getNewOrders(t){return await E.getCookie(),W.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await E.getCookie(),W.get("api/orders")}async agenteConfirmedOrders(){return await E.getCookie(),W.get("api/orders/confirmer")}async agenteAddOrder(){return await E.getCookie(),W.get("api/orders/add")}async agenteGetOrder(){return await E.getCookie(),W.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await E.getCookie(),W.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await E.getCookie(),W.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await E.getCookie(),W.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await E.getCookie(),W.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await E.getCookie(),W.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await E.getCookie(),W.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await E.getCookie(),W.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await E.getCookie(),W.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await E.getCookie(),W.get("api/orders/history/show/"+t)}async itemHistory(t){return await E.getCookie(),W.get("api/orders/item/history/show/"+t)}async resetSale(t){return await E.getCookie(),W.post("api/sales/reset",{ids:t})}async scanSale(t){return await E.getCookie(),W.post("api/sales/scan",t)}async availableOrders(){return await E.getCookie(),W.get("api/orders/count")}async get(t){return await E.getCookie(),W.get("api/orders/show/"+t)}async warehouseControl(t,e){return await E.getCookie(),W.post("api/warehouse-control",{id:t,target:e})}}var ha=new ga,fa={components:{AppHeader:Re,AppSidebar:Vr,Alert:jt,AlertNotification:ia,AppAnnonces:Gr},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return et.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},subscribe(){console.log(wa());const t=new da.Z({broadcaster:"pusher",key:"ABCDEFG",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0,cluster:"mt1"});window.Echo=t,t.channel("notification").listenToAll((t=>{console.log(t)})),this.subscribed=!0},sync_sheets(){"admin"==this.user.role?ua.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):ua.auto()},getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ha.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async getAlerts(){return ta.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const ba=(0,m.Z)(fa,[["render",Kt]]);var va=ba;const xa={key:0};function ya(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",xa,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var _a=r(6824),ka=r(8521);const Ca={key:0},Da={key:1},Sa=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),za={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Ua={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Pa={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},La=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),qa=["disabled"],Aa={key:0,class:"tw-flex tw-items-center tw-gap-2"},Wa={key:1},$a=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Ea={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ta(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),w=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ca,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Da,[Sa,(0,s._)("div",za,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",Ua,[(0,s._)("div",Pa,[La,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Aa,[(0,s.Wm)(ot.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Wa,[$a,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,qa)])]),(0,s._)("div",Ea,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(ka.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(ka.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(ka.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Oa=r(4286);const Fa={class:"tw-flex tw-items-center"},Ia={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Va={class:"tw-text-lg tw-font-bold"},ja={class:"tw-text-sm"};function Ra(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Oa.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Fa,[(0,s._)("div",{class:(0,at.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(ot.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Ia,[(0,s._)("p",Va,(0,at.zw)(r.dash.value),1),(0,s.Wm)(Be.C),(0,s._)("p",ja,(0,at.zw)(r.dash.title),1)])])])),_:1})}var Ha={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Ma=(0,m.Z)(Ha,[["render",Ra]]);var Na=Ma;const Ya={key:0,class:""},Za={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ka=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Ba=[Ka],Ja={key:1,class:"tw-min-h-[50px]"},Qa={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ga={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},Xa={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},ts={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},es={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},rs=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),as={key:1},ss={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},ls=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),os={key:1,class:"tw-flex tw-items-center tw-gap-2"},is=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ns(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ya,[(0,s._)("div",Za,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Ba))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ja,[(0,s._)("div",Qa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Ga,[(0,s._)("div",Xa,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1),(0,s._)("div",ts,[t.last_action?((0,s.wg)(),(0,s.iD)("div",as,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",ss,[ls,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",os,[is,(0,s.Uk)(" "+(0,at.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",es,[rs,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var ws=r(8777),ds={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,ws.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const cs=(0,m.Z)(ds,[["render",ns]]);var us=cs,ps=r(1489),ms=r(3144),gs=r(9870),hs=r(6161),fs=r(4722);function bs(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(ps._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ms.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(gs.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(hs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(fs.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const vs={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},xs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ys={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},_s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ks={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Cs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ds={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ss={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function zs(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vs,[(0,s._)("div",xs,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",ys,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",_s,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",ks,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Cs,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Ds,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Ss,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Us={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},Ps={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Ls={class:"tw-text-xl tw-font-bold"},qs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},As={class:"tw-text-sm"},Ws={class:"rounded-circle tw-w-fit tw-mr-3"};function $s(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Oa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Us,[(0,s._)("div",Ps,[(0,s._)("p",Ls,(0,at.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,at.zw)(r.symbol),1),(0,s._)("span",qs,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",As,(0,at.zw)(r.dash.title),1)])]),(0,s._)("div",Ws,[(0,s.Wm)(ot.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Es={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Ts=(0,m.Z)(Es,[["render",$s]]);var Os=Ts,Fs={components:{DashItemTwo:Os},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Is=(0,m.Z)(Fs,[["render",zs]]);var Vs=Is;const js={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Rs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Hs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ms={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ns={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ys={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Zs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ks={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Bs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Js(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",js,[(0,s._)("div",Rs,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Hs,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ms,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",Ns,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Ys,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Zs,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Ks,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",Bs,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var Qs={components:{DashItemTwo:Os},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Gs=(0,m.Z)(Qs,[["render",Js]]);var Xs=Gs,tl={components:{DeliveryTab:Vs,ConfirmationTab:Xs},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const el=(0,m.Z)(tl,[["render",bs]]);var rl=el;const al={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},sl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ll={class:"tw-relative"},ol={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},il={class:"tw-relative"},nl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),dl={class:"tw-relative"},cl=(0,s._)("option",{value:"all"},"Select",-1),ul=["value"],pl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ml=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),gl={class:"tw-relative"},hl=(0,s._)("option",{value:"all"},"Select",-1),fl=["value"],bl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},vl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),xl={class:"tw-relative"},yl=(0,s._)("option",{value:"all"},"Select",-1),_l=["value"],kl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Cl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),Dl={class:"tw-relative"},Sl=(0,s._)("option",{value:"all"},"Select",-1),zl=["value"],Ul={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Pl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),Ll={class:"tw-relative"},ql=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Al={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Wl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),$l={class:"tw-relative"},El=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Tl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ol=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Fl={class:"tw-relative"},Il=(0,s._)("option",{value:"all"},"Select",-1),Vl=(0,s._)("option",{value:"oui"},"Oui",-1),jl=(0,s._)("option",{value:"non"},"Non",-1),Rl=[Il,Vl,jl];function Hl(t,e,r,l,o,i){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",al,[(0,s._)("div",sl,[(0,s._)("div",ll,[(0,s.Wm)(n,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",ol,[(0,s._)("div",il,[(0,s.Wm)(n,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",nl,[wl,(0,s._)("div",dl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[cl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,ul)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",pl,[ml,(0,s._)("div",gl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[hl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,fl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",bl,[vl,(0,s._)("div",xl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[yl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,_l)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",kl,[Cl,(0,s._)("div",Dl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Sl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,zl)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ul,[Pl,(0,s._)("div",Ll,[ql,(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Al,[Wl,(0,s._)("div",$l,[El,(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Tl,[Ol,(0,s._)("div",Fl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Rl,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Ml={class:"tw-text-sm tw-text-neutral-600"},Nl=["onClick"];function Yl(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Ml,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,Nl)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Zl=r(1271),Kl=r(2292),Bl=r(1745),Jl=r(4253),Ql=r(4819),Gl=r(2143),Xl={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Zl.Z)(new Date,1),(0,Zl.Z)(new Date,1)]},{label:"This month",range:[(0,Kl.Z)(new Date),(0,Bl.Z)(new Date)]},{label:"Last month",range:[(0,Kl.Z)((0,Jl.Z)(new Date,1)),(0,Bl.Z)((0,Jl.Z)(new Date,1))]},{label:"This year",range:[(0,Ql.Z)(new Date),(0,Gl.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const to=(0,m.Z)(Xl,[["render",Yl]]);var eo=to,ro={components:{DateFilter:eo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){et.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),et.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),et.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const ao=(0,m.Z)(ro,[["render",Hl]]);var so=ao;const lo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},oo=t=>t?t.split("api/")[1]:null,io=t=>JSON.parse(JSON.stringify(t));var no={components:{DashItem:Na,UsersTable:us,TabSwitcher:rl,FilterTabs:so},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((w=>{if("all"!==t&&parseInt(w.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(w.affectation)!=parseInt(e))return!1;if("all"!==s&&w.upsell!=s)return!1;if("all"!==r&&!w.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&w.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(w.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(w.dropped_at),g=m.getDate(),h=m.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=lo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=lo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=lo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const wo=(0,m.Z)(no,[["render",Ta]]);var co=wo;const uo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),po={key:0},mo={key:1},go={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ho={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},fo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},bo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},vo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},xo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},yo={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},_o={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function ko(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[uo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",po,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",mo,[(0,s._)("div",go,[(0,s._)("div",ho,[(0,s._)("div",fo,[(0,s.Wm)(n,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",bo,[(0,s.Wm)(n,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",vo,[(0,s.Wm)(n,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",xo,[(0,s.Wm)(n,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",yo,[(0,s.Wm)(n,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",_o,[(0,s.Wm)(n,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Co={components:{DashItemTwo:Os},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,yr.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Do=(0,m.Z)(Co,[["render",ko]]);var So=Do;const zo=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Uo={key:0},Po={key:1},Lo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},qo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Ao={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Wo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$o={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Eo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},To={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Oo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Io(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[zo,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Uo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Po,[(0,s._)("div",Lo,[(0,s._)("div",qo,[(0,s._)("div",Ao,[(0,s.Wm)(n,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Wo,[(0,s.Wm)(n,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",$o,[(0,s.Wm)(n,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Eo,[(0,s.Wm)(n,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",To,[(0,s.Wm)(n,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Oo,[(0,s.Wm)(n,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Fo,[(0,s.Wm)(n,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Vo={components:{DashItemTwo:Os},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,yr.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const jo=(0,m.Z)(Vo,[["render",Io]]);var Ro=jo;const Ho=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),Mo=[Ho];function No(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,Mo)}var Yo={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const Zo=(0,m.Z)(Yo,[["render",No]]);var Ko=Zo;const Bo={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Jo=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Qo=[Jo];function Go(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Bo,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Qo))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const Xo={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},ti={class:"tw-flex tw-justify-between"},ei={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ri={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},ai={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},si={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function li(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Xo,[(0,s._)("div",ti,[(0,s._)("div",null,[(0,s._)("div",ei,[(0,s._)("p",ri,(0,at.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ai,[(0,s._)("span",si,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var oi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const ii=(0,m.Z)(oi,[["render",li]]);var ni=ii;class wi{async statistics(){return await E.getCookie(),W.post("api/v1/followup/statistics")}async paginate(t="/",e){return await E.getCookie(),W.post("api/v1/followup/orders"+t,e)}async update(t,e){return await E.getCookie(),W.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),W.post("api/v1/followup/orders/create",t)}}var di=new wi,ci={components:{DashCard:ni},data(){return{fetching:!0,dashes:[]}},mounted(){di.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const ui=(0,m.Z)(ci,[["render",Go]]);var pi=ui,mi={components:{admin:co,delivery:So,agente:Ro,default:Ko,"follow-up":pi},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"marketer":this.$router.push({name:"dashboards/marketer"});break;default:this.exists=!0;break}}},created(){this.check()}};const gi=(0,m.Z)(mi,[["render",ya]]);var hi=gi;const fi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},bi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},vi={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},xi={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},yi=["disabled"],_i=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ki=(0,s._)("span",null," previous ",-1),Ci=[_i,ki],Di=["disabled"],Si=(0,s._)("span",null," Next ",-1),zi=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Ui=[Si,zi];function Pi(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fi,[(0,s._)("div",bi,[(0,s.Uk)(" Page "),(0,s._)("span",vi,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",xi,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ci,10,yi),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ui,10,Di)])])])}var Li={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const qi=(0,m.Z)(Li,[["render",Pi]]);var Ai=qi;const Wi={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},$i=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),Ei={key:0},Ti={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Oi={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},Fi={key:0},Ii=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),Vi=[Ii],ji={class:"tw-w-full tw-text-left tw-text-gray-500"},Ri={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},Hi={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Mi=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var Ni={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,be.iH)(!1),a=(0,be.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await xe.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const n=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Wi,[$i,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ei,[(0,s._)("div",Ti,[(0,s.Wm)(ot.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",Oi,[""==(0,be.SU)(n).data?((0,s.wg)(),(0,s.iD)("div",Fi,Vi)):(0,s.kq)("",!0),(0,s._)("table",ji,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(n).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,at.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",Ri,(0,at.zw)(t.message),1),(0,s._)("div",Hi,(0,at.zw)((0,be.SU)(_e())(t.created_at).fromNow()),1)],2)))),128))]),Mi,r.value?((0,s.wg)(),(0,s.j4)(Ai,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const Yi=Ni;var Zi=Yi,Ki={path:"/",name:"home",component:va,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:hi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:Zi,meta:{module:"notification",title:"Notifications",gate:"all"}}]},Bi=r(3104);const Ji=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),Qi={key:0},Gi={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xi={class:"tw-w-full"},tn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),en={class:"tw-w-full"},rn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),an={class:"tw-w-full"},sn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),ln={class:"tw-w-full"},on=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),nn={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},wn=(0,s._)("span",null,"Update Password: ",-1),dn={class:"tw-w-full"},cn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),un={class:"tw-w-full"},pn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),mn={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},gn=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),hn=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function fn(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Ji,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qi,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",Gi,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Xi,[tn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",en,[rn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",an,[sn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ln,[on,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",nn,[wn,(0,s.Wm)(Bi.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(ka.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dn,[cn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(ka.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",un,[pn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",mn,[(0,s.Wm)(st.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gn])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[hn])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var bn={data(){return{serverUrl:w,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,et.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=Ut(this.password),this.formStatus["confirmPassword"]=qt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return et.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const vn=(0,m.Z)(bn,[["render",fn]]);var xn=vn;class yn{async all(t){return await E.getCookie(),W.get("api/blacklist",{params:t})}async create(t){return await E.getCookie(),W.post("api/blacklist",t)}async delete(t){return await E.getCookie(),W["delete"]("api/blacklist/"+t)}}var _n=new yn;const kn=[{name:"Client",key:"fullname"},{name:"Phone",key:"phone"},{name:"Address",key:"adresse"},{name:"City",key:"city"}],Cn=(t,e="success")=>{console.log(X),X.dispatch("alert/toggleAlert",{type:e,title:t})},Dn=(0,s._)("span",null,"New",-1),Sn={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},zn={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Un=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add new keyword ",-1),Pn={class:"tw-p-5 tw-my-2"},Ln={class:""},qn=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Field",-1),An={class:"tw-relative"},Wn=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a field ",-1),$n=["value"],En=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Tn={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},On={class:"tw-mt-5"},Fn=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Keyword",-1),In={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vn={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},jn=["disabled"],Rn=(0,s._)("span",null,"Add",-1);var Hn={__name:"BlacklistAdd",setup(t){const e=(0,s.f3)("blacklist"),r=(0,be.iH)(!1),l=(0,be.iH)(!1),o=(0,be.qj)({}),i=(0,be.qj)({blacklist:{field:"no-value-selected",value:""}}),n=()=>{r.value=!1},w=()=>{i.blacklist={field:"no-value-selected",value:""},r.value=!0},d=async()=>{l.value=!0,await _n.create(i.blacklist).then((t=>{"SUCCESS"==t.data.code&&(e.addItem(t.data.blacklist),r.value=!1,Cn("Blacklist added successfully"))}),(t=>{if(500==t.response?.status&&"ERROR"==t.response?.data?.code&&Cn(t?.response?.data?.message,"danger"),422==t?.response?.status)for(let e in t?.response?.data?.errors)o[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(t,e)=>{const c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:w,type:"button",class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-white tw-bg-orange-400 hover:tw-bg-orange-500 tw-duration-200 focus:tw-ring-4 focus:tw-ring-orange-300 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-me-2 tw-mb-2 dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 focus:tw-outline-none dark:focus:tw-ring-orange-800"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Dn]),(0,s.Wm)(c,{visible:r.value,closeable:!0,onCancel:n},{default:(0,s.w5)((()=>[(0,s._)("div",Sn,[(0,s._)("div",zn,[Un,(0,s._)("div",Pn,[(0,s._)("div",Ln,[qn,(0,s._)("div",An,[(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>o.field=null),"onUpdate:modelValue":e[1]||(e[1]=t=>i.blacklist.field=t),class:(0,at.C_)([[o.field&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Wn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(kn),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.name]),value:t.key,key:t.key},(0,at.zw)(t.name),11,$n)))),128))],34),[[a.bM,i.blacklist.field]]),En]),o.field?((0,s.wg)(),(0,s.iD)("label",Tn,(0,at.zw)(o.field),1)):(0,s.kq)("",!0)]),(0,s._)("div",On,[Fn,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.blacklist.value=t),onInput:e[3]||(e[3]=t=>o.value=null),type:"text",class:(0,at.C_)([[o.value&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a keyword to be banned",required:""},null,34),[[a.nr,i.blacklist.value]]),o.value?((0,s.wg)(),(0,s.iD)("label",In,(0,at.zw)(o.value),1)):(0,s.kq)("",!0)])]),(0,s._)("div",Vn,[(0,s._)("button",{onClick:n,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Rn],8,jn)])])])])),_:1},8,["visible"])])}}};const Mn=Hn;var Nn=Mn;const Yn={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},Zn=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete this ?",-1),Kn={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},Bn=["disabled"],Jn=["disabled"];var Qn={__name:"BlacklistTableActionsDelete",props:["item"],setup(t){const e=t,r=(0,be.iH)(!1),a=(0,be.iH)(!1),l=(0,s.f3)("blacklist"),o=async()=>{a.value=!0,await _n["delete"](e.item.id).then((t=>{"SUCCESS"==t.data.code&&(l.deleteItem(e.item.id),Cn("Deleted Successfully"),r.value=!1)}),(t=>{console.log(t),Cn("Something went wrong","danger")})),a.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),(0,s.Wm)(l,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",Yn,[Zn,(0,s._)("div",Kn,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,Bn),(0,s._)("button",{onClick:o,disabled:a.value,type:"button",class:(0,at.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,Jn)])])])),_:1},8,["visible","closeable"])])}}};const Gn=Qn;var Xn=Gn;const tw={class:"tw-px-4"},ew={class:"tw-flex tw-items-center tw-justify-end tw-gap-2"};var rw={__name:"BlacklistTableActions",props:["item"],setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("div",tw,[(0,s._)("div",ew,[(0,s.Wm)((0,be.SU)(Xn),{item:e.item},null,8,["item"])])]))}};const aw=rw;var sw=aw;const lw=(0,s._)("td",{class:"tw-px-4 tw-py-2"},null,-1),ow={class:"tw-px-4 tw-py-2 tw-truncate"},iw={class:"tw-px-4 tw-py-2 tw-truncate"},nw={class:"tw-px-4 tw-py-2"};var ww={__name:"BlacklistTableRow",props:["item"],setup(t){const e=t,r=(0,be.Vh)(e,"item"),a=(0,s.Fl)((()=>kn.find((t=>t.key==r.value.field))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[lw,(0,s._)("td",ow,[(0,s._)("p",null,(0,at.zw)((0,be.SU)(a).name),1)]),(0,s._)("td",iw,[(0,s._)("p",null,(0,at.zw)((0,be.SU)(r).value),1)]),(0,s._)("td",nw,[(0,s._)("p",null,(0,at.zw)((0,be.SU)(_e())((0,be.SU)(r).created_at).format("DD[/]MM[/]YY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,be.SU)(sw),{item:(0,be.SU)(r)},null,8,["item"])])]))}};const dw=ww;var cw=dw;const uw={class:""},pw={class:"tw-overflow-x-auto tw-bg-white"},mw={class:"tw-inline-block tw-min-w-full tw-align-middle"},gw={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},hw={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},fw=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"rtl:tw-text-right tw-px-2 tw-w-5 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("div",{class:"tw-max-w-[25px]"},[(0,s._)("div",{class:"tw-inline-flex tw-items-center"},[(0,s._)("label",{class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},[(0,s._)("input",{type:"checkbox",class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"}),(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])])])])])]),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Field "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Keyword "),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4 tw-w-[100px]"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),bw={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vw={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xw=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),yw=[xw],_w={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},kw={colspan:"11"},Cw={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Dw=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Sw=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),zw=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Uw=[Sw,zw],Pw={class:"tw-mt-6"};var Lw={__name:"BlacklistTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,be.Vh)(r,"options"),l=(0,be.Vh)(r,"data"),o=(0,be.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",uw,[(0,s._)("div",pw,[(0,s._)("div",mw,[(0,s._)("div",gw,[(0,s._)("table",hw,[fw,!(0,be.SU)(o)&&(0,be.SU)(l).length>0?((0,s.wg)(),(0,s.iD)("tbody",bw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(cw),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,be.SU)(o)||0!=(0,be.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",vw,yw)),(0,be.SU)(o)?((0,s.wg)(),(0,s.iD)("tbody",_w,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",kw,[(0,s._)("div",Cw,[Dw,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Uw))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",Pw,[(0,s.Wm)((0,be.SU)(Ai),{from:(0,be.SU)(a).from,to:(0,be.SU)(a).to,"last-page":(0,be.SU)(a).last_page,"per-page":(0,be.SU)(a).per_page,total:(0,be.SU)(a).total,"current-page":(0,be.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const qw=Lw;var Aw=qw;const Ww={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},$w={class:"mb-5 tw-flex tw-w-full tw-justify-between"},Ew=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Blacklist ",-1),Tw=(0,s._)("div",{class:"tw-mt-5"},null,-1);var Ow={__name:"SettingsBlacklistView",setup(t){const e=(0,be.qj)({}),r=(0,be.iH)([]),a=(0,be.iH)(!1),l=async()=>{a.value=!0,await _n.all(e).then((t=>{r.value=t.data.data,delete t.data.data,Object.assign(e,t.data)})),a.value=!1},o=t=>{r.value=r.value.filter((e=>e.id!=t))},i=t=>{e.page=t,l()},n=t=>{r.value.unshift(t)};return(0,s.JJ)("blacklist",{getData:l,deleteItem:o,addItem:n}),l(),(t,l)=>((0,s.wg)(),(0,s.iD)("div",Ww,[(0,s._)("div",$w,[Ew,(0,s.Wm)((0,be.SU)(Nn))]),Tw,(0,s.Wm)((0,be.SU)(Aw),{onPageChange:i,data:r.value,loading:a.value,options:e},null,8,["data","loading","options"])]))}};const Fw=Ow;var Iw=Fw,Vw={name:"settings",path:"/settings",component:va,meta:{module:"user"},children:[{path:"account",name:"settings/account",component:xn,meta:{module:"settings",title:"Account",gate:"all"}},{path:"blacklist",name:"settings/blacklist",component:Iw,meta:{module:"settings",title:"Blacklist",gate:"all"}}]};const jw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Rw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Hw={key:0},Mw=(0,s._)("span",{class:"text-white"}," Add Product ",-1),Nw={key:0},Yw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Zw={class:"mb-5 tw-flex"},Kw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Bw={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Jw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Qw=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Gw={class:"tw-relative"},Xw={class:""};function td(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",jw,[Rw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Hw,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Mw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Nw,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",Yw,[(0,s._)("div",Zw,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Kw,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Bw,[(0,s._)("div",Jw,[Qw,(0,s._)("div",Gw,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Xw,[(0,s.Wm)(w,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const ed={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},rd={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ad={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sd=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ld={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},od=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),id={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},nd={class:"tw-px-6 tw-py-4"},wd={class:"tw-px-6 tw-py-4"},dd={class:"tw-px-6 tw-py-4"},cd={class:"tw-px-6 tw-py-4"},ud={class:"tw-px-6 tw-py-4"},pd={class:"tw-px-6 tw-py-4"},md={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},gd={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},hd={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},fd=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),bd=["value"],vd={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},xd={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},yd={class:"tw-text-white"};function _d(t,e,r,l,o,i){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ed,[(0,s._)("table",rd,[(0,s._)("thead",ad,[(0,s._)("tr",null,[sd,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ld,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[od,(0,s._)("th",id,(0,at.zw)(t.id),1),(0,s._)("td",nd,(0,at.zw)(t.ref),1),(0,s._)("td",wd,(0,at.zw)(t.name),1),(0,s._)("td",dd,(0,at.zw)(t.buying_price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",cd,(0,at.zw)(t.selling_price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",ud,(0,at.zw)(i.calculQty(t.variations)),1),(0,s._)("td",pd,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",md,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",gd,[(0,s._)("div",hd,[fd,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,bd)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",vd,[(0,s._)("div",xd,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,at.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",yd,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const kd={class:"tw-flex tw-items-center tw-gap-1"};function Cd(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",kd,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Dd={props:["rowIndex","product"],name:"productActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ma["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ma.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Sd=(0,m.Z)(Dd,[["render",Cd]]);var zd=Sd,Ud={props:["columns","products"],components:{ProductActions:zd},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Pd=(0,m.Z)(Ud,[["render",_d]]);var Ld=Pd;const qd=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:15,value:"banned",name:"Banned",text:"tw-text-yellow-500 tw-font-semibold",textLight:"tw-text-yellow-500 tw-font-semibold",bg:"tw-bg-black",bgLight:"tw-bg-black",ring:"tw-ring-black/50"}],Ad=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],Wd=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],$d=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Ed=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"}],Td=[null,"expidier","paid","transfer","dispatch"];var Od={components:{ProductsTable:Ld},data(){return{localUrl:n,confirmations:qd,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Fd=(0,m.Z)(Od,[["render",td]]);var Id=Fd;const Vd={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},jd={class:"tw-px-3"},Rd={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Hd={class:"tw-flex tw-items-center tw-gap-x-3"},Md=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),Nd={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Yd=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),Zd={key:0};function Kd(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Vd,[(0,s._)("section",jd,[(0,s._)("div",Rd,[(0,s._)("div",null,[(0,s._)("div",Hd,[Md,(0,s._)("span",Nd,(0,at.zw)(l.totalProducts)+" products",1)]),Yd])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Zd,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Bd={class:"tw-flex tw-flex-col"},Jd={class:"tw-overflow-x-auto"},Qd={class:"tw-inline-block tw-min-w-full tw-align-middle"},Gd={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Xd={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},tc={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},ec={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},rc={class:"tw-max-w-[25px]"},ac={class:"tw-inline-flex tw-items-center"},sc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},lc=["checked"],oc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ic=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),nc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),wc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),dc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),cc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),uc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),pc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),mc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),gc={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},hc=(0,s._)("span",null,"Created",-1),fc=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),bc=[hc,fc],vc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),xc={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yc={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_c=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No product is found ! ")])],-1),kc=[_c],Cc={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Dc={colspan:"11"},Sc={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},zc=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Uc=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Pc=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Lc=[Uc,Pc],qc={class:"tw-mt-6"};function Ac(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Bd,[(0,s._)("div",Jd,[(0,s._)("div",Qd,[(0,s._)("div",Gd,[(0,s._)("table",Xd,[(0,s._)("thead",tc,[(0,s._)("tr",null,[(0,s._)("th",ec,[(0,s._)("div",rc,[(0,s._)("div",ac,[(0,s._)("label",sc,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,lc),oc])])])]),ic,nc,wc,dc,cc,uc,pc,mc,(0,s._)("th",gc,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},bc)]),vc])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",xc,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{onRefresh:e[2]||(e[2]=e=>t.$emit("pageChange",1)),selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",yc,kc)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Cc,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Dc,[(0,s._)("div",Sc,[zc,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Lc)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",qc,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Wc={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},$c={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ec={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Tc={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Oc=["disabled"],Fc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Ic=(0,s._)("span",null," previous ",-1),Vc=[Fc,Ic],jc=["disabled"],Rc=(0,s._)("span",null," Next ",-1),Hc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Mc=[Rc,Hc];function Nc(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wc,[(0,s._)("div",$c,[(0,s.Uk)(" Page "),(0,s._)("span",Ec,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",Tc,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Vc,10,Oc),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Mc,10,jc)])])])}var Yc={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Zc=(0,m.Z)(Yc,[["render",Nc]]);var Kc=Zc;const Bc={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jc={class:"tw-max-w-[25px]"},Qc={class:"tw-inline-flex tw-items-center"},Gc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},Xc=["checked","id"],tu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),eu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ru={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},au={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},su={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"},lu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ou={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},iu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nu={class:"tw-flex tw-items-center tw-gap-1"},wu={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},du={class:"tw-text-blue-700"},cu={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},uu={class:"tw-text-green-700"},pu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mu={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},gu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hu={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},fu={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},bu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vu={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},xu={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},yu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_u={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},ku={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Cu={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},Du={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Su(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",Bc,[(0,s._)("div",Jc,[(0,s._)("div",Qc,[(0,s._)("label",Gc,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,Xc),tu])])])]),(0,s._)("td",eu,[(0,s._)("div",null,[(0,s._)("h2",ru,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",au,[(0,s._)("div",null,[(0,s._)("h2",su,(0,at.zw)(r.item.ref),1)])]),(0,s._)("td",lu,[(0,s._)("div",null,[(0,s._)("h2",ou,(0,at.zw)(r.item.name),1)])]),(0,s._)("td",iu,[(0,s._)("div",nu,[(0,s._)("div",wu,[(0,s._)("span",du,(0,at.zw)(r.item.buying_price),1),(0,s.Wm)(ot.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",cu,[(0,s.Wm)(ot.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",uu,(0,at.zw)(r.item.selling_price),1)])])]),(0,s._)("td",pu,[(0,s._)("div",null,[(0,s._)("h2",mu,(0,at.zw)(o.quantityTotal),1)])]),(0,s._)("td",gu,[(0,s._)("div",hu,[(0,s._)("h2",fu,(0,at.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",bu,[(0,s._)("div",vu,[(0,s._)("h2",xu,(0,at.zw)(o.shippedQuantity),1)])]),(0,s._)("td",yu,[(0,s._)("div",{class:(0,at.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",_u,(0,at.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",ku,[(0,s._)("div",null,[(0,s._)("h2",Cu,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",Du,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item,onRefresh:e[2]||(e[2]=e=>t.$emit("refresh"))},null,8,["item"])])])],2)}const zu={class:"tw-h-full"},Uu={class:"tw-flex tw-items-center tw-gap-2"};function Pu(t,e,r,a,l,o){const i=(0,s.up)("router-link"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",zu,[(0,s._)("div",Uu,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/products/update/"+r.item.id,class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Lu={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1,showPopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ma["delete"](this.item.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"}),this.$emit("refresh"))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const qu=(0,m.Z)(Lu,[["render",Pu]]);var Au=qu,Wu={components:{TableActions:Au},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const $u=(0,m.Z)(Wu,[["render",Su]]);var Eu=$u,Tu={components:{TablePaginationNoNums:Kc,TableRow:Eu},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Ou=(0,m.Z)(Tu,[["render",Ac]]);var Fu=Ou;const Iu={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Vu={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},ju=["disabled"],Ru=["disabled"],Hu=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Mu=[Hu],Nu={class:"tw-relative"},Yu=["value"],Zu=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),Ku=[Zu],Bu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ju={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Qu=["value"],Gu={class:"tw-overflow-hidden tw-col-span-1"},Xu={class:"tw-overflow-hidden tw-col-span-1"},tp={class:"tw-overflow-hidden tw-col-span-1"};function ep(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Iu,[(0,s._)("div",Vu,[(0,s._)("button",{class:(0,at.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,ju),(0,s.kq)("",!0),(0,s.kq)("",!0),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Mu,8,Ru),(0,s.kq)("",!0),(0,s._)("div",Nu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Ku,40,Yu),Bu])]),(0,s._)("div",Ju,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Qu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Gu,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,at.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Xu,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tp,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const rp={class:"tw-mb-4"},ap={class:"tw-grid tw-grid-cols-12 tw-gap-4"},sp={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},lp={class:"tw-flex tw-items-center tw-justify-between"},op={class:"tw-text-xl tw-font-bold tw-text-gray-900"},ip={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function np(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",rp,[(0,s._)("div",ap,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",sp,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",lp,[(0,s._)("span",op,(0,at.zw)(t.total),1),(0,s._)("span",ip,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var wp={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return qd.find((e=>e.value==t))}}};const dp=(0,m.Z)(wp,[["render",np]]);var cp=dp;const up={class:"tw-mb-4"},pp={class:"tw-flex tw-items-center tw-gap-2"},mp=["disabled"],gp=(0,s._)("span",null,"Select Filtered",-1),hp={class:"tw-flex tw-justify-end"},fp=["disabled"];function bp(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",up,[(0,s._)("div",pp,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),gp],8,mp)]),(0,s._)("div",hp,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,at.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,fp)])])}class vp{async statistics(t){return await E.getCookie(),W.post("api/v1/admin/statistics",t)}async analytics(t){return await E.getCookie(),W.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await E.getCookie(),W.post("api/v1/admin/orders"+t,e)}async update(t,e){return await E.getCookie(),W.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await E.getCookie(),W.post("api/v1/admin/orders/create",t)}async export(t={}){return await E.getCookie(),W.post("api/v1/admin/orders/export",t)}}var xp=new vp,yp={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,xp["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const _p=(0,m.Z)(yp,[["render",bp]]);var kp=_p;const Cp={class:"tw-mb-4"},Dp={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Sp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Up=["value"],Pp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Lp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),qp=["value"],Ap={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Wp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),$p=["value"],Ep={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Tp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),Op=["value"],Fp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ip=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Vp=["value"],jp=(0,s._)("option",{value:"all",selected:""},"All",-1),Rp=["value"],Hp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Mp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),Np=["value"],Yp=(0,s._)("option",{value:"all",selected:""},"All",-1),Zp=["value"],Kp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Bp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Jp=["value"],Qp=(0,s._)("option",{value:"all",selected:""},"All",-1),Gp=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),Xp=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),tm=[Qp,Gp,Xp],em={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},rm=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),am=(0,s._)("span",null,"Clear",-1),sm=[rm,am],lm=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),om=(0,s._)("span",null,"Filter",-1),im=[lm,om];function nm(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",Cp,[(0,s._)("div",Dp,[(0,s.kq)("",!0),(0,s._)("div",Sp,[zp,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Up)]),(0,s._)("div",Pp,[Lp,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,qp)]),(0,s._)("div",Ap,[Wp,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,$p)]),(0,s._)("div",Ep,[Tp,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Op)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Fp,[Ip,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[jp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,Rp)))),128))],40,Vp)]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Hp,[Mp,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Yp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,Zp)))),128))],40,Np)]),(0,s._)("div",Kp,[Bp,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},tm,40,Jp)]),(0,s._)("div",em,[(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},sm),(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},im)])])])}const wm={class:"tw-text-sm tw-text-neutral-600"},dm=["onClick"];function cm(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",wm,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,dm)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var um={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Zl.Z)(new Date,1),(0,Zl.Z)(new Date,1)]},{label:"This month",range:[(0,Kl.Z)(new Date),(0,Bl.Z)(new Date)]},{label:"Last month",range:[(0,Kl.Z)((0,Jl.Z)(new Date,1)),(0,Bl.Z)((0,Jl.Z)(new Date,1))]},{label:"This year",range:[(0,Ql.Z)(new Date),(0,Gl.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const pm=(0,m.Z)(um,[["render",cm]]);var mm=pm;const gm={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hm=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),fm=["value"],bm=(0,s._)("option",{value:"all"},"All",-1),vm=(0,s._)("option",{value:""},"No Delivery",-1),xm=["value"];function ym(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",gm,[hm,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bm,vm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,xm)))),128))],40,fm)])}var _m={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const km=(0,m.Z)(_m,[["render",ym]]);var Cm=km;const Dm={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Sm=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),zm=["value"],Um=(0,s._)("option",{value:"all"},"All",-1),Pm=(0,s._)("option",{value:""},"No Agent",-1),Lm=["value"];function qm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Dm,[Sm,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Um,Pm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Lm)))),128))],40,zm)])}var Am={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Wm=(0,m.Z)(Am,[["render",qm]]);var $m=Wm;const Em={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Tm=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Om=["value"],Fm=(0,s._)("option",{value:"all"},"All",-1),Im=["value"];function Vm(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Em,[Tm,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Fm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,Im)))),128))],40,Om)])}var jm={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const Rm=(0,m.Z)(jm,[["render",Vm]]);var Hm=Rm,Mm={components:{DateFilter:mm,AffectationFilter:Cm,AgentFilter:$m,ProductFilter:Hm},props:{filters:{required:!0,default:{}}},data(){return{confirmations:qd,deliveries:Ed,dateFilter:["",""]}}};const Nm=(0,m.Z)(Mm,[["render",nm]]);var Ym=Nm,Zm={components:{IndexStatistics:cp,FiltersWrapper:Ym,IndexExport:kp},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Km=(0,m.Z)(Zm,[["render",ep]]);var Bm=Km;const Jm={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Qm=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Gm={class:"tw-bg-white tw-p-4"},Xm={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},tg={class:"tw-col-span-2 md:tw-col-span-1"},eg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),rg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ag={class:"tw-col-span-2 md:tw-col-span-1"},sg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),lg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},og={class:"tw-col-span-2 md:tw-col-span-1"},ig=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),ng={class:"tw-relative"},wg=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),dg=["value"],cg=["value"],ug=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mg={class:"tw-col-span-2 md:tw-col-span-1"},gg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),hg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fg={class:"tw-col-span-2"},bg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),vg={class:"tw-relative"},xg=["value"],yg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_g={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kg={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Cg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Dg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Sg={key:1,class:"md:tw-col-span-1 tw-col-span-2"},zg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Ug={class:"tw-col-span-2"},Pg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Lg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qg={class:"md:tw-col-span-1 tw-col-span-2"},Ag={class:"md:tw-col-span-1 tw-col-span-2"},Wg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),$g={class:"tw-relative"},Eg=["value"],Tg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Og={class:"tw-col-span-2"},Fg={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Ig={key:0,class:"tw-text-red-400 tw-text-xs"},Vg={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},jg=["disabled"],Rg=(0,s._)("span",null,"Create",-1);function Hg(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Jm,[Qm,(0,s._)("div",Gm,[(0,s._)("div",Xm,[(0,s._)("div",tg,[eg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",rg,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",ag,[sg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",lg,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",og,[ig,(0,s._)("div",ng,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[wg,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,dg),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,cg)))),128))],34),[[a.bM,o.itemCopy.city]]),ug]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",pg,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",mg,[gg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",hg,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",fg,[bg,(0,s._)("div",vg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,xg)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),yg]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",_g,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",kg,[Cg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Dg,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Sg,[zg,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Ug,[Pg,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Lg,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",qg,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",Ag,[Wg,(0,s._)("div",$g,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,Eg)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Tg])]),(0,s._)("div",Og,[(0,s._)("label",Fg,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Ig," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",Vg,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Rg],8,jg)])])])),_:1},8,["visible","onCancel"])])}const Mg=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Ng(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Ng=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Yg=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Zg=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Kg=(t,e)=>{t.isLoading=!0,t.errors={},xp.create(e).then((e=>Yg(t,e.data))).catch((e=>Zg(t,e.response.data))).finally((()=>t.isLoading=!1))},Bg={key:0},Jg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Qg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Gg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Xg=(0,s._)("span",null,"Add Item",-1),th=[Gg,Xg],eh={key:1,class:"md:tw-col-span-12 tw-col-span-12"},rh={class:"tw-max-w-full tw-overflow-auto"},ah={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},sh={class:"tw-bg-gray-50"},lh={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},oh={key:0},ih={colspan:"6"},nh={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},wh=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),dh=(0,s._)("span",null,"Add Item",-1),ch=[wh,dh],uh=(0,s._)("td",{colspan:"4"},null,-1),ph=(0,s._)("td",null,null,-1),mh={colspan:"1",class:"tw-p-2"},gh={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},hh={key:1},fh={colspan:"6"},bh={class:"tw-scale-75 tw-p-5"};function vh(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bg,[Jg,(0,s._)("div",Qg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},th)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",eh,[(0,s._)("div",rh,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ah,[(0,s._)("tr",sh,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",lh,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",oh,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",ih,[(0,s._)("div",nh,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},ch)])])]),(0,s._)("tr",null,[uh,ph,(0,s._)("td",mh,[(0,s._)("div",gh,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",hh,[(0,s._)("tr",null,[(0,s._)("td",fh,[(0,s._)("div",bh,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const xh=(0,s._)("td",null,null,-1),yh={class:"tw-p-2"},_h={class:"tw-relative"},kh=["value"],Ch=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Dh=["value"],Sh=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),zh={class:"tw-p-2"},Uh={key:0,class:"tw-relative"},Ph=["value"],Lh=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),qh=["value"],Ah={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},Wh=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),$h=[Wh],Eh={class:"tw-p-2"},Th=["value"],Oh={class:"tw-p-2"},Fh=["value"],Ih={class:"tw-flex tw-justify-center"};function Vh(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[xh,(0,s._)("td",null,[(0,s._)("div",yh,[(0,s._)("div",_h,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Ch,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,Dh)))),128))],40,kh),Sh])])]),(0,s._)("td",null,[(0,s._)("div",zh,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Uh,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Lh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,qh)))),128))],40,Ph)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Ah,$h)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Eh,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Th)])]),(0,s._)("td",null,[(0,s._)("div",Oh,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Fh)])]),(0,s._)("td",null,[(0,s._)("div",Ih,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var jh={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Rh=(0,m.Z)(jh,[["render",Vh]]);var Hh=Rh,Mh={components:{ItemRow:Hh},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return lo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Nh=(0,m.Z)(Mh,[["render",vh]]);var Yh=Nh;const Zh=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Kh={key:0,class:"tw-relative"},Bh=["value","disabled"],Jh=(0,s._)("option",{value:""},"Choose a Delivery",-1),Qh=["value"],Gh=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Xh={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tf={key:2,class:"tw-relative"},ef={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},rf=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),af=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function sf(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Zh,l.fetched?((0,s.wg)(),(0,s.iD)("div",Kh,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Jh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Qh)))),128))],42,Bh),Gh])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Xh,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tf,[(0,s._)("div",ef,[(0,s.Wm)(i)]),rf,af]))])}var lf={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const of=(0,m.Z)(lf,[["render",sf]]);var nf=of,wf={components:{OrderItems:Yh,OrderAffectation:nf},props:{visible:{required:!0}},data(){return{confirmations:qd,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Mg(this,this.itemCopy);if(!t)return!1;Kg(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const df=(0,m.Z)(wf,[["render",Hg]]);var cf=df,uf={components:{IndexTable:Fu,IndexFilters:Bm,CreatePopup:cf},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ma.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const pf=(0,m.Z)(uf,[["render",Kd]]);var mf=pf,gf=r(240),hf=r(4842);const ff=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new product")],-1),bf={key:0},vf={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},xf={class:"tw-w-full"},yf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),_f={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kf={class:"tw-w-full"},Cf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Df={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sf={class:"tw-w-full"},zf={class:"mb-1 text-body-2 tw-text-zinc-700"},Uf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Pf={class:"mb-1 text-body-2 tw-text-zinc-700"},Lf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Af={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wf={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},$f=(0,s._)("span",null,"Add Variants: ",-1),Ef={class:"tw-h-fit tw-mb-"},Tf=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Of={class:"tw-relative"},Ff=(0,s._)("option",{value:0},"Select",-1),If=["value"],Vf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jf={key:0},Rf={class:"md:tw-col-span-3 tw-col-span-12"},Hf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Mf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nf={class:"md:tw-col-span-3 tw-col-span-12"},Yf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Zf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kf={key:1},Bf={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Jf={class:"md:tw-col-span-3 tw-col-span-12"},Qf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Gf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xf={class:"md:tw-col-span-3 tw-col-span-12"},tb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),eb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rb={class:"md:tw-col-span-3 tw-col-span-12"},ab=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),sb=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),lb={class:"md:tw-col-span-3 tw-col-span-12"},ob=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),ib={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nb={class:"tw-col-span-12 tw-flex tw-justify-end"},wb=["disabled"],db=(0,s._)("span",{class:"tw-text-white"},"Add",-1),cb={class:""},ub={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},pb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),mb={class:"mb-1 text-body-2 tw-text-zinc-700"},gb={key:1,class:"tw-max-w-full tw-overflow-x-auto"},hb={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},fb={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},bb={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},vb={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},xb={class:"tw-px-6 tw-py-2"},yb={class:"tw-px-6 tw-py-2"},_b={class:"tw-px-6 tw-py-2"},kb={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Cb={class:"tw-w-full"},Db=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Sb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zb={class:"tw-w-full"},Ub=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Pb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lb=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),qb={class:"tw-mt-2"},Ab=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),Wb={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},$b={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},Eb={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Tb={class:"tw-w-max tw-relative"},Ob=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Fb={class:"md:tw-col-span-6 tw-col-span-12"},Ib={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Vb=(0,s._)("span",null,"No image available",-1),jb=[Vb],Rb={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Hb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Mb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Nb(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[ff,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bf,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",vf,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xf,[yf,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_f,(0,at.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kf,[Cf,(0,s.Wm)(it.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Df,(0,at.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Sf,[(0,s._)("div",zf," Buying Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Uf,(0,at.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Pf," Selling Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Lf,(0,at.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[qf,(0,s.Wm)(hf.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Af,(0,at.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Wf,[$f,(0,s.Wm)(Bi.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ka.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ef,[Tf,(0,s._)("div",Of,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Ff,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,If)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Vf,(0,at.zw)(o.formStatus.warehouse.message),1)]),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",jf,[(0,s._)("div",Rf,[Hf,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Mf,(0,at.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Nf,[Yf,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Zf,(0,at.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Kf,[(0,s._)("div",Bf,[(0,s._)("div",Jf,[Qf,(0,s.Wm)(it.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Gf,(0,at.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Xf,[tb,(0,s.Wm)(it.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",eb,(0,at.zw)(o.formStatus.color.message),1)]),(0,s._)("div",rb,[ab,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),sb]),(0,s._)("div",lb,[ob,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ib,(0,at.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",nb,[(0,s._)("button",{disabled:!o.quantity,class:(0,at.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),db],10,wb)])]),(0,s._)("div",cb,[(0,s._)("div",ub,[pb,(0,s._)("div",mb," Quantity Total: "+(0,at.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,at.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",gb,[(0,s._)("table",hb,[(0,s._)("thead",fb,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",bb,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",vb,(0,at.zw)(t.size),1),(0,s._)("td",xb,(0,at.zw)(t.color),1),(0,s._)("td",yb,(0,at.zw)(t.quantity),1),(0,s._)("td",_b,(0,at.zw)(t.stockAlert),1),(0,s._)("td",kb,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Cb,[Db,(0,s.Wm)(it.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Sb,(0,at.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zb,[Ub,(0,s.Wm)(it.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pb,(0,at.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Lb,(0,s._)("div",qb,[(0,s.Wm)(gf.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[30]||(e[30]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[31]||(e[31]=t=>o.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Ab,(0,s._)("div",Wb,[(0,s._)("div",$b,[(0,s._)("label",Eb,[(0,s._)("div",Tb,[(0,s.Wm)(ot.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Ob]),(0,s._)("input",{onChange:e[32]||(e[32]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Fb,[(0,s._)("div",Ib,[(0,s._)("img",{class:(0,at.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},jb,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Rb,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Hb])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function Yb(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const Zb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},Kb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Bb={class:"tw-col-span-12"},Jb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Qb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gb={class:"tw-col-span-12"},Xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),tv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ev={class:"tw-col-span-12"},rv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),av={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sv={class:"tw-col-span-12"},lv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),ov={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},iv={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},nv=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),wv=[nv],dv=["disabled"],cv=(0,s._)("span",{class:"tw-text-white"},"Save",-1),uv=[cv];function pv(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Zb,[(0,s._)("div",Kb,[(0,s._)("div",Bb,[Jb,(0,s.Wm)(it.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qb,(0,at.zw)(l.formStatus.size.message),1)]),(0,s._)("div",Gb,[Xb,(0,s.Wm)(it.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tv,(0,at.zw)(l.formStatus.color.message),1)]),(0,s._)("div",ev,[rv,(0,s.Wm)(it.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",av,(0,at.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",sv,[lv,(0,s.Wm)(it.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ov,(0,at.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",iv,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},wv),(0,s._)("button",{disabled:!l.quantity,class:(0,at.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},uv,10,dv)])])])}var mv={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const gv=(0,m.Z)(mv,[["render",pv]]);var hv=gv,fv={components:{UpdateProductVariant:hv},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const bv=(0,m.Z)(fv,[["render",Yb]]);var vv=bv;class xv{async create(t){return await E.getCookie(),W.post("api/warehouses/new",{name:t.name})}async update(t,e){return await E.getCookie(),W.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await E.getCookie(),W.get("api/warehouses")}async getWarehouse(t){return await E.getCookie(),W.get("api/warehouses/"+t)}async delete(t){return await E.getCookie(),W["delete"]("api/warehouses/delete/"+t)}}var yv=new xv;const _v=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),kv={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Cv={class:"md:tw-col-span-3 tw-col-span-12"},Dv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Sv={class:"md:tw-col-span-3 tw-col-span-12"},zv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Uv={class:"md:tw-col-span-5 tw-col-span-12"},Pv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Lv={class:"md:tw-col-span-1 tw-col-span-12"},qv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),Av={class:"tw-mt-2"},Wv={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},$v={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ev=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),Tv={class:"tw-px-6 tw-py-4"},Ov={class:"tw-px-6 tw-py-4"},Fv={class:"tw-px-6 tw-py-4"},Iv={class:"tw-max-w-[250px] tw-text-sm"},Vv={class:"tw-px-6 tw-py-4"},jv={key:0},Rv=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),Hv=[Rv];function Mv(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[_v,(0,s._)("div",kv,[(0,s._)("div",Cv,[Dv,(0,s.Wm)(it.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Sv,[zv,(0,s.Wm)(it.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Uv,[Pv,(0,s.Wm)(it.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Lv,[qv,(0,s.Wm)(st.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",Av,[(0,s._)("div",Wv,[(0,s._)("table",$v,[Ev,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Tv,(0,at.zw)(t.quantity),1),(0,s._)("td",Ov,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",Fv,[(0,s._)("p",Iv,(0,at.zw)(t.note),1)]),(0,s._)("td",Vv,[(0,s.Wm)(st.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",jv,Hv)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var Nv={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const Yv=(0,m.Z)(Nv,[["render",Mv]]);var Zv=Yv,Kv={components:{VariantActions:vv,ProductOffers:Zv},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,link_video:"",link_store:"",description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert}];t.variants=e}ma.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",buyingPrice:0,link_video:"",link_store:"",sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.reference=Pt(this.product.reference,"Reference"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.quantity=Pt(this.quantity,"Quantity"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.variants=At(this.variants),this.addVariants||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.link_video.valid&&this.formStatus.link_store.valid&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid)return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,yv.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses()}};const Bv=(0,m.Z)(Kv,[["render",Nb]]);var Jv=Bv;const Qv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),Gv={key:0},Xv={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},tx={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},ex={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},rx={class:"tw-w-full"},ax=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),sx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lx={class:"tw-w-full"},ox=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),ix={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nx={class:"tw-w-full"},wx={class:"mb-1 text-body-2 tw-text-zinc-700"},dx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},cx={class:"mb-1 text-body-2 tw-text-zinc-700"},ux={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),mx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gx={class:"tw-h-fit tw-mb-"},hx=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),fx={class:"tw-relative"},bx=(0,s._)("option",{value:0},"Select",-1),vx=["value"],xx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yx={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},_x={class:"md:tw-col-span-3 tw-col-span-12"},kx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dx={class:"md:tw-col-span-3 tw-col-span-12"},Sx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),zx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ux={class:"md:tw-col-span-3 tw-col-span-12"},Px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Lx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qx={class:"md:tw-col-span-3 tw-col-span-12"},Ax=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Wx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$x={class:"tw-col-span-12 tw-flex tw-justify-end"},Ex=["disabled"],Tx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Ox={class:""},Fx={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},Ix=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),Vx={class:"mb-1 text-body-2 tw-text-zinc-700"},jx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Rx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Hx={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Mx={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Nx={class:"tw-px-6 tw-py-2 tw-capitalize"},Yx={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Zx={class:"tw-px-6 tw-py-2"},Kx={class:"tw-px-6 tw-py-2"},Bx={class:"tw-flex tw-flex-col"},Jx={key:0,class:"tw-text-xs tw-text-green-500"},Qx={class:"tw-px-6 tw-py-2"},Gx={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Xx={class:"tw-w-full"},ty=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),ey={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ry={class:"tw-w-full"},ay=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),sy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ly=(0,s._)("h1",null,"Deliveries",-1),oy={class:"tw-mt-2"},iy=(0,s._)("h1",null,"Image",-1),ny={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},wy={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},dy={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},cy={class:"tw-w-max tw-relative"},uy=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),py={class:"md:tw-col-span-6 tw-col-span-12"},my={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},gy=["src"],hy=(0,s._)("span",null,"No image available",-1),fy=[hy],by={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},vy=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),xy=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function yy(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Qv,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gv,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Xv,[(0,s._)("div",tx,[(0,s.Uk)(" Product ID: "),(0,s._)("span",ex,(0,at.zw)(i.id),1)]),(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",rx,[ax,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",sx,(0,at.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lx,[ox,(0,s.Wm)(it.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ix,(0,at.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nx,[(0,s._)("div",wx," Buying Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",dx,(0,at.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",cx," Selling Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ux,(0,at.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[px,(0,s.Wm)(hf.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",mx,(0,at.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ka.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",gx,[hx,(0,s._)("div",fx,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.warehouse=t),onChange:e[11]||(e[11]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[bx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,vx)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",xx,(0,at.zw)(o.formStatus.warehouse.message),1)]),(0,s._)("div",null,[(0,s._)("div",yx,[(0,s._)("div",_x,[kx,(0,s.Wm)(it.hw,{error:!o.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[13]||(e[13]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cx,(0,at.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Dx,[Sx,(0,s.Wm)(it.hw,{error:!o.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[15]||(e[15]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zx,(0,at.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Ux,[Px,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Lx,(0,at.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",qx,[Ax,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Wx,(0,at.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",$x,[(0,s._)("button",{disabled:!o.quantity,class:(0,at.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Tx],10,Ex)])]),(0,s._)("div",Ox,[(0,s._)("div",Fx,[Ix,(0,s._)("div",Vx," Quantity Total: "+(0,at.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,at.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",jx,[(0,s._)("table",Rx,[(0,s._)("thead",Hx,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["warehouse","size","color","qty","Stock Alert","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Mx,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Nx,(0,at.zw)(t.warehouse.name),1),(0,s._)("td",Yx,(0,at.zw)(t.size),1),(0,s._)("td",Zx,(0,at.zw)(t.color),1),(0,s._)("td",Kx,[(0,s._)("div",Bx,[(0,s._)("span",null,(0,at.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Jx,(0,at.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Qx,(0,at.zw)(t.stockAlert),1),(0,s._)("td",Gx,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])])),_:1})])),_:1}),(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Xx,[ty,(0,s.Wm)(it.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[21]||(e[21]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[22]||(e[22]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ey,(0,at.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ry,[ay,(0,s.Wm)(it.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[24]||(e[24]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",sy,(0,at.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ly,(0,s._)("div",oy,[(0,s.Wm)(gf.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[25]||(e[25]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[26]||(e[26]=t=>o.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[iy,(0,s._)("div",ny,[(0,s._)("div",wy,[(0,s._)("label",dy,[(0,s._)("div",cy,[(0,s.Wm)(ot.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),uy]),(0,s._)("input",{onChange:e[27]||(e[27]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",py,[(0,s._)("div",my,[(0,s._)("img",{class:(0,at.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,gy),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},fy,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",by,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vy])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[xy])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const _y={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},ky={class:"tw-w-full"},Cy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Dy={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Sy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),zy=[Sy],Uy=["disabled"],Py=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Ly=[Py];function qy(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(w,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",_y,[(0,s._)("div",ky,[Cy,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Dy,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},zy),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,at.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},Ly,10,Uy)])])])),_:1},8,["visible","onCancel"])])}var Ay={components:{UpdateProductVariant:hv},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Wy=(0,m.Z)(Ay,[["render",qy]]);var $y=Wy,Ey={components:{UpdateVariantActions:$y,ProductOffers:Zv},data(){return{currency:c,serverUrl:w,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ma.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.variants=At(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return yv.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ma.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,name:l,description:o,link_video:i,link_store:n,deliveries:w,image:d,offers:c}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=l,this.product.reference=s,this.product.link_video=i,this.product.link_store=n,this.product.description=o,this.image=d,this.offers=c,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=w.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Ty=(0,m.Z)(Ey,[["render",yy]]);var Oy=Ty;const Fy={class:"tw-pb-14"},Iy=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Vy={key:0},jy={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ry={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Hy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},My=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),Ny={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Yy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Zy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),Ky={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},By={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Jy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),Qy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Gy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Xy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),t_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},e_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},r_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),a_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},s_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},l_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),o_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},i_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},n_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),w_=["href"],d_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},c_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),u_=["href"],p_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},m_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),g_={class:"tw-text-neutral-800 tw-font-medium"},h_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},f_={key:3,class:"tw-border bg-white tw-w-full tw-rounded-md"},b_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},v_={key:5,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},x_={class:"tw-max-w-full tw-overflow-auto"},y_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},__={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},k_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},C_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},D_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},S_={class:"tw-px-6 tw-py-2"},z_={class:"tw-px-6 tw-py-2"},U_={class:"tw-flex tw-flex-col"},P_={class:"tw-px-6 tw-py-2"},L_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},q_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),A_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),W_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),$_={class:"tw-px-6 tw-py-2"},E_={class:"tw-flex tw-flex-col tw-font-medium"},T_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function O_(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",Fy,[Iy,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",jy,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Ry,[(0,s._)("div",Hy,[My,(0,s._)("p",Ny,(0,at.zw)(l.product.name),1)]),(0,s._)("div",Yy,[Zy,(0,s._)("p",Ky,(0,at.zw)(l.product.ref),1)]),(0,s._)("div",By,[Jy,(0,s._)("p",Qy,(0,at.zw)(l.product.buying_price)+" "+(0,at.zw)(l.currency),1)]),(0,s._)("div",Gy,[Xy,(0,s._)("p",t_,(0,at.zw)(l.product.selling_price)+" "+(0,at.zw)(l.currency),1)]),(0,s._)("div",e_,[r_,(0,s._)("p",a_,(0,at.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",s_,[l_,(0,s._)("p",o_,(0,at.zw)(o.qtyTotalSent),1)]),(0,s._)("div",i_,[n_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,at.zw)(l.product.link_store),9,w_)]),(0,s._)("div",d_,[c_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,at.zw)(l.product.link_video),9,u_)]),(0,s._)("div",p_,[m_,(0,s._)("p",g_,(0,at.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",h_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",f_,[(0,s.Wm)(n,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",b_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",v_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",x_,[(0,s._)("table",y_,[(0,s._)("thead",__,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",k_,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",C_,(0,at.zw)(t.id),1),(0,s._)("th",D_,(0,at.zw)(t.size),1),(0,s._)("td",S_,(0,at.zw)(t.color),1),(0,s._)("td",z_,[(0,s._)("div",U_,[(0,s._)("span",null,"Initial: "+(0,at.zw)(t.quantity),1)])]),(0,s._)("td",P_,(0,at.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",L_,[q_,A_,W_,(0,s._)("td",$_,[(0,s._)("div",E_,[(0,s._)("span",null,"Total: "+(0,at.zw)(o.qtyTotal),1)])]),T_])])])])])])])):(0,s.kq)("",!0)])}const F_={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},I_=["onClick"];function V_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(ps._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",F_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,at.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,at.zw)(t.name),11,I_)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(hs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(fs.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const j_={class:"tw-mt-5"},R_={class:"tw-max-w-full tw-overflow-auto"},H_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},M_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},N_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function Y_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",j_,[(0,s._)("div",R_,[(0,s._)("table",H_,[(0,s._)("thead",M_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",N_,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.j4)(i,{item:t,key:t.id,source:r.source},null,8,["item","source"])))),128))])])])])}const Z_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},K_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},B_={class:"tw-flex tw-items-start tw-h-full"},J_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Q_={class:"tw-px-6 tw-py-2"},G_={key:0},X_={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},tk={key:0,class:"tw-h-fit tw-py-2"},ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),rk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},ak=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),sk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},lk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),ok={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},ik=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),nk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},wk={key:1},dk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},ck={key:0,class:"tw-h-fit tw-py-2"},uk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),pk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},mk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),gk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},hk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),fk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},bk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),vk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},xk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function yk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",Z_,[(0,s._)("th",K_,[(0,s._)("div",B_,(0,at.zw)(r.item.id),1)]),(0,s._)("th",J_,(0,at.zw)(r.item.name),1),(0,s._)("td",Q_,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",G_,[(0,s._)("div",X_,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,at.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",tk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[ek,(0,s._)("td",rk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[ak,(0,s._)("td",sk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[lk,(0,s._)("td",ok,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[ik,(0,s._)("td",nk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",wk,[(0,s._)("div",dk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,at.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",ck,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[uk,(0,s._)("td",pk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[mk,(0,s._)("td",gk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[hk,(0,s._)("td",fk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[bk,(0,s._)("td",vk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",xk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function _k(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const kk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Ck={class:"tw-p-5"},Dk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Sk=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function zk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",kk,[(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Ck,[(0,s._)("table",Dk,[Sk,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,type:r.type},null,8,["item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Uk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Pk={class:"tw-w-4 tw-px-2 tw-py-1"},Lk={class:"tw-w-4 tw-px-2 tw-py-1"},qk={class:"tw-w-4 tw-px-2 tw-py-1"},Ak={class:"tw-w-4 tw-px-2 tw-py-1"},Wk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},$k={key:0,class:"tw-h-fit tw-py-2"},Ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Tk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Ok=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Fk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Ik=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Vk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},jk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Rk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function Hk(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",Uk,[(0,s._)("td",Pk,(0,at.zw)(r.item.id),1),(0,s._)("td",Lk,(0,at.zw)(r.item.size),1),(0,s._)("td",qk,(0,at.zw)(r.item.color),1),(0,s._)("td",Ak,[(0,s._)("div",null,[(0,s._)("div",Wk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,at.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",$k,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Ek,(0,s._)("td",Tk,(0,at.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[Ok,(0,s._)("td",Fk,(0,at.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[Ik,(0,s._)("td",Vk,(0,at.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[jk,(0,s._)("td",Rk,(0,at.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var Mk={props:["type","item"],data(){return{showDetails:!1}}};const Nk=(0,m.Z)(Mk,[["render",Hk]]);var Yk=Nk,Zk={props:["visible","source","type"],components:{ProductVariantDetailsRow:Yk},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Kk=(0,m.Z)(Zk,[["render",zk]]);var Bk=Kk,Jk={props:["product","source","type"],components:{ProductVariantDetails:Bk},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const Qk=(0,m.Z)(Jk,[["render",_k]]);var Gk=Qk,Xk={components:{ShowProductVariantActions:Gk},props:["source","item"],data(){return{showDetails:!1}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const tC=(0,m.Z)(Xk,[["render",yk]]);var eC=tC,rC={props:["product","source"],components:{ProductTrackingRow:eC},computed:{items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const aC=(0,m.Z)(rC,[["render",Y_]]);var sC=aC,lC={components:{ProductTrackingTable:sC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const oC=(0,m.Z)(lC,[["render",V_]]);var iC=oC,nC={components:{ProductTracking:iC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ma.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const wC=(0,m.Z)(nC,[["render",O_]]);var dC=wC,cC={name:"products",path:"/products",component:va,meta:{module:"product"},children:[{name:"product/list",path:"",component:Id,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:mf,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:Jv,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/update",path:"update/:id",component:Oy,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:dC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const uC={class:"mb-5 tw-flex tw-justify-between tw-items-center"},pC=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),mC={key:0},gC=(0,s._)("span",{class:"text-white"}," Add User ",-1),hC={key:0},fC={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},bC={class:"mb-5 tw-flex"},vC={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},xC={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},yC={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_C=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),kC={class:"tw-relative"},CC=["value"],DC={class:""};function SC(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",uC,[pC,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",mC,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),gC])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hC,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",fC,[(0,s._)("div",bC,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",vC,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",xC,[(0,s._)("div",yC,[_C,(0,s._)("div",kC,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,at.zw)(t),9,CC)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",DC,[(0,s.Wm)(w,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const zC={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},UC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},PC={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},LC=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),qC={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},AC=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),WC={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},$C={class:"tw-px-6 tw-py-4"},EC={class:"tw-px-6 tw-py-4"},TC={class:"tw-px-6 tw-py-4"},OC={class:"tw-px-6 tw-py-4"},FC={class:"tw-px-6 tw-py-4"},IC={key:0,class:"tw-text-red-500"},VC={key:1},jC={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},RC=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),HC={key:1,class:"tw-text-neutral-700"},MC={class:"tw-px-6 tw-py-4"},NC={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},YC={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},ZC={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},KC=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),BC=["value"],JC={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},QC={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},GC={class:"tw-text-white"};function XC(t,e,r,l,o,i){const n=(0,s.up)("RoleName"),w=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zC,[(0,s._)("table",UC,[(0,s._)("thead",PC,[(0,s._)("tr",null,[LC,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",qC,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[AC,(0,s._)("th",WC,(0,at.zw)(e.id),1),(0,s._)("td",$C,(0,at.zw)(e.firstname)+" "+(0,at.zw)(e.lastname),1),(0,s._)("td",EC,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",TC,(0,at.zw)(e.email),1),(0,s._)("td",OC,(0,at.zw)(e.phone),1),(0,s._)("td",FC,[e.last_action?((0,s.wg)(),(0,s.iD)("div",VC,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",jC,[RC,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",HC,(0,at.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",IC," Never Connected "))]),(0,s._)("td",MC,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(w,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",NC,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",YC,[(0,s._)("div",ZC,[KC,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,BC)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",JC,[(0,s._)("div",QC,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,at.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",GC,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function tD(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var eD={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,et["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),et.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const rD=(0,m.Z)(eD,[["render",tD]]);var aD=rD;const sD={key:0,class:"tw-flex tw-items-center"};function lD(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",sD,[(0,s.Wm)(Bi.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var oD={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,et.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const iD=(0,m.Z)(oD,[["render",lD]]);var nD=iD;const wD={class:"tw-flex tw-items-center tw-h-full"};function dD(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",wD,[(0,s._)("div",{class:(0,at.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,at.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,at.zw)(r.role),3)],2)])}var cD={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const uD=(0,m.Z)(cD,[["render",dD]]);var pD=uD,mD={props:["columns","users"],components:{UserActions:aD,UserStatus:nD,RoleName:pD},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,ws.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const gD=(0,m.Z)(mD,[["render",XC]]);var hD=gD,fD={components:{UsersTable:hD},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const bD=(0,m.Z)(fD,[["render",SC]]);var vD=bD,xD=r(988);const yD=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),_D={key:0},kD={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},CD={class:"tw-w-full"},DD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),SD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zD={class:"tw-w-full"},UD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),PD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},LD={class:"tw-w-full"},qD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),AD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},WD={class:"tw-w-full"},$D=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),ED={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},TD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),OD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),FD=["value"],ID=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Commission",-1),VD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),RD=["value"],HD=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),MD=(0,s._)("span",{class:"text-white"},"Add",-1),ND=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),YD={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},ZD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),KD={class:"tw-w-full"},BD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),JD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},QD={class:"tw-w-full"},GD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),XD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),eS={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},rS=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),aS=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function sS(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[yD,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_D,[(0,s.Wm)(n)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",kD,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",CD,[DD,(0,s.Wm)(it.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",SD,(0,at.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zD,[UD,(0,s.Wm)(it.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",PD,(0,at.zw)(o.formStatus.lastname.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LD,[qD,(0,s.Wm)(it.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[4]||(e[4]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[5]||(e[5]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AD,(0,at.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",WD,[$D,(0,s.Wm)(it.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[6]||(e[6]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[7]||(e[7]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ED,(0,at.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(ka.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Bi.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[8]||(e[8]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),TD,(0,s._)("div",null,[(0,s.Wm)(xD.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ka.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[OD,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,FD)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isMarketer?((0,s.wg)(),(0,s.j4)(ka.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ID,(0,s.Wm)(it.hw,{error:!o.formStatus.commission.valid,"hide-details":!0,onKeyup:e[11]||(e[11]=t=>i.resetError("commission")),modelValue:o.user.commission,"onUpdate:modelValue":e[12]||(e[12]=t=>o.user.commission=t),type:"number",clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",VD,(0,at.zw)(o.formStatus.commission.message),1)])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ka.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jD,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,RD)))),128))],512),[[a.bM,o.deliveryCity]]),HD,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(st.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[MD])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ND,(0,s.Wm)(gf.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[15]||(e[15]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",YD,[ZD,(0,s.Wm)(Bi.G,{modelValue:o.user.status,"onUpdate:modelValue":e[16]||(e[16]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",KD,[BD,(0,s.Wm)(it.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[17]||(e[17]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[18]||(e[18]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",JD,(0,at.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",QD,[GD,(0,s.Wm)(it.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[19]||(e[19]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[20]||(e[20]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",XD,(0,at.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(ka.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[tS,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,at.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,at.zw)(t.fee)+" "+(0,at.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ot.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",eS,[(0,s.Wm)(st.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[rS])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[aS])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var lS={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},commission:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0,commission:0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isMarketer(){return this.roles.find((t=>"marketer"==t.name.toLocaleLowerCase()))?.id==this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};et.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",email:"",password:"",commission:0,confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=zt(this.user.email),this.formStatus.firstname=Pt(this.user.firstname),this.formStatus.lastname=Pt(this.user.lastname),this.formStatus.phone=Pt(this.user.phone),this.formStatus.password=Ut(this.user.password),this.formStatus.confirmPassword=qt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):et.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ma.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const oS=(0,m.Z)(lS,[["render",sS]]);var iS=oS;const nS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),wS={key:0},dS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},cS={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},uS={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},pS={class:"tw-w-full"},mS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),gS={class:"tw-w-full"},hS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),fS={class:"tw-w-full"},bS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),vS={class:"tw-w-full"},xS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),yS={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},_S=(0,s._)("span",null,"Update Password: ",-1),kS={class:"tw-w-full"},CS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),DS={class:"tw-w-full"},SS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),zS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),US={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},PS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),LS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Commission",-1),qS={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},AS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),WS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),$S=["value"],ES=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),TS=["value"],OS=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),FS=(0,s._)("span",{class:"text-white"},"Add",-1),IS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),VS={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},jS=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),RS=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function HS(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[nS,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wS,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",dS,[(0,s._)("div",cS,[(0,s.Uk)(" User ID: "),(0,s._)("span",uS,(0,at.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",pS,[mS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gS,[hS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fS,[bS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vS,[xS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",yS,[_S,(0,s.Wm)(Bi.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(ka.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kS,[CS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(ka.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",DS,[SS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[zS,(0,s.Wm)(gf.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[7]||(e[7]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",US,[PS,(0,s.Wm)(Bi.G,{modelValue:o.status,"onUpdate:modelValue":e[8]||(e[8]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isMarketer?((0,s.wg)(),(0,s.j4)(ka.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[LS,(0,s.Wm)(it.hw,{error:!o.formStatus.commission.valid,"hide-details":!0,onKeyup:e[9]||(e[9]=e=>t.resetError("commission")),modelValue:o.commission,"onUpdate:modelValue":e[10]||(e[10]=t=>o.commission=t),type:"number",clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",qS,(0,at.zw)(o.formStatus.commission.message),1)])])),_:1})):(0,s.kq)("",!0),i.isAgente?((0,s.wg)(),(0,s.j4)(ka.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Bi.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),AS,(0,s._)("div",null,[(0,s.Wm)(xD.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[12]||(e[12]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ka.D,{key:2,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[WS,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,$S)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(ka.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ES,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,TS)))),128))],512),[[a.bM,o.deliveryCity]]),OS,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[15]||(e[15]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(st.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[FS])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ka.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[IS,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,at.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,at.zw)(t.fee)+" DH ",1),(0,s._)("div",null,[(0,s.Wm)(ot.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",VS,[(0,s.Wm)(st.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[jS])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[RS])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var MS={data(){return{serverUrl:w,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},commission:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",role:"",user_image:null,status:!1,product:null,commission:0,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isMarketer(){return this.roles.find((t=>"marketer"==t.name.toLocaleLowerCase()))?.id==this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,commission:this.commission,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,et.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=zt(this.email),this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=Ut(this.password),this.formStatus["confirmPassword"]=qt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return et.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.role=e.role,this.commission=e.commission,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:parseInt(e.fee)}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ma.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return et.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const NS=(0,m.Z)(MS,[["render",HS]]);var YS=NS;const ZS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),KS={key:0},BS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},JS={class:"md:tw-w-1/2 tw-w-full"},QS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),GS={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},XS={class:"mb-3 text-body-2 tw-text-zinc-700"},tz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},ez={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},rz=["onClick"],az={key:0},sz={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},lz=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),oz=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function iz(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[ZS,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",KS,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",BS,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",JS,[QS,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",GS,(0,at.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",XS,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",tz,(0,at.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",ez,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,at.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,at.zw)(t),1)],10,rz)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",az,(0,at.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",sz,[(0,s.Wm)(st.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[lz])),_:1}),(0,s.Wm)(st.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[oz])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var nz={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,et.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=Wt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await et.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const wz=(0,m.Z)(nz,[["render",iz]]);var dz=wz;const cz={class:"mb-5 tw-flex tw-justify-between tw-items-center"},uz=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),pz={class:"tw-flex tw-items-center tw-gap-2"},mz={key:0},gz=(0,s._)("span",{class:"text-white"}," Role ",-1),hz={key:0},fz={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},bz={class:"mb-5 tw-flex"},vz={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},xz={class:""};function yz(t,e,r,l,o,i){const n=(0,s.up)("CreatePermission"),w=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",cz,[uz,(0,s._)("div",pz,[(0,s.Wm)(n,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",mz,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),gz])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hz,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",fz,[(0,s._)("div",bz,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",vz,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",xz,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const _z={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},kz={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Cz={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Dz=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Sz={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},zz=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Uz={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Pz={class:"tw-px-6 tw-py-4 tw-uppercase"},Lz={class:"tw-px-6 tw-py-4"},qz={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Az={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Wz={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},$z=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Ez=["value"],Tz={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Oz={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Fz={class:"tw-text-white"};function Iz(t,e,r,l,o,i){const n=(0,s.up)("RolePermissions"),w=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_z,[(0,s._)("table",kz,[(0,s._)("thead",Cz,[(0,s._)("tr",null,[Dz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Sz,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[zz,(0,s._)("th",Uz,(0,at.zw)(t.id),1),(0,s._)("td",Pz,(0,at.zw)(t.name),1),(0,s._)("td",Lz,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",qz,[(0,s.Wm)(w,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",Az,[(0,s._)("div",Wz,[$z,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Ez)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Tz,[(0,s._)("div",Oz,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,at.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Fz,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Vz={key:0},jz={class:"tw-flex tw-flex-wrap tw-gap-2"};function Rz(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vz,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",jz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,at.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var Hz={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,et.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),et.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const Mz=(0,m.Z)(Hz,[["render",Rz]]);var Nz=Mz;const Yz={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},Zz=["title"];function Kz(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Yz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,at.zw)(t.name),9,Zz)))),128))])}var Bz={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const Jz=(0,m.Z)(Bz,[["render",Kz]]);var Qz=Jz,Gz={props:["columns","roles"],components:{RoleActions:Nz,RolePermissions:Qz},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const Xz=(0,m.Z)(Gz,[["render",Iz]]);var tU=Xz;const eU=(0,s._)("span",{class:"text-white"}," Permission ",-1),rU={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},aU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},sU=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),lU={class:"tw-p-5"},oU={class:""},iU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),nU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wU={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},dU=["disabled"],cU=["disabled"],uU=(0,s._)("span",null,"Add",-1);var pU={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,be.iH)(!1),o=(0,be.iH)({}),i=(0,be.iH)({name:""}),n=t=>{e("update:visible",t)},w=async()=>{if(!i.value.name)return o.value.name="Name is required",!1;o.value.name="",l.value=!0,await et.createPermission(i.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=X.getters["user/permissions"];e.push(t.data.permission.name),Cn("Permission added successfully"),n(!1)}})).catch((t=>{Cn("Something went wrong!","danger"),console.log(t)})),l.value=!1};return(t,e)=>{const d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>n(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),eU])),_:1}),(0,s.Wm)(d,{visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",rU,[(0,s._)("div",aU,[sU,(0,s._)("div",lU,[(0,s._)("div",oU,[iU,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.name=t),onInput:e[2]||(e[2]=t=>o.value.name=null),type:"text",class:(0,at.C_)([[o.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,i.value.name]]),o.value.name?((0,s.wg)(),(0,s.iD)("label",nU,(0,at.zw)(o.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",wU,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>n(!1)),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,dU),(0,s._)("button",{onClick:w,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),uU],8,cU)])])])])),_:1},8,["visible"])])}}};const mU=pU;var gU=mU,hU={components:{RolesTable:tU,CreatePermission:gU},data(){return{localUrl:n,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const fU=(0,m.Z)(hU,[["render",yz]]);var bU=fU;const vU=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),xU={key:0},yU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_U={class:"md:tw-w-1/2 tw-w-full"},kU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),CU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},DU={class:"mb-3 text-body-2 tw-text-zinc-700"},SU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},zU={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},UU=["onClick"],PU={key:0},LU={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},qU=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),AU=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function WU(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[vU,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xU,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",yU,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",_U,[kU,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",CU,(0,at.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",DU,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",SU,(0,at.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",zU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,at.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,at.zw)(t),11,UU)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",PU,(0,at.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",LU,[(0,s.Wm)(st.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[qU])),_:1}),(0,s.Wm)(st.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[AU])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var $U={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,et.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=Wt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){et.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const EU=(0,m.Z)($U,[["render",WU]]);var TU=EU,OU={name:"users",path:"/users",component:va,meta:{module:"user"},children:[{name:"user/list",path:"",component:vD,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:iS,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:YS,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:dz,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:bU,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:TU,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const FU={class:"mb-5 tw-flex tw-justify-between tw-items-center"},IU=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),VU={key:0},jU=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),RU={key:0},HU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},MU={class:"mb-5 tw-flex"},NU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},YU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},ZU={class:""};function KU(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FU,[IU,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",VU,[(0,s.Wm)(st.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),jU])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RU,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",HU,[(0,s.Wm)(w,{sales:i.sales},null,8,["sales"]),(0,s._)("div",MU,[(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",NU,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",YU,[(0,s.Wm)(ot.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(Be.C),(0,s.Wm)(st.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(st.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",ZU,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const BU={class:"tw-grid tw-grid-cols-12 tw-mb-5"},JU={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},QU=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),GU=["value"],XU={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},tP={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},eP={scope:"col",class:"tw-p-4"},rP={class:"tw-flex tw-items-center"},aP=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),sP={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},lP={class:"tw-w-4 tw-p-4 tw-relative"},oP={class:"tw-flex tw-items-center"},iP=["onChange","checked"],nP=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),wP={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},dP={class:"tw-px-6 tw-py-4 tw-relative"},cP={key:0},uP={class:"tw-px-6 tw-py-4"},pP=["title"],mP={class:"tw-px-6 tw-py-4 tw-relative"},gP={class:"tw-pb-2"},hP={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},fP={key:0},bP={key:1},vP={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},xP={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},yP={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},_P={class:"tw-px-6 tw-py-4"},kP={class:"tw-px-6 tw-py-4 tw-relative"},CP={class:"tw-flex tw-items-center tw-justify-center"},DP={class:"tw-flex tw-gap-1"},SP={key:0},zP={class:"tw-px-6 tw-py-4"},UP={class:"tw-px-6 tw-py-4 tw-relative"},PP={class:"tw-flex tw-items-center tw-justify-center"},LP={class:"tw-flex tw-gap-1"},qP={key:0},AP={class:"tw-px-6 tw-py-4"},WP={class:"tw-px-6 tw-py-4"},$P={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},EP={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},TP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},OP={class:"tw-flex tw-flex-wrap tw-gap-2"},FP={class:"tw-text-white"};function IP(t,e,r,l,o,i){const n=(0,s.up)("SaleConfirmation"),w=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",BU,[(0,s._)("div",JU,[QU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,GU)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",XU,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",tP,[(0,s._)("tr",null,[(0,s._)("th",eP,[(0,s._)("div",rP,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),aP])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,at.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",sP,(0,at.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,at.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",lP,[(0,s._)("div",oP,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,iP),nP])]),(0,s._)("td",wP,(0,at.zw)(t.id),1),(0,s._)("td",dP,[(0,s.Uk)((0,at.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",cP," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",uP,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,at.zw)(t.city),9,pP)]),(0,s._)("td",mP,[(0,s._)("div",gP,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",hP,(0,at.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",fP,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",bP,"| "+(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",vP,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",xP," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",yP," delivery "))])])]),(0,s._)("td",_P,(0,at.zw)(t.fullname),1),(0,s._)("td",kP,[(0,s._)("div",CP,[((0,s.wg)(),(0,s.j4)(n,{class:(0,at.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",DP,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",SP,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",zP,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(w,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",UP,[(0,s._)("div",PP,[((0,s.wg)(),(0,s.j4)(d,{class:(0,at.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",LP,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",qP,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",AP,(0,at.zw)(i.getPrice(t)),1),(0,s._)("td",WP,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",$P,[(0,s._)("div",EP,[(0,s._)("div",TP,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,at.zw)(r.sales.length)+" items ",1),(0,s._)("div",OP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",FP,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const VP={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},jP=["onClick"],RP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},HP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),MP={class:"tw-flex tw-justify-end tw-mt-2"};function NP(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,at.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",VP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,at.zw)(t.name),3)],8,jP)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",RP,[HP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",MP,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[re.L,i.close]])}const YP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},ZP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),KP=(0,s._)("br",null,null,-1),BP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),JP={class:"tw-flex tw-justify-end tw-mt-2"};function QP(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",YP,[ZP,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),KP,BP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",JP,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var GP={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ha.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const XP=(0,m.Z)(GP,[["render",QP]]);var tL=XP,eL={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:tL},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:qd,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ha.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ha.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const rL=(0,m.Z)(eL,[["render",NP]]);var aL=rL;const sL={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},lL=["onClick"],oL={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},iL={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function nL(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,at.zw)(o.selected.firstname)+" "+(0,at.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",sL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",oL,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1)],8,lL)))),128))])],2)])),[[re.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",iL,[(0,s.Wm)(ot.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var wL={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ha.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const dL=(0,m.Z)(wL,[["render",nL]]);var cL=dL;const uL={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},pL=["onClick"];function mL(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,at.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",uL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,at.zw)(t.name),3)],8,pL)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[re.L,o.close]])}const gL={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},hL=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),fL=(0,s._)("br",null,null,-1),bL=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),vL={class:"tw-flex tw-justify-end tw-mt-2"};function xL(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",gL,[hL,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),fL,bL,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",vL,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var yL={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ha.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const _L=(0,m.Z)(yL,[["render",xL]]);var kL=_L,CL={props:["delivery","id","sale"],components:{SaleDeliveryReporting:kL},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Ed,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ha.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const DL=(0,m.Z)(CL,[["render",mL]]);var SL=DL;const zL={key:0};function UL(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),w=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",zL,[(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var PL=r(7103),LL=r(795),qL=r(2773);const AL={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},WL={key:0,class:"tw-w-full tw-h-full"},$L={key:1,class:"tw-p-5"},EL={class:"d-flextw-flex-col justify-space-between flex-grow-1"},TL={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},OL={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},FL={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},IL={class:"d-flextw-flex-col justify-space-between flex-grow-1"},VL={class:"tw-flex tw-flex-col tw-my-2"},jL=(0,s._)("div",null," New Order Created ",-1),RL={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function HL(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",AL,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",WL,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",$L,[(0,s.Wm)(LL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(qL.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",EL,[(0,s._)("div",TL,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(PL.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",OL,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1),(0,s._)("div",FL,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(qL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",IL,[(0,s._)("div",VL,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),jL]),(0,s._)("div",RL,[(0,s._)("span",null,(0,at.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var ML={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ha.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const NL=(0,m.Z)(ML,[["render",HL]]);var YL=NL;const ZL={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},KL={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},BL=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),JL={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},QL={class:"md:tw-col-span-6 tw-col-span-12"},GL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),XL={class:"md:tw-col-span-6 tw-col-span-12"},tq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),eq={class:"md:tw-col-span-6 tw-col-span-12"},rq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),aq=["value"],sq=["value"],lq={class:"md:tw-col-span-6 tw-col-span-12"},oq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),iq={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},nq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),wq={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},dq={class:"tw-col-span-12"},cq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),uq={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},pq={class:"tw-col-span-12 md:tw-col-span-4"},mq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),gq={class:"tw-col-span-12 md:tw-col-span-8"},hq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),fq={class:"md:tw-col-span-6 tw-col-span-12"},bq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),vq={class:"md:tw-col-span-6 tw-col-span-12"},xq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),yq=["value"],_q={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},kq={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Cq={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Dq=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Sq={class:"tw-flex tw-flex-col tw-justify-center"},zq=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),Uq={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},Pq={key:2,class:"md:tw-col-span-12 tw-col-span-12"},Lq={class:"tw-max-w-full tw-overflow-auto"},qq={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Aq={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Wq={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},$q=["src"],Eq={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},Tq=["onUpdate:modelValue"],Oq=(0,s._)("option",{value:0},"Select",-1),Fq=["value"],Iq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Vq=["disabled","onUpdate:modelValue"],jq=(0,s._)("option",{value:0},"Select",-1),Rq=["value"],Hq={key:0},Mq={key:1},Nq={key:2},Yq={key:3},Zq=["value"],Kq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Bq={class:"md:tw-col-span-6 tw-col-span-12"},Jq=["onUpdate:modelValue"],Qq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Gq={key:0},Xq={key:1,class:"md:tw-col-span-6 tw-col-span-12"},tA=["onUpdate:modelValue"],eA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},rA={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},aA=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),sA={class:"md:tw-col-span-12 tw-col-span-12"},lA={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},oA=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),iA={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},nA=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),wA={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},dA=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),cA={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},uA=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),pA={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},mA={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},gA=(0,s._)("span",{class:"text-white"}," Cancel ",-1),hA=(0,s._)("span",{class:"text-white"}," Update ",-1);function fA(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZL,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",KL,[BL,(0,s._)("div",JL,[(0,s._)("div",QL,[GL,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",XL,[tq,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",eq,[rq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,at.zw)(o.sale.city),9,aq),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,sq)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",lq,[oq,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",iq,[nq,(0,s.Wm)(w,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",wq,[(0,s._)("div",dq,[cq,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",uq,[(0,s._)("div",pq,[mq,(0,s._)("div",null,(0,at.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",gq,[hq,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",fq,[bq,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",vq,[xq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,at.zw)(t.name),9,yq)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",_q,[(0,s._)("div",kq,[(0,s._)("label",Cq,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),Dq]),(0,s._)("label",Sq,[(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),zq,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Uq," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",Pq,[(0,s._)("div",Lq,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",qq,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Aq,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",Wq,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,$q)):(0,s.kq)("",!0)])])),(0,s._)("th",Eq,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Oq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Fq)))),128))],8,Tq),[[a.bM,t.product.id]])])])]),(0,s._)("th",Iq,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[jq,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",Mq,(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",Nq,(0,at.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",Yq,(0,at.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Hq,"-"))],8,Rq)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,Zq))],8,Vq)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",Kq,[(0,s._)("div",Bq,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Jq),[[a.nr,t.quantity]])])]),(0,s._)("th",Qq,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",Gq," - ")):((0,s.wg)(),(0,s.iD)("div",Xq,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,tA),[[a.nr,t.price]])]))])]),(0,s._)("th",eA,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",rA,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),aA])),_:1},8,["onClick"])])]),(0,s._)("div",sA,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",lA,[oA,(0,s._)("div",iA,[nA,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",wA,[dA,(0,s._)("div",cA,[uA,(0,s._)("div",pA,(0,at.zw)(o.currency)+" "+(0,at.zw)(i.total_price),1)])])]),(0,s._)("div",mA,[(0,s.Wm)(st.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[gA])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hA])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const bA={class:"tw-relative"},vA=["value"],xA={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},yA=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),_A={class:"tw-flex tw-justify-end tw-mt-2"};function kA(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",bA,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,at.zw)(t.name),11,vA)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",xA,[yA,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",_A,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[re.L,i.close]])}const CA={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},DA=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),SA=(0,s._)("br",null,null,-1),zA=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),UA={class:"tw-flex tw-justify-end tw-mt-2"};function PA(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",CA,[DA,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),SA,zA,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",UA,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var LA={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const qA=(0,m.Z)(LA,[["render",PA]]);var AA=qA,WA={props:["confirmation","id","order"],components:{AddOrderReporting:AA},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:qd,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ha.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ha.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const $A=(0,m.Z)(WA,[["render",kA]]);var EA=$A;const TA={class:"tw-relative"},OA=["disabled"],FA=["value"],IA={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function VA(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",TA,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,FA)))),128))],8,OA),[[a.bM,i.affectationValue]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[re.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",IA,[(0,s.Wm)(ot.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var jA={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const RA=(0,m.Z)(jA,[["render",VA]]);var HA=RA;const MA=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),NA={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},YA={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ZA=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),KA={class:"tw-px-6 tw-py-4"},BA={class:"tw-px-6 tw-py-4"},JA={class:"tw-px-6 tw-py-4"},QA={class:"tw-px-6 tw-py-4"},GA={class:"tw-max-w-[250px] tw-text-sm"},XA={key:0},tW=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),eW=[tW];function rW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[MA,(0,s._)("div",null,[(0,s._)("div",NA,[(0,s._)("table",YA,[ZA,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",KA,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",BA,(0,at.zw)(t.quantity),1),(0,s._)("td",JA,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",QA,[(0,s._)("p",GA,(0,at.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",XA,eW)):(0,s.kq)("",!0)])])])])])}var aW={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const sW=(0,m.Z)(aW,[["render",rW]]);var lW=sW,oW={components:{AddOrderConfirmation:EA,AddOrderAffectation:HA,ProductOffers:lW},props:["visible","order"],data(){return{upsells:$d,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ha.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const iW=(0,m.Z)(oW,[["render",fA]]);var nW=iW,wW={props:["sale"],name:"saleActions",components:{SaleHistory:YL,UpdateSale:nW},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const dW=(0,m.Z)(wW,[["render",UL]]);var cW=dW,uW={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:aL,SaleAffectation:cL,SaleDelivery:SL,SaleActions:cW},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return lo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const pW=(0,m.Z)(uW,[["render",IP]]);var mW=pW;const gW={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},hW={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},fW=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),bW={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vW={class:"md:tw-col-span-6 tw-col-span-12"},xW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),yW={class:"md:tw-col-span-6 tw-col-span-12"},_W=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),kW={class:"md:tw-col-span-6 tw-col-span-12"},CW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),DW=["value"],SW={class:"md:tw-col-span-6 tw-col-span-12"},zW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),UW={class:"md:tw-col-span-12 tw-col-span-12"},PW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),LW={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},qW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),AW=(0,s._)("option",{value:0}," Select ",-1),WW=["value"],$W={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},EW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),TW=(0,s._)("option",{value:0}," Select ",-1),OW=["value"],FW={class:"md:tw-col-span-6 tw-col-span-12"},IW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),VW=(0,s._)("option",{value:0}," Select ",-1),jW=["value"],RW={class:"md:tw-col-span-6 tw-col-span-12"},HW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),MW={class:"md:tw-col-span-6 tw-col-span-12"},NW={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},YW={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},ZW=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),KW={class:"tw-flex tw-flex-col tw-justify-center"},BW={class:"md:tw-col-span-6 tw-col-span-12"},JW={key:0,class:"md:tw-col-span-12 tw-col-span-12"},QW={class:"tw-max-w-full tw-overflow-auto"},GW={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},XW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},t$={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},e$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},r$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},a$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},s$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},l$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},o$={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},i$=(0,s._)("span",{class:"text-white"}," Cancel ",-1),n$=(0,s._)("span",{class:"text-white"}," Save ",-1);function w$(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gW,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",hW,[fW,(0,s._)("div",bW,[(0,s._)("div",vW,[xW,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",yW,[_W,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",kW,[CW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,DW)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",SW,[zW,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",UW,[PW,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",LW,[qW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[AW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,WW)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",$W,[EW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[TW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,OW)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",FW,[IW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[VW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),9,jW)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",RW,[HW,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",MW,[(0,s._)("div",NW,[(0,s._)("label",YW,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),ZW]),(0,s._)("label",KW,[(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",BW,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",JW,[(0,s._)("div",QW,[(0,s._)("table",GW,[(0,s._)("thead",XW,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",t$,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",e$,(0,at.zw)(t.product.name),1),(0,s._)("th",r$,(0,at.zw)(t.product_variation.size)+" / "+(0,at.zw)(t.product_variation.color),1),(0,s._)("th",a$,(0,at.zw)(t.quantity),1),(0,s._)("th",s$,(0,at.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",l$,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",o$,[(0,s.Wm)(st.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[i$])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[n$])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var d$={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ha.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ma.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const c$=(0,m.Z)(d$,[["render",w$]]);var u$=c$;const p$={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},m$={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},g$=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),h$={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},f$={class:"md:tw-col-span-6 tw-col-span-12"},b$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),v$={class:"md:tw-col-span-6 tw-col-span-12"},x$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),y$={class:"md:tw-col-span-6 tw-col-span-12"},_$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),k$=["value"],C$=["value"],D$={class:"md:tw-col-span-6 tw-col-span-12"},S$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),z$={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},U$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),P$={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},L$={class:"tw-col-span-12"},q$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),A$={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},W$={class:"tw-col-span-12 md:tw-col-span-4"},$$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),E$={class:"tw-col-span-12 md:tw-col-span-8"},T$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),O$={class:"md:tw-col-span-6 tw-col-span-12"},F$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),I$={class:"md:tw-col-span-6 tw-col-span-12"},V$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),j$=["value"],R$={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},H$={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},M$={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},N$=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Y$={class:"tw-flex tw-flex-col tw-justify-center"},Z$=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),K$={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},B$={key:2,class:"md:tw-col-span-12 tw-col-span-12"},J$={class:"tw-max-w-full tw-overflow-auto"},Q$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},G$={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},X$={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},tE=["src"],eE={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},rE=["onUpdate:modelValue"],aE=(0,s._)("option",{value:0},"Select",-1),sE=["value"],lE={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},oE=["disabled","onUpdate:modelValue"],iE=(0,s._)("option",{value:0},"Select",-1),nE=["value"],wE={key:0},dE={key:1},cE={key:2},uE={key:3},pE=["value"],mE={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},gE={class:"md:tw-col-span-6 tw-col-span-12"},hE=["onUpdate:modelValue"],fE={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},bE={key:0},vE={key:1,class:"md:tw-col-span-6 tw-col-span-12"},xE=["onUpdate:modelValue"],yE={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_E={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},kE=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),CE={class:"md:tw-col-span-12 tw-col-span-12"},DE={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},SE=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),zE={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},UE=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),PE={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},LE=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),qE={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},AE=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),WE={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},$E={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},EE=(0,s._)("span",{class:"text-white"}," Cancel ",-1),TE=(0,s._)("span",{class:"text-white"}," Create ",-1);function OE(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p$,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",m$,[g$,(0,s._)("div",h$,[(0,s._)("div",f$,[b$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",v$,[x$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",y$,[_$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,at.zw)(o.sale.city),9,k$),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,C$)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",D$,[S$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",z$,[U$,(0,s.Wm)(w,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",P$,[(0,s._)("div",L$,[q$,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",A$,[(0,s._)("div",W$,[$$,(0,s._)("div",null,(0,at.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",E$,[T$,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",O$,[F$,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",I$,[V$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,at.zw)(t.name),9,j$)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",R$,[(0,s._)("div",H$,[(0,s._)("label",M$,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),N$]),(0,s._)("label",Y$,[(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),Z$,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",K$," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",B$,[(0,s._)("div",J$,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Q$,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",G$,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",X$,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,tE)):(0,s.kq)("",!0)])])),(0,s._)("th",eE,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[aE,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,sE)))),128))],8,rE),[[a.bM,t.product.id]])])])]),(0,s._)("th",lE,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[iE,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",dE,(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",cE,(0,at.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",uE,(0,at.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",wE,"-"))],8,nE)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,pE))],8,oE)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",mE,[(0,s._)("div",gE,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,hE),[[a.nr,t.quantity]])])]),(0,s._)("th",fE,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",bE," - ")):((0,s.wg)(),(0,s.iD)("div",vE,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,xE),[[a.nr,t.price]])]))])]),(0,s._)("th",yE,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",_E,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),kE])),_:1},8,["onClick"])])]),(0,s._)("div",CE,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",DE,[SE,(0,s._)("div",zE,[UE,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",PE,[LE,(0,s._)("div",qE,[AE,(0,s._)("div",WE,(0,at.zw)(o.currency)+" "+(0,at.zw)(i.total_price),1)])])]),(0,s._)("div",$E,[(0,s.Wm)(st.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[EE])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[TE])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var FE={components:{AddOrderConfirmation:EA,AddOrderAffectation:HA,ProductOffers:lW},props:["visible","order"],data(){return{upsells:$d,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ha.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const IE=(0,m.Z)(FE,[["render",OE]]);var VE=IE;const jE={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},RE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},HE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ME={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},NE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},YE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},KE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},BE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function JE(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),w=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),m=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jE,[(0,s._)("div",RE,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",HE,[(0,s.Wm)(n,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",ME,[(0,s.Wm)(w,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",NE,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",YE,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",ZE,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",KE,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",BE,[(0,s.Wm)(m,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const QE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),GE=["onClick"];function XE(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[QE,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,GE)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var tT={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Zl.Z)(new Date,1),(0,Zl.Z)(new Date,1)]},{label:"This month",range:[(0,Kl.Z)(new Date),(0,Bl.Z)(new Date)]},{label:"Last month",range:[(0,Kl.Z)((0,Jl.Z)(new Date,1)),(0,Bl.Z)((0,Jl.Z)(new Date,1))]},{label:"This year",range:[(0,Ql.Z)(new Date),(0,Gl.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const eT=(0,m.Z)(tT,[["render",XE]]);var rT=eT;const aT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),sT={class:"tw-relative"},lT=(0,s._)("option",{value:"all"},"Select",-1),oT=(0,s._)("option",{value:"oui"},"Oui",-1),iT=(0,s._)("option",{value:"non"},"Non",-1),nT=[lT,oT,iT];function wT(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[aT,(0,s._)("div",sT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},nT,512),[[a.bM,o.value]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var dT={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const cT=(0,m.Z)(dT,[["render",wT]]);var uT=cT;const pT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),mT={class:"tw-relative"},gT=["value"];function hT(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[pT,(0,s._)("div",mT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,at.zw)(t.value?t.name:"Select"),9,gT)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var fT={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Ed}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const bT=(0,m.Z)(fT,[["render",hT]]);var vT=bT;const xT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),yT={class:"tw-relative"},_T=(0,s._)("option",{value:"all"}," Select ",-1),kT=["value"];function CT(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[xT,(0,s._)("div",yT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[_T,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,at.zw)(t.name),9,kT)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var DT={props:["filter"],data(){return{confirmationFilter:"all",confirmations:qd}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const ST=(0,m.Z)(DT,[["render",CT]]);var zT=ST;const UT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),PT={class:"tw-relative"},LT=(0,s._)("option",{value:"all"},"Select",-1),qT=(0,s._)("option",{value:null},"Without delivery",-1),AT=["value"];function WT(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[UT,(0,s._)("div",PT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[LT,qT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,AT)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var $T={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const ET=(0,m.Z)($T,[["render",WT]]);var TT=ET;const OT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),FT={class:"tw-relative"},IT=(0,s._)("option",{value:"all"},"Select",-1),VT=(0,s._)("option",{value:null},"Without agente",-1),jT=["value"];function RT(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[OT,(0,s._)("div",FT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[IT,VT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,jT)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var HT={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const MT=(0,m.Z)(HT,[["render",RT]]);var NT=MT;const YT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),ZT={key:0},KT={key:1,class:"tw-relative"},BT=(0,s._)("option",{value:"all"},"Select",-1),JT=["value"];function QT(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[YT,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZT,[(0,s._)("div",null,[(0,s.Wm)(ot.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",KT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[BT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,JT)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var GT={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const XT=(0,m.Z)(GT,[["render",QT]]);var tO=XT;function eO(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:n,productFilter:w}){const d=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==w&&!t.items.some((t=>t.product_id==w)))return!1;const p=n.getDate(),m=n.getMonth(),g=n.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(g<r||g===r&&m<e||g===r&&m===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(g>r||g===r&&m>e||g===r&&m===e&&p>t)return!1}return!0}))}function rO(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function aO(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function sO(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function lO(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const oO=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),iO={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},nO={class:"tw-relative tw-w-full"},wO=(0,s._)("option",{value:"all"},"All Sales",-1),dO=(0,s._)("option",{value:"selected"},"Selected Sales",-1),cO=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),uO=[wO,dO,cO];function pO(t,e,r,l,o,i){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[oO,(0,s._)("div",iO,[(0,s._)("div",nO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},uO,512),[[a.bM,o.selection]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var mO={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const gO=(0,m.Z)(mO,[["render",pO]]);var hO=gO,fO={components:{DateFilter:rT,UpsellFilter:uT,DeliveryFilter:vT,ConfirmationFilter:zT,AffectationFilter:TT,AgenteFilter:NT,ProductFilter:tO,ExcelExport:hO},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return eO(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const bO=(0,m.Z)(fO,[["render",JE]]);var vO=bO;const xO={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},yO={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},_O={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},kO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},CO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},DO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function SO(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xO,[(0,s._)("div",yO,[(0,s._)("div",_O,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",kO,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",CO,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",DO,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const zO={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},UO={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},PO={class:"tw-text-xl tw-font-bold"},LO={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},qO={class:"tw-text-sm"},AO={class:"rounded-circle tw-w-fit tw-mr-3"};function WO(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Oa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",zO,[(0,s._)("div",UO,[(0,s._)("p",PO,(0,at.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,at.zw)(r.symbol),1),(0,s._)("span",LO,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",qO,(0,at.zw)(r.dash.title),1)])]),(0,s._)("div",AO,[(0,s.Wm)(ot.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var $O={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const EO=(0,m.Z)($O,[["render",WO]]);var TO=EO,OO={components:{DashItem:TO},props:["sales"],computed:{newSales(){return rO(this.sales)},confirmedSales(){return aO(this.sales)},deliveredSales(){return sO(this.sales)},shippedSales(){return lO(this.sales)}}};const FO=(0,m.Z)(OO,[["render",SO]]);var IO=FO,VO={components:{SalesTable:mW,AddSale:u$,SalesAnalytics:IO,IndexFilter:vO,NewAddSale:VE},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await et.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await et.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return et.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ha.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const jO=(0,m.Z)(VO,[["render",KU]]);var RO=jO;const HO={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},MO={class:"tw-px-3"},NO={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},YO={class:"tw-flex tw-items-center tw-gap-x-3"},ZO=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),KO={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},BO=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),JO={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},QO=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),GO=(0,s._)("span",null,"Create",-1),XO=[QO,GO],tF={class:"tw-overflow-hidden tw-col-span-1"},eF={key:0};function rF(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",HO,[(0,s._)("section",MO,[(0,s._)("div",NO,[(0,s._)("div",null,[(0,s._)("div",YO,[ZO,(0,s._)("span",KO,(0,at.zw)(l.totalOrders)+" order",1)]),BO]),(0,s._)("div",JO,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XO)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tF,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",eF,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const aF={class:"tw-flex tw-flex-col"},sF={class:"tw-overflow-x-auto"},lF={class:"tw-inline-block tw-min-w-full tw-align-middle"},oF={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},iF={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},nF={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},wF={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},dF={class:"tw-max-w-[25px]"},cF={class:"tw-inline-flex tw-items-center"},uF={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},pF=["checked"],mF=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),gF=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),hF={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},fF=(0,s._)("span",null,"Created",-1),bF=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),vF=[fF,bF],xF=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),yF=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),_F=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),kF=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),CF=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),DF=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),SF=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),zF=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),UF={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},PF={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},LF=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),qF=[LF],AF={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},WF={colspan:"11"},$F={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},EF=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),TF=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),OF=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),FF=[TF,OF],IF={class:"tw-mt-6"};function VF(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",aF,[(0,s._)("div",sF,[(0,s._)("div",lF,[(0,s._)("div",oF,[(0,s._)("table",iF,[(0,s._)("thead",nF,[(0,s._)("tr",null,[(0,s._)("th",wF,[(0,s._)("div",dF,[(0,s._)("div",cF,[(0,s._)("label",uF,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,pF),mF])])])]),gF,(0,s._)("th",hF,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},vF)]),xF,yF,_F,kF,CF,DF,SF,zF])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",UF,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",PF,qF)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",AF,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",WF,[(0,s._)("div",$F,[EF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},FF)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",IF,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const jF={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},RF={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},HF={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},MF={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},NF=["disabled"],YF=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ZF=(0,s._)("span",null," previous ",-1),KF=[YF,ZF],BF=["disabled"],JF=(0,s._)("span",null," Next ",-1),QF=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),GF=[JF,QF];function XF(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jF,[(0,s._)("div",RF,[(0,s.Uk)(" Page "),(0,s._)("span",HF,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",MF,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},KF,10,NF),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},GF,10,BF)])])])}var tI={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const eI=(0,m.Z)(tI,[["render",XF]]);var rI=eI;const aI={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sI={class:"tw-max-w-[25px]"},lI={class:"tw-inline-flex tw-items-center"},oI={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},iI=["checked","id"],nI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),wI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},cI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},pI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},gI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hI={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},fI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},vI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xI={class:"tw-space-y-1"},yI={class:"tw-font-bold tw-text-green-500"},_I={class:"tw-block tw-max-w-[150px] tw-truncate"},kI={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},CI={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},DI={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},SI={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},zI={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UI={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function PI(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",aI,[(0,s._)("div",sI,[(0,s._)("div",lI,[(0,s._)("label",oI,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,iI),nI])])])]),(0,s._)("td",wI,[(0,s._)("div",null,[(0,s._)("h2",dI,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",cI,[(0,s._)("div",null,[(0,s._)("h2",uI,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",pI,[(0,s._)("div",null,[(0,s._)("h2",mI,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",gI,[(0,s._)("div",null,[(0,s._)("h2",hI,(0,at.zw)(r.item.city),1)])]),(0,s._)("td",fI,[(0,s._)("div",null,[(0,s._)("h2",bI,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",vI,[(0,s._)("div",null,[(0,s._)("ul",xI,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",yI,(0,at.zw)(t.quantity)+" x ",1),(0,s._)("span",_I,(0,at.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",kI,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",CI,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",DI,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3)])]),(0,s._)("td",SI,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",zI,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",UI,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const LI={class:"tw-h-full"},qI={class:"tw-flex tw-items-center tw-gap-2"},AI=["href"],WI={key:0},$I={key:1},EI={key:2};function TI(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup"),w=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",LI,[(0,s._)("div",qI,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,AI),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",WI,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",$I,[(0,s.Wm)(n,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",EI,[(0,s.Wm)(w,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const OI={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},FI=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),II={class:"tw-bg-white tw-p-4"},VI={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},jI={class:"tw-col-span-2 md:tw-col-span-1"},RI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),HI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},MI={class:"tw-col-span-2 md:tw-col-span-1"},NI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),YI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZI={class:"tw-col-span-2 md:tw-col-span-1"},KI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),BI={class:"tw-relative"},JI=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),QI=["value"],GI=["value"],XI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eV={class:"tw-col-span-2 md:tw-col-span-1"},rV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),aV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sV={class:"tw-col-span-2"},lV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),oV={class:"tw-relative"},iV=["value"],nV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dV={key:0,class:"md:tw-col-span-1 tw-col-span-2"},cV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),uV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pV={key:1,class:"md:tw-col-span-1 tw-col-span-2"},mV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),gV={class:"tw-col-span-2"},hV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),fV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bV={class:"md:tw-col-span-1 tw-col-span-2"},vV={class:"tw-col-span-1"},xV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),yV={class:"tw-relative"},_V=["value"],kV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DV={class:"md:tw-col-span-1 tw-col-span-2"},SV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),zV={class:"tw-relative"},UV=["value"],PV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),LV={class:"tw-col-span-2"},qV={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},AV={key:0,class:"tw-text-red-400 tw-text-xs"},WV={key:2,class:"tw-col-span-2"},$V={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},EV=["disabled"],TV=(0,s._)("span",null,"Update",-1);function OV(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",OI,[FI,(0,s._)("div",II,[(0,s._)("div",VI,[(0,s._)("div",jI,[RI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",HI,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",MI,[NI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",YI,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZI,[KI,(0,s._)("div",BI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[JI,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,QI),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,GI)))),128))],34),[[a.bM,o.itemCopy.city]]),XI]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",tV,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",eV,[rV,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",aV,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",sV,[lV,(0,s._)("div",oV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,iV)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),nV]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",wV,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",dV,[cV,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",uV,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",pV,[mV,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",gV,[hV,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",fV,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",bV,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",vV,[xV,(0,s._)("div",yV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,at.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,_V)))),128))],34),[[a.bM,o.itemCopy.delivery]]),kV]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",CV,(0,at.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",DV,[SV,(0,s._)("div",zV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,UV)))),128))],512),[[a.bM,o.itemCopy.upsell]]),PV])]),(0,s._)("div",LV,[(0,s._)("label",qV,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",AV," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",WV,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",$V,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),TV],8,EV)])])])),_:1},8,["visible","onCancel"])])}const FV=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation||"confirmer"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!IV(t,e.items):(t.errors.affectation="Warning: Order is confirmed but not affected.",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),IV=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},VV=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},jV=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},RV=(t,e)=>{t.isLoading=!0,t.errors={},xp.update(e.id,e).then((e=>VV(t,e.data))).catch((e=>jV(t,e.response.data))).finally((()=>t.isLoading=!1))},HV={key:0},MV=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),NV={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},YV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ZV=(0,s._)("span",null,"Add Item",-1),KV=[YV,ZV],BV={key:1,class:"md:tw-col-span-12 tw-col-span-12"},JV={class:"tw-max-w-full tw-overflow-auto"},QV={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},GV={class:"tw-bg-gray-50"},XV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},tj={key:0},ej={colspan:"6"},rj={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},aj=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),sj=(0,s._)("span",null,"Add Item",-1),lj=[aj,sj],oj=(0,s._)("td",{colspan:"4"},null,-1),ij=(0,s._)("td",null,null,-1),nj={colspan:"1",class:"tw-p-2"},wj={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},dj={key:1},cj={colspan:"6"},uj={class:"tw-scale-75 tw-p-5"};function pj(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",HV,[MV,(0,s._)("div",NV,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},KV)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",BV,[(0,s._)("div",JV,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",QV,[(0,s._)("tr",GV,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",XV,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",tj,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",ej,[(0,s._)("div",rj,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},lj)])])]),(0,s._)("tr",null,[oj,ij,(0,s._)("td",nj,[(0,s._)("div",wj,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",dj,[(0,s._)("tr",null,[(0,s._)("td",cj,[(0,s._)("div",uj,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const mj=(0,s._)("td",null,null,-1),gj={class:"tw-p-2"},hj={class:"tw-relative"},fj=["value"],bj=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),vj=["value"],xj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),yj={class:"tw-p-2"},_j={key:0,class:"tw-relative"},kj=["value"],Cj=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Dj=["value"],Sj={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},zj=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Uj=[zj],Pj={class:"tw-p-2"},Lj=["value"],qj={class:"tw-p-2"},Aj=["value"],Wj={class:"tw-flex tw-justify-center"};function $j(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[mj,(0,s._)("td",null,[(0,s._)("div",gj,[(0,s._)("div",hj,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[bj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,vj)))),128))],40,fj),xj])])]),(0,s._)("td",null,[(0,s._)("div",yj,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",_j,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Cj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,Dj)))),128))],40,kj)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Sj,Uj)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Pj,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Lj)])]),(0,s._)("td",null,[(0,s._)("div",qj,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Aj)])]),(0,s._)("td",null,[(0,s._)("div",Wj,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Ej={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Tj=(0,m.Z)(Ej,[["render",$j]]);var Oj=Tj,Fj={components:{ItemRow:Oj},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return lo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Ij=(0,m.Z)(Fj,[["render",pj]]);var Vj=Ij;const jj=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Rj={key:0,class:"tw-relative"},Hj=["value","disabled"],Mj=(0,s._)("option",{value:""},"Choose a Delivery",-1),Nj=["value"],Yj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Zj={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Kj={key:2,class:"tw-relative"},Bj={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Jj=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Qj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Gj(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[jj,l.fetched?((0,s.wg)(),(0,s.iD)("div",Rj,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,at.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Mj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Nj)))),128))],42,Hj),Yj])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Zj,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Kj,[(0,s._)("div",Bj,[(0,s.Wm)(i)]),Jj,Qj]))])}var Xj={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const tR=(0,m.Z)(Xj,[["render",Gj]]);var eR=tR;const rR={key:0},aR=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),sR={class:"md:tw-col-span-12 tw-col-span-12"},lR={class:"tw-max-w-full tw-overflow-auto"},oR={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},iR=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),nR={class:"tw-px-3 tw-py-2"},wR={class:"tw-px-3 tw-py-2"},dR={class:"tw-px-3 tw-py-2"},cR={class:"tw-px-3 tw-py-2"},uR={class:"tw-max-w-[250px] tw-text-sm"};function pR(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",rR,[aR,(0,s._)("div",sR,[(0,s._)("div",lR,[(0,s._)("table",oR,[iR,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",nR,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",wR,(0,at.zw)(t.quantity),1),(0,s._)("td",dR,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",cR,[(0,s._)("p",uR,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var mR={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const gR=(0,m.Z)(mR,[["render",pR]]);var hR=gR,fR={components:{OrderItems:Vj,OrderAffectation:eR,ProductOffersTable:hR},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:qd,deliveryStatus:Ed,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=FV(this,this.itemCopy);if(!t)return!1;RV(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const bR=(0,m.Z)(fR,[["render",OV]]);var vR=bR;const xR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),_R={class:"tw-bg-white tw-p-4"},kR={key:0},CR={key:1,class:"tw-p-5"},DR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},SR={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},zR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},UR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},PR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},LR={class:"tw-flex tw-flex-col tw-my-2"},qR=(0,s._)("div",null,"New Order Created",-1),AR={class:"tw-flex tw-flex-col"},WR={key:0,class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},$R={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},ER={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function TR(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",xR,[yR,(0,s._)("div",_R,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kR,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",CR,[(0,s.Wm)(LL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(qL.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",DR,[(0,s._)("div",SR,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(PL.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",zR,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1)]),(0,s._)("div",UR,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(qL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",PR,[(0,s._)("div",LR,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),qR]),(0,s._)("div",AR,[r.item.created_by?((0,s.wg)(),(0,s.iD)("div",WR,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(r.item.created_by.firstname)+" "+(0,at.zw)(r.item.created_by.lastname),1)])):(0,s.kq)("",!0),(0,s._)("div",$R,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",ER,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var OR={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ha.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const FR=(0,m.Z)(OR,[["render",TR]]);var IR=FR;const VR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},jR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),RR={class:"tw-bg-white tw-p-4"},HR={key:0},MR={key:1,class:"tw-p-5"},NR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},YR={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},ZR={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},KR={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},BR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},JR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},QR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},GR={class:"tw-flex tw-flex-col tw-my-2"},XR=(0,s._)("div",null,"No Changes Happend Yet",-1),tH={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},eH={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function rH(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",VR,[jR,(0,s._)("div",RR,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",HR,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",MR,[(0,s.Wm)(LL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(qL.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",NR,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",YR,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(PL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",ZR,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(PL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",KR,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(PL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",BR,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1)]),(0,s._)("div",JR,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(qL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",QR,[(0,s._)("div",GR,[(0,s.Wm)(PL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),XR]),(0,s._)("div",tH,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",eH,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var aH={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ha.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const sH=(0,m.Z)(aH,[["render",rH]]);var lH=sH,oH={components:{UpdatePopup:vR,HistoryPopup:IR,HistoryItemPopup:lH},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const iH=(0,m.Z)(oH,[["render",TI]]);var nH=iH;const wH={key:0},dH={key:0,class:"tw-relative tw-inline-block tw-text-left"},cH={key:0},uH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),pH=[uH],mH={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},gH={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},hH=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),fH=[hH],bH={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},vH={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},xH={class:"tw-py-1",role:"none"},yH=["onClick"],_H={key:1},kH={class:"tw-p-2 tw-scale-75"};function CH(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",wH,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",dH,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",cH,pH)):(0,s.kq)("",!0),(0,s._)("p",mH,(0,at.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",gH,fH)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",bH,(0,at.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Et.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",vH,[(0,s._)("div",xH,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],8,yH)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",_H,[(0,s._)("div",kH,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var DH={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};RV(this,e,!1)}}};const SH=(0,m.Z)(DH,[["render",CH]]);var zH=SH,UH={components:{TableActions:nH,TableRowAffectation:zH},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e()}},computed:{confirmation(){return qd.find((t=>t.value==this.item.confirmation))},deliveryState(){return Ed.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const PH=(0,m.Z)(UH,[["render",PI]]);var LH=PH,qH={components:{TablePaginationNoNums:rI,TableRow:LH},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const AH=(0,m.Z)(qH,[["render",VF]]);var WH=AH;const $H={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},EH={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},TH=["disabled"],OH=["disabled"],FH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),IH=[FH],VH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),jH=[VH],RH=["disabled"],HH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),MH=[HH],NH=["disabled"],YH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),ZH=[YH],KH=["disabled"],BH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),JH=[BH],QH={class:"tw-relative"},GH=["value"],XH=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),tM=[XH],eM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rM={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},aM=["value"],sM=(0,s.uE)('<option value="all">All</option><option value="id">ID</option><option value="fullname">Fullname</option><option value="phone">Phone</option><option value="adresse">Address</option><option value="city">City</option><option value="note">Note</option>',7),lM=[sM],oM=["value"],iM={class:"tw-overflow-hidden tw-col-span-1"},nM={class:"tw-overflow-hidden tw-col-span-1"},wM={class:"tw-overflow-hidden tw-col-span-1"};function dM(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$H,[(0,s._)("div",EH,[(0,s._)("button",{class:(0,at.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,TH),(0,s._)("button",{title:"Orders Created Today",class:(0,at.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,OH),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,at.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},IH,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,at.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},jH,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,at.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},MH,10,RH),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ZH,8,NH),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,at.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},JH,10,KH),(0,s._)("div",QH,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},tM,40,GH),eM])]),(0,s._)("div",rM,[(0,s._)("select",{value:r.searchByField,onInput:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),class:"tw-block !tw-w-fit tw-px-2 tw-py-1.5 tw-border-r-0 tw-rounded-r-none tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},lM,40,aM),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-rounded-l-none tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,oM),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",iM,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,at.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",nM,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wM,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const cM={class:"tw-mb-4"},uM={class:"tw-grid tw-grid-cols-12 tw-gap-4"},pM={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},mM={class:"tw-flex tw-items-center tw-justify-between"},gM={class:"tw-text-xl tw-font-bold tw-text-gray-900"},hM={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function fM(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",cM,[(0,s._)("div",uM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",pM,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",mM,[(0,s._)("span",gM,(0,at.zw)(t.total),1),(0,s._)("span",hM,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var bM={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return qd.find((e=>e.value==t))}}};const vM=(0,m.Z)(bM,[["render",fM]]);var xM=vM;const yM={class:"tw-mb-4"},_M={class:"tw-flex tw-items-center tw-gap-2"},kM=["disabled"],CM=(0,s._)("span",null,"Select Filtered",-1),DM={class:"tw-flex tw-justify-end"},SM=["disabled"];function zM(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",yM,[(0,s._)("div",_M,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),CM],8,kM)]),(0,s._)("div",DM,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,at.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,SM)])])}var UM={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,xp["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const PM=(0,m.Z)(UM,[["render",zM]]);var LM=PM;const qM={class:"tw-mb-4"},AM={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},WM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$M=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),EM=["value"],TM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),FM=["value"],IM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),jM=["value"],RM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},HM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),MM=["value"],NM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ZM=["value"],KM=(0,s._)("option",{value:"all",selected:""},"All",-1),BM=["value"],JM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),GM=["value"],XM=(0,s._)("option",{value:"all",selected:""},"All",-1),tN=["value"],eN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),aN=["value"],sN=(0,s._)("option",{value:"all",selected:""},"All",-1),lN=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),oN=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),iN=[sN,lN,oN],nN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered From",-1),dN=["value"],cN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered To",-1),pN=["value"],mN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),hN=["value"],fN=(0,s._)("option",{value:"all",selected:""},"All",-1),bN=(0,s._)("option",{value:"in",selected:""},"In",-1),vN=(0,s._)("option",{value:"out",selected:""},"Out",-1),xN=[fN,bN,vN],yN={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},_N=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),kN=(0,s._)("span",null,"Clear",-1),CN=[_N,kN],DN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),SN=(0,s._)("span",null,"Filter",-1),zN=[DN,SN];function UN(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",qM,[(0,s._)("div",AM,[(0,s.kq)("",!0),(0,s._)("div",WM,[$M,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,EM)]),(0,s._)("div",TM,[OM,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,FM)]),(0,s._)("div",IM,[VM,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,jM)]),(0,s._)("div",RM,[HM,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,MM)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",NM,[YM,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,BM)))),128))],40,ZM)]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",JM,[QM,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[XM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,tN)))),128))],40,GM)]),(0,s._)("div",eN,[rN,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},iN,40,aN)]),(0,s._)("div",nN,[wN,(0,s._)("input",{value:r.filters.delivered_from,type:"date",onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,delivered_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,dN)]),(0,s._)("div",cN,[uN,(0,s._)("input",{value:r.filters.delivered_to,type:"date",onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,delivered_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,pN)]),(0,s._)("div",mN,[gN,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[13]||(e[13]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},xN,40,hN)]),(0,s._)("div",yN,[(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},CN),(0,s._)("button",{onClick:e[15]||(e[15]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},zN)])])])}const PN={class:"tw-text-sm tw-text-neutral-600"},LN=["onClick"];function qN(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",PN,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,LN)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var AN={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Zl.Z)(new Date,1),(0,Zl.Z)(new Date,1)]},{label:"This month",range:[(0,Kl.Z)(new Date),(0,Bl.Z)(new Date)]},{label:"Last month",range:[(0,Kl.Z)((0,Jl.Z)(new Date,1)),(0,Bl.Z)((0,Jl.Z)(new Date,1))]},{label:"This year",range:[(0,Ql.Z)(new Date),(0,Gl.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const WN=(0,m.Z)(AN,[["render",qN]]);var $N=WN;const EN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},TN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),ON=["value"],FN=(0,s._)("option",{value:"all"},"All",-1),IN=(0,s._)("option",{value:""},"No Delivery",-1),VN=["value"];function jN(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",EN,[TN,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[FN,IN,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,VN)))),128))],40,ON)])}var RN={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const HN=(0,m.Z)(RN,[["render",jN]]);var MN=HN;const NN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),ZN=["value"],KN=(0,s._)("option",{value:"all"},"All",-1),BN=(0,s._)("option",{value:""},"No Agent",-1),JN=["value"];function QN(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",NN,[YN,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KN,BN,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,JN)))),128))],40,ZN)])}var GN={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const XN=(0,m.Z)(GN,[["render",QN]]);var tY=XN;const eY={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rY=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function aY(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",eY,[rY,(0,s.Wm)(i,{reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var sY=r(3636),lY={components:{"vue-select":sY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const oY=(0,m.Z)(lY,[["render",aY]]);var iY=oY,nY={components:{DateFilter:$N,AffectationFilter:MN,AgentFilter:tY,ProductFilter:iY},props:{filters:{required:!0,default:{}}},data(){return{confirmations:qd,deliveries:Ed,dateFilter:["",""]}}};const wY=(0,m.Z)(nY,[["render",UN]]);var dY=wY,cY={components:{IndexStatistics:xM,FiltersWrapper:dY,IndexExport:LM},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const uY=(0,m.Z)(cY,[["render",dM]]);var pY=uY;const mY={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},gY=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),hY={class:"tw-bg-white tw-p-4"},fY={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},bY={class:"tw-col-span-2 md:tw-col-span-1"},vY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),xY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yY={class:"tw-col-span-2 md:tw-col-span-1"},_Y=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),kY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CY={class:"tw-col-span-2 md:tw-col-span-1"},DY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),SY={class:"tw-relative"},zY=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),UY=["value"],PY=["value"],LY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),qY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AY={class:"tw-col-span-2 md:tw-col-span-1"},WY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),$Y={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},EY={class:"tw-col-span-2"},TY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),OY={class:"tw-relative"},FY=["value"],IY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),VY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jY={key:0,class:"md:tw-col-span-1 tw-col-span-2"},RY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),HY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},MY={key:1,class:"md:tw-col-span-1 tw-col-span-2"},NY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),YY={class:"tw-col-span-2"},ZY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),KY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BY={class:"md:tw-col-span-1 tw-col-span-2"},JY={class:"md:tw-col-span-1 tw-col-span-2"},QY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),GY={class:"tw-relative"},XY=["value"],tZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eZ={class:"tw-col-span-2"},rZ={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},aZ={key:0,class:"tw-text-red-400 tw-text-xs"},sZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},lZ=["disabled"],oZ=(0,s._)("span",null,"Create",-1);function iZ(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",mY,[gY,(0,s._)("div",hY,[(0,s._)("div",fY,[(0,s._)("div",bY,[vY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",xY,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",yY,[_Y,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",kY,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",CY,[DY,(0,s._)("div",SY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[zY,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,UY),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,PY)))),128))],34),[[a.bM,o.itemCopy.city]]),LY]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",qY,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",AY,[WY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",$Y,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",EY,[TY,(0,s._)("div",OY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,FY)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),IY]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",VY,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",jY,[RY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",HY,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",MY,[NY,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",YY,[ZY,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",KY,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",BY,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",JY,[QY,(0,s._)("div",GY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,XY)))),128))],512),[[a.bM,o.itemCopy.upsell]]),tZ])]),(0,s._)("div",eZ,[(0,s._)("label",rZ,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",aZ," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",sZ,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),oZ],8,lZ)])])])),_:1},8,["visible","onCancel"])])}const nZ=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},wZ=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},dZ=(t,e)=>{t.isLoading=!0,t.errors={},xp.create(e).then((e=>nZ(t,e.data))).catch((e=>wZ(t,e.response.data))).finally((()=>t.isLoading=!1))};var cZ={components:{OrderItems:Vj,OrderAffectation:eR},props:{visible:{required:!0}},data(){return{confirmations:qd,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=FV(this,this.itemCopy);if(!t)return!1;dZ(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const uZ=(0,m.Z)(cZ,[["render",iZ]]);var pZ=uZ;const mZ={class:"tw-mb-4"},gZ={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},hZ={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},fZ={class:"tw-flex tw-items-center tw-gap-2"},bZ={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},vZ=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),xZ={class:"tw-flex tw-items-center tw-gap-2"},yZ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_Z=(0,s._)("span",null," Clear Selection ",-1),kZ=[yZ,_Z],CZ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),DZ=(0,s._)("span",null," Actions ",-1),SZ=[CZ,DZ],zZ={key:0};function UZ(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",mZ,[(0,s._)("div",gZ,[(0,s._)("div",hZ,[(0,s._)("div",fZ,[(0,s._)("div",bZ,(0,at.zw)(r.selected.length),1),vZ]),(0,s._)("div",xZ,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},kZ),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},SZ)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",zZ,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const PZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},LZ={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},qZ=(0,s._)("span",null,"Quick Actions",-1),AZ={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},WZ={class:"tw-bg-white tw-p-4"},$Z={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},EZ={class:"tw-col-span-2 md:tw-col-span-1"},TZ={key:0,class:"tw-col-span-2 md:tw-col-span-1"},OZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},FZ=(0,s._)("span",null,"Apply",-1);function IZ(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",PZ,[(0,s._)("div",LZ,[qZ,(0,s._)("span",AZ,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",WZ,[(0,s._)("div",$Z,[(0,s._)("div",EZ,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",TZ,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",OZ,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),FZ])])])])),_:1},8,["visible","closeable","onCancel"])])}const VZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),jZ={class:"tw-relative"},RZ=["value"],HZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function MZ(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[VZ,(0,s._)("div",jZ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,RZ)))),128))],512),[[a.bM,i.vaction]]),HZ]),(0,s.kq)("",!0)])}var NZ={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const YZ=(0,m.Z)(NZ,[["render",MZ]]);var ZZ=YZ;const KZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),BZ={class:"tw-relative"},JZ=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),QZ=["value"],GZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function XZ(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[KZ,(0,s._)("div",BZ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[JZ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,QZ)))),128))],512),[[a.bM,i.vvalue]]),GZ]),(0,s.kq)("",!0)])}var tK={props:{value:{required:!0}},data(){return{statuses:Ed}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const eK=(0,m.Z)(tK,[["render",XZ]]);var rK=eK;class aK{async execute(t){return await E.getCookie(),W.post("api/v1/bulk/execute",t)}}var sK=new aK,lK=(t,e)=>{t.isLoading=!0,sK.execute(e).then((e=>oK(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const oK=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var iK={components:{BulkSelectAction:ZZ,BulkDeliveryAction:rK},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};lK(this,t)}}};const nK=(0,m.Z)(iK,[["render",IZ]]);var wK=nK,dK={components:{BulkPopup:wK},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const cK=(0,m.Z)(dK,[["render",UZ]]);var uK=cK,pK={components:{IndexTable:WH,IndexFilters:pY,CreatePopup:pZ,BulkActions:uK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,xp.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const mK=(0,m.Z)(pK,[["render",rF]]);var gK=mK;const hK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},fK={class:"tw-px-3"},bK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},vK={class:"tw-flex tw-items-center tw-gap-x-3"},xK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),yK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},_K=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),kK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},CK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),DK=(0,s._)("span",null,"Create",-1),SK=[CK,DK],zK={class:"tw-overflow-hidden tw-col-span-1"},UK={key:0};function PK(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",hK,[(0,s._)("section",fK,[(0,s._)("div",bK,[(0,s._)("div",null,[(0,s._)("div",vK,[xK,(0,s._)("span",yK,(0,at.zw)(l.totalOrders)+" order",1)]),_K]),(0,s._)("div",kK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SK)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",zK,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",UK,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var LK={components:{IndexTable:WH,IndexFilters:pY,CreatePopup:pZ,BulkActions:uK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,xp.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const qK=(0,m.Z)(LK,[["render",PK]]);var AK=qK;const WK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},$K={class:"tw-px-3"},EK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},TK={class:"tw-flex tw-items-center tw-gap-x-3"},OK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),FK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},IK=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),VK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},jK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),RK=(0,s._)("span",null,"Create",-1),HK=[jK,RK],MK={class:"tw-overflow-hidden tw-col-span-1"},NK={key:0};function YK(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",WK,[(0,s._)("section",$K,[(0,s._)("div",EK,[(0,s._)("div",null,[(0,s._)("div",TK,[OK,(0,s._)("span",FK,(0,at.zw)(l.totalOrders)+" order",1)]),IK]),(0,s._)("div",VK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},HK)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",MK,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",NK,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var ZK={components:{IndexTable:WH,IndexFilters:pY,CreatePopup:pZ,BulkActions:uK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,xp.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const KK=(0,m.Z)(ZK,[["render",YK]]);var BK=KK;const JK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},QK={class:"tw-px-3"},GK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},XK={class:"tw-flex tw-items-center tw-gap-x-3"},tB=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),eB={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},rB=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),aB={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},sB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),lB=(0,s._)("span",null,"Create",-1),oB=[sB,lB],iB={class:"tw-overflow-hidden tw-col-span-1"},nB={key:0};function wB(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",JK,[(0,s._)("section",QK,[(0,s._)("div",GK,[(0,s._)("div",null,[(0,s._)("div",XK,[tB,(0,s._)("span",eB,(0,at.zw)(l.totalOrders)+" order",1)]),rB]),(0,s._)("div",aB,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},oB)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",iB,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",nB,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const dB={class:"tw-flex tw-flex-col"},cB={class:"tw-overflow-x-auto"},uB={class:"tw-inline-block tw-min-w-full tw-align-middle"},pB={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},mB={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},gB={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},hB={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},fB={class:"tw-max-w-[25px]"},bB={class:"tw-inline-flex tw-items-center"},vB={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},xB=["checked"],yB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),_B=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),kB={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},CB=(0,s._)("span",null,"Created",-1),DB=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),SB=[CB,DB],zB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),UB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),PB=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),LB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),qB=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Reconfirmation ",-1),AB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),WB=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),$B=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),EB={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},TB={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},OB=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),FB=[OB],IB={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},VB={colspan:"11"},jB={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},RB=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),HB=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),MB=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),NB=[HB,MB],YB={class:"tw-mt-6"};function ZB(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dB,[(0,s._)("div",cB,[(0,s._)("div",uB,[(0,s._)("div",pB,[(0,s._)("table",mB,[(0,s._)("thead",gB,[(0,s._)("tr",null,[(0,s._)("th",hB,[(0,s._)("div",fB,[(0,s._)("div",bB,[(0,s._)("label",vB,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,xB),yB])])])]),_B,(0,s._)("th",kB,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},SB)]),zB,UB,PB,LB,qB,AB,WB,$B])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",EB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",TB,FB)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",IB,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",VB,[(0,s._)("div",jB,[RB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},NB)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",YB,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const KB={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},BB={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},JB={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},QB={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},GB=["disabled"],XB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),tJ=(0,s._)("span",null," previous ",-1),eJ=[XB,tJ],rJ=["disabled"],aJ=(0,s._)("span",null," Next ",-1),sJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),lJ=[aJ,sJ];function oJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",KB,[(0,s._)("div",BB,[(0,s.Uk)(" Page "),(0,s._)("span",JB,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",QB,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},eJ,10,GB),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},lJ,10,rJ)])])])}var iJ={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const nJ=(0,m.Z)(iJ,[["render",oJ]]);var wJ=nJ;const dJ={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cJ={class:"tw-max-w-[25px]"},uJ={class:"tw-inline-flex tw-items-center"},pJ={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},mJ=["checked","id"],gJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),hJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},bJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},vJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},xJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},_J={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kJ={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},CJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},SJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zJ={class:"tw-space-y-1"},UJ={class:"tw-font-bold tw-text-green-500"},PJ={class:"tw-block tw-max-w-[150px] tw-truncate"},LJ={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},qJ={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},AJ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},WJ={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},$J={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},EJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function TJ(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.followup_confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",dJ,[(0,s._)("div",cJ,[(0,s._)("div",uJ,[(0,s._)("label",pJ,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,mJ),gJ])])])]),(0,s._)("td",hJ,[(0,s._)("div",null,[(0,s._)("h2",fJ,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",bJ,[(0,s._)("div",null,[(0,s._)("h2",vJ,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",xJ,[(0,s._)("div",null,[(0,s._)("h2",yJ,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",_J,[(0,s._)("div",null,[(0,s._)("h2",kJ,(0,at.zw)(r.item.city),1)])]),(0,s._)("td",CJ,[(0,s._)("div",null,[(0,s._)("h2",DJ,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",SJ,[(0,s._)("div",null,[(0,s._)("ul",zJ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",UJ,(0,at.zw)(t.quantity)+" x ",1),(0,s._)("span",PJ,(0,at.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",LJ,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",qJ,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",AJ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3)])]),(0,s._)("td",WJ,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",$J,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",EJ,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const OJ={class:"tw-h-full"},FJ={class:"tw-flex tw-items-center tw-gap-2"},IJ=["href"],VJ={key:0};function jJ(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",OJ,[(0,s._)("div",FJ,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,IJ),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",VJ,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const RJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},HJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),MJ={class:"tw-bg-white tw-p-4"},NJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},YJ={class:"tw-col-span-2 md:tw-col-span-1"},ZJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),KJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BJ={class:"tw-col-span-2 md:tw-col-span-1"},JJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),QJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},GJ={class:"tw-col-span-2 md:tw-col-span-1"},XJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),tQ={class:"tw-relative"},eQ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),rQ=["value"],aQ=["value"],sQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),lQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oQ={class:"tw-col-span-2 md:tw-col-span-1"},iQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),nQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wQ={class:"tw-col-span-2"},dQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),cQ={class:"tw-relative"},uQ=["value"],pQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),mQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gQ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},hQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),fQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bQ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},vQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),xQ={class:"tw-col-span-2"},yQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),_Q={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kQ={class:"md:tw-col-span-1 tw-col-span-2"},CQ={class:"md:tw-col-span-1 tw-col-span-2"},DQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),SQ={class:"tw-relative"},zQ=["value"],UQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),PQ={class:"tw-col-span-2"},LQ={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},qQ={key:0,class:"tw-text-red-400 tw-text-xs"},AQ={key:3,class:"tw-col-span-2"},WQ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},$Q=["disabled"],EQ=(0,s._)("span",null,"Update",-1);function TQ(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",RJ,[HJ,(0,s._)("div",MJ,[(0,s._)("div",NJ,[(0,s._)("div",YJ,[ZJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",KJ,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",BJ,[JJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",QJ,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",GJ,[XJ,(0,s._)("div",tQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[eQ,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,rQ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,aQ)))),128))],34),[[a.bM,o.itemCopy.city]]),sQ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",lQ,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",oQ,[iQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",nQ,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",wQ,[dQ,(0,s._)("div",cQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,at.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,uQ)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),pQ]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",mQ,(0,at.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",gQ,[hQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,at.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",fQ,(0,at.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",bQ,[vQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",xQ,[yQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",_Q,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",kQ,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",CQ,[DQ,(0,s._)("div",SQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,zQ)))),128))],512),[[a.bM,o.itemCopy.upsell]]),UQ])]),(0,s._)("div",PQ,[(0,s._)("label",LQ,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",qQ," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",AQ,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",WQ,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),EQ],8,$Q)])])])),_:1},8,["visible","onCancel"])])}const OQ=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!FQ(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),FQ=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},IQ=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},VQ=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},jQ=(t,e)=>{t.isLoading=!0,t.errors={},xp.update(e.id,e).then((e=>IQ(t,e.data))).catch((e=>VQ(t,e.response.data))).finally((()=>t.isLoading=!1))},RQ={key:0},HQ=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),MQ={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},NQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),YQ=(0,s._)("span",null,"Add Item",-1),ZQ=[NQ,YQ],KQ={key:1,class:"md:tw-col-span-12 tw-col-span-12"},BQ={class:"tw-max-w-full tw-overflow-auto"},JQ={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},QQ={class:"tw-bg-gray-50"},GQ={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},XQ={key:0},tG={colspan:"6"},eG={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},rG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),aG=(0,s._)("span",null,"Add Item",-1),sG=[rG,aG],lG=(0,s._)("td",{colspan:"4"},null,-1),oG=(0,s._)("td",null,null,-1),iG={colspan:"1",class:"tw-p-2"},nG={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},wG={key:1},dG={colspan:"6"},cG={class:"tw-scale-75 tw-p-5"};function uG(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RQ,[HQ,(0,s._)("div",MQ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},ZQ)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",KQ,[(0,s._)("div",BQ,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",JQ,[(0,s._)("tr",QQ,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",GQ,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",XQ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",tG,[(0,s._)("div",eG,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},sG)])])]),(0,s._)("tr",null,[lG,oG,(0,s._)("td",iG,[(0,s._)("div",nG,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",wG,[(0,s._)("tr",null,[(0,s._)("td",dG,[(0,s._)("div",cG,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const pG=(0,s._)("td",null,null,-1),mG={class:"tw-p-2"},gG={class:"tw-relative"},hG=["value"],fG=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),bG=["value"],vG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),xG={class:"tw-p-2"},yG={key:0,class:"tw-relative"},_G=["value"],kG=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),CG=["value"],DG={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},SG=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),zG=[SG],UG={class:"tw-p-2"},PG=["value"],LG={class:"tw-p-2"},qG=["value"],AG={class:"tw-flex tw-justify-center"};function WG(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[pG,(0,s._)("td",null,[(0,s._)("div",mG,[(0,s._)("div",gG,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[fG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,bG)))),128))],40,hG),vG])])]),(0,s._)("td",null,[(0,s._)("div",xG,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",yG,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[kG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,CG)))),128))],40,_G)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",DG,zG)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",UG,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,PG)])]),(0,s._)("td",null,[(0,s._)("div",LG,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,qG)])]),(0,s._)("td",null,[(0,s._)("div",AG,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var $G={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const EG=(0,m.Z)($G,[["render",WG]]);var TG=EG,OG={components:{ItemRow:TG},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return lo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const FG=(0,m.Z)(OG,[["render",uG]]);var IG=FG;const VG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),jG={key:0,class:"tw-relative"},RG=["value","disabled"],HG=(0,s._)("option",{value:""},"Choose a Delivery",-1),MG=["value"],NG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),YG={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZG={key:2,class:"tw-relative"},KG={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},BG=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),JG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function QG(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[VG,l.fetched?((0,s.wg)(),(0,s.iD)("div",jG,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[HG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,MG)))),128))],42,RG),NG])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",YG,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZG,[(0,s._)("div",KG,[(0,s.Wm)(i)]),BG,JG]))])}var GG={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const XG=(0,m.Z)(GG,[["render",QG]]);var tX=XG;const eX={key:0},rX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),aX={class:"md:tw-col-span-12 tw-col-span-12"},sX={class:"tw-max-w-full tw-overflow-auto"},lX={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},oX=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),iX={class:"tw-px-3 tw-py-2"},nX={class:"tw-px-3 tw-py-2"},wX={class:"tw-px-3 tw-py-2"},dX={class:"tw-px-3 tw-py-2"},cX={class:"tw-max-w-[250px] tw-text-sm"};function uX(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",eX,[rX,(0,s._)("div",aX,[(0,s._)("div",sX,[(0,s._)("table",lX,[oX,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",iX,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",nX,(0,at.zw)(t.quantity),1),(0,s._)("td",wX,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",dX,[(0,s._)("p",cX,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var pX={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const mX=(0,m.Z)(pX,[["render",uX]]);var gX=mX,hX={components:{OrderItems:IG,OrderAffectation:tX,ProductOffersTable:gX},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:Wd,deliveryStatus:Ed,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=OQ(this,this.itemCopy);if(!t)return!1;jQ(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const fX=(0,m.Z)(hX,[["render",TQ]]);var bX=fX,vX={components:{UpdatePopup:bX},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const xX=(0,m.Z)(vX,[["render",jJ]]);var yX=xX;const _X={key:0},kX={key:0,class:"tw-relative tw-inline-block tw-text-left"},CX={key:0},DX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),SX=[DX],zX={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},UX={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},PX=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),LX=[PX],qX={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},AX={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},WX={class:"tw-py-1",role:"none"},$X=["onClick"],EX={key:1},TX={class:"tw-p-2 tw-scale-75"};function OX(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",_X,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",kX,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",CX,SX)):(0,s.kq)("",!0),(0,s._)("p",zX,(0,at.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",UX,LX)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",qX,(0,at.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Et.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",AX,[(0,s._)("div",WX,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],8,$X)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",EX,[(0,s._)("div",TX,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var FX={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};jQ(this,e,!1)}}};const IX=(0,m.Z)(FX,[["render",OX]]);var VX=IX,jX={components:{TableActions:yX,TableRowAffectation:VX},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e()}},computed:{confirmation(){return Wd.find((t=>t.value==this.item.followup_confirmation))},deliveryState(){return Ed.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const RX=(0,m.Z)(jX,[["render",TJ]]);var HX=RX,MX={components:{TablePaginationNoNums:wJ,TableRow:HX},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const NX=(0,m.Z)(MX,[["render",ZB]]);var YX=NX;const ZX={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},KX={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},BX=["disabled"],JX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),QX=[JX],GX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),XX=[GX],t0=["disabled"],e0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),r0=[e0],a0={class:"tw-relative"},s0=["value"],l0=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),o0=[l0],i0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),n0={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},w0=["value"],d0={class:"tw-overflow-hidden tw-col-span-1"},c0={class:"tw-overflow-hidden tw-col-span-1"};function u0(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZX,[(0,s._)("div",KX,[(0,s._)("button",{class:(0,at.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,BX),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,at.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},QX,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,at.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},XX,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},r0,8,t0),(0,s.kq)("",!0),(0,s._)("div",a0,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},o0,40,s0),i0])]),(0,s._)("div",n0,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,w0),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",d0,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",c0,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const p0={class:"tw-mb-4"},m0={class:"tw-grid tw-grid-cols-12 tw-gap-4"},g0={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},h0={class:"tw-flex tw-items-center tw-justify-between"},f0={class:"tw-text-xl tw-font-bold tw-text-gray-900"},b0={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function v0(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",p0,[(0,s._)("div",m0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",g0,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",h0,[(0,s._)("span",f0,(0,at.zw)(t.total),1),(0,s._)("span",b0,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var x0={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return qd.find((e=>e.value==t))}}};const y0=(0,m.Z)(x0,[["render",v0]]);var _0=y0;const k0={class:"tw-mb-4"},C0={class:"tw-flex tw-items-center tw-gap-2"},D0=["disabled"],S0=(0,s._)("span",null,"Select Filtered",-1),z0={class:"tw-flex tw-justify-end"},U0=["disabled"];function P0(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",k0,[(0,s._)("div",C0,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),S0],8,D0)]),(0,s._)("div",z0,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,at.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,U0)])])}var L0={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,xp["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const q0=(0,m.Z)(L0,[["render",P0]]);var A0=q0;const W0={class:"tw-mb-4"},$0={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},E0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},T0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),O0=["value"],F0=(0,s._)("option",{value:"all",selected:""},"All",-1),I0=["value"],V0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},j0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),R0=["value"],H0=(0,s._)("option",{value:"all",selected:""},"All",-1),M0=["value"],N0={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Y0=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Z0=(0,s._)("span",null,"Clear",-1),K0=[Y0,Z0],B0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),J0=(0,s._)("span",null,"Filter",-1),Q0=[B0,J0];function G0(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",W0,[(0,s._)("div",$0,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",E0,[T0,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[F0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,I0)))),128))],40,O0)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",V0,[j0,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[H0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,M0)))),128))],40,R0)]),(0,s.kq)("",!0),(0,s._)("div",N0,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},K0),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Q0)])])])}const X0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},t1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),e1=["value"],r1=(0,s._)("option",{value:"all"},"All",-1),a1=(0,s._)("option",{value:""},"No Delivery",-1),s1=["value"];function l1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",X0,[t1,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[r1,a1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,s1)))),128))],40,e1)])}var o1={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const i1=(0,m.Z)(o1,[["render",l1]]);var n1=i1;const w1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},d1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),c1=["value"],u1=(0,s._)("option",{value:"all"},"All",-1),p1=(0,s._)("option",{value:""},"No Agent",-1),m1=["value"];function g1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",w1,[d1,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[u1,p1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,m1)))),128))],40,c1)])}var h1={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const f1=(0,m.Z)(h1,[["render",g1]]);var b1=f1;const v1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},x1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),y1=["value"],_1=(0,s._)("option",{value:"all"},"All",-1),k1=["value"];function C1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",v1,[x1,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,k1)))),128))],40,y1)])}var D1={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const S1=(0,m.Z)(D1,[["render",C1]]);var z1=S1,U1={components:{AffectationFilter:n1,AgentFilter:b1,ProductFilter:z1},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:Wd,deliveries:Ed,dateFilter:["",""]}}};const P1=(0,m.Z)(U1,[["render",G0]]);var L1=P1,q1={components:{IndexStatistics:_0,FiltersWrapper:L1,IndexExport:A0},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const A1=(0,m.Z)(q1,[["render",u0]]);var W1=A1;const $1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},E1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),T1={class:"tw-bg-white tw-p-4"},O1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},F1={class:"tw-col-span-2 md:tw-col-span-1"},I1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),V1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},j1={class:"tw-col-span-2 md:tw-col-span-1"},R1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),H1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M1={class:"tw-col-span-2 md:tw-col-span-1"},N1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Y1={class:"tw-relative"},Z1=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),K1=["value"],B1=["value"],J1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G1={class:"tw-col-span-2 md:tw-col-span-1"},X1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),t2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e2={class:"tw-col-span-2"},r2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),a2={class:"tw-relative"},s2=["value"],l2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),o2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},n2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),w2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},d2={key:1,class:"md:tw-col-span-1 tw-col-span-2"},c2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),u2={class:"tw-col-span-2"},p2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),m2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g2={class:"md:tw-col-span-1 tw-col-span-2"},h2={class:"md:tw-col-span-1 tw-col-span-2"},f2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),b2={class:"tw-relative"},v2=["value"],x2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),y2={class:"tw-col-span-2"},_2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},k2={key:0,class:"tw-text-red-400 tw-text-xs"},C2={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},D2=["disabled"],S2=(0,s._)("span",null,"Create",-1);function z2(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$1,[E1,(0,s._)("div",T1,[(0,s._)("div",O1,[(0,s._)("div",F1,[I1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",V1,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",j1,[R1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",H1,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",M1,[N1,(0,s._)("div",Y1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Z1,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,K1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,B1)))),128))],34),[[a.bM,o.itemCopy.city]]),J1]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",Q1,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",G1,[X1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",t2,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",e2,[r2,(0,s._)("div",a2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,at.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,s2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),l2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",o2,(0,at.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",i2,[n2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,at.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",w2,(0,at.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",d2,[c2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",u2,[p2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",m2,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",g2,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",h2,[f2,(0,s._)("div",b2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,v2)))),128))],512),[[a.bM,o.itemCopy.upsell]]),x2])]),(0,s._)("div",y2,[(0,s._)("label",_2,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",k2," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",C2,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),S2],8,D2)])])])),_:1},8,["visible","onCancel"])])}const U2=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},P2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},L2=(t,e)=>{t.isLoading=!0,t.errors={},di.create(e).then((e=>U2(t,e.data))).catch((e=>P2(t,e.response.data))).finally((()=>t.isLoading=!1))};var q2={components:{OrderItems:IG,OrderAffectation:tX},props:{visible:{required:!0}},data(){return{followup_confirmations:Wd,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=OQ(this,this.itemCopy);if(!t)return!1;L2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const A2=(0,m.Z)(q2,[["render",z2]]);var W2=A2,$2={components:{IndexTable:YX,IndexFilters:W1,CreatePopup:W2,BulkActions:uK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,di.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const E2=(0,m.Z)($2,[["render",wB]]);var T2=E2,O2={name:"sales",path:"/sales",component:va,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:RO,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:gK,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:AK,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:BK,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:T2,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const F2={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},I2={class:"tw-px-3"},V2={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},j2={class:"tw-flex tw-items-center tw-gap-x-3"},R2=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),H2={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},M2=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),N2={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Y2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Z2=(0,s._)("span",null,"Create",-1),K2=[Y2,Z2],B2={key:0};function J2(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",F2,[(0,s._)("section",I2,[(0,s._)("div",V2,[(0,s._)("div",null,[(0,s._)("div",j2,[R2,(0,s._)("span",H2,(0,at.zw)(l.totalOrders)+" order",1)]),M2]),(0,s._)("div",N2,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},K2)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",B2,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Q2={class:"tw-flex tw-flex-col"},G2={class:"tw-overflow-x-auto"},X2={class:"tw-inline-block tw-min-w-full tw-align-middle"},t5={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},e5={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},r5={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},a5=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),s5={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},l5=(0,s._)("span",null,"Created",-1),o5=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),i5=[l5,o5],n5=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),w5=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),d5=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),c5=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),u5=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),p5=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),m5={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},g5={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},h5=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),f5=[h5],b5={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},v5={colspan:"8"},x5={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},y5=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),_5=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),k5=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),C5=[_5,k5],D5={class:"tw-mt-6"};function S5(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Q2,[(0,s._)("div",G2,[(0,s._)("div",X2,[(0,s._)("div",t5,[(0,s._)("table",e5,[(0,s._)("thead",r5,[(0,s._)("tr",null,[a5,(0,s._)("th",s5,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},i5)]),n5,w5,d5,c5,u5,p5])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",m5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",g5,f5)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",b5,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",v5,[(0,s._)("div",x5,[y5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},C5)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",D5,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const z5={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},U5={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},P5={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},L5={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},q5=["disabled"],A5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),W5=(0,s._)("span",null," previous ",-1),$5=[A5,W5],E5=["disabled"],T5=(0,s._)("span",null," Next ",-1),O5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),F5=[T5,O5];function I5(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",z5,[(0,s._)("div",U5,[(0,s.Uk)(" Page "),(0,s._)("span",P5,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",L5,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},$5,10,q5),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},F5,10,E5)])])])}var V5={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const j5=(0,m.Z)(V5,[["render",I5]]);var R5=j5;const H5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},M5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},N5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Y5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Z5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},K5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},B5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},J5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Q5={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},G5={class:"tw-space-y-1"},X5={class:"tw-font-bold tw-text-green-500"},t4={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},e4={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},r4={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a4={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},s4=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),l4={key:1},o4={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function i4(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",H5,[(0,s._)("div",null,[(0,s._)("h2",M5,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",N5,[(0,s._)("div",null,[(0,s._)("h2",Y5,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Z5,[(0,s._)("div",null,[(0,s._)("h2",K5,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",B5,[(0,s._)("div",null,[(0,s._)("h2",J5,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",Q5,[(0,s._)("div",null,[(0,s._)("ul",G5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",X5,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",t4,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",e4,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",r4,[(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3)]),(0,s._)("td",a4,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[s4,(0,s._)("span",null,(0,at.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",l4,[(0,s._)("span",{class:(0,at.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",o4,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const n4={class:"tw-h-full"},w4={class:"tw-flex tw-items-center tw-gap-2"},d4=["href"],c4={key:0};function u4(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",n4,[(0,s._)("div",w4,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,d4),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",c4,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const p4={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},m4=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),g4={class:"tw-bg-white tw-p-4"},h4={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},f4={class:"tw-col-span-2 md:tw-col-span-1"},b4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),v4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},x4={class:"tw-col-span-2 md:tw-col-span-1"},y4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),_4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k4={class:"tw-col-span-2 md:tw-col-span-1"},C4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),D4={class:"tw-relative"},S4=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),z4=["value"],U4=["value"],P4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),L4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q4={class:"tw-col-span-2 md:tw-col-span-1"},A4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),W4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$4={class:"tw-col-span-2"},E4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),T4={class:"tw-relative"},O4=["value"],F4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),I4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V4={key:0,class:"md:tw-col-span-1 tw-col-span-2"},j4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),R4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H4={key:1,class:"md:tw-col-span-1 tw-col-span-2"},M4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),N4={class:"tw-col-span-2"},Y4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Z4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K4={class:"md:tw-col-span-1 tw-col-span-2"},B4={class:"md:tw-col-span-1 tw-col-span-2"},J4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Q4={class:"tw-relative"},G4=["value"],X4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),t3={class:"tw-col-span-2"},e3={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},r3={key:0,class:"tw-text-red-400 tw-text-xs"},a3={key:2,class:"tw-col-span-2"},s3={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},l3={class:"tw-space-y-2 tw-px-5"},o3=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),i3=["href"],n3={key:1,class:"tw-font-[cairo] tw-text-gray-500"},w3={class:"tw-space-y-2 tw-px-5"},d3=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),c3=["href"],u3={key:1,class:"tw-font-[cairo] tw-text-gray-500"},p3={key:3,class:"tw-col-span-2"},m3={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},g3=["disabled"],h3=(0,s._)("span",null,"Update",-1);function f3(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",p4,[m4,(0,s._)("div",g4,[(0,s._)("div",h4,[(0,s._)("div",f4,[b4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",v4,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",x4,[y4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",_4,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",k4,[C4,(0,s._)("div",D4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[S4,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,z4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,U4)))),128))],34),[[a.bM,o.itemCopy.city]]),P4]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",L4,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",q4,[A4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",W4,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",$4,[E4,(0,s._)("div",T4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,O4)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),F4]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",I4,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",V4,[j4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",R4,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",H4,[M4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",N4,[Y4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",Z4,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",K4,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",B4,[J4,(0,s._)("div",Q4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,G4)))),128))],512),[[a.bM,o.itemCopy.upsell]]),X4])]),(0,s._)("div",t3,[(0,s._)("label",e3,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",r3," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",a3,[(0,s._)("div",s3,[(0,s._)("div",l3,[o3,o.product.video?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:o.product.video},(0,at.zw)(i.truncateText(o.product.video,30)),9,i3)):((0,s.wg)(),(0,s.iD)("span",n3,"No video link in this product"))]),(0,s._)("div",w3,[d3,o.product.store?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:o.product.store},(0,at.zw)(i.truncateText(o.product.store,30)),9,c3)):((0,s.wg)(),(0,s.iD)("span",u3,"No store link in this product"))])])])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",p3,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",m3,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),h3],8,g3)])])])),_:1},8,["visible","onCancel"])])}const b3=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation||"confirmer"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!v3(t,e.items):(t.errors.affectation="Warning: Order is confirmed but not affected.",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),v3=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},x3=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},y3=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},_3=(t,e)=>{t.isLoading=!0,t.errors={},O.update(e.id,e).then((e=>x3(t,e.data))).catch((e=>y3(t,e.response.data))).finally((()=>t.isLoading=!1))},k3={key:0},C3=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),D3={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},S3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),z3=(0,s._)("span",null,"Add Item",-1),U3=[S3,z3],P3={key:1,class:"md:tw-col-span-12 tw-col-span-12"},L3={class:"tw-max-w-full tw-overflow-auto"},q3={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},A3={class:"tw-bg-gray-50"},W3={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},$3={key:0},E3={colspan:"6"},T3={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},O3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),F3=(0,s._)("span",null,"Add Item",-1),I3=[O3,F3],V3=(0,s._)("td",{colspan:"4"},null,-1),j3=(0,s._)("td",null,null,-1),R3={colspan:"1",class:"tw-p-2"},H3={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},M3={key:1},N3={colspan:"6"},Y3={class:"tw-scale-75 tw-p-5"};function Z3(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",k3,[C3,(0,s._)("div",D3,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},U3)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",P3,[(0,s._)("div",L3,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",q3,[(0,s._)("tr",A3,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",W3,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",$3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",E3,[(0,s._)("div",T3,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},I3)])])]),(0,s._)("tr",null,[V3,j3,(0,s._)("td",R3,[(0,s._)("div",H3,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",M3,[(0,s._)("tr",null,[(0,s._)("td",N3,[(0,s._)("div",Y3,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const K3=(0,s._)("td",null,null,-1),B3={class:"tw-p-2"},J3={class:"tw-relative"},Q3=["value"],G3=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),X3=["value"],t8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),e8={class:"tw-p-2"},r8={key:0,class:"tw-relative"},a8=["value"],s8=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),l8=["value"],o8={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},i8=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),n8=[i8],w8={class:"tw-p-2"},d8=["value"],c8={class:"tw-p-2"},u8=["value"],p8={class:"tw-flex tw-justify-center"};function m8(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[K3,(0,s._)("td",null,[(0,s._)("div",B3,[(0,s._)("div",J3,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[G3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,X3)))),128))],40,Q3),t8])])]),(0,s._)("td",null,[(0,s._)("div",e8,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",r8,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[s8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,l8)))),128))],40,a8)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",o8,n8)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",w8,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,d8)])]),(0,s._)("td",null,[(0,s._)("div",c8,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,u8)])]),(0,s._)("td",null,[(0,s._)("div",p8,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var g8={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const h8=(0,m.Z)(g8,[["render",m8]]);var f8=h8,b8={components:{ItemRow:f8},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return lo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const v8=(0,m.Z)(b8,[["render",Z3]]);var x8=v8;const y8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),_8={key:0,class:"tw-relative"},k8=["value","disabled"],C8=(0,s._)("option",{value:""},"Choose a Delivery",-1),D8=["value"],S8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),z8={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U8={key:2,class:"tw-relative"},P8={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},L8=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),q8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function A8(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[y8,l.fetched?((0,s.wg)(),(0,s.iD)("div",_8,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,at.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[C8,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,D8)))),128))],42,k8),S8])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",z8,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",U8,[(0,s._)("div",P8,[(0,s.Wm)(i)]),L8,q8]))])}var W8={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const $8=(0,m.Z)(W8,[["render",A8]]);var E8=$8;const T8={key:0},O8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),F8={class:"md:tw-col-span-12 tw-col-span-12"},I8={class:"tw-max-w-full tw-overflow-auto"},V8={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},j8=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),R8={class:"tw-px-3 tw-py-2"},H8={class:"tw-px-3 tw-py-2"},M8={class:"tw-px-3 tw-py-2"},N8={class:"tw-px-3 tw-py-2"},Y8={class:"tw-max-w-[250px] tw-text-sm"};function Z8(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",T8,[O8,(0,s._)("div",F8,[(0,s._)("div",I8,[(0,s._)("table",V8,[j8,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",R8,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",H8,(0,at.zw)(t.quantity),1),(0,s._)("td",M8,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",N8,[(0,s._)("p",Y8,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var K8={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const B8=(0,m.Z)(K8,[["render",Z8]]);var J8=B8,Q8={components:{OrderItems:x8,OrderAffectation:E8,ProductOffersTable:J8},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:qd,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=b3(this,this.itemCopy);if(!t)return!1;_3(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.product=this.products.find((t=>t.id==this.itemCopy.items[0].product_id)),this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const G8=(0,m.Z)(Q8,[["render",f3]]);var X8=G8,t6={components:{UpdatePopup:X8},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const e6=(0,m.Z)(t6,[["render",u4]]);var r6=e6,a6={components:{TableActions:r6},props:{item:{required:!0}},data(){return{moment:_e()}},computed:{confirmation(){return qd.find((t=>t.value==this.item.confirmation))},deliveryState(){return Ed.find((t=>t.value==this.item.delivery))}},methods:{}};const s6=(0,m.Z)(a6,[["render",i4]]);var l6=s6,o6={components:{TablePaginationNoNums:R5,TableRow:l6},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const i6=(0,m.Z)(o6,[["render",S5]]);var n6=i6;const w6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},d6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),c6={class:"tw-bg-white tw-p-4"},u6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},p6={class:"tw-col-span-2 md:tw-col-span-1"},m6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),g6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h6={class:"tw-col-span-2 md:tw-col-span-1"},f6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),b6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v6={class:"tw-col-span-2 md:tw-col-span-1"},x6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),y6={class:"tw-relative"},_6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),k6=["value"],C6=["value"],D6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),S6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},z6={class:"tw-col-span-2 md:tw-col-span-1"},U6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),P6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},L6={class:"tw-col-span-2"},q6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),A6={class:"tw-relative"},W6=["value"],$6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),E6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},O6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),F6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},V6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),j6={class:"tw-col-span-2"},R6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),H6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M6={class:"md:tw-col-span-1 tw-col-span-2"},N6={class:"tw-col-span-2"},Y6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Z6={key:0,class:"tw-text-red-400 tw-text-xs"},K6={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},B6=["disabled"],J6=(0,s._)("span",null,"Create",-1);function Q6(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",w6,[d6,(0,s._)("div",c6,[(0,s._)("div",u6,[(0,s._)("div",p6,[m6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",g6,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",h6,[f6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",b6,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",v6,[x6,(0,s._)("div",y6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[_6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,k6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,C6)))),128))],34),[[a.bM,o.itemCopy.city]]),D6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",S6,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",z6,[U6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",P6,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",L6,[q6,(0,s._)("div",A6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,W6)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),$6]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",E6,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",T6,[O6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",F6,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",I6,[V6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",j6,[R6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",H6,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",M6,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",N6,[(0,s._)("label",Y6,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Z6," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",K6,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),J6],8,B6)])])])),_:1},8,["visible","onCancel"])])}const G6=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},X6=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},t7=(t,e)=>{t.isLoading=!0,t.errors={},O.create(e).then((e=>G6(t,e.data))).catch((e=>X6(t,e.response.data))).finally((()=>t.isLoading=!1))};var e7={components:{OrderItems:x8,OrderAffectation:E8},props:{visible:{required:!0}},data(){return{confirmations:Ad,upsells:$d,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=b3(this,this.itemCopy);if(!t)return!1;t7(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const r7=(0,m.Z)(e7,[["render",Q6]]);var a7=r7;const s7={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},l7={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},o7=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),i7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),n7=[i7],w7=["disabled"],d7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),c7=[d7],u7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),p7=[u7],m7=["disabled"],g7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),h7=[g7],f7={class:"tw-relative"},b7=["value"],v7=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),x7=[v7],y7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_7={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},k7=["value"],C7={class:"tw-overflow-hidden tw-col-span-1"},D7={class:"tw-overflow-hidden tw-col-span-1"};function S7(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",s7,[(0,s._)("div",l7,[o7,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},n7),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[1]||(e[1]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,at.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},c7,10,w7),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[2]||(e[2]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},p7)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},h7,8,m7),(0,s._)("div",f7,[(0,s._)("select",{onChange:e[4]||(e[4]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},x7,40,b7),y7])]),(0,s._)("div",_7,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[5]||(e[5]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[6]||(e[6]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,k7),(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",C7,[(0,s.Wm)(n,{onFilter:e[8]||(e[8]=e=>t.$emit("filter")),onClear:e[9]||(e[9]=e=>t.$emit("clear")),filters:r.filters,onUpdate:e[10]||(e[10]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",D7,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const z7={class:"tw-mb-4"},U7={class:"tw-grid tw-grid-cols-12 tw-gap-4"},P7={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},L7={class:"tw-flex tw-items-center tw-justify-between"},q7={class:"tw-text-xl tw-font-bold tw-text-gray-900"},A7={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function W7(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",z7,[(0,s._)("div",U7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",P7,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",L7,[(0,s._)("span",q7,(0,at.zw)(t.total),1),(0,s._)("span",A7,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var $7={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return qd.find((e=>e.value==t))}}};const E7=(0,m.Z)($7,[["render",W7]]);var T7=E7;const O7={class:"tw-mb-4"},F7={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},I7={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},V7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),j7=["value"],R7={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},H7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),M7=["value"],N7={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Y7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),Z7=["value"],K7={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},B7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),J7=["value"],Q7=(0,s._)("option",{value:"all",selected:""},"All",-1),G7=["value"],X7=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),t9=(0,s._)("span",null,"Clear",-1),e9=[X7,t9],r9=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1);function a9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",O7,[(0,s._)("div",F7,[(0,s._)("div",I7,[V7,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,j7)]),(0,s._)("div",R7,[H7,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,M7)]),(0,s._)("div",N7,[Y7,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Z7)]),(0,s._)("div",K7,[B7,(0,s._)("select",{value:r.filters.confirmation,onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Q7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,G7)))),128))],40,J7)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end gap-2"},[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},e9),r9])])])}var s9={props:{filters:{required:!0,default:{}}},data(){return{confirmations:qd,deliveryStatus:Ed,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const l9=(0,m.Z)(s9,[["render",a9]]);var o9=l9,i9={components:{IndexStatistics:T7,FiltersWrapper:o9},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}},methods:{showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")}}};const n9=(0,m.Z)(i9,[["render",S7]]);var w9=n9,d9={components:{IndexTable:n6,IndexFilters:w9,CreatePopup:a7},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null,reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,O.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null,reported_first:!1}},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const c9=(0,m.Z)(d9,[["render",J2]]);var u9=c9;const p9={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},m9={class:"tw-px-3 tw-h-fit"},g9={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},h9=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),f9={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},b9=["disabled"],v9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),x9=(0,s._)("span",null,"Get Order",-1),y9=[v9,x9],_9={key:0,class:"tw-p-5"},k9={key:1,class:"tw-mt-5 tw-space-y-5"},C9={class:"tw-flex tw-items-center tw-justify-end"},D9={key:2},S9=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),z9=[S9];function U9(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",p9,[(0,s._)("section",m9,[(0,s._)("div",g9,[h9,(0,s._)("div",f9,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},y9,8,b9)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",_9,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",k9,[(0,s.Wm)(n,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",C9,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",D9,z9))])])}const P9=t=>{t.fetching=!0,O.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},L9=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),q9=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,O.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},A9={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},W9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),$9={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},E9={class:"tw-text-xl tw-font-bold tw-text-gray-600"},T9=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),O9={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},F9={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},I9={class:"tw-space-y-2 tw-px-5"},V9=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),j9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},R9={class:"tw-space-y-2 tw-px-5"},H9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),M9={class:"tw-flex tw-items-center tw-gap-2"},N9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},Y9={class:"tw-space-y-2 tw-px-5"},Z9=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),K9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},B9={class:"tw-space-y-2 tw-px-5"},J9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),Q9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},G9={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},X9={class:""},ttt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),ett={class:"tw-p-3 tw-pl-10 tw-space-y-2"},rtt={class:"tw-font-bold tw-text-green-500"},att={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},stt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},ltt={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},ott={key:0};function itt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",A9,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[W9,(0,s.Uk)(" Edit ")]),(0,s._)("div",$9,[(0,s._)("span",E9,[T9,(0,s.Uk)(" ID: "+(0,at.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",O9,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",F9,[(0,s._)("div",I9,[V9,(0,s._)("span",j9,(0,at.zw)(r.order.fullname),1)]),(0,s._)("div",R9,[H9,(0,s._)("div",M9,[(0,s._)("span",N9,(0,at.zw)(r.order.phone),1),(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",Y9,[Z9,(0,s._)("span",K9,(0,at.zw)(r.order.city),1)]),(0,s._)("div",B9,[J9,(0,s._)("span",Q9,(0,at.zw)(r.order.adresse),1)])]),(0,s._)("div",G9,[(0,s._)("div",X9,[ttt,(0,s._)("ul",ett,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",rtt,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",att,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",stt,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",ltt,[(0,s._)("span",null,(0,at.zw)(l.currency),1),(0,s._)("span",null,(0,at.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",ott,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var ntt={components:{UpdatePopup:X8},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return lo(this.order)},confirmation(){return qd.find((t=>t.value==this.order.confirmation))}}};const wtt=(0,m.Z)(ntt,[["render",itt]]);var dtt=wtt,ctt={components:{OrderCard:dtt},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){P9(this)},getOrder(){q9(this)},save(){L9(this)}},mounted(){this.toConfirm()}};const utt=(0,m.Z)(ctt,[["render",U9]]);var ptt=utt;const mtt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},gtt={class:"tw-px-3"},htt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ftt={class:"tw-flex tw-items-center tw-gap-x-3"},btt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),vtt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},xtt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function ytt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",mtt,[(0,s._)("section",gtt,[(0,s._)("div",htt,[(0,s._)("div",null,[(0,s._)("div",ftt,[btt,(0,s._)("span",vtt,(0,at.zw)(l.totalOrders)+" order",1)]),xtt]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,onClear:o.handleClearFilters,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","onClear","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var _tt={components:{IndexTable:n6,IndexFilters:w9},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null}}},methods:{async paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,O.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null},this.handlePageChange(1)},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const ktt=(0,m.Z)(_tt,[["render",ytt]]);var Ctt=ktt,Dtt={name:"orders",path:"/agent/orders",component:va,meta:{module:"order"},children:[{name:"order/list",path:"",component:u9,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:ptt,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Ctt,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Stt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),ztt={key:0},Utt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ptt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},Ltt={key:1},qtt={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},Att=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),Wtt=["src"];function $tt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Stt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ztt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Utt,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Ptt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",Ltt,[(0,s._)("div",qtt,[Att,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,Wtt)])]))])):(0,s.kq)("",!0)])}var Ett=r(9875),Ttt=r(1888),Ott=r(1334);const Ftt={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},Itt={class:"tw-w-full tw-whitespace-normal"},Vtt=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),jtt={class:"tw-flex tw-items-center"},Rtt={key:0},Htt={key:1},Mtt={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},Ntt=(0,s._)("span",{class:"tw-text-sm"},"x",-1),Ytt={key:0},Ztt={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},Ktt=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),Btt={class:"tw-flex tw-items-center tw-text-gray-500"},Jtt={class:"tw-flex tw-items-center tw-text-gray-500"};function Qtt(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(ps._,{class:(0,at.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,at.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,at.zw)(r.order.delivery),3),(0,s.Wm)(Ett._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",Ftt,(0,at.zw)(r.order.city),1),(0,s._)("p",Itt,(0,at.zw)(r.order.adresse),1)]),Vtt])),_:1}),(0,s.Wm)(Ttt.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(ka.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",jtt,[(0,s._)("span",null,[(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Rtt,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Htt,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",Mtt,[Ntt,(0,s.Uk)(" "+(0,at.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(ka.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",Ytt,[r.order.note?((0,s.wg)(),(0,s.iD)("div",Ztt,[Ktt,(0,s._)("p",null,(0,at.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(Me.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Btt,[(0,s.Wm)(ot.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",Jtt,[(0,s.Wm)(ot.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(te.J),(0,s.Wm)(Ott.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(Be.C),r.order.phone?((0,s.wg)(),(0,s.j4)(st.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(st.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const Gtt={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},Xtt={class:"tw-px-5 tw-pt-5"},tet=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),eet={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},ret=["disabled","onClick"],aet={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},set=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),oet=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function iet(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Gtt,[(0,s._)("div",Xtt,[tet,(0,s._)("div",eet,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,at.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,at.zw)(e.name),11,ret)))),128))])]),(0,s._)("div",aet,[(0,s.Wm)(st.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[set])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[oet])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const net={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},wet=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),det=(0,s._)("br",null,null,-1),cet=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),uet={class:"tw-flex tw-justify-end tw-mt-2"};function pet(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",net,[wet,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),det,cet,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",uet,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var met={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ha.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const get=(0,m.Z)(met,[["render",pet]]);var het=get,fet={props:["visible","order"],components:{OrderReporting:het},data:()=>({status:Ed,disabled:Td,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ha.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const bet=(0,m.Z)(fet,[["render",iet]]);var vet=bet,xet={components:{OrderCardDelivery:vet},props:["order"],data:()=>({deliveryStatus:Ed,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return lo(t)}}};const yet=(0,m.Z)(xet,[["render",Qtt]]);var _et=yet,ket={components:{OrderCard:_et},data(){return{localUrl:n,deliveryStatus:Ed,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ha.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Cet=(0,m.Z)(ket,[["render",$tt]]);var Det=Cet;const zet=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Uet={key:0},Pet={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Let={class:"mb-5 tw-flex"},qet={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Aet={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Wet={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},$et=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),Eet={class:"tw-relative"},Tet=["value"],Oet={key:0,class:""},Fet={key:1},Iet=(0,s._)("p",null,"No orders for now",-1),Vet=[Iet];function jet(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[zet,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Uet,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Pet,[(0,s._)("div",Let,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",qet,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Aet,[(0,s._)("div",Wet,[$et,(0,s._)("div",Eet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,at.zw)(t.name),9,Tet)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Oet,[(0,s.Wm)(w,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",Fet,Vet))])):(0,s.kq)("",!0)])}const Ret={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Het={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Met={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Net=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Yet={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Zet={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Ket={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Bet=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Jet=["value"],Qet={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Get={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Xet={class:"tw-text-white"};function trt(t,e,r,l,o,i){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",Ret,[(0,s._)("table",Het,[(0,s._)("thead",Met,[(0,s._)("tr",null,[Net,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Yet,(0,at.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",Zet,[(0,s._)("div",Ket,[Bet,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Jet)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Qet,[(0,s._)("div",Get,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,at.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Xet,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const ert=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),rrt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},art={class:"tw-px-6 tw-py-4 tw-relative"},srt={key:0},lrt={class:"tw-px-6 tw-py-4"},ort={class:"tw-px-6 tw-py-4"},irt={class:"tw-px-6 tw-py-4"},nrt={class:"tw-px-6 tw-py-4"},wrt={class:"tw-pb-2"},drt={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},crt={key:0},urt={key:1},prt={class:"tw-px-6 tw-py-4 tw-relative"},mrt={class:"tw-flex tw-items-center tw-justify-center"},grt={class:"tw-flex tw-gap-1"},hrt={key:0},frt={class:"tw-px-6 tw-py-4"},brt={class:"tw-px-6 tw-py-4"},vrt={class:"tw-px-6 tw-py-4"},xrt={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},yrt={class:"tw-px-6 tw-py-4"};function _rt(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,at.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[ert,(0,s._)("th",rrt,(0,at.zw)(r.order.id),1),(0,s._)("td",art,[(0,s.Uk)((0,at.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",srt," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",lrt,(0,at.zw)(r.order.fullname),1),(0,s._)("td",ort,(0,at.zw)(r.order.adresse),1),(0,s._)("td",irt,(0,at.zw)(r.order.phone),1),(0,s._)("td",nrt,[(0,s._)("div",wrt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",drt,(0,at.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",crt,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",urt,"| "+(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",prt,[(0,s._)("div",mrt,[((0,s.wg)(),(0,s.j4)(i,{class:(0,at.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",grt,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",hrt,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",frt,(0,at.zw)(o.getPrice(r.order)),1),(0,s._)("td",brt,(0,at.zw)(r.order.city),1),(0,s._)("td",vrt,[(0,s._)("div",xrt,(0,at.zw)(r.order.note),1)]),(0,s._)("td",yrt,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const krt={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Crt={key:1},Drt={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Srt=["onClick"];function zrt(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",krt,(0,at.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Crt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,at.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Drt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,at.zw)(t.name),3)],8,Srt)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[re.L,o.close]])}var Urt={props:["delivery","id","order"],components:{OrderReporting:het},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Ed,disabled:Td,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ha.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Prt=(0,m.Z)(Urt,[["render",zrt]]);var Lrt=Prt;const qrt={key:0};function Art(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",qrt,[(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var Wrt={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const $rt=(0,m.Z)(Wrt,[["render",Art]]);var Ert=$rt,Trt={props:["order","showNote"],components:{OrderDelivery:Lrt,OrderActions:Ert},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return lo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Ort=(0,m.Z)(Trt,[["render",_rt]]);var Frt=Ort,Irt={props:["orders"],components:{OrderRow:Frt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const Vrt=(0,m.Z)(Irt,[["render",trt]]);var jrt=Vrt,Rrt={components:{OrdersTable:jrt},data(){return{localUrl:n,deliveryStatus:Ed,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ha.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Hrt=(0,m.Z)(Rrt,[["render",jet]]);var Mrt=Hrt,Nrt={name:"deliveries",path:"/deliveries",component:va,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Det,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:Mrt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const Yrt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Zrt={key:0},Krt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Brt={class:"mb-5 tw-flex"},Jrt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Qrt={key:0,class:""};function Grt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[Yrt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zrt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Krt,[(0,s._)("div",Brt,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Jrt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",Qrt,[(0,s.Wm)(w,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class Xrt{async inventoryStates(){return await E.getCookie(),W.get("api/inventorystates")}async inventoryMovements(){return await E.getCookie(),W.get("api/inventorymovements")}async getMovement(t){return await E.getCookie(),W.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await E.getCookie(),W.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await E.getCookie(),W.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await E.getCookie(),W.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await E.getCookie(),W["delete"]("api/inventorymovements/delete/"+t)}}var tat=new Xrt;const eat={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},rat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},aat={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},sat=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),lat={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},oat=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),iat={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},nat={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},wat={class:"tw-px-6 tw-py-4"},dat={class:"tw-px-6 tw-py-4"},cat={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},uat={class:"tw-px-6 tw-py-4"},pat={class:"tw-px-6 tw-py-4"},mat=(0,s._)("br",null,null,-1),gat={class:"tw-px-6 tw-py-4"},hat={class:"mt-5 tw-flex tw-justify-between"},fat={class:"d-flex align-center"},bat=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),vat={class:"d-flex align-center"},xat={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},yat={class:"tw-text-white"};function _at(t,e,r,a,l,o){const i=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",eat,[(0,s._)("table",rat,[(0,s._)("thead",aat,[(0,s._)("tr",null,[sat,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",lat,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[oat,(0,s._)("th",iat,(0,at.zw)(t.id),1),(0,s._)("td",nat,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",wat,(0,at.zw)(t.buying_price)+" DH ",1),(0,s._)("td",dat,(0,at.zw)(t.selling_price)+" DH ",1),(0,s._)("td",cat,(0,at.zw)(o.availableQuantity(t)),1),(0,s._)("td",uat,(0,at.zw)(t.total_quantity),1),(0,s._)("td",pat,[(0,s.Uk)((0,at.zw)(t.updated_at?.split("T")[0])+" ",1),mat,(0,s.Uk)(" "+(0,at.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",gat,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",hat,[(0,s._)("div",fat,[bat,(0,s.Wm)(gf.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",vat,[(0,s._)("div",xat,(0,at.zw)(o.prevRange+1)+" - "+(0,at.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,at.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",yat,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function kat(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Cat={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Dat={class:"tw-p-5"},Sat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},zat=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Uat={class:"tw-w-4 tw-p-4"},Pat={class:"tw-w-4 tw-p-4"},Lat={class:"tw-w-4 tw-p-4"},qat={class:"tw-w-4 tw-p-4"},Aat={class:"tw-flex tw-items-center tw-gap-1"},Wat={class:"tw-text-green-500"},$at={key:0},Eat={class:"tw-text-red-400"},Tat=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function Oat(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Cat,[(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Dat,[(0,s._)("table",Sat,[zat,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Uat,(0,at.zw)(t.id),1),(0,s._)("td",Pat,(0,at.zw)(t.size),1),(0,s._)("td",Lat,(0,at.zw)(t.color),1),(0,s._)("td",qat,[(0,s._)("div",Aat,[(0,s._)("span",Wat,(0,at.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,at.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",$at,[(0,s.Uk)(" / "),(0,s._)("span",Eat,(0,at.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),Tat])])}var Fat={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const Iat=(0,m.Z)(Fat,[["render",Oat]]);var Vat=Iat,jat={props:["rowIndex","state"],components:{InventoryStateDetails:Vat},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const Rat=(0,m.Z)(jat,[["render",kat]]);var Hat=Rat,Mat={props:["columns","states"],components:{InventoryStateActions:Hat},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const Nat=(0,m.Z)(Mat,[["render",_at]]);var Yat=Nat,Zat={components:{InventoryStateTable:Yat},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await tat.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const Kat=(0,m.Z)(Zat,[["render",Grt]]);var Bat=Kat;const Jat=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),Qat={key:0},Gat={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xat={class:"tw-w-full"},tst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),est={class:"tw-relative"},rst=["disabled"],ast=["value"],sst={class:"tw-w-full"},lst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),ost={class:"tw-relative"},ist=["disabled"],nst=["value"],wst={class:"tw-w-full"},dst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),cst={class:"tw-relative"},ust=["value"],pst={class:"tw-w-full"},mst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),gst={class:"tw-w-full tw-h-full tw-flex tw-items-end"},hst=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),fst={class:"tw-max-w-full"},bst={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},vst=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),xst={class:"tw-w-4 tw-p-4"},yst={class:"tw-w-4 tw-p-4"},_st={class:"tw-w-4 tw-p-4"},kst={class:"tw-w-4 tw-p-4"},Cst={class:"tw-w-4 tw-p-4"},Dst={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Sst={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},zst=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ust=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Pst(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Jat,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qat,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gat,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Xat,[tst,(0,s._)("div",est,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,ast)))),128))],8,rst),[[a.bM,o.delivery]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",sst,[lst,(0,s._)("div",ost,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,nst)))),128))],8,ist),[[a.bM,o.product]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wst,[dst,(0,s._)("div",cst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,ust)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",pst,[mst,(0,s._)("div",null,[(0,s.Wm)(it.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",gst,[(0,s.Wm)(st.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[hst])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",fst,[(0,s._)("table",bst,[vst,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",xst,(0,at.zw)(t.id),1),(0,s._)("td",yst,(0,at.zw)(t.size),1),(0,s._)("td",_st,(0,at.zw)(t.color),1),(0,s._)("td",kst,(0,at.zw)(t.quantity),1),(0,s._)("td",Cst,[(0,s._)("div",Dst,[(0,s.Wm)(st.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Sst,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[zst])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ust])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Lst={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,tat.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await et.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return tat.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const qst=(0,m.Z)(Lst,[["render",Pst]]);var Ast=qst;const Wst=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),$st={key:0},Est={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Tst={class:"tw-w-full"},Ost=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Fst={class:"tw-relative"},Ist=["value"],Vst={class:"tw-w-full"},jst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Rst={class:"tw-relative"},Hst=["value"],Mst={class:"tw-w-full"},Nst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Yst={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Zst=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Kst={class:"tw-max-w-full"},Bst={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Jst=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Qst={class:"tw-w-4 tw-p-4"},Gst={class:"tw-w-4 tw-p-4"},Xst={class:"tw-w-4 tw-p-4"},tlt={class:"tw-w-4 tw-p-4"},elt={class:"tw-w-4 tw-p-4"},rlt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},alt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},slt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),llt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function olt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Wst,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$st,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Est,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Tst,[Ost,(0,s._)("div",Fst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,Ist)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vst,[jst,(0,s._)("div",Rst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.color+" / "+t.size+" / "+t.quantity),9,Hst)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Mst,[Nst,(0,s._)("div",null,[(0,s.Wm)(it.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Yst,[(0,s.Wm)(st.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Zst])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(ka.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Kst,[(0,s._)("table",Bst,[Jst,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Qst,(0,at.zw)(t.id),1),(0,s._)("td",Gst,(0,at.zw)(t.size),1),(0,s._)("td",Xst,(0,at.zw)(t.color),1),(0,s._)("td",tlt,(0,at.zw)(t.quantity),1),(0,s._)("td",elt,[(0,s._)("div",rlt,[(0,s.Wm)(st.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",alt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[slt])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[llt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var ilt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,tat.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await et.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ma.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return tat.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const nlt=(0,m.Z)(ilt,[["render",olt]]);var wlt=nlt;const dlt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),clt={key:0},ult={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},plt={class:"mb-5 tw-flex"},mlt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},glt={key:0,class:""};function hlt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[dlt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",clt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ult,[(0,s._)("div",plt,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",mlt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",glt,[(0,s.Wm)(w,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const flt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},blt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},vlt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},xlt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ylt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},_lt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),klt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Clt={class:"tw-px-6 tw-py-4"},Dlt=(0,s._)("br",null,null,-1),Slt={class:"tw-px-6 tw-py-4"},zlt={class:"tw-px-6 tw-py-4"},Ult={class:"tw-px-6 tw-py-4"},Plt={class:"tw-px-6 tw-py-4"},Llt={class:"tw-px-6 tw-py-4"},qlt={class:"tw-w-[200px] !tw-whitespace-normal"},Alt={class:"tw-px-6 tw-py-4"},Wlt={class:"tw-px-6 tw-py-4"},$lt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Elt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Tlt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Olt=["value"],Flt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Ilt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Vlt={class:"tw-text-white"};function jlt(t,e,r,l,o,i){const n=(0,s.up)("router-link"),w=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",flt,[(0,s._)("table",blt,[(0,s._)("thead",vlt,[(0,s._)("tr",null,[xlt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ylt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[_lt,(0,s._)("th",klt,(0,at.zw)(t.id),1),(0,s._)("td",Clt,[(0,s.Uk)((0,at.zw)(t.created_at?.split("T")[0])+" ",1),Dlt,(0,s.Uk)(" "+(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Slt,(0,at.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",zlt,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Ult,(0,at.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Plt,[(0,s._)("div",{class:(0,at.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,at.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Llt,[(0,s._)("div",qlt,(0,at.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",Alt,(0,at.zw)(t.delivery.city?.name),1),(0,s._)("td",Wlt,[(0,s.Wm)(w,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",$lt,[(0,s._)("div",Elt,[Tlt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Olt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Flt,[(0,s._)("div",Ilt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,at.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Vlt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Rlt={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Hlt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),Mlt={class:"mt-3"},Nlt=(0,s._)("h2",{class:"mb-2"},"Received",-1),Ylt={class:"tw-mt-3"},Zlt=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),Klt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Blt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Jlt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Qlt(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(st.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Rlt,[Hlt,(0,s._)("div",Mlt,[Nlt,(0,s.Wm)(Bi.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",Ylt,[Zlt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",Klt,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Blt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Jlt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(w,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Glt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Xlt={class:"tw-p-5"},tot={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},eot=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),rot={class:"tw-w-4 tw-p-4"},aot={class:"tw-w-4 tw-p-4"},sot={class:"tw-w-4 tw-p-4"},lot={class:"tw-w-4 tw-p-4"};function oot(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Glt,[(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Xlt,[(0,s._)("table",tot,[eot,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",rot,(0,at.zw)(t.id),1),(0,s._)("td",aot,(0,at.zw)(t.product_variation.size),1),(0,s._)("td",sot,(0,at.zw)(t.product_variation.color),1),(0,s._)("td",lot,(0,at.zw)(t.quantity),1)])))),128))])])])])}var iot={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const not=(0,m.Z)(iot,[["render",oot]]);var wot=not,dot={props:["rowIndex","movement"],components:{MovementDetails:wot},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,tat["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,tat.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){tat.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const cot=(0,m.Z)(dot,[["render",Qlt]]);var uot=cot,pot={props:["columns","movements"],components:{InventoryMovementsActions:uot},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const mot=(0,m.Z)(pot,[["render",jlt]]);var got=mot,hot={components:{InventoryMovementsTable:got},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await tat.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const fot=(0,m.Z)(hot,[["render",hlt]]);var bot=fot,vot={name:"inventory/list",path:"/inventories",component:va,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:Bat,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:bot,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:Ast,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:wlt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},xot=r(3012);const yot={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},_ot={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},kot=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),Cot={class:"tw-p-5"},Dot={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},Sot={key:1,class:"error"},zot={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var Uot={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=t,a=new Audio(n+"assets/bip.mp3"),l=t=>{e("update:visible",t)};function o(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function i(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function w(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const d=[{text:"nothing (default)",value:void 0},{text:"outline",value:o},{text:"centered text",value:w},{text:"bounding box",value:i}],c=(0,be.iH)(d[1]),u=(0,be.iH)(null),p=(0,be.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(p.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),p.value.length>0){const t=p.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));u.value=t||p.value[0]}}else console.error("MediaDevices API not supported")}));const m=(0,be.iH)("");function g(t){const r=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(r),e("detect",r),l(!1),a.play(),m.value=r}const h=(0,be.iH)({qr_code:!0}),f=(0,s.Fl)((()=>Object.keys(h.value||{}).filter((t=>h.value&&h.value[t])))),b=(0,be.iH)("");function v(t){"NotAllowedError"===t.name?b.value+="you need to grant camera access permission":"NotFoundError"===t.name?b.value+="no camera on this device":"NotSupportedError"===t.name?b.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?b.value+="is the camera already in use?":"OverconstrainedError"===t.name?b.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?b.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?b.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":b.value+=t.message}return(t,e)=>{const a=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(a,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(o,{visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",yot,[(0,s._)("div",_ot,[kot,(0,s._)("div",Cot,[(0,s._)("div",Dot,[null!==u.value?((0,s.wg)(),(0,s.j4)((0,be.SU)(xot.vG),{key:0,constraints:{deviceId:u.value.deviceId},track:c.value.value,formats:(0,be.SU)(f),"facing-mode":"environment",onError:v,onDetect:g},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",Sot," No cameras on this device "))])]),(0,s._)("div",zot,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const Pot=Uot;var Lot=Pot;const qot=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),Aot={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},Wot=qot((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),$ot=[Wot];function Eot(t,e){return(0,s.wg)(),(0,s.iD)("div",Aot,$ot)}const Tot={},Oot=(0,m.Z)(Tot,[["render",Eot],["__scopeId","data-v-3fcb733e"]]);var Fot=Oot;const Iot={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},Vot={class:"tw-flex tw-justify-between tw-items-center"},jot={class:"tw-space-y-4"},Rot={class:"tw-flex tw-items-center tw-gap-4"},Hot={class:"tw-flex tw-items-center tw-gap-2"},Mot={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},Not={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},Yot=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),Zot=[Yot],Kot={class:"tw-flex tw-items-center tw-gap-5"},Bot={key:0,class:"tw-flex tw-items-center"},Jot=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),Qot=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Got=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),Xot=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),tit=[Jot,Qot,Got,Xot],eit={key:1,class:"tw-flex tw-items-center tw-gap-2"},rit={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},ait={key:2,class:"tw-flex tw-items-center tw-gap-2"},sit={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},lit={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},oit={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},iit={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},nit={class:"tw-text-blue-500 tw-text-sm"},wit={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},dit={class:"tw-text-amber-500 tw-text-sm"};var cit={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ha.warehouseControl(t,r.order.target).then((t=>{if("SUCCESS"==t.data.code){const a={...r.order,...t.data.order,loading:!1,check:!0};e("update",r.order.scan_id,a)}else e("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{e("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return a(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Iot,[(0,s._)("div",Vot,[(0,s._)("div",jot,[(0,s._)("div",Rot,[(0,s._)("div",Hot,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",Mot,(0,at.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",Not,Zot)):(0,s.kq)("",!0)]),(0,s._)("div",Kot,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",Bot,tit)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",eit,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",rit,(0,at.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",ait,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",sit,(0,at.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lit,"Not Found"))])]),(0,s._)("div",oit,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,be.SU)(Fot),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",iit,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",nit,(0,at.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",wit,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",dit,(0,at.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const uit=cit;var pit=uit;const mit={class:"lg:tw-p-6"},git={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},hit={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},fit={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},bit=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),vit={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},xit={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},yit=["onSubmit"],_it=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),kit={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},Cit={id:"success-message",class:"tw-inline-flex tw-items-center"},Dit=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),Sit={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},zit={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var Uit={__name:"ScannerView",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)([]),l=(0,be.iH)(""),o=(0,be.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),n=t=>{l.value=t,m()},w=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},m=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Cn("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",mit,[(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(Lot),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:n},null,8,["visible"])]),(0,s._)("div",git,[(0,s._)("div",hit,[(0,s._)("div",fit,[(0,s._)("div",null,[bit,(0,s._)("div",vit,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,at.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,at.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,at.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,at.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,at.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,at.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",xit,[(0,s._)("form",{onSubmit:(0,a.iM)(m,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[_it,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,at.C_)([[(0,be.SU)(i)&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(i)&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",kit,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:w,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",Cit,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),Dit],40,yit)])]),(0,s._)("div",Sit,[(0,s._)("div",zit,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(pit),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const Pit=Uit;var Lit=Pit,qit={name:"scanner",path:"/scanner",component:va,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:Lit,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",gate:"stock_management",role:"admin"}}]};const Ait={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Wit=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),$it={key:0},Eit=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Tit={key:0},Oit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Fit={class:"mb-5 tw-flex"},Iit={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Vit={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},jit={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Rit=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Hit={class:"tw-relative"},Mit={class:""};function Nit(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",Ait,[Wit,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",$it,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Eit])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Tit,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Oit,[(0,s._)("div",Fit,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Iit,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Vit,[(0,s._)("div",jit,[Rit,(0,s._)("div",Hit,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Mit,[(0,s.Wm)(w,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class Yit{async create(t){return await E.getCookie(),W.post("api/shops/new",{name:t.name})}async update(t,e){return await E.getCookie(),W.post("api/shops/update/"+t,{name:e.name})}async all(){return await E.getCookie(),W.get("api/shops")}async getShop(t){return await E.getCookie(),W.get("api/shops/"+t)}async delete(t){return await E.getCookie(),W["delete"]("api/shops/delete/"+t)}}var Zit=new Yit;const Kit={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Bit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Jit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Qit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Git={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Xit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),tnt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},ent={class:"tw-px-6 tw-py-4"},rnt={class:"tw-px-6 tw-py-4"},ant={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},snt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},lnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ont=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),int=["value"],nnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},wnt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},dnt={class:"tw-text-white"};function cnt(t,e,r,l,o,i){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Kit,[(0,s._)("table",Bit,[(0,s._)("thead",Jit,[(0,s._)("tr",null,[Qit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Git,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Xit,(0,s._)("th",tnt,(0,at.zw)(t.id),1),(0,s._)("td",ent,(0,at.zw)(t.name),1),(0,s._)("td",rnt,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",ant,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",snt,[(0,s._)("div",lnt,[ont,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,int)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",nnt,[(0,s._)("div",wnt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,at.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",dnt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const unt={class:"tw-flex tw-items-center tw-gap-1"};function pnt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",unt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var mnt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Zit["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),Zit.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const gnt=(0,m.Z)(mnt,[["render",pnt]]);var hnt=gnt,fnt={props:["columns","shops"],components:{ShopActions:hnt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const bnt=(0,m.Z)(fnt,[["render",cnt]]);var vnt=bnt,xnt={components:{ShopsTable:vnt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Zit.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const ynt=(0,m.Z)(xnt,[["render",Nit]]);var _nt=ynt;const knt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Cnt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Dnt={class:"tw-w-full"},Snt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),znt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Unt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Pnt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Lnt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function qnt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[knt,(0,s._)("div",Cnt,[(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Dnt,[Snt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",znt,(0,at.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Unt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Pnt])),_:1}),(0,s.Wm)(st.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Lnt])),_:1},8,["onClick","loading"])])])])}var Ant={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Zit.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Wnt=(0,m.Z)(Ant,[["render",qnt]]);var $nt=Wnt;const Ent=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Tnt={key:0},Ont={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Fnt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Int={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Vnt={class:"tw-w-full"},jnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Rnt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hnt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Mnt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Nnt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Ynt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Ent,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Tnt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ont,[(0,s._)("div",Fnt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",Int,(0,at.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(_a.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ka.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vnt,[jnt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Rnt,(0,at.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Hnt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mnt])),_:1}),(0,s.Wm)(st.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Nnt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Znt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;Zit.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){Zit.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const Knt=(0,m.Z)(Znt,[["render",Ynt]]);var Bnt=Knt,Jnt={name:"shops",path:"/shops",component:va,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:_nt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:$nt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:Bnt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const Qnt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Gnt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),Xnt={key:0},twt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),ewt={key:0},rwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},awt={class:"mb-5 tw-flex"},swt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},lwt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},owt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},iwt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),nwt={class:"tw-relative"},wwt={class:""};function dwt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",Qnt,[Gnt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",Xnt,[(0,s.Wm)(st.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),twt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ewt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",rwt,[(0,s._)("div",awt,[(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",swt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",lwt,[(0,s._)("div",owt,[iwt,(0,s._)("div",nwt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",wwt,[(0,s.Wm)(w,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const cwt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},uwt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},pwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},mwt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),gwt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},hwt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),fwt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},bwt={class:"tw-px-6 tw-py-4"},vwt={class:"tw-px-6 tw-py-4"},xwt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},ywt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},_wt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},kwt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Cwt=["value"],Dwt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Swt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},zwt={class:"tw-text-white"};function Uwt(t,e,r,l,o,i){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cwt,[(0,s._)("table",uwt,[(0,s._)("thead",pwt,[(0,s._)("tr",null,[mwt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",gwt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[hwt,(0,s._)("th",fwt,(0,at.zw)(t.id),1),(0,s._)("td",bwt,(0,at.zw)(t.name),1),(0,s._)("td",vwt,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",xwt,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",ywt,[(0,s._)("div",_wt,[kwt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Cwt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Dwt,[(0,s._)("div",Swt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,at.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",zwt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Pwt={class:"tw-flex tw-items-center tw-gap-1"};function Lwt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Pwt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const qwt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Awt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Wwt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},$wt={class:"tw-w-full tw-col-span-12"},Ewt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Twt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Owt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Fwt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Iwt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Vwt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qwt,[Awt,(0,s._)("div",Wwt,[(0,s._)("div",$wt,[Ewt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Twt,(0,at.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Owt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fwt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Iwt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var jwt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,yv.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Rwt=(0,m.Z)(jwt,[["render",Vwt]]);var Hwt=Rwt,Mwt={components:{UpdateWarehouse:Hwt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,yv["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Nwt=(0,m.Z)(Mwt,[["render",Lwt]]);var Ywt=Nwt,Zwt={props:["columns","warehouses"],components:{WarehouseActions:Ywt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const Kwt=(0,m.Z)(Zwt,[["render",Uwt]]);var Bwt=Kwt;const Jwt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Qwt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),Gwt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Xwt={class:"tw-w-full tw-col-span-12"},tdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),edt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rdt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},adt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),sdt=(0,s._)("span",{class:"text-white"}," Create ",-1);function ldt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Jwt,[Qwt,(0,s._)("div",Gwt,[(0,s._)("div",Xwt,[tdt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",edt,(0,at.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",rdt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[adt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[sdt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var odt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;yv.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const idt=(0,m.Z)(odt,[["render",ldt]]);var ndt=idt,wdt={components:{WarehousesTable:Bwt,AddWarehouse:ndt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){yv.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const ddt=(0,m.Z)(wdt,[["render",dwt]]);var cdt=ddt,udt={name:"warehouses",path:"/warehouses",component:va,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:cdt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const pdt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),mdt={key:0},gdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},hdt={class:"mb-5 tw-flex"},fdt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},bdt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},vdt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xdt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),ydt={class:"tw-relative"},_dt={class:""};function kdt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[pdt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mdt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",gdt,[(0,s._)("div",hdt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",fdt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",bdt,[(0,s._)("div",vdt,[xdt,(0,s._)("div",ydt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",_dt,[(0,s.Wm)(w,{columns:o.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}class Cdt{async update(t,e){return await E.getCookie(),W.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await E.getCookie(),W.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await E.getCookie(),W.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await E.getCookie(),W.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await E.getCookie(),W.post("api/factorisations/update/fees/"+t,{fees:e})}async delete(t){return await E.getCookie(),W["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),W.post("api/v1/factorisation"+t,e)}}var Ddt=new Cdt;const Sdt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},zdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Udt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Pdt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Ldt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},qdt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Adt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Wdt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),$dt=["value"],Edt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Tdt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Odt={class:"tw-text-white"};function Fdt(t,e,r,l,o,i){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Sdt,[(0,s._)("table",zdt,[(0,s._)("thead",Udt,[(0,s._)("tr",null,[Pdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Ldt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",qdt,[(0,s._)("div",Adt,[Wdt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,$dt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Edt,[(0,s._)("div",Tdt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,at.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Odt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Idt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Vdt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),jdt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Rdt={class:"tw-px-6 tw-py-4"},Hdt={class:"tw-px-6 tw-py-4"},Mdt={class:"tw-px-6 tw-py-4"},Ndt={class:"tw-px-6 tw-py-4"},Ydt={class:"tw-px-6 tw-py-4"},Zdt={class:"tw-px-6 tw-py-4"},Kdt={class:"tw-px-6 tw-py-4"},Bdt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Jdt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Qdt=["disabled"],Gdt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Xdt={class:"tw-px-6 tw-py-4"},tct={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},ect={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},rct=["disabled"],act=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),sct={class:"tw-px-6 tw-py-4"},lct={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function oct(t,e,r,l,o,i){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Idt,[Vdt,(0,s._)("th",jdt,(0,at.zw)(r.factorisation.id),1),(0,s._)("td",Rdt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,at.zw)(r.factorisation.factorisation_id),1)]),(0,s._)("td",Hdt,(0,at.zw)(i.deliveryName),1),(0,s._)("td",Mdt,(0,at.zw)(r.factorisation.commands_number),1),(0,s._)("td",Ndt,(0,at.zw)(r.factorisation.price),1),(0,s._)("td",Ydt,(0,at.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",Zdt,(0,at.zw)(r.factorisation.paid_at?.split("T")[0]),1),(0,s._)("td",Kdt,[(0,s._)("div",Bdt,[(0,s._)("label",Jdt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Qdt),[[a.e8,i.close]]),Gdt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Xdt,[(0,s._)("div",tct,[(0,s._)("label",ect,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,rct),[[a.e8,i.paid]]),act]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",sct,(0,at.zw)(r.factorisation.created_at.split("T")[0]),1),(0,s._)("td",lct,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])])}const ict={class:"tw-flex tw-items-center tw-gap-1"};function nct(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",ict,[(0,s.Wm)(st.T,{href:l.serverUrl+"api/export/factorisations/"+r.factorisation.factorisation_id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateCommentPopup,onCancel:e[4]||(e[4]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const wct={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},dct=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),cct={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},uct={class:"tw-w-full tw-col-span-6"},pct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),mct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gct={class:"tw-w-full tw-col-span-6"},hct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),fct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bct={class:"tw-w-full tw-col-span-6"},vct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),xct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yct={class:"tw-w-full tw-col-span-6"},_ct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),kct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Cct={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Dct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Sct=(0,s._)("span",{class:"text-white"}," Update ",-1);function zct(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",wct,[dct,(0,s._)("div",cct,[(0,s._)("div",uct,[pct,(0,s.Wm)(it.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mct,(0,at.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",gct,[hct,(0,s.Wm)(it.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fct,(0,at.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",bct,[vct,(0,s.Wm)(it.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",xct,(0,at.zw)(l.formStatus.price.message),1)]),(0,s._)("div",yct,[_ct,(0,s.Wm)(it.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kct,(0,at.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",Cct,[(0,s.Wm)(st.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dct])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Uct={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ddt.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Lt(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Lt(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Pct=(0,m.Z)(Uct,[["render",zct]]);var Lct=Pct;const qct={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Act=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Wct={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},$ct={class:"tw-w-full tw-col-span-6"},Ect=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Tct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Oct={class:"tw-w-full tw-col-span-6"},Fct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Ict={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vct={class:"tw-w-full tw-col-span-12"},jct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Rct=["error"],Hct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mct={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Nct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Yct=(0,s._)("span",{class:"text-white"}," Update ",-1);function Zct(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qct,[Act,(0,s._)("div",Wct,[(0,s._)("div",$ct,[Ect,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tct,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Oct,[Fct,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ict,(0,at.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Vct,[jct,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,Rct),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",Hct,(0,at.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Mct,[(0,s.Wm)(st.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Nct])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Yct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Kct={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ddt.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Bct=(0,m.Z)(Kct,[["render",Zct]]);var Jct=Bct,Qct={components:{UpdateFactorisation:Lct,UpdateComment:Jct},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1,showUpdateCommentPopup:!1,serverUrl:w}},methods:{handleResolved(t){t?(this.isLoading=!0,Ddt["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Gct=(0,m.Z)(Qct,[["render",nct]]);var Xct=Gct,tut={props:["factorisation"],components:{FactorisationActions:Xct},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ddt.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Ddt.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const eut=(0,m.Z)(tut,[["render",oct]]);var rut=eut,aut={props:["columns","factorisations"],components:{FactorisationRow:rut},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const sut=(0,m.Z)(aut,[["render",Fdt]]);var lut=sut,out={components:{FactorisationsTable:lut},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Ddt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const iut=(0,m.Z)(out,[["render",kdt]]);var nut=iut;const wut={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},dut={class:"tw-px-3"},cut={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},uut={class:"tw-flex tw-items-center tw-gap-x-3"},put=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),mut={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},gut=(0,s.uE)('<button class="tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"><svg xmlns="http://www.w3.org/2000/svg" class="tw-w-5 tw-h-5" width="24" height="24" viewBox="0 0 24 24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.25a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5M9.75 12a2.25 2.25 0 1 1 4.5 0a2.25 2.25 0 0 1-4.5 0"></path><path d="M11.975 1.25c-.445 0-.816 0-1.12.02a2.823 2.823 0 0 0-.907.19a2.75 2.75 0 0 0-1.489 1.488c-.145.35-.184.72-.2 1.122a.868.868 0 0 1-.415.731a.868.868 0 0 1-.841-.005c-.356-.188-.696-.339-1.072-.389a2.75 2.75 0 0 0-2.033.545a2.83 2.83 0 0 0-.617.691c-.17.254-.356.575-.578.96l-.025.044c-.223.385-.408.706-.542.98c-.14.286-.25.568-.29.88a2.75 2.75 0 0 0 .544 2.033c.231.301.532.52.872.734a.868.868 0 0 1 .426.726a.868.868 0 0 1-.426.726c-.34.214-.64.433-.872.734a2.75 2.75 0 0 0-.545 2.033c.041.312.15.594.29.88c.135.274.32.595.543.98l.025.044c.222.385.408.706.578.96c.177.263.367.5.617.69a2.75 2.75 0 0 0 2.033.546c.376-.05.716-.2 1.072-.389a.867.867 0 0 1 .84-.005a.863.863 0 0 1 .417.731c.015.402.054.772.2 1.122a2.75 2.75 0 0 0 1.488 1.489c.29.12.59.167.907.188c.304.021.675.021 1.12.021h.05c.445 0 .816 0 1.12-.02c.318-.022.617-.069.907-.19a2.75 2.75 0 0 0 1.489-1.488c.145-.35.184-.72.2-1.122a.868.868 0 0 1 .415-.732a.868.868 0 0 1 .841.006c.356.188.696.339 1.072.388a2.75 2.75 0 0 0 2.033-.544c.25-.192.44-.428.617-.691c.17-.254.356-.575.578-.96l.025-.044c.223-.385.408-.706.542-.98c.14-.286.25-.569.29-.88a2.75 2.75 0 0 0-.544-2.033c-.231-.301-.532-.52-.872-.734a.868.868 0 0 1-.426-.726c0-.278.152-.554.426-.726c.34-.214.64-.433.872-.734a2.75 2.75 0 0 0 .545-2.033a2.826 2.826 0 0 0-.29-.88a17.9 17.9 0 0 0-.543-.98l-.025-.044a18.028 18.028 0 0 0-.578-.96a2.823 2.823 0 0 0-.617-.69a2.75 2.75 0 0 0-2.033-.546c-.376.05-.716.2-1.072.389a.868.868 0 0 1-.84.005a.868.868 0 0 1-.417-.731c-.015-.402-.054-.772-.2-1.122a2.75 2.75 0 0 0-1.488-1.489c-.29-.12-.59-.167-.907-.188c-.304-.021-.675-.021-1.12-.021zm-1.453 1.595c.077-.032.194-.061.435-.078c.247-.017.567-.017 1.043-.017s.796 0 1.043.017c.241.017.358.046.435.078c.307.127.55.37.677.677c.04.096.073.247.086.604c.03.792.439 1.555 1.165 1.974c.726.42 1.591.392 2.292.022c.316-.167.463-.214.567-.227a1.25 1.25 0 0 1 .924.247c.066.051.15.138.285.338c.139.206.299.483.537.895c.238.412.397.69.506.912c.107.217.14.333.15.416a1.25 1.25 0 0 1-.247.924c-.064.083-.178.187-.48.377c-.672.422-1.128 1.158-1.128 1.996c0 .838.456 1.574 1.128 1.996c.302.19.416.294.48.377c.202.263.29.595.247.924c-.01.083-.044.2-.15.416c-.109.223-.268.5-.506.912c-.238.412-.399.689-.537.895c-.135.2-.219.287-.285.338a1.25 1.25 0 0 1-.924.247c-.104-.013-.25-.06-.567-.227c-.7-.37-1.566-.398-2.292.021c-.726.42-1.135 1.183-1.165 1.975c-.013.357-.046.508-.086.604a1.25 1.25 0 0 1-.677.677c-.077.032-.194.061-.435.078c-.247.017-.567.017-1.043.017s-.796 0-1.043-.017c-.241-.017-.358-.046-.435-.078a1.25 1.25 0 0 1-.677-.677c-.04-.096-.073-.247-.086-.604c-.03-.792-.439-1.555-1.165-1.974c-.726-.42-1.591-.392-2.292-.022c-.316.167-.463.214-.567.227a1.25 1.25 0 0 1-.924-.247c-.066-.051-.15-.138-.285-.338a17.055 17.055 0 0 1-.537-.895c-.238-.412-.397-.69-.506-.912c-.107-.217-.14-.333-.15-.416a1.25 1.25 0 0 1 .247-.924c.064-.083.178-.187.48-.377c.672-.422 1.128-1.158 1.128-1.996c0-.838-.456-1.574-1.128-1.996c-.302-.19-.416-.294-.48-.377a1.25 1.25 0 0 1-.247-.924c.01-.083.044-.2.15-.416c.109-.223.268-.5.506-.912c.238-.412.399-.689.537-.895c.135-.2.219-.287.285-.338a1.25 1.25 0 0 1 .924-.247c.104.013.25.06.567.227c.7.37 1.566.398 2.292-.022c.726-.419 1.135-1.182 1.165-1.974c.013-.357.046-.508.086-.604c.127-.307.37-.55.677-.677"></path></g></svg><span>Settings</span></button>',1),hut=[gut],fut={key:0};function but(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("SettingsPopup");return(0,s.wg)(),(0,s.iD)("div",wut,[(0,s._)("section",dut,[(0,s._)("div",cut,[(0,s._)("div",null,[(0,s._)("div",uut,[put,(0,s._)("span",mut,(0,at.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.settings_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},hut)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.settings_popup?((0,s.wg)(),(0,s.iD)("div",fut,[(0,s.Wm)(w,{visible:l.settings_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.settings_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const vut={class:"tw-flex tw-flex-col tw-mt-5"},xut={class:"tw-overflow-x-auto"},yut={class:"tw-inline-block tw-min-w-full tw-align-middle"},_ut={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},kut={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Cut={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},Dut=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Sut=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Code ",-1),zut=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),Uut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," NB Commands ",-1),Put=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Price ",-1),Lut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),qut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),Aut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Close ",-1),Wut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid ",-1),$ut={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Eut=(0,s._)("span",null,"Created",-1),Tut=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Out=[Eut,Tut],Fut=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Iut={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Vut={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jut=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),Rut=[jut],Hut={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Mut={colspan:"11"},Nut={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Yut=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Zut=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Kut=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),But=[Zut,Kut],Jut={class:"tw-mt-6"};function Qut(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vut,[(0,s._)("div",xut,[(0,s._)("div",yut,[(0,s._)("div",_ut,[(0,s._)("table",kut,[(0,s._)("thead",Cut,[(0,s._)("tr",null,[Dut,Sut,zut,Uut,Put,(0,s.kq)("",!0),Lut,qut,Aut,Wut,(0,s._)("th",$ut,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Out)]),Fut])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Iut,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Vut,Rut)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Hut,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Mut,[(0,s._)("div",Nut,[Yut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},But)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Jut,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Gut={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Xut={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},tpt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},ept={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},rpt=["disabled"],apt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),spt=(0,s._)("span",null," previous ",-1),lpt=[apt,spt],opt=["disabled"],ipt=(0,s._)("span",null," Next ",-1),npt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),wpt=[ipt,npt];function dpt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gut,[(0,s._)("div",Xut,[(0,s.Uk)(" Page "),(0,s._)("span",tpt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",ept,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},lpt,10,rpt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},wpt,10,opt)])])])}var cpt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const upt=(0,m.Z)(cpt,[["render",dpt]]);var ppt=upt;const mpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},hpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},vpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},ypt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_pt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},kpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Cpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Dpt={key:0},Spt={key:0},zpt={key:1},Upt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ppt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Lpt={key:0},qpt={key:0},Apt={key:1},Wpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$pt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ept={key:0},Tpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Opt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Fpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Ipt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),n=(0,s.up)("CloseFactorisation"),w=(0,s.up)("PaidFactorisation"),d=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",mpt,[(0,s._)("div",null,[(0,s._)("h2",gpt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",hpt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),(0,s._)("td",fpt,[(0,s._)("div",null,[(0,s._)("h2",bpt,[(0,s._)("span",null,(0,at.zw)(r.item.delivery.firstname)+" "+(0,at.zw)(r.item.delivery.lastname),1)])])]),(0,s._)("td",vpt,[(0,s._)("div",null,[(0,s._)("h2",xpt,[(0,s._)("span",null,(0,at.zw)(r.item.delivery_order_count),1)])])]),(0,s._)("td",ypt,[(0,s._)("div",null,[(0,s._)("h2",_pt,[(0,s._)("span",null,(0,at.zw)(r.item.delivery_order_price),1),(0,s.Uk)(" "+(0,at.zw)(l.currency),1)])])]),(0,s._)("td",kpt,[(0,s._)("div",null,[(0,s._)("h2",Cpt,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",Dpt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",Spt,(0,at.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",zpt," - "))])])]),(0,s._)("td",Upt,[(0,s._)("div",null,[(0,s._)("h2",Ppt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",Lpt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",qpt,(0,at.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",Apt," - "))])])]),(0,s._)("td",Wpt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(n,{item:r.item,key:r.item.id,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["item"]))])]),(0,s._)("td",$pt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",Ept,[((0,s.wg)(),(0,s.j4)(w,{item:r.item,key:r.item.id,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)]),(0,s._)("td",Tpt,[(0,s._)("div",null,[(0,s._)("h2",Opt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Fpt,[(0,s._)("div",null,[(0,s.Wm)(d,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Vpt={class:"tw-h-full"},jpt={class:"tw-flex tw-items-center tw-gap-2"},Rpt={key:0},Hpt={key:1},Mpt={key:2};function Npt(t,e,r,a,l,o){const i=(0,s.up)("CommentFactorisation"),n=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateFees");return(0,s.wg)(),(0,s.iD)("div",Vpt,[(0,s._)("div",jpt,[(0,s.Wm)(st.T,{target:"_blank",href:l.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.CommentPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.DeletePopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.kq)("",!0)]),l.CommentPopup?((0,s.wg)(),(0,s.iD)("div",Rpt,[((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),visible:l.CommentPopup,"onUpdate:visible":e[5]||(e[5]=t=>l.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),l.popup?((0,s.wg)(),(0,s.iD)("div",Hpt,[((0,s.wg)(),(0,s.j4)(n,{onUpdate:e[6]||(e[6]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[7]||(e[7]=t=>l.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),l.FeesPopup?((0,s.wg)(),(0,s.iD)("div",Mpt,[((0,s.wg)(),(0,s.j4)(w,{onUpdate:e[8]||(e[8]=e=>t.$emit("update",e)),visible:l.FeesPopup,"onUpdate:visible":e[9]||(e[9]=t=>l.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0)])}const Ypt={key:0},Zpt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Kpt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Bpt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Jpt={class:"tw-w-full tw-col-span-6"},Qpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Gpt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xpt={class:"tw-w-full tw-col-span-6"},tmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),emt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rmt={class:"tw-w-full tw-col-span-12"},amt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),smt=["error"],lmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},omt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},imt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),nmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function wmt(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Ypt,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Zpt,[Kpt,(0,s._)("div",Bpt,[(0,s._)("div",Jpt,[Qpt,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Gpt,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Xpt,[tmt,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",emt,(0,at.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",rmt,[amt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,smt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",lmt,(0,at.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",omt,[(0,s.Wm)(st.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[imt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[nmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var dmt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ddt.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const cmt=(0,m.Z)(dmt,[["render",wmt]]);var umt=cmt;const pmt={key:0},mmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},gmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),hmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},fmt={class:"tw-w-full tw-col-span-6"},bmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),vmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xmt={class:"tw-w-full tw-col-span-6"},ymt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),_mt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Cmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Dmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Smt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",pmt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",mmt,[gmt,(0,s._)("div",hmt,[(0,s._)("div",fmt,[bmt,(0,s.Wm)(it.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vmt,(0,at.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",xmt,[ymt,(0,s.Wm)(it.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_mt,(0,at.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",kmt,[(0,s.Wm)(st.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Cmt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var zmt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ddt.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Umt=(0,m.Z)(zmt,[["render",Smt]]);var Pmt=Umt;const Lmt={key:0},qmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Amt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Wmt={class:"tw-w-full tw-col-span-6"},$mt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),Emt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tmt={class:"tw-w-full tw-col-span-6"},Omt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),Fmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Imt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},Vmt=["onClick"],jmt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Rmt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},Hmt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Mmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Nmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Ymt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Zmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Lmt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qmt,[Amt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Wmt,[$mt,(0,s.Wm)(it.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Emt,(0,at.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Tmt,[Omt,(0,s.Wm)(it.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Fmt,(0,at.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",Imt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),jmt],8,Vmt)])])])))),128)),(0,s._)("div",Rmt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Hmt])]),(0,s._)("div",Mmt,[(0,s.Wm)(st.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Nmt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ymt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Kmt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ddt.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Bmt=(0,m.Z)(Kmt,[["render",Zmt]]);var Jmt=Bmt,Qmt={components:{CommentFactorisation:umt,UpdateFactorisation:Pmt,UpdateFees:Jmt},props:{item:{required:!0}},data(){return{CommentPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,serverUrl:w}},computed:{},methods:{}};const Gmt=(0,m.Z)(Qmt,[["render",Npt]]);var Xmt=Gmt;const tgt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},egt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},rgt=["disabled"],agt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function sgt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",tgt,[(0,s._)("label",egt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,rgt),[[a.e8,i.close]]),agt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var lgt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Ddt.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const ogt=(0,m.Z)(lgt,[["render",sgt]]);var igt=ogt;const ngt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},wgt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},dgt=["disabled"],cgt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function ugt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",ngt,[(0,s._)("label",wgt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,dgt),[[a.e8,i.paid]]),cgt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var pgt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ddt.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const mgt=(0,m.Z)(pgt,[["render",ugt]]);var ggt=mgt;const hgt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"};function fgt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("h2",hgt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},(0,at.zw)(r.item.factorisation_id),1)])}var bgt={props:{item:{required:!0}},methods:{download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const vgt=(0,m.Z)(bgt,[["render",fgt]]);var xgt=vgt,ygt={components:{TableActions:Xmt,CloseFactorisation:igt,PaidFactorisation:ggt,PdfFactorisation:xgt},props:{item:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{}};const _gt=(0,m.Z)(ygt,[["render",Ipt]]);var kgt=_gt,Cgt={components:{TablePaginationNoNums:ppt,TableRow:kgt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Dgt=(0,m.Z)(Cgt,[["render",Qut]]);var Sgt=Dgt;const zgt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Ugt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Pgt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Lgt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),qgt=[Lgt],Agt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),Wgt=[Agt],$gt=["disabled"],Egt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Tgt=[Egt],Ogt={class:"tw-relative"},Fgt=["value"],Igt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Vgt=[Igt],jgt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Rgt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Hgt=["value"],Mgt={class:"tw-overflow-hidden tw-col-span-1"},Ngt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),Ygt=[Ngt];function Zgt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zgt,[(0,s._)("div",Ugt,[Pgt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},qgt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Wgt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Tgt,8,$gt),(0,s._)("div",Ogt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Vgt,40,Fgt),jgt])]),(0,s._)("div",Rgt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Hgt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Mgt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},Ygt,2)):(0,s.kq)("",!0)])}const Kgt={class:"tw-mb-4"},Bgt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Jgt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Qgt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Ggt=(0,s._)("span",null,"Clear",-1),Xgt=[Qgt,Ggt],tht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),eht=(0,s._)("span",null,"Filter",-1),rht=[tht,eht];function aht(t,e,r,a,l,o){(0,s.up)("SellerFilter");const i=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",Kgt,[(0,s._)("div",Bgt,[(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Jgt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Xgt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},rht)])])])}const sht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lht=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),oht=["value"],iht=(0,s._)("option",{value:"all"},"All",-1),nht=["value"];function wht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",sht,[lht,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[iht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,nht)))),128))],40,oht)])}var dht={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const cht=(0,m.Z)(dht,[["render",wht]]);var uht=cht;const pht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mht=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),ght=["value"],hht=(0,s._)("option",{value:"all"},"All",-1),fht=["value"];function bht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",pht,[mht,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,at.zw)(t.title),9,fht)))),128))],40,ght)])}var vht={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const xht=(0,m.Z)(vht,[["render",bht]]);var yht=xht;const _ht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kht=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),Cht=["value"],Dht=(0,s._)("option",{value:"all"},"All",-1),Sht=["value"];function zht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_ht,[kht,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Dht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,at.zw)(t.title),9,Sht)))),128))],40,Cht)])}var Uht={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const Pht=(0,m.Z)(Uht,[["render",zht]]);var Lht=Pht,qht={components:{SellerFilter:uht,CloseFilter:yht,PaidFilter:Lht},props:{filters:{required:!0,default:{}}},data(){return{}}};const Aht=(0,m.Z)(qht,[["render",aht]]);var Wht=Aht,$ht={components:{FiltersWrapper:Wht},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const Eht=(0,m.Z)($ht,[["render",Zgt]]);var Tht=Eht;const Oht={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Fht=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Factorisation Settings ",-1),Iht={class:"tw-bg-white tw-p-4"},Vht={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},jht={class:"md:tw-col-span-1 tw-col-span-2"},Rht=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Interval Time",-1),Hht={class:"tw-relative"},Mht=(0,s._)("option",{value:null,disabled:""},"Choose an Interval",-1),Nht=(0,s._)("option",{value:"daily"},"Daily",-1),Yht=(0,s._)("option",{value:"weekly"},"Weekly",-1),Zht=(0,s._)("option",{value:"monthly"},"Monthly",-1),Kht=(0,s._)("option",{value:"yearly"},"Yearly",-1),Bht=[Mht,Nht,Yht,Zht,Kht],Jht=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Qht={class:"md:tw-col-span-1 tw-col-span-2"},Ght=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Auto Close Date Starts",-1),Xht={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function tft(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Oht,[Fht,(0,s._)("div",Iht,[(0,s._)("div",Vht,[(0,s._)("div",jht,[Rht,(0,s._)("div",Hht,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.intervalTime=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},Bht,512),[[a.bM,o.intervalTime]]),Jht])]),(0,s._)("div",Qht,[Ght,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.closeDateStart=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,512),[[a.nr,o.closeDateStart]])])])]),(0,s._)("div",Xht,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var eft={props:{visible:{required:!0}},data(){return{isLoading:!1,closeDateStart:null,intervalTime:null}},computed:{},methods:{cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)}},mounted(){}};const rft=(0,m.Z)(eft,[["render",tft]]);var aft=rft,sft={components:{IndexTable:Sgt,IndexFilters:Tht,SettingsPopup:aft},data(){return{fetching:!0,settings_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Ddt.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,console.log(this.items),this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const lft=(0,m.Z)(sft,[["render",but]]);var oft=lft,ift={name:"factorisations",path:"/factorisations",component:va,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:nut,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/newlist",path:"/newfactorisations",component:oft,meta:{module:"newfactorisation",subModule:"factorisation/newlist",title:"Factorisations List",gate:"show_all_factorisations"}}]};const nft={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},wft={class:"tw-px-3"},dft={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},cft={class:"tw-flex tw-items-center tw-gap-x-3"},uft=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Ads",-1),pft={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},mft=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Ads list.",-1),gft=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),hft=[gft],fft={key:0};function bft(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",nft,[(0,s._)("section",wft,[(0,s._)("div",dft,[(0,s._)("div",null,[(0,s._)("div",cft,[uft,(0,s._)("span",pft,(0,at.zw)(l.totalOrders)+" ad",1)]),mft]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},hft)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",fft,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class vft{async create(t){return await E.getCookie(),W.post("api/ads/new",t)}async update(t,e){return await E.getCookie(),W.post("api/ads/update/"+t,e)}async delete(t){return await E.getCookie(),W["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await E.getCookie(),W.post("api/ads"+t,e)}}var xft=new vft;const yft={class:"tw-flex tw-flex-col"},_ft={class:"tw-overflow-x-auto"},kft={class:"tw-inline-block tw-min-w-full tw-align-middle"},Cft={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Dft={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Sft={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},zft=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Uft={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Pft=(0,s._)("span",null,"Created",-1),Lft=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),qft=[Pft,Lft],Aft={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Wft=(0,s._)("span",null,"Ads For",-1),$ft=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Eft=[Wft,$ft],Tft={key:0,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Oft=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),Fft=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Ift=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),Vft=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),jft=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Rft={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Hft={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Mft=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No ads yet ! ")])],-1),Nft=[Mft],Yft={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Zft={colspan:"8"},Kft={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Bft=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Jft=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Qft=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Gft=[Jft,Qft],Xft={class:"tw-mt-6"};function tbt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yft,[(0,s._)("div",_ft,[(0,s._)("div",kft,[(0,s._)("div",Cft,[(0,s._)("table",Dft,[(0,s._)("thead",Sft,[(0,s._)("tr",null,[zft,(0,s._)("th",Uft,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},qft)]),(0,s._)("th",Aft,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Eft)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Tft," Marketer ")):(0,s.kq)("",!0),Oft,Fft,Ift,Vft,jft])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Rft,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Hft,Nft)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Yft,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Zft,[(0,s._)("div",Kft,[Bft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Gft)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Xft,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const ebt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},rbt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},abt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},sbt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},lbt=["disabled"],obt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ibt=(0,s._)("span",null," previous ",-1),nbt=[obt,ibt],wbt=["disabled"],dbt=(0,s._)("span",null," Next ",-1),cbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),ubt=[dbt,cbt];function pbt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ebt,[(0,s._)("div",rbt,[(0,s.Uk)(" Page "),(0,s._)("span",abt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",sbt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},nbt,10,lbt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},ubt,10,wbt)])])])}var mbt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const gbt=(0,m.Z)(mbt,[["render",pbt]]);var hbt=gbt;const fbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bbt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},vbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xbt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},ybt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_bt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},kbt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Cbt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x"},Dbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Sbt={class:"tw-flex tw-items-center tw-gap-3"},zbt={class:"tw-w-[28px]"},Ubt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Facebook ",-1),Pbt={class:"tw-w-[28px]"},Lbt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," TikTok ",-1),qbt={class:"tw-w-[28px]"},Abt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Google Ads ",-1),Wbt={class:"tw-w-[28px] tw-h-[28px] tw-bg-[#fffb09] tw-rounded-md tw-flex tw-items-center tw-justify-center"},$bt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Snapchat ",-1),Ebt={class:"tw-w-[28px]"},Tbt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"},Obt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Fbt={class:"tw-font-bold tw-text-green-500 darkx:tw-text-white tw-font-[cairo]"},Ibt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Vbt={class:"tw-flex tw-items-center tw-gap-2"},jbt={class:"tw-font-bold tw-text-cyan-500 darkx:tw-text-white"},Rbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Hbt={dir:"rtl",class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-max-w-[150px] tw-truncate"},Mbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Nbt(t,e,r,a,l,o){const i=(0,s.up)("icon"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",fbt,[(0,s._)("div",null,[(0,s._)("h2",bbt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",vbt,[(0,s._)("div",null,[(0,s._)("h2",xbt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",ybt,[(0,s._)("div",null,[(0,s._)("h2",_bt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",kbt,[(0,s._)("div",null,[(0,s._)("h2",Cbt,(0,at.zw)(r.item.marketers.firstname)+" "+(0,at.zw)(r.item.marketers.lastname)+" "+(0,at.zw)(t.$user.role),1)])])):(0,s.kq)("",!0),(0,s._)("td",Dbt,[(0,s._)("div",Sbt,[["facebook","tiktok","snapchat","google"].includes(r.item.source?.toLocaleLowerCase())?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["facebook"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",zbt,[(0,s.Wm)(i,{icon:"logos:facebook",class:"tw-text-2xl"})]),Ubt],64)):(0,s.kq)("",!0),"tiktok"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",Pbt,[(0,s.Wm)(i,{icon:"logos:tiktok-icon",class:"tw-text-2xl"})]),Lbt],64)):(0,s.kq)("",!0),"google"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("div",qbt,[(0,s.Wm)(i,{icon:"logos:google-ads",class:"tw-text-2xl"})]),Abt],64)):(0,s.kq)("",!0),"snapchat"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("div",Wbt,[(0,s.Wm)(i,{icon:"jam:snapchat",class:"tw-text-2xl tw-text-white tw-stroke-black"})]),$bt],64)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",Ebt,[(0,s.Wm)(i,{icon:"fluent-mdl2:unknown-solid",class:"tw-text-2xl"})]),(0,s._)("h2",Tbt,(0,at.zw)(r.item.source),1)],64))])]),(0,s._)("td",Obt,[(0,s._)("div",null,[(0,s._)("h2",Fbt,(0,at.zw)(l.currency)+(0,at.zw)(r.item.amount),1)])]),(0,s._)("td",Ibt,[(0,s._)("div",Vbt,[(0,s.Wm)(i,{icon:"material-symbols-light:leaderboard-rounded",class:"tw-text-lg tw-text-cyan-400"}),(0,s._)("h2",jbt,(0,at.zw)(r.item.leads),1)])]),(0,s._)("td",Rbt,[(0,s._)("div",null,[(0,s._)("h2",Hbt,(0,at.zw)(r.item.products.name),1)])]),(0,s._)("td",Mbt,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Ybt={class:"tw-h-full"},Zbt={class:"tw-flex tw-items-center tw-gap-2"},Kbt={key:0};function Bbt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",Ybt,[(0,s._)("div",Zbt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",Kbt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const Jbt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Qbt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),Gbt={class:"tw-bg-white tw-p-4"},Xbt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},tvt={class:"tw-col-span-2 md:tw-col-span-1"},evt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),rvt=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),avt=["value"],svt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lvt={class:"tw-col-span-2 md:tw-col-span-1"},ovt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),ivt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nvt={class:"tw-col-span-2 md:tw-col-span-1"},wvt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),dvt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cvt={class:"tw-col-span-2 md:tw-col-span-1"},uvt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),pvt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),mvt=["value"],gvt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},hvt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},fvt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),bvt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),vvt=["value"],xvt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yvt={class:"md:tw-col-span-1 tw-col-span-2"},_vt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),kvt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Cvt={class:"tw-col-span-2"},Dvt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Svt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},zvt=["disabled"],Uvt=(0,s._)("span",null,"Update",-1);function Pvt(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Jbt,[Qbt,(0,s._)("div",Gbt,[(0,s._)("div",Xbt,[(0,s._)("div",tvt,[evt,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>o.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>o.items.source=t),class:(0,at.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-capitalize tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[rvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,at.zw)(t),9,avt)))),128))],34),[[a.bM,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",svt,(0,at.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",lvt,[ovt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,at.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",ivt,(0,at.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",nvt,[wvt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,at.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",dvt,(0,at.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",cvt,[uvt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,at.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[pvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,mvt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",gvt,(0,at.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",hvt,[fvt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,at.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[bvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,vvt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",xvt,(0,at.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",yvt,[_vt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,at.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",kvt,(0,at.zw)(o.errors.ads_at),1)]),(0,s._)("div",Cvt,[Dvt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",Svt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Uvt],8,zvt)])])])),_:1},8,["visible","onCancel"])])}const Lvt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),qvt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},Avt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Wvt=(t,e)=>{t.isLoading=!0,t.errors={},xft.update(e.id,e).then((e=>qvt(t,e.data))).catch((e=>Avt(t,e.response.data))).finally((()=>t.isLoading=!1))};var $vt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,sources:["facebook","google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=Lvt(this,this.items);if(!t)return!1;Wvt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const Evt=(0,m.Z)($vt,[["render",Pvt]]);var Tvt=Evt,Ovt={components:{UpdatePopup:Tvt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const Fvt=(0,m.Z)(Ovt,[["render",Bbt]]);var Ivt=Fvt,Vvt={components:{TableActions:Ivt},props:{item:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{}};const jvt=(0,m.Z)(Vvt,[["render",Nbt]]);var Rvt=jvt,Hvt={components:{TablePaginationNoNums:hbt,TableRow:Rvt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Mvt=(0,m.Z)(Hvt,[["render",tbt]]);var Nvt=Mvt;const Yvt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Zvt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Kvt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Bvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Jvt=[Bvt],Qvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),Gvt=[Qvt],Xvt=["disabled"],txt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),ext=[txt],rxt={class:"tw-relative"},axt=["value"],sxt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),lxt=[sxt],oxt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ixt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},nxt=["value"],wxt={class:"tw-overflow-hidden tw-col-span-1"},dxt={class:"tw-overflow-hidden tw-col-span-1"};function cxt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yvt,[(0,s._)("div",Zvt,[Kvt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Jvt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Gvt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ext,8,Xvt),(0,s._)("div",rxt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lxt,40,axt),oxt])]),(0,s._)("div",ixt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,nxt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wxt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",dxt,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const uxt={class:"tw-mb-4"},pxt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},mxt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},gxt={class:"tw-flex tw-items-center tw-justify-between"},hxt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},fxt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function bxt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",uxt,[(0,s._)("div",pxt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",mxt,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",gxt,[(0,s._)("span",hxt,(0,at.zw)(t.total),1),(0,s._)("span",fxt,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var vxt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wd.find((e=>e.value==t))}}};const xxt=(0,m.Z)(vxt,[["render",bxt]]);var yxt=xxt;const _xt={class:"tw-mb-4"},kxt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Cxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Dxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Sxt=["value"],zxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Uxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Pxt=["value"],Lxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),Axt=["value"],Wxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$xt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),Ext=["value"],Txt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Oxt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Fxt=(0,s._)("span",null,"Clear",-1),Ixt=[Oxt,Fxt],Vxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),jxt=(0,s._)("span",null,"Filter",-1),Rxt=[Vxt,jxt];function Hxt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),w=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",_xt,[(0,s._)("div",kxt,[(0,s._)("div",Cxt,[Dxt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Sxt)]),(0,s._)("div",zxt,[Uxt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Pxt)]),(0,s._)("div",Lxt,[qxt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Axt)]),(0,s._)("div",Wxt,[$xt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ext)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Txt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Ixt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Rxt)])])])}const Mxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Nxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),Yxt=["value"],Zxt=(0,s._)("option",{value:"all"},"All",-1),Kxt=["value"];function Bxt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Mxt,[Nxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Zxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Kxt)))),128))],40,Yxt)])}var Jxt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Qxt=(0,m.Z)(Jxt,[["render",Bxt]]);var Gxt=Qxt;const Xxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),eyt=["value"],ryt=(0,s._)("option",{value:"all"},"All",-1),ayt=["value"];function syt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Xxt,[tyt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ryt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,ayt)))),128))],40,eyt)])}var lyt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ma.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const oyt=(0,m.Z)(lyt,[["render",syt]]);var iyt=oyt;const nyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),dyt=["value"],cyt=(0,s._)("option",{value:"all"},"All",-1),uyt=["value"];function pyt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",nyt,[wyt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-capitalize tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,at.zw)(t),9,uyt)))),128))],40,dyt)])}var myt={props:{filters:{required:!0}},data(){return{sources:["facebook","google","tiktok","snapchat"]}}};const gyt=(0,m.Z)(myt,[["render",pyt]]);var hyt=gyt,fyt={components:{MarketerFilter:Gxt,ProductFilter:iyt,SourceFilter:hyt},props:{filters:{required:!0,default:{}}},data(){return{}}};const byt=(0,m.Z)(fyt,[["render",Hxt]]);var vyt=byt,xyt={components:{IndexStatistics:yxt,FiltersWrapper:vyt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const yyt=(0,m.Z)(xyt,[["render",cxt]]);var _yt=yyt;const kyt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Cyt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),Dyt={class:"tw-bg-white tw-p-4"},Syt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},zyt={class:"tw-col-span-2 md:tw-col-span-1"},Uyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),Pyt=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),Lyt=["value"],qyt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ayt={class:"tw-col-span-2 md:tw-col-span-1"},Wyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),$yt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Eyt={class:"tw-col-span-2 md:tw-col-span-1"},Tyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),Oyt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Fyt={class:"tw-col-span-2 md:tw-col-span-1"},Iyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),Vyt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),jyt=["value"],Ryt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Hyt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Myt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),Nyt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Yyt=["value"],Zyt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Kyt={class:"md:tw-col-span-1 tw-col-span-2"},Byt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),Jyt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qyt={class:"tw-col-span-2"},Gyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Xyt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},t_t=["disabled"],e_t=(0,s._)("span",null,"Create",-1);function r_t(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",kyt,[Cyt,(0,s._)("div",Dyt,[(0,s._)("div",Syt,[(0,s._)("div",zyt,[Uyt,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>o.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>o.items.source=t),class:(0,at.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Pyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,at.zw)(t),9,Lyt)))),128))],34),[[a.bM,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",qyt,(0,at.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ayt,[Wyt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,at.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",$yt,(0,at.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Eyt,[Tyt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,at.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",Oyt,(0,at.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",Fyt,[Iyt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>o.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),class:(0,at.C_)([[o.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Vyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,jyt)))),128))],34),[[a.bM,o.items.product_id]]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Ryt,(0,at.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Hyt,[Myt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,at.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Nyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Yyt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",Zyt,(0,at.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Kyt,[Byt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,at.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",Jyt,(0,at.zw)(o.errors.ads_at),1)]),(0,s._)("div",Qyt,[Gyt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",Xyt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),e_t],8,t_t)])])])),_:1},8,["visible","onCancel"])])}const a_t=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},s_t=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},l_t=(t,e)=>{t.isLoading=!0,t.errors={},xft.create(e).then((e=>a_t(t,e.data))).catch((e=>s_t(t,e.response.data))).finally((()=>t.isLoading=!1))};var o_t={components:{},props:{visible:{required:!0}},data(){return{isLoading:!1,sources:["facebook","google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:0,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=Lvt(this,this.items);if(!t)return!1;l_t(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ma.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const i_t=(0,m.Z)(o_t,[["render",r_t]]);var n_t=i_t,w_t={components:{IndexTable:Nvt,IndexFilters:_yt,CreatePopup:n_t},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,xft.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const d_t=(0,m.Z)(w_t,[["render",bft]]);var c_t=d_t,u_t={name:"ads",path:"/ads",component:va,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:c_t,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const p_t={class:"mb-5 tw-flex tw-justify-between tw-items-center"},m_t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),g_t=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),h_t={key:0},f_t={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},b_t={class:"tw-flex tw-items-center tw-gap-2"},v_t=(0,s._)("h1",null,"Application's email",-1),x_t={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},y_t=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),__t={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},k_t={class:"mb-5 tw-flex"},C_t={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},D_t={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},S_t={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},z_t=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),U_t={class:"tw-relative"},P_t={class:""};function L_t(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SheetsTable"),d=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",p_t,[m_t,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),g_t])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h_t,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",f_t,[(0,s._)("div",b_t,[v_t,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(ot.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",x_t,(0,at.zw)(o.email),1),y_t])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",__t,[(0,s._)("div",k_t,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",C_t,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",D_t,[(0,s._)("div",S_t,[z_t,(0,s._)("div",U_t,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",P_t,[(0,s.Wm)(w,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(d,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const q_t={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},A_t={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},W_t={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},$_t=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),E_t={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},T_t={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},O_t={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},F_t=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),I_t=["value"],V_t={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},j_t={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},R_t={class:"tw-text-white"};function H_t(t,e,r,l,o,i){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",q_t,[(0,s._)("table",A_t,[(0,s._)("thead",W_t,[(0,s._)("tr",null,[$_t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",E_t,(0,at.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",T_t,[(0,s._)("div",O_t,[F_t,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,I_t)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",V_t,[(0,s._)("div",j_t,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,at.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",R_t,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const M_t={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},N_t=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Y_t={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Z_t={class:"tw-px-6 tw-py-4"},K_t={class:"tw-px-6 tw-py-4"},B_t={class:"tw-max-w-[120px] tw-truncate"},J_t={class:"tw-px-6 tw-py-4"},Q_t={class:"tw-max-w-[120px] tw-truncate"},G_t={class:"tw-px-6 tw-py-4"},X_t={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},tkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},ekt=["disabled"],rkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),akt={class:"tw-px-6 tw-py-4"},skt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function lkt(t,e,r,l,o,i){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",M_t,[N_t,(0,s._)("th",Y_t,(0,at.zw)(r.sheet.id),1),(0,s._)("td",Z_t,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,at.zw)(r.sheet.name),1)])]),(0,s._)("td",K_t,[(0,s._)("div",B_t,(0,at.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",J_t,[(0,s._)("div",Q_t,(0,at.zw)(r.sheet.user_name),1)]),(0,s._)("td",G_t,[(0,s._)("div",X_t,[(0,s._)("label",tkt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,ekt),[[a.e8,i.autoFetch]]),rkt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",akt,(0,at.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",skt,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const okt={key:0};function ikt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),w=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",okt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:(0,at.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const nkt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},wkt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),dkt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},ckt={class:"md:tw-col-span-6 tw-col-span-12"},ukt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),pkt={class:"md:tw-col-span-6 tw-col-span-12"},mkt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),gkt={class:"md:tw-col-span-12 tw-col-span-12"},hkt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),fkt={class:"md:tw-col-span-6 tw-col-span-12"},bkt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),vkt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xkt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),ykt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},_kt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),kkt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Ckt(t,e,r,l,o,i){const n=(0,s.up)("SelectUser"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[6]||(e[6]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",nkt,[wkt,(0,s._)("div",dkt,[(0,s.Wm)(n,{"user-id":o.newSheet.user_id,"onUpdate:user-id":e[0]||(e[0]=t=>o.newSheet.user_id=t)},null,8,["user-id"]),(0,s._)("div",ckt,[ukt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",pkt,[mkt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",gkt,[hkt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",fkt,[bkt,(0,s._)("label",vkt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),xkt])])]),(0,s._)("div",ykt,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[_kt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[kkt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}const Dkt={class:"md:tw-col-span-12 tw-col-span-12 tw-mb-4"},Skt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Marketer",-1),zkt=["value"],Ukt=(0,s._)("option",{selected:"",value:""},"Select",-1),Pkt=["value"],Lkt={key:1,class:"tw-py-2 tw-h-[42.5px] tw-animate-pulse tw-bg-neutral-100 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-200 focus:tw-border-orange-500"};var qkt={__name:"SelectUser",props:["userId"],emits:["update:user-id"],setup(t,{emit:e}){const r=t,a=(0,s.Fl)((()=>X.getters["user/users"].filter((t=>"marketer"==t.role.name)))),l=(0,s.Fl)((()=>X.getters["user/fetched"]));return(t,o)=>((0,s.wg)(),(0,s.iD)("div",Dkt,[Skt,(0,be.SU)(l)?((0,s.wg)(),(0,s.iD)("select",{key:0,value:r.userId,onChange:o[0]||(o[0]=t=>e("update:user-id",t.target.value)),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Ukt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(a),(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,Pkt)))),128))],40,zkt)):(0,s.kq)("",!0),(0,be.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lkt))]))}};const Akt=qkt;var Wkt=Akt,$kt={props:["visible","sheet"],components:{SelectUser:Wkt},data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0,user_id:null}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;ua.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Ekt=(0,m.Z)($kt,[["render",Ckt]]);var Tkt=Ekt;const Okt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Fkt={key:0},Ikt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Vkt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),jkt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},Rkt={class:"tw-relative tw-overflow-x-auto"},Hkt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},Mkt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Nkt={class:"tw-px-6 tw-py-2"},Ykt={class:"tw-px-6 tw-py-2"},Zkt={class:"tw-px-6 tw-py-2"},Kkt={class:"tw-px-6 tw-py-2"},Bkt={class:"tw-px-6 tw-py-2"},Jkt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Qkt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Gkt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function Xkt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Okt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Fkt,[(0,s._)("div",Ikt,[Vkt,(0,s._)("div",jkt,(0,at.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",Rkt,[(0,s._)("table",Hkt,[Mkt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Nkt,(0,at.zw)(t["Full name"]),1),(0,s._)("td",Ykt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,at.zw)(t),1)))),128))])]),(0,s._)("td",Zkt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,at.zw)(t),1)))),128))])]),(0,s._)("td",Kkt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,at.zw)(t),1)))),128))])]),(0,s._)("td",Bkt,(0,at.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",Jkt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Qkt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Gkt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var tCt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,ua.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const eCt=(0,m.Z)(tCt,[["render",Xkt]]);var rCt=eCt,aCt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:Tkt,SheetOrders:rCt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,ua["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,ua.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const sCt=(0,m.Z)(aCt,[["render",ikt]]);var lCt=sCt,oCt={props:["sheet"],components:{SheetActions:lCt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,ua.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const iCt=(0,m.Z)(oCt,[["render",lkt]]);var nCt=iCt,wCt={props:["sheets"],components:{SheetRow:nCt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","Marketer","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const dCt=(0,m.Z)(wCt,[["render",H_t]]);var cCt=dCt;const uCt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},pCt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),mCt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},gCt={class:"md:tw-col-span-6 tw-col-span-12"},hCt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),fCt={class:"md:tw-col-span-6 tw-col-span-12"},bCt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),vCt={class:"md:tw-col-span-12 tw-col-span-12"},xCt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),yCt={class:"md:tw-col-span-6 tw-col-span-12"},_Ct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),kCt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},CCt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),DCt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},SCt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zCt=(0,s._)("span",{class:"text-white"}," Save ",-1);function UCt(t,e,r,l,o,i){const n=(0,s.up)("SelectUser"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[6]||(e[6]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",uCt,[pCt,(0,s._)("div",mCt,[(0,s.Wm)(n,{"user-id":o.sheet.user_id,"onUpdate:user-id":e[0]||(e[0]=t=>o.sheet.user_id=t)},null,8,["user-id"]),(0,s._)("div",gCt,[hCt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",fCt,[bCt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",vCt,[xCt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",yCt,[_Ct,(0,s._)("label",kCt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),CCt])])]),(0,s._)("div",DCt,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[SCt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zCt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var PCt={components:{SelectUser:Wkt},props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0,user_id:null}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;ua.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const LCt=(0,m.Z)(PCt,[["render",UCt]]);var qCt=LCt,ACt={components:{SheetsTable:cCt,AddSheet:qCt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,ua.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const WCt=(0,m.Z)(ACt,[["render",L_t]]);var $Ct=WCt,ECt={name:"sheets",path:"/sheets",component:va,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:$Ct,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const TCt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},OCt={class:"tw-px-3"},FCt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ICt={class:"tw-flex tw-items-center tw-gap-x-3"},VCt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),jCt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},RCt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),HCt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},MCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),NCt=(0,s._)("span",null,"Create",-1),YCt=[MCt,NCt],ZCt={key:1};function KCt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",TCt,[(0,s._)("section",OCt,[(0,s._)("div",FCt,[(0,s._)("div",null,[(0,s._)("div",ICt,[VCt,(0,s._)("span",jCt,(0,at.zw)(l.totalOrders)+" order",1)]),RCt]),(0,s._)("div",HCt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},YCt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",ZCt,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const BCt={class:"tw-mb-4"},JCt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},QCt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},GCt={class:"tw-flex tw-items-center tw-gap-2"},XCt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},tDt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),eDt={class:"tw-flex tw-items-center tw-gap-2"},rDt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),aDt=(0,s._)("span",null," Clear Selection ",-1),sDt=[rDt,aDt],lDt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),oDt=(0,s._)("span",null," Actions ",-1),iDt=[lDt,oDt],nDt={key:0};function wDt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",BCt,[(0,s._)("div",JCt,[(0,s._)("div",QCt,[(0,s._)("div",GCt,[(0,s._)("div",XCt,(0,at.zw)(r.selected.length),1),tDt]),(0,s._)("div",eDt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},sDt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},iDt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",nDt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const dDt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},cDt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},uDt=(0,s._)("span",null,"Quick Actions",-1),pDt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},mDt={class:"tw-bg-white tw-p-4"},gDt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},hDt={class:"tw-col-span-2 md:tw-col-span-1"},fDt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},bDt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},vDt=(0,s._)("span",null,"Apply",-1);function xDt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",dDt,[(0,s._)("div",cDt,[uDt,(0,s._)("span",pDt,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",mDt,[(0,s._)("div",gDt,[(0,s._)("div",hDt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",fDt,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",bDt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),vDt])])])])),_:1},8,["visible","closeable","onCancel"])])}const yDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),_Dt={class:"tw-relative"},kDt=["value"],CDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function DDt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[yDt,(0,s._)("div",_Dt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,kDt)))),128))],512),[[a.bM,i.vaction]]),CDt]),(0,s.kq)("",!0)])}var SDt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const zDt=(0,m.Z)(SDt,[["render",DDt]]);var UDt=zDt;const PDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),LDt={class:"tw-relative"},qDt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),ADt=["value"],WDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function $Dt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[PDt,(0,s._)("div",LDt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[qDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,ADt)))),128))],512),[[a.bM,i.vvalue]]),WDt]),(0,s.kq)("",!0)])}var EDt={props:{value:{required:!0}},data(){return{statuses:Ed}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const TDt=(0,m.Z)(EDt,[["render",$Dt]]);var ODt=TDt,FDt=(t,e)=>{t.isLoading=!0,sK.execute(e).then((e=>IDt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const IDt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var VDt={components:{BulkSelectAction:UDt,BulkDeliveryAction:ODt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};FDt(this,t)}}};const jDt=(0,m.Z)(VDt,[["render",xDt]]);var RDt=jDt,HDt={components:{BulkPopup:RDt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const MDt=(0,m.Z)(HDt,[["render",wDt]]);var NDt=MDt,YDt={components:{IndexTable:YX,IndexFilters:W1,CreatePopup:W2,BulkActions:NDt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,di.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=oo(t.first_page_url),this.lase_page_url=oo(t.last_page_url),this.next_page_url=oo(t.next_page_url),this.prev_page_url=oo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const ZDt=(0,m.Z)(YDt,[["render",KCt]]);var KDt=ZDt,BDt={path:"/followup",name:"followup",component:va,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:KDt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const JDt={class:"tw-pb-40"},QDt={class:"tw-space-y-3"};function GDt(t,e,r,a,l,o){const i=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",JDt,[(0,s._)("div",QDt,[(0,s.Wm)(i),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const XDt={class:"tw-bg-white tw-p-5"},tSt={class:"tw-flex tw-items-center tw-justify-between"},eSt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),rSt={class:"tw-relative tw-flex tw-items-center"},aSt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),sSt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},lSt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),oSt={key:0,class:""},iSt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},nSt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),wSt=[nSt],dSt={key:1,class:"tw-min-h-[50px]"},cSt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},uSt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},pSt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},mSt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},gSt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},hSt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},fSt={class:"tw-font-bold"},bSt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},vSt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},xSt={key:1},ySt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},_St={key:1,class:"tw-flex tw-items-center tw-gap-2"};function kSt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",XDt,[(0,s._)("div",tSt,[eSt,(0,s._)("div",rSt,[aSt,(0,s._)("label",sSt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),lSt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",oSt,[(0,s._)("div",iSt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},wSt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",dSt,[(0,s._)("div",cSt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",uSt,[(0,s._)("div",pSt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",gSt)):((0,s.wg)(),(0,s.iD)("div",hSt)):((0,s.wg)(),(0,s.iD)("div",mSt)),(0,s._)("span",fSt,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1)]),(0,s._)("div",bSt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",xSt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",ySt," Online ")):((0,s.wg)(),(0,s.iD)("div",_St,(0,at.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",vSt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var CSt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?_e()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?_e()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,ws.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const DSt=(0,m.Z)(CSt,[["render",kSt]]);var SSt=DSt;const zSt={class:"tw-bg-white"},USt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},PSt={class:"tw-p-5"};function LSt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",zSt,[(0,s._)("div",USt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,at.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,at.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",PSt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const qSt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ASt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),WSt=[ASt],$St={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function ESt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",qSt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},WSt))),64))])):((0,s.wg)(),(0,s.iD)("div",$St,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const TSt={class:"tw-flex tw-justify-between"},OSt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},FSt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ISt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},VSt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function jSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",TSt,[(0,s._)("div",null,[(0,s._)("div",OSt,[(0,s._)("p",FSt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ISt,[(0,s._)("span",VSt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var RSt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const HSt=(0,m.Z)(RSt,[["render",jSt]]);var MSt=HSt,NSt={components:{DashboardCard:MSt},props:{statistics:{required:!0},fetching:{required:!0}}};const YSt=(0,m.Z)(NSt,[["render",ESt]]);var ZSt=YSt;const KSt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},BSt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),JSt=[BSt],QSt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function GSt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",KSt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},JSt))),64))])):((0,s.wg)(),(0,s.iD)("div",QSt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var XSt={components:{DashboardCard:MSt},props:{statistics:{required:!0},fetching:{required:!0}}};const tzt=(0,m.Z)(XSt,[["render",GSt]]);var ezt=tzt,rzt={components:{ConfirmationTab:ZSt,DeliveryTab:ezt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const azt=(0,m.Z)(rzt,[["render",LSt]]);var szt=azt;const lzt={class:"tw-bg-white tw-p-5"},ozt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),izt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},nzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wzt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),dzt=(0,s._)("option",{value:"all",selected:""},"All",-1),czt=["value"],uzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pzt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),mzt=(0,s._)("option",{value:"all",selected:""},"All",-1),gzt=["value"],hzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fzt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),bzt=(0,s._)("option",{value:"all",selected:""},"All",-1),vzt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),xzt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),yzt=[bzt,vzt,xzt],_zt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},kzt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Czt=(0,s._)("span",null,"Clear",-1),Dzt=[kzt,Czt],Szt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),zzt=(0,s._)("span",null,"Filter",-1),Uzt=[Szt,zzt];function Pzt(t,e,r,l,o,i){const n=(0,s.up)("DateFilter"),w=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",lzt,[ozt,(0,s._)("div",izt,[(0,s.Wm)(n,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(w,{filters:o.filters,onUpdate:e[6]||(e[6]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",nzt,[wzt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,czt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[8]||(e[8]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",uzt,[pzt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[mzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,gzt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[10]||(e[10]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",hzt,[fzt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},yzt,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",_zt,[(0,s._)("button",{onClick:e[12]||(e[12]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Dzt),(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Uzt)])])])}const Lzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qzt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Azt=["value"],Wzt=(0,s._)("option",{value:"all"},"All",-1),$zt=(0,s._)("option",{value:""},"No Delivery",-1),Ezt=["value"];function Tzt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Lzt,[qzt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Wzt,$zt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Ezt)))),128))],40,Azt)])}var Ozt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Fzt=(0,m.Z)(Ozt,[["render",Tzt]]);var Izt=Fzt;const Vzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jzt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Rzt=["value"],Hzt=(0,s._)("option",{value:"all"},"All",-1),Mzt=(0,s._)("option",{value:""},"No Agent",-1),Nzt=["value"];function Yzt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Vzt,[jzt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Hzt,Mzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Nzt)))),128))],40,Rzt)])}var Zzt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Kzt=(0,m.Z)(Zzt,[["render",Yzt]]);var Bzt=Kzt;const Jzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Qzt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function Gzt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",Jzt,[Qzt,(0,s.Wm)(i,{reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var Xzt={components:{"vue-select":sY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const tUt=(0,m.Z)(Xzt,[["render",Gzt]]);var eUt=tUt;const rUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aUt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sUt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),lUt=[sUt],oUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iUt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},nUt=["value"],wUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dUt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},cUt=["value"];function uUt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",rUt,[(0,s._)("label",aUt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},lUt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",oUt,[(0,s._)("label",iUt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,nUt)]),(0,s._)("div",wUt,[(0,s._)("label",dUt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,cUt)])],64)):(0,s.kq)("",!0)],64)}var pUt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=_e()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=_e()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=_e()().startOf("month").format("YYYY-MM-DD"),a=_e()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=_e()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=_e()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const mUt=(0,m.Z)(pUt,[["render",uUt]]);var gUt=mUt,hUt={components:{AffectationFilter:Izt,AgentFilter:Bzt,ProductFilter:eUt,DateFilter:gUt},props:{},data(){return{confirmations:qd,deliveries:Ed,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const fUt=(0,m.Z)(hUt,[["render",Pzt]]);var bUt=fUt;const vUt={key:0},xUt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function yUt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",vUt,[(0,s._)("div",xUt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const _Ut={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},kUt={class:"tw-flex tw-justify-between"},CUt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},DUt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},SUt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},zUt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function UUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_Ut,[(0,s._)("div",kUt,[(0,s._)("div",null,[(0,s._)("div",CUt,[(0,s._)("p",DUt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",SUt,[(0,s._)("span",zUt,(0,at.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var PUt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const LUt=(0,m.Z)(PUt,[["render",UUt]]);var qUt=LUt,AUt={components:{RevenueCard:qUt},props:{statistics:{required:!0},fetching:{required:!0}}};const WUt=(0,m.Z)(AUt,[["render",yUt]]);var $Ut=WUt,EUt={components:{OnlineUsers:SSt,IndexStatistics:szt,IndexFilters:bUt,IndexRevenue:$Ut},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,xp.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const TUt=(0,m.Z)(EUt,[["render",GDt]]);var OUt=TUt;function FUt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])}const IUt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},VUt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),jUt=[VUt];function RUt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",IUt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},jUt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const HUt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},MUt={class:"tw-flex tw-justify-between"},NUt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YUt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},ZUt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},KUt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function BUt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HUt,[(0,s._)("div",MUt,[(0,s._)("div",null,[(0,s._)("div",NUt,[(0,s._)("p",YUt,(0,at.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ZUt,[(0,s._)("span",KUt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var JUt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const QUt=(0,m.Z)(JUt,[["render",BUt]]);var GUt=QUt,XUt={components:{DashCard:GUt},props:{statistics:{required:!0},fetching:{required:!0}}};const tPt=(0,m.Z)(XUt,[["render",RUt]]);var ePt=tPt;const rPt={class:"tw-bg-white tw-p-5"},aPt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),sPt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},lPt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},oPt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),iPt=(0,s._)("span",null,"Clear",-1),nPt=[oPt,iPt],wPt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),dPt=(0,s._)("span",null,"Filter",-1),cPt=[wPt,dPt];function uPt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",rPt,[aPt,(0,s._)("div",sPt,[(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",lPt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},nPt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},cPt)])])])}const pPt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mPt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},gPt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),hPt=[gPt],fPt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bPt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},vPt=["value"],xPt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yPt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},_Pt=["value"];function kPt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",pPt,[(0,s._)("label",mPt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},hPt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",fPt,[(0,s._)("label",bPt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,vPt)]),(0,s._)("div",xPt,[(0,s._)("label",yPt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,_Pt)])],64)):(0,s.kq)("",!0)],64)}var CPt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=_e()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=_e()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=_e()().startOf("month").format("YYYY-MM-DD"),a=_e()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=_e()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=_e()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const DPt=(0,m.Z)(CPt,[["render",kPt]]);var SPt=DPt,zPt={components:{DateFilter:SPt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={dropped_from:null,dropped_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const UPt=(0,m.Z)(zPt,[["render",uPt]]);var PPt=UPt,LPt={components:{IndexStatistics:ePt,IndexFilters:PPt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,O.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const qPt=(0,m.Z)(LPt,[["render",FUt]]);var APt=qPt;const WPt={class:"tw-p-5 tw-relative"},$Pt={class:"tw-flex tw-justify-between"},EPt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Cost Per Lead",-1),TPt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},OPt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),FPt={class:"tw-flex tw-justify-between tw-items-center"},IPt={class:"tw-flex tw-w-full"},VPt=(0,s._)("span",null,"Custom",-1),jPt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},RPt={key:0},HPt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var MPt={__name:"AmountPerLead",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=async(t=null,a=null,s="lastsevendays")=>{const i=sessionStorage.getItem("cachedAmountPerLead");let n=null;i&&(n=JSON.parse(i),n.date_avant===t&&n.date_apres===a&&n.period===s&&(e.value=n.amount_per_lead,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),n&&n.date_avant===t&&n.date_apres===a&&n.period===s||(r.value=!0,w.value=!0),await yr.AmountPerLead(t,a,s).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,amount_per_lead:l.data.data.amount_per_lead};n&&JSON.stringify(n.amount_per_lead)===JSON.stringify(o.amount_per_lead)?w.value=!1:(sessionStorage.setItem("cachedAmountPerLead",JSON.stringify(o)),e.value=l.data.data.amount_per_lead,w.value=!0),w.value=!1,r.value=!1}}))};d();var c=(0,s.Fl)((()=>r.value?null:{series:[{name:"CPL",data:e.value.map((t=>t?t.average_cost_per_lead:null))}],chart:{type:"area",stacked:!0},theme:{palette:"palette5"},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},xaxis:{categories:e.value.map((t=>t.date)),labels:{}},yaxis:{labels:{formatter:function(t){return t.toFixed(2)}}},dataLabels:{formatter:function(t){return t.toFixed(2)}},legend:{position:"top",horizontalAlign:"left"}}));return(t,e)=>{const u=(0,s.up)("Loading"),p=(0,s.up)("icon"),m=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",WPt,[(0,s._)("div",$Pt,[EPt,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",TPt,[(0,s.Wm)(u,{class:"tw-scale-50"}),OPt])):(0,s.kq)("",!0)]),(0,s._)("div",FPt,[(0,s._)("div",IPt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>d(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>d(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>d(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>d(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>d(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(p,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),VPt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jPt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>d(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),r.value?((0,s.wg)(),(0,s.iD)("div",HPt,[(0,s.Wm)(u)])):((0,s.wg)(),(0,s.iD)("div",RPt,[(0,s.Wm)(m,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])}}};const NPt=MPt;var YPt=NPt;const ZPt={class:"tw-p-5 tw-relative"},KPt={class:"tw-flex tw-justify-between"},BPt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Leads Per Day",-1),JPt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},QPt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),GPt={class:"tw-flex tw-justify-between tw-items-center"},XPt={class:"tw-flex tw-w-full"},tLt=(0,s._)("span",null,"Custom",-1),eLt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},rLt={key:0},aLt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var sLt={__name:"LeadsChart",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=async(t=null,a=null,s="lastsevendays")=>{const i=sessionStorage.getItem("cachedLeadPerDay");let n=null;i&&(n=JSON.parse(i),n.date_avant===t&&n.date_apres===a&&n.period===s&&(e.value=n.leads_per_day,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),n&&n.date_avant===t&&n.date_apres===a&&n.period===s||(r.value=!0,w.value=!0),await yr.LeadsPerDay(t,a,s).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,leads_per_day:l.data.data.leads_per_day};n&&JSON.stringify(n.leads_per_day)===JSON.stringify(o.leads_per_day)?w.value=!1:(sessionStorage.setItem("cachedLeadPerDay",JSON.stringify(o)),e.value=l.data.data.leads_per_day,console.log(e.value),w.value=!0),w.value=!1,r.value=!1}}))};d();var c=(0,s.Fl)((()=>r.value?null:{series:[{name:"Leads",data:e.value?e.value.map((t=>t?t.leads:null)):[]}],chart:{type:"line",stacked:!0},stroke:{curve:"straight"},dataLabels:{formatter:()=>""},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:e.value.map((t=>t.date)),labels:{}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"}}));return(t,e)=>{const u=(0,s.up)("Loading"),p=(0,s.up)("icon"),m=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",ZPt,[(0,s._)("div",KPt,[BPt,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",JPt,[(0,s.Wm)(u,{class:"tw-scale-50"}),QPt])):(0,s.kq)("",!0)]),(0,s._)("div",GPt,[(0,s._)("div",XPt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>d(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>d(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>d(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>d(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>d(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(p,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),tLt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",eLt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>d(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),r.value?((0,s.wg)(),(0,s.iD)("div",aLt,[(0,s.Wm)(u)])):((0,s.wg)(),(0,s.iD)("div",rLt,[(0,s.Wm)(m,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])}}};const lLt=sLt;var oLt=lLt;const iLt={class:"tw-flex"},nLt={class:"tw-p-5 tw-w-full tw-relative"},wLt={class:"tw-flex tw-justify-between"},dLt=(0,s._)("h1",{class:"tw-text-xl tw-font-medium tw-py-2"},"Sources",-1),cLt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},uLt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),pLt={key:0},mLt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var gLt={__name:"SourceDonutsCharts",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),a=(0,be.iH)(!0),l=async()=>{const t=sessionStorage.getItem("cachedstatusdonutmarketer");let s=null;t&&(s=JSON.parse(t),e.value=s.confirmation_state_donuts,r.value=!1),await yr.ConfirmationStatesDonuts().then((t=>{if("SUCCESS"==t.data.code){const l={confirmation_state_donuts:t.data.data.confirmation_state_donuts[0]};s&&JSON.stringify(s.confirmation_state_donuts)===JSON.stringify(l.confirmation_state_donuts)?a.value=!1:(sessionStorage.setItem("cachedstatusdonutmarketer",JSON.stringify(l)),e.value=t.data.data.confirmation_state_donuts[0],a.value=!0),a.value=!1,r.value=!1}}))};l();var o=(0,s.Fl)((()=>r.value?null:{series:e.value.source_for_marketer.map((t=>t.total)),chart:{type:"donut"},fill:{colors:["#F44336","#E91E63","#9C27B0","#9C27B5"]},legend:{position:"top",horizontalAlign:"left"},labels:e.value.source_for_marketer.map((t=>t.source))}));return(t,e)=>{const l=(0,s.up)("Loading"),i=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",iLt,[(0,s._)("div",nLt,[(0,s._)("div",wLt,[dLt,a.value?((0,s.wg)(),(0,s.iD)("div",cLt,[(0,s.Wm)(l,{class:"tw-scale-50"}),uLt])):(0,s.kq)("",!0)]),r.value?((0,s.wg)(),(0,s.iD)("div",mLt,[(0,s.Wm)(l)])):((0,s.wg)(),(0,s.iD)("div",pLt,[(0,s.Wm)(i,{height:400,series:(0,be.SU)(o).series,chart:(0,be.SU)(o).chart,options:(0,be.SU)(o)},null,8,["series","chart","options"])]))])])}}};const hLt=gLt;var fLt=hLt;const bLt={class:"tw-p-5 tw-relative"},vLt={class:"tw-flex tw-justify-between"},xLt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Spent Per Day",-1),yLt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-2"},_Lt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),kLt={class:"tw-flex tw-gap-2 tw-flex-col"},CLt={class:"tw-flex tw-w-full"},DLt=(0,s._)("span",null,"Custom",-1),SLt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},zLt={key:0},ULt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var PLt={__name:"CostPerDay",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=async(t=null,a=null,s="lastsevendays")=>{const i=sessionStorage.getItem("cachedCostPerDay");let n=null;i&&(n=JSON.parse(i),n.date_avant===t&&n.date_apres===a&&n.period===s&&(e.value=n.cost_per_day,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),n&&n.date_avant===t&&n.date_apres===a&&n.period===s||(r.value=!0,w.value=!0),await yr.CostPerDay(t,a,s).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,cost_per_day:l.data.data.cost_per_day};n&&JSON.stringify(n.cost_per_day)===JSON.stringify(o.cost_per_day)?w.value=!1:(sessionStorage.setItem("cachedCostPerDay",JSON.stringify(o)),e.value=l.data.data.cost_per_day,console.log(e.value),w.value=!0),w.value=!1,r.value=!1}}))};d();var c=(0,s.Fl)((()=>r.value?null:{series:[{name:"Spent",data:e.value.map((t=>t?t.cost:null))}],chart:{type:"bar",stacked:!0},theme:{palette:"palette9"},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:()=>""},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:e.value.map((t=>t.date)),labels:{}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"},yaxis:{labels:{formatter:function(t){return t+"$"}}}}));return(t,e)=>{const u=(0,s.up)("Loading"),p=(0,s.up)("icon"),m=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",bLt,[(0,s._)("div",vLt,[xLt,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",yLt,[(0,s.Wm)(u,{class:"tw-scale-50"}),_Lt])):(0,s.kq)("",!0)]),(0,s._)("div",kLt,[(0,s._)("div",CLt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>d(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>d(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>d(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>d(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>d(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(p,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),DLt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",SLt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>d(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),r.value?((0,s.wg)(),(0,s.iD)("div",ULt,[(0,s.Wm)(u)])):((0,s.wg)(),(0,s.iD)("div",zLt,[(0,s.Wm)(m,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])}}};const LLt=PLt;var qLt=LLt;const ALt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},WLt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),$Lt=[WLt],ELt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function TLt(t,e,r,a,l,o){const i=(0,s.up)("CardsMarketer");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",ALt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-border tw-border-dashed tw-border-neutral-200 tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},$Lt))),64))])):((0,s.wg)(),(0,s.iD)("div",ELt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const OLt={class:"tw-flex tw-justify-between"},FLt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ILt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},VLt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},jLt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function RLt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",OLt,[(0,s._)("div",null,[(0,s._)("div",FLt,[(0,s._)("p",ILt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",VLt,[(0,s._)("span",jLt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var HLt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const MLt=(0,m.Z)(HLt,[["render",RLt]]);var NLt=MLt,YLt={components:{CardsMarketer:NLt},props:{statistics:{required:!0},fetching:{required:!0}}};const ZLt=(0,m.Z)(YLt,[["render",TLt]]);var KLt=ZLt;const BLt={class:"tw-grid tw-grid-cols-12 tw-gap-2"},JLt={class:"tw-col-span-12"},QLt={class:"tw-col-span-4 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},GLt={class:"tw-col-span-8 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},XLt={class:"tw-col-span-12 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},tqt={class:"tw-col-span-12 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"};var eqt={__name:"DashboardView",setup(t){const e=(0,be.iH)(null),r=(0,be.iH)(null),a=(0,be.iH)(null),l=()=>{r.value=!0,yr.statistics(a.value).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.data.statistics,r.value=!1)}))};return l(),(t,a)=>((0,s.wg)(),(0,s.iD)("div",BLt,[(0,s._)("div",JLt,[(0,s.Wm)((0,be.SU)(KLt),{statistics:e.value,fetching:r.value},null,8,["statistics","fetching"])]),(0,s._)("div",QLt,[(0,s.Wm)((0,be.SU)(fLt))]),(0,s._)("div",GLt,[(0,s.Wm)((0,be.SU)(qLt))]),(0,s._)("div",XLt,[(0,s.Wm)((0,be.SU)(oLt))]),(0,s._)("div",tqt,[(0,s.Wm)((0,be.SU)(YPt))])]))}};const rqt=eqt;var aqt=rqt;const sqt={class:"tw-pb-40"},lqt={class:"tw-space-y-3"};function oqt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",sqt,[(0,s._)("div",lqt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const iqt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},nqt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),wqt=[nqt],dqt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function cqt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",iqt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},wqt))),64))])):((0,s.wg)(),(0,s.iD)("div",dqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const uqt={class:"tw-flex tw-justify-between"},pqt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},mqt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},gqt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},hqt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function fqt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",uqt,[(0,s._)("div",null,[(0,s._)("div",pqt,[(0,s._)("p",mqt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",gqt,[(0,s._)("span",hqt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var bqt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const vqt=(0,m.Z)(bqt,[["render",fqt]]);var xqt=vqt,yqt={components:{DashboardCard:xqt},props:{analytics:{required:!0},fetching:{required:!0}}};const _qt=(0,m.Z)(yqt,[["render",cqt]]);var kqt=_qt;const Cqt={class:"tw-bg-white tw-p-5"},Dqt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),Sqt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},zqt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Uqt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Pqt=(0,s._)("span",null,"Clear",-1),Lqt=[Uqt,Pqt],qqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Aqt=(0,s._)("span",null,"Filter",-1),Wqt=[qqt,Aqt];function $qt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),w=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",Cqt,[Dqt,(0,s._)("div",Sqt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",zqt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Lqt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Wqt)])])])}const Eqt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Tqt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),Oqt=["value"],Fqt=(0,s._)("option",{value:"all"},"All",-1),Iqt=["value"];function Vqt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Eqt,[Tqt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Fqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Iqt)))),128))],40,Oqt)])}var jqt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Rqt=(0,m.Z)(jqt,[["render",Vqt]]);var Hqt=Rqt;const Mqt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Nqt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Yqt=["value"],Zqt=(0,s._)("option",{value:"all"},"All",-1),Kqt=["value"];function Bqt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Mqt,[Nqt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Zqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,Kqt)))),128))],40,Yqt)])}var Jqt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const Qqt=(0,m.Z)(Jqt,[["render",Bqt]]);var Gqt=Qqt;const Xqt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tAt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},eAt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),rAt=[eAt],aAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sAt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},lAt=["value"],oAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iAt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},nAt=["value"];function wAt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Xqt,[(0,s._)("label",tAt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},rAt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",aAt,[(0,s._)("label",sAt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,lAt)]),(0,s._)("div",oAt,[(0,s._)("label",iAt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,nAt)])],64)):(0,s.kq)("",!0)],64)}var dAt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=_e()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=_e()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=_e()().startOf("month").format("YYYY-MM-DD"),a=_e()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=_e()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=_e()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const cAt=(0,m.Z)(dAt,[["render",wAt]]);var uAt=cAt,pAt={components:{SellerFilter:Hqt,ProductFilter:Gqt,DateFilter:uAt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const mAt=(0,m.Z)(pAt,[["render",$qt]]);var gAt=mAt,hAt={components:{IndexAnalytics:kqt,IndexFilters:gAt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,xp.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const fAt=(0,m.Z)(hAt,[["render",oqt]]);var bAt=fAt;const vAt={class:"tw-p-5 tw-relative"},xAt={class:"tw-flex tw-justify-between"},yAt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Top Selling Product",-1),_At={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},kAt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),CAt={class:"tw-flex tw-justify-between tw-items-center"},DAt=(0,s._)("option",{value:"5"},"5",-1),SAt=(0,s._)("option",{value:"10"},"10",-1),zAt=(0,s._)("option",{value:"15"},"15",-1),UAt=(0,s._)("option",{value:"20"},"20",-1),PAt=[DAt,SAt,zAt,UAt],LAt={key:1},qAt={key:2,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var AAt={__name:"TopProductChart",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!1),l=(0,be.iH)("lastsevendays"),o=(0,be.iH)(10),i=(0,be.iH)(80),n=((0,be.iH)(null),(0,be.iH)(null),(0,be.iH)(!0)),w=(0,be.iH)(!0);function d(t,e){const r=Object.keys(t).slice(0,e),a={};return r.forEach((e=>{a[e]=t[e]})),a}const c=async(t=null,a=null,s="lastsevendays",o=null,i=10)=>{const c=sessionStorage.getItem("cachedTopProduct");let u=null;c&&(u=JSON.parse(c),u.date_avant===t&&u.date_apres===a&&u.period===s&&u.selectedOption===o&&(e.value=u.topProducts,n.value=!1)),t&&a?l.value=null:(r.value=!1,l.value=s),u&&u.date_avant===t&&u.date_apres===a&&u.period===s&&u.selectedOption===o||(n.value=!0,w.value=!0),await yr.TopProductSelles(t,a,s,o).then((r=>{if("SUCCESS"===r.data.code){const l={date_avant:t,date_apres:a,period:s,selectedOption:o,topProducts:Object.values(d(r.data.data.topProducts,i))};u&&JSON.stringify(u.topProducts)===JSON.stringify(l.topProducts)?w.value=!1:(sessionStorage.setItem("cachedTopProduct",JSON.stringify(l)),e.value=l.topProducts,w.value=!0),w.value=!1,n.value=!1}}))};c(o.value);var u=(0,s.Fl)((()=>{const t=[{name:"Total Orders",data:e.value.map((t=>t.total_orders))},{name:"Total Quantity",data:e.value.map((t=>t.total_quantity))}];return{series:t,chart:{type:"bar"},plotOptions:{bar:{horizontal:!0}},xaxis:{type:"category",categories:e.value.map((t=>t.product_name))},theme:{palette:"palette8"},stroke:{curve:"smooth"},fill:{height:1},legend:{position:"top",horizontalAlign:"left"}}}));return(t,e)=>{const r=(0,s.up)("Loading"),l=((0,s.up)("icon"),(0,s.up)("apexchart"));return(0,s.wg)(),(0,s.iD)("div",vAt,[(0,s._)("div",xAt,[yAt,w.value&&!n.value?((0,s.wg)(),(0,s.iD)("div",_At,[(0,s.Wm)(r,{class:"tw-scale-50"}),kAt])):(0,s.kq)("",!0)]),(0,s._)("div",CAt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),onChange:e[1]||(e[1]=t=>c(null,null,null,null,t.target.value)),class:"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},PAt,544),[[a.bM,o.value]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),type:"number",class:"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},null,512),[[a.nr,i.value,void 0,{number:!0}]])]),(0,s.kq)("",!0),n.value?((0,s.wg)(),(0,s.iD)("div",qAt,[(0,s.Wm)(r)])):((0,s.wg)(),(0,s.iD)("div",LAt,[((0,s.wg)(),(0,s.j4)(l,{height:o.value*i.value,key:i.value,series:(0,be.SU)(u).series,chart:(0,be.SU)(u).chart,options:(0,be.SU)(u)},null,8,["height","series","chart","options"]))]))])}}};const WAt=AAt;var $At=WAt;const EAt={class:"tw-p-5 tw-mb-3 tw-relative"},TAt={class:"tw-flex tw-justify-between"},OAt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Total Spend For Each Product",-1),FAt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},IAt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),VAt={class:"tw-flex tw-justify-between tw-items-center"},jAt={class:"tw-flex tw-w-full"},RAt=(0,s._)("span",null,"Custom",-1),HAt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},MAt={class:"tw-flex"},NAt={key:0},YAt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var ZAt={__name:"CostPerProduct",setup(t){(0,s.aZ)({components:{"vue-select":sY.Z}});const e=(0,be.iH)([]),r=(0,be.iH)([]),l=(0,be.iH)(!0),o=(0,be.iH)(!1),i=(0,be.iH)("lastsevendays"),n=(0,be.iH)(null),w=(0,be.iH)(null),d=(0,be.iH)([]),c=(0,be.iH)(!0),u=(0,s.Fl)((()=>d.value.map((t=>t.name)))),p=async(t=null,a=null,s="lastsevendays")=>{const n=sessionStorage.getItem("cachedCostPerProduct");let w=null;n&&(w=JSON.parse(n),w.date_avant===t&&w.date_apres===a&&w.period===s&&(e.value=w.cost_per_product,l.value=!1)),a&&a?i.value=null:(o.value=!1,i.value=s),w&&w.date_avant===t&&w.date_apres===a&&w.period===s||(l.value=!0,c.value=!0),await yr.CostPerProduct(t,a,s).then((o=>{if("SUCCESS"==o.data.code){const i={date_avant:t,date_apres:a,period:s,cost_per_product:o.data.data.cost_per_product};w&&JSON.stringify(w.cost_per_product)===JSON.stringify(i.cost_per_product)?c.value=!1:(sessionStorage.setItem("cachedCostPerProduct",JSON.stringify(i)),e.value=o.data.data.cost_per_product,c.value=!0),d.value=o.data.data.cost_per_product,r.value||(r.value=d.value[0].name),l.value=!1,m()}}))};p();const m=async()=>{g.value.series=r.value.map((t=>{const r=e.value.find((e=>e.name===t));if(r)return{name:r.name,data:r.data.map((t=>t.cost_per_product))}})).filter(Boolean)};(0,s.YP)(r,(()=>{p(null,null,null,r.value),m()}));var g=(0,s.Fl)((()=>{let t=[];return"all"===r.value?t=e.value.map((t=>({name:t.name,data:t.data.map((t=>t.cost_per_product))}))):e.value[r.value]&&(t=[{name:e.value[r.value].name,data:e.value[r.value].data.map((t=>t.cost_per_product))}]),{series:t,chart:{type:"area"},xaxis:{type:"category",categories:e.value[0].data.map((t=>t.date))},theme:{palette:"palette7"},stroke:{curve:"smooth"},fill:{opacity:1},legend:{show:!1}}}));return(t,e)=>{const d=(0,s.up)("Loading"),h=(0,s.up)("icon"),f=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",EAt,[(0,s._)("div",TAt,[OAt,c.value&&!l.value?((0,s.wg)(),(0,s.iD)("div",FAt,[(0,s.Wm)(d,{class:"tw-scale-50"}),IAt])):(0,s.kq)("",!0)]),(0,s._)("div",VAt,[(0,s._)("div",jAt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>p(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>p(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>p(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>p(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>p(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.value=!o.value),class:(0,at.C_)([[o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(h,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),RAt],2)]),(0,s._)("div",{class:(0,at.C_)([[o.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",HAt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>w.value=t)},null,512),[[a.nr,w.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>p(n.value,w.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2),(0,s._)("div",MAt,[(0,s.Wm)((0,be.SU)(sY.Z),{multiple:!0,reduce:t=>t,onInput:m,clearable:!1,class:"tw-bg-white tw-items-center tw-border-solid tw-outline-none tw-mb-5 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-[200px] tw-h-[44px]",modelValue:r.value,"onUpdate:modelValue":e[9]||(e[9]=t=>r.value=t),options:(0,be.SU)(u),label:"name"},null,8,["reduce","modelValue","options"])])]),l.value?((0,s.wg)(),(0,s.iD)("div",YAt,[(0,s.Wm)(d)])):((0,s.wg)(),(0,s.iD)("div",NAt,[(0,s.Wm)(f,{height:400,series:(0,be.SU)(g).series,chart:(0,be.SU)(g).chart,options:(0,be.SU)(g)},null,8,["series","chart","options"])]))])}}};const KAt=ZAt;var BAt=KAt;const JAt={class:"tw-p-5 tw-relative"},QAt={class:"tw-flex tw-justify-between"},GAt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Total Spend For Each Marketer",-1),XAt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},tWt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),eWt={class:"tw-flex tw-justify-between tw-items-center"},rWt={class:"tw-flex tw-w-full"},aWt=(0,s._)("span",null,"Custom",-1),sWt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},lWt={key:0},oWt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var iWt={__name:"CostForMarketer",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!1),l=(0,be.iH)("lastsevendays"),o=(0,be.iH)(null),i=(0,be.iH)(null),n=(0,be.iH)(!0),w=(0,be.iH)(!0),d=async(t=null,a=null,s="lastsevendays",o=null)=>{const i=sessionStorage.getItem("cachedCostPerMarketer");let d=null;i&&(d=JSON.parse(i),d.date_avant===t&&d.date_apres===a&&d.period===s&&d.selectedOption===o&&(e.value=d.cost_per_marketer,n.value=!1)),t&&a?l.value=null:(r.value=!1,l.value=s),d&&d.date_avant===t&&d.date_apres===a&&d.period===s&&d.selectedOption===o||(n.value=!0,w.value=!0),await yr.CostPerMarketer(t,a,s,o).then((r=>{if("SUCCESS"===r.data.code){const l={date_avant:t,date_apres:a,period:s,selectedOption:o,cost_per_marketer:r.data.data.cost_per_marketer};d&&JSON.stringify(d.cost_per_marketer)===JSON.stringify(l.cost_per_marketer)?w.value=!1:(sessionStorage.setItem("cachedCostPerMarketer",JSON.stringify(l)),e.value=r.data.data.cost_per_marketer,w.value=!0),w.value=!1,n.value=!1}}))};d();var c=(0,s.Fl)((()=>({series:[...e.value.map((t=>({...t,data:t.data.map((t=>t.cost_per_marketer))})))],chart:{type:"area"},xaxis:{type:"category",categories:e.value[0].data.map((t=>t.date))},theme:{palette:"palette4"},stroke:{curve:"smooth"},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"}})));return(t,e)=>{const u=(0,s.up)("Loading"),p=(0,s.up)("icon"),m=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",JAt,[(0,s._)("div",QAt,[GAt,w.value&&!n.value?((0,s.wg)(),(0,s.iD)("div",XAt,[(0,s.Wm)(u,{class:"tw-scale-50"}),tWt])):(0,s.kq)("",!0)]),(0,s._)("div",eWt,[(0,s._)("div",rWt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>d(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>d(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>d(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>d(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>d(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!r.value),class:(0,at.C_)([[r.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(p,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),aWt],2)]),(0,s._)("div",{class:(0,at.C_)([[r.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",sWt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>o.value=t)},null,512),[[a.nr,o.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>d(o.value,i.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),n.value?((0,s.wg)(),(0,s.iD)("div",oWt,[(0,s.Wm)(u)])):((0,s.wg)(),(0,s.iD)("div",lWt,[(0,s.Wm)(m,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])}}};const nWt=iWt;var wWt=nWt;const dWt={class:"tw-grid tw-grid-cols-3 tw-gap-4 tw-w-full"},cWt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-relative"},uWt={class:"tw-p-5"},pWt={class:"tw-flex tw-justify-between"},mWt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Sources",-1),gWt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},hWt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),fWt={key:0},bWt={key:1,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"},vWt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-relative"},xWt={class:"tw-p-5"},yWt={class:"tw-flex tw-justify-between"},_Wt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Confirmation Rate",-1),kWt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},CWt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),DWt={key:0},SWt={key:1,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"},zWt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-relative"},UWt={class:"tw-p-5"},PWt={class:"tw-flex tw-justify-between"},LWt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Delivery Rate",-1),qWt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},AWt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),WWt={key:0},$Wt={key:1,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"};var EWt={__name:"StatusDonutChart",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),a=(0,be.iH)(!0),l=async()=>{const t=sessionStorage.getItem("cachedStatusDonut");let s=null;t&&(s=JSON.parse(t),e.value=s.confirmation_state_donuts,r.value=!1,console.log(e.value)),await yr.ConfirmationStatesDonuts().then((t=>{if("SUCCESS"==t.data.code){const l={confirmation_state_donuts:t.data.data.confirmation_state_donuts[0]};s&&JSON.stringify(s.confirmation_state_donuts)===JSON.stringify(l.confirmation_state_donuts)?a.value=!1:(sessionStorage.setItem("cachedStatusDonut",JSON.stringify(l)),e.value=t.data.data.confirmation_state_donuts[0],a.value=!0),a.value=!1,r.value=!1}}))};l();var o=(0,s.Fl)((()=>r.value?null:{series:e.value.orders.map((t=>t.total)),chart:{type:"donut"},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"},labels:e.value.orders.map((t=>{const e=qd.find((e=>e.value==t.confirmation));return"no-answer"==t.confirmation?"No Answer":e?e.name:""}))})),i=(0,s.Fl)((()=>r.value?null:{series:e.value.delivery.map((t=>t.total)),chart:{type:"donut"},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"},labels:e.value.delivery.map((t=>Ed.find((e=>e.value==t.delivery))?.name))})),n=(0,s.Fl)((()=>r.value?null:{series:e.value.lead.map((t=>t.total)),chart:{type:"donut"},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"},labels:e.value.lead.map((t=>t.source))}));return(t,e)=>{const l=(0,s.up)("Loading"),w=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",dWt,[(0,s._)("div",cWt,[(0,s._)("div",uWt,[(0,s._)("div",pWt,[mWt,a.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",gWt,[(0,s.Wm)(l,{class:"tw-scale-50"}),hWt])):(0,s.kq)("",!0)]),r.value?((0,s.wg)(),(0,s.iD)("div",bWt,[(0,s.Wm)(l)])):((0,s.wg)(),(0,s.iD)("div",fWt,[(0,s.Wm)(w,{height:400,series:(0,be.SU)(n).series,chart:(0,be.SU)(n).chart,options:(0,be.SU)(n)},null,8,["series","chart","options"])]))])]),(0,s._)("div",vWt,[(0,s._)("div",xWt,[(0,s._)("div",yWt,[_Wt,a.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",kWt,[(0,s.Wm)(l,{class:"tw-scale-50"}),CWt])):(0,s.kq)("",!0)]),r.value?((0,s.wg)(),(0,s.iD)("div",SWt,[(0,s.Wm)(l)])):((0,s.wg)(),(0,s.iD)("div",DWt,[(0,s.Wm)(w,{height:400,series:(0,be.SU)(o).series,chart:(0,be.SU)(o).chart,options:(0,be.SU)(o)},null,8,["series","chart","options"])]))])]),(0,s._)("div",zWt,[(0,s._)("div",UWt,[(0,s._)("div",PWt,[LWt,a.value?((0,s.wg)(),(0,s.iD)("div",qWt,[(0,s.Wm)(l,{class:"tw-scale-50"}),AWt])):(0,s.kq)("",!0)]),r.value?((0,s.wg)(),(0,s.iD)("div",$Wt,[(0,s.Wm)(l)])):((0,s.wg)(),(0,s.iD)("div",WWt,[(0,s.Wm)(w,{height:400,series:(0,be.SU)(i).series,chart:(0,be.SU)(i).chart,options:(0,be.SU)(i)},null,8,["series","chart","options"])]))])])])}}};const TWt=EWt;var OWt=TWt;const FWt={class:"tw-gap-2"},IWt={class:"tw-mb-2"},VWt={class:"tw-mb-2 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},jWt={class:"tw-mb-2 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},RWt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"};var HWt={__name:"DashboardChartsView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FWt,[(0,s._)("div",IWt,[(0,s.Wm)((0,be.SU)(OWt))]),(0,s._)("div",VWt,[(0,s.Wm)((0,be.SU)(wWt))]),(0,s._)("div",jWt,[(0,s.Wm)((0,be.SU)(BAt))]),(0,s._)("div",RWt,[(0,s.Wm)((0,be.SU)($At))])])]))}};const MWt=HWt;var NWt=MWt,YWt={name:"dashboards",path:"/dashboards",component:va,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:OUt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:bAt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:APt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}},{name:"dashboards/marketer",path:"marketer",component:aqt,meta:{module:"dashboards",subModule:"dashboards/marketer",title:"Dashboard",gate:"all"}},{name:"dashboards/admin/charts",path:"admin/charts",component:NWt,meta:{module:"dashboards",subModule:"admin/charts",title:"Charts",role:"admin"}}]};class ZWt{async paginate(t="",e){return await E.getCookie(),W.post("api/sourcings"+t,e)}async create(t){return await E.getCookie(),W.post("api/sourcings/new",t)}async update(t,e){return await E.getCookie(),W.post("api/sourcings/"+t,e)}async get(t){return await E.getCookie(),W.get("api/sourcings/"+t)}async history(t){return await E.getCookie(),W.get("api/sourcings/"+t+"/history")}async delete(t){return await E.getCookie(),W["delete"]("api/sourcings/"+t)}}var KWt=new ZWt;const BWt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],JWt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],QWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},GWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),XWt=(0,s._)("option",{value:"all"},"All",-1),t$t=["value"];var e$t={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",QWt,[GWt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,be.SU)(e).setFilter("quotation_status",t.target.value)),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[XWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(BWt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,at.zw)(t.name),9,t$t)))),128))],32)]))}};const r$t=e$t;var a$t=r$t;const s$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},l$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),o$t=(0,s._)("option",{value:"all"},"All",-1),i$t=["value"];var n$t={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",s$t,[l$t,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,be.SU)(e).setFilter("sourcing_status",t.target.value)),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[o$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(JWt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,at.zw)(t.name),9,i$t)))),128))],32)]))}};const w$t=n$t;var d$t=w$t;const c$t={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},u$t={key:0,class:"md:tw-col-span-4 tw-col-span-12"},p$t={key:1,class:"md:tw-col-span-4 tw-col-span-12"},m$t={class:"tw-col-span-12 tw-flex tw-justify-end"},g$t=(0,s._)("span",null,"Filter",-1),h$t=[g$t];var f$t={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,be.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",c$t,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",u$t,[(0,s.Wm)((0,be.SU)(a$t))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",p$t,[(0,s.Wm)((0,be.SU)(d$t))])):(0,s.kq)("",!0),(0,s._)("div",m$t,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,be.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},h$t)])])]))}};const b$t=f$t;var v$t=b$t;const x$t={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},y$t=["value"],_$t=["value"],k$t=["value","onKeyup"];var C$t={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=(0,be.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),l=(0,be.iH)("all"),o=(0,be.iH)(""),i=t=>{e("update:search-by-field",t.target.value)},n=t=>{e("update:search",t.target.value)},w=()=>{e("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",x$t,[(0,s._)("select",{onChange:i,value:l.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,at.zw)(t.name),9,_$t)))),128))],40,y$t),(0,s._)("input",{type:"text",placeholder:"Search",value:o.value,onInput:n,onKeyup:(0,a.D2)(w,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,k$t),(0,s._)("button",{onClick:w,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const D$t=C$t;var S$t=D$t;const z$t={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},U$t={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},P$t={class:"tw-relative tw-h-[40px]"},L$t=["value"],q$t={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},A$t={key:0},W$t={class:"tw-overflow-hidden tw-col-span-1"};var $$t={__name:"IndexOptions",setup(t){const e=(0,be.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",z$t,[(0,s._)("div",U$t,[(0,s._)("button",{class:(0,at.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),(0,s._)("button",{title:"Requests created today",class:(0,at.C_)([[!1],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:!1}," Today "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,at.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",P$t,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,at.zw)(t),9,L$t))),64))],32),(0,s._)("div",q$t,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(S$t))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",A$t,[(0,s._)("div",{class:(0,at.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",W$t,[(0,s.Wm)((0,be.SU)(v$t))])],2)])):(0,s.kq)("",!0)])}}};const E$t=$$t;var T$t=E$t;const O$t={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},F$t=["colspan"],I$t={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},V$t=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),j$t=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),R$t=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),H$t=[j$t,R$t];var M$t={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",O$t,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",I$t,[V$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},H$t)))),128))])],8,F$t)])]))}};const N$t=M$t;var Y$t=N$t;const Z$t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},K$t={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},B$t=(0,s._)("span",null,"Sourcing History",-1),J$t={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},Q$t={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},G$t={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},X$t={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},tEt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),eEt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},rEt={class:"tw-text-gray-500"},aEt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},sEt=["onMouseenter","onMouseleave"],lEt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},oEt={class:"tw-flex tw-flex-col tw-gap-4"},iEt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},nEt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},wEt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},dEt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},cEt={key:1,class:"tw-w-full"},uEt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),pEt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var mEt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a={product_name:"Product name",product_url:"Product URL",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note:"Note",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},l={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},quotation_status:BWt.reduce(((t,e)=>(t[e.value]=e.name,t)),{}),sourcing_status:JWt.reduce(((t,e)=>(t[e.value]=e.name,t)),{})},o=(0,be.Vh)(r,"visible"),i=(0,be.Vh)(r,"sourcing"),n=(0,be.iH)(!0),w=(0,be.iH)([!0]),d=async()=>{n.value=!0,await KWt.history(i.value.id).then((t=>{"SUCCESS"==t.data.code&&(console.log(t.data),w.value=t.data.history,w.value.reverse())})),n.value=!1};return d(),(t,r)=>{const i=(0,s.up)("icon"),d=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:(0,be.SU)(o),onCancel:r[1]||(r[1]=t=>e("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",Z$t,[(0,s._)("div",K$t,[B$t,(0,s._)("button",{onClick:r[0]||(r[0]=t=>e("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(i,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",J$t,[(0,s.Wm)(d)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Q$t,[w.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",G$t,"There is no history for this sourcing yet.")),w.value.length?((0,s.wg)(),(0,s.iD)("ol",X$t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[tEt,(0,s._)("div",eEt,[(0,s._)("p",rEt,[(0,s.Uk)(" by "),(0,s._)("span",aEt,(0,at.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,at.zw)(t.isHovering?(0,be.SU)(_e())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,be.SU)(_e())(t.created_at).fromNow()),41,sEt)]),(0,s._)("div",lEt,[(0,s._)("div",oEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",cEt,[uEt,(0,s._)("div",pEt,(0,at.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",iEt,[(0,s.Uk)("Changed "),(0,s._)("span",nEt,(0,at.zw)(a[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",wEt,(0,at.zw)(t.field in l?l[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",dEt,(0,at.zw)(t.field in l?l[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const gEt=mEt;var hEt=gEt;const fEt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var bEt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,be.qj)({history:!1}),a=(0,be.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fEt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:(0,be.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:(0,be.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,be.SU)(hEt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:(0,be.SU)(a)},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const vEt=bEt;var xEt=vEt;const yEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_Et={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},CEt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},SEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},UEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},PEt={class:"tw-px-4"},LEt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},qEt={class:"tw-px-4"},AEt=["admin"];var WEt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,be.Vh)(e,"item"),o=(0,be.iH)(BWt.find((t=>t.value==l.value.quotation_status))),n=(0,be.iH)(JWt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",yEt,(0,at.zw)((0,be.SU)(l).id),1),(0,s._)("td",_Et,(0,at.zw)((0,be.SU)(_e())((0,be.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",kEt,(0,at.zw)((0,be.SU)(l).product_name),1),(0,s._)("td",CEt,[(0,s._)("p",{class:(0,at.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===(0,be.SU)(l).shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===(0,be.SU)(l).shipping_method})},(0,at.zw)("air-freight"===(0,be.SU)(l).shipping_method?"By Air":"ocean-freight"===(0,be.SU)(l).shipping_method?"By Ocean":(0,be.SU)(l).shipping_method),3)]),(0,s._)("td",DEt,(0,at.zw)((0,be.SU)(c))+(0,at.zw)((0,be.SU)(l).total_cost),1),(0,s._)("td",SEt,(0,at.zw)((0,be.SU)(l).estimated_quantity),1),(0,s._)("td",zEt,(0,at.zw)((0,be.SU)(l).destination_country),1),(0,s._)("td",UEt,[(0,s._)("div",PEt,[(0,s._)("div",{class:(0,at.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,at.zw)(o.value.name),3)])]),(0,s._)("td",LEt,[(0,s._)("div",qEt,[(0,s._)("div",{class:(0,at.C_)([n.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,at.zw)(n.value.name),3)])]),(0,s._)("td",{admin:(0,be.SU)(a)},[(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(xEt),{item:(0,be.SU)(l)},null,8,["item"])])],8,AEt)]))}};const $Et=WEt;var EEt=$Et;const TEt={class:"tw-overflow-x-auto"},OEt={class:"tw-inline-block tw-min-w-full tw-align-middle"},FEt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},IEt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},VEt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},jEt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},REt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},HEt=["colspan"],MEt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),NEt=[MEt];var YEt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,be.Vh)(e,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"Total",name:"total_cost",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"Total",name:"total_cost",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=(0,be.iH)("admin"==a.value.role?o:n),d=(0,be.Vh)(e,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",TEt,[(0,s._)("div",OEt,[(0,s._)("div",FEt,[(0,s._)("table",IEt,[(0,s._)("thead",VEt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,at.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,at.zw)(t.name),1)],2)))),128))])]),(0,be.SU)(l)?((0,s.wg)(),(0,s.j4)((0,be.SU)(Y$t),{key:1,columns:w.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,be.SU)(d).length?((0,s.wg)(),(0,s.iD)("tbody",jEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(d),(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(EEt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,be.SU)(d).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",REt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:w.value.length},NEt,8,HEt)])]))],64))])])])])]))}};const ZEt=YEt;var KEt=ZEt;const BEt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},JEt={class:"tw-px-3"},QEt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},GEt={class:"tw-flex tw-items-center tw-gap-x-3"},XEt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),tTt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},eTt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),rTt={key:0},aTt=(0,s._)("span",null,"Request new product",-1),sTt={class:"tw-mt-5"};var lTt={__name:"IndexSourcingView",setup(t){const e=(0,be.iH)([]),r=(0,be.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,be.iH)(!1),l=async()=>{a.value=!0,await KWt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",BEt,[(0,s._)("section",JEt,[(0,s._)("div",QEt,[(0,s._)("div",null,[(0,s._)("div",GEt,[XEt,(0,s._)("span",tTt,(0,at.zw)(r.total)+" request",1)]),eTt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",rTt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[aTt])),_:1},8,["to"])])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(T$t))]),(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(KEt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",sTt,[(0,s.Wm)((0,be.SU)(Ai),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const oTt=lTt;var iTt=oTt;const nTt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},wTt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),dTt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),cTt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},uTt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},pTt={class:"tw-relative tw-z-40"},mTt=["disabled","value"],gTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hTt={key:0,class:""},fTt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},bTt={class:"tw-space-y-1 tw-py-1"},vTt=["onClick"],xTt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},yTt={class:"tw-relative tw-z-30"},_Tt=["disabled","value"],kTt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CTt={key:0,class:""},DTt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},STt={class:"tw-space-y-1 tw-py-1"},zTt=["onClick"],UTt={class:"tw-p-5"},PTt={class:"tw-grid tw-grid-cols-5"},LTt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},qTt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),ATt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},WTt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),$Tt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},ETt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),TTt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},OTt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),FTt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},ITt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var VTt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,f.yj)(),l=(0,be.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,be.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,be.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,s.Fl)((()=>BWt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>JWt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;n[t]=!0,await KWt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),n[t]=!1};return(t,e)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",nTt,[(0,s._)("p",null,[wTt,(0,s.Uk)(" "+(0,at.zw)((0,be.SU)(r).params.id),1)]),(0,s._)("p",null,[dTt,(0,s.Uk)(" "+(0,at.zw)((0,be.SU)(_e())((0,be.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",cTt,[(0,s._)("div",null,[(0,s._)("label",uTt,[(0,s.Uk)(" Quotation Status "),n.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",pTt,[(0,s._)("input",{class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.quotation_status,onClick:e[0]||(e[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:(0,be.SU)(w).name,readonly:"",required:""},null,8,mTt),gTt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",hTt,[(0,s._)("div",fTt,[(0,s._)("div",bTt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(BWt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,at.C_)(["tw-w-full tw-p-2",[t.class]])},(0,at.zw)(t.name),11,vTt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",xTt,[(0,s.Uk)(" Sourcing Status "),n.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",yTt,[(0,s._)("input",{class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.sourcing_status,onClick:e[1]||(e[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:(0,be.SU)(d).name,readonly:"",required:""},null,8,_Tt),kTt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",CTt,[(0,s._)("div",DTt,[(0,s._)("div",STt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(JWt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,at.C_)(["tw-w-full tw-p-2",[t.class]])},(0,at.zw)(t.name),11,zTt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",UTt,[(0,s._)("div",PTt,[(0,s._)("div",LTt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),qTt]),(0,s._)("div",ATt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=2&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=2&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),WTt]),(0,s._)("div",$Tt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=3&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=3&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),ETt]),(0,s._)("div",TTt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=4&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=4&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),OTt]),(0,s._)("div",FTt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=5&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=5&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),ITt])])])])}}};const jTt=VTt;var RTt=jTt;const HTt={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},MTt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},NTt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),YTt={class:"tw-p-5 tw-space-y-4"},ZTt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),KTt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),BTt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),JTt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),QTt=[KTt,BTt,JTt],GTt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},XTt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),tOt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price",-1),rOt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),sOt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lOt=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),oOt={class:"tw-flex tw-items-center tw-justify-between"},iOt=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),nOt={class:"tw-text-lg tw-font-bold"},wOt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},dOt=["disabled"],cOt=(0,s._)("span",null,"Update quotation",-1);var uOt={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,s.f3)("sourcing"),o=(0,be.iH)(!1),i=(0,be.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(i.sourcing.estimated_quantity??0)*(i.sourcing.cost_per_unit??0)+(i.sourcing.additional_fees??0))),w=()=>{e("update:visible",!1)},d=async()=>{o.value=!0;const t="pending"==i.sourcing.quotation_status?"quoting":i.sourcing.quotation_status;await KWt.update(i.sourcing.id,{...i.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(l.updateSourcing(t.data.sourcing),Cn("Quotation sent"),w())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)i.errors[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(0,s.YP)((()=>r.visible),(()=>{i.sourcing=io(r.sourcing)})),(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:w},{default:(0,s.w5)((()=>[(0,s._)("div",HTt,[(0,s._)("div",MTt,[NTt,(0,s._)("div",YTt,[(0,s._)("div",null,[ZTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>i.errors.shipping_method=null),class:(0,at.C_)([[i.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},QTt,34),[[a.bM,i.sourcing.shipping_method,void 0,{number:!0}]]),i.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",GTt,(0,at.zw)(i.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[XTt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>i.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[i.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,i.sourcing.estimated_quantity,void 0,{number:!0}]]),i.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",tOt,(0,at.zw)(i.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[eOt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.cost_per_unit=t),onInput:e[5]||(e[5]=t=>i.errors.cost_per_unit=null),type:"number",class:(0,at.C_)([[i.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,i.sourcing.cost_per_unit,void 0,{number:!0}]]),i.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",rOt,(0,at.zw)(i.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[aOt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.additional_fees=t),onInput:e[7]||(e[7]=t=>i.errors.additional_fees=null),type:"number",class:(0,at.C_)([[i.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,i.sourcing.additional_fees,void 0,{number:!0}]]),i.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",sOt,(0,at.zw)(i.errors.additional_fees),1)):(0,s.kq)("",!0)]),lOt,(0,s._)("div",oOt,[iOt,(0,s._)("span",nOt,(0,at.zw)((0,be.SU)(n))+" "+(0,at.zw)((0,be.SU)(c)),1)])]),(0,s._)("div",wOt,[(0,s._)("button",{onClick:w,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cOt],8,dOt)])])])])),_:1},8,["visible"])}}};const pOt=uOt;var mOt=pOt;const gOt={class:"tw-p-5"},hOt={class:"tw-space-y-4"},fOt={class:"tw-flex tw-items-center tw-justify-between"},bOt=(0,s._)("span",null,"Destination Country:",-1),vOt={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},xOt={class:"tw-flex tw-items-center tw-justify-between"},yOt=(0,s._)("span",null,"Shipping Method:",-1),_Ot={key:0,class:"tw-font-black tw-text-neutral-800"},kOt={key:1,class:"tw-font-black tw-text-neutral-800"},COt={class:"tw-flex tw-items-center tw-justify-between"},DOt=(0,s._)("span",null,"Quantity:",-1),SOt={class:"tw-font-black tw-text-neutral-800"},zOt={class:"tw-flex tw-items-center tw-justify-between"},UOt=(0,s._)("span",null,"Unit Price:",-1),POt={class:"tw-font-black tw-text-neutral-800"},LOt={class:"tw-flex tw-items-center tw-justify-between tw-"},qOt=(0,s._)("span",null,"Additional Fees:",-1),AOt={class:"tw-font-black tw-text-neutral-800"},WOt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),$Ot={class:"tw-flex tw-items-center tw-justify-between"},EOt=(0,s._)("span",null,"Total:",-1),TOt={class:"tw-font-black tw-text-neutral-800"},OOt={class:"tw-space-y-2 mt-5"},FOt=(0,s._)("span",null,"Edit",-1);var IOt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,be.Vh)(e,"sourcing"),a=(0,be.iH)(!1);return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",gOt,[(0,s._)("div",null,[(0,s._)("ul",hOt,[(0,s._)("li",fOt,[bOt,(0,s._)("span",vOt,(0,at.zw)((0,be.SU)(r).destination_country),1)]),(0,s._)("li",xOt,[yOt,"air-freight"==(0,be.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",_Ot,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,be.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",kOt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",COt,[DOt,(0,s._)("span",SOt,(0,at.zw)((0,be.SU)(r).estimated_quantity),1)]),(0,s._)("li",zOt,[UOt,(0,s._)("span",POt,(0,at.zw)((0,be.SU)(r).cost_per_unit)+" "+(0,at.zw)((0,be.SU)(c)),1)]),(0,s._)("li",LOt,[qOt,(0,s._)("span",AOt,(0,at.zw)((0,be.SU)(r).additional_fees)+" "+(0,at.zw)((0,be.SU)(c)),1)]),WOt,(0,s._)("li",$Ot,[EOt,(0,s._)("span",TOt,(0,at.zw)((0,be.SU)(r).total_cost)+" "+(0,at.zw)((0,be.SU)(c)),1)])])]),(0,s._)("div",OOt,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>a.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(l,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),FOt]),(0,s.kq)("",!0)]),(0,s.Wm)((0,be.SU)(mOt),{sourcing:(0,be.SU)(r),visible:a.value,"onUpdate:visible":e[1]||(e[1]=t=>a.value=t)},null,8,["sourcing","visible"])])}}};const VOt=IOt;var jOt=VOt;const ROt={class:"tw-p-5"},HOt={class:"tw-grid tw-grid-cols-12 tw-gap-5"},MOt={class:"md:tw-col-span-6 tw-col-span-12"},NOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),YOt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZOt={class:"md:tw-col-span-6 tw-col-span-12"},KOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),BOt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JOt={class:"md:tw-col-span-6 tw-col-span-12"},QOt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),GOt={class:"tw-relative"},XOt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),tFt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),eFt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),rFt=[XOt,tFt,eFt],aFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),sFt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lFt={class:"md:tw-col-span-6 tw-col-span-12"},oFt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),iFt={class:"tw-relative"},nFt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),wFt=[nFt],dFt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cFt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uFt={class:"tw-col-span-12"},pFt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),mFt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},gFt=["disabled"],hFt=(0,s._)("span",null,"Update",-1);var fFt={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=t,r=(0,be.qj)({}),l=(0,be.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,be.qj)({sourcing:{}}),n=async()=>{l.value=!0,await KWt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Cn("Updated success"))}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)r[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(0,s.YP)((()=>e.sourcing),(()=>{i.sourcing=io(e.sourcing)}),{deep:!0}),i.sourcing=io(e.sourcing),(t,e)=>((0,s.wg)(),(0,s.iD)("div",ROt,[(0,s._)("div",HOt,[(0,s._)("div",MOt,[NOt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.product_name=t),onInput:e[1]||(e[1]=t=>r.product_name=null),class:(0,at.C_)([[r.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),r.product_name?((0,s.wg)(),(0,s.iD)("label",YOt,(0,at.zw)(r.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZOt,[KOt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.product_url=t),onInput:e[3]||(e[3]=t=>r.product_url=null),class:(0,at.C_)([[r.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]]),r.product_url?((0,s.wg)(),(0,s.iD)("label",BOt,(0,at.zw)(r.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",JOt,[QOt,(0,s._)("div",GOt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.shipping_method=t),onChange:e[5]||(e[5]=t=>r.shipping_method=null),class:(0,at.C_)([[r.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},rFt,34),[[a.bM,i.sourcing.shipping_method]]),aFt]),r.shipping_method?((0,s.wg)(),(0,s.iD)("label",sFt,(0,at.zw)(r.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",lFt,[oFt,(0,s._)("div",iFt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.destination_country=t),onChange:e[7]||(e[7]=t=>r.destination_country=null),class:(0,at.C_)([[r.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},wFt,34),[[a.bM,i.sourcing.destination_country]]),dFt]),r.destination_country?((0,s.wg)(),(0,s.iD)("label",cFt,(0,at.zw)(r.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",uFt,[pFt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.sourcing.note=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request"},null,512),[[a.nr,i.sourcing.note]])]),(0,s._)("div",mFt,[(0,s._)("button",{disabled:l.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),hFt],8,gFt)])])]))}};const bFt=fFt;var vFt=bFt;const xFt={class:"tw-w-full"},yFt={class:"tw-w-full"},_Ft=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),kFt={class:"tw-pt-2"},CFt=["href"],DFt={class:"tw-pt-2"};var SFt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,be.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",xFt,[(0,s._)("table",yFt,[_Ft,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",kFt,[(0,s._)("a",{href:(0,be.SU)(r).product_url,class:"tw-truncate tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,at.zw)((0,be.SU)(r).product_name),9,CFt)]),(0,s._)("td",DFt,(0,at.zw)((0,be.SU)(r).estimated_quantity),1)])])])]))}};const zFt=SFt;var UFt=zFt;const PFt={class:"tw-relative"},LFt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},qFt={class:"tw-px-3"},AFt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},WFt={class:"tw-flex tw-items-center tw-gap-x-5"},$Ft={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},EFt={class:"tw-flex tw-items-center tw-gap-2"},TFt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},OFt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},FFt={class:"tw-space-y-4 lg:tw-col-span-8"},IFt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},VFt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},jFt=(0,s._)("span",null,"Note",-1),RFt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},HFt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},MFt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},NFt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},YFt={class:"lg:tw-col-span-4"},ZFt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var KFt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,f.yj)(),a=(0,be.Vh)(e,"sourcing"),l=((0,be.Vh)(e,"loading"),(0,s.Fl)((()=>BWt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>JWt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",PFt,[(0,s._)("div",LFt,[(0,s._)("section",qFt,[(0,s._)("div",AFt,[(0,s._)("div",null,[(0,s._)("div",WFt,[(0,s._)("h2",$Ft," Quotation: #"+(0,at.zw)((0,be.SU)(r).params.id),1),(0,s._)("div",EFt,[(0,s._)("div",{class:(0,at.C_)([(0,be.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,at.zw)((0,be.SU)(l).name),3),(0,s._)("div",{class:(0,at.C_)([(0,be.SU)(o).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,at.zw)((0,be.SU)(o).name),3)])]),(0,s._)("p",TFt,(0,at.zw)((0,be.SU)(_e())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",OFt,[(0,s._)("div",FFt,[(0,be.SU)(a).note?((0,s.wg)(),(0,s.iD)("div",IFt,[(0,s._)("div",VFt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),jFt]),(0,s._)("div",RFt,[(0,s._)("h1",null,(0,at.zw)((0,be.SU)(a).note),1)])])):(0,s.kq)("",!0),(0,s._)("div",HFt,[(0,s.Wm)((0,be.SU)(RTt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",MFt,[(0,s.Wm)((0,be.SU)(UFt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",NFt,[(0,s.Wm)((0,be.SU)(vFt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])])]),(0,s._)("div",YFt,[(0,s._)("div",ZFt,[(0,s.Wm)((0,be.SU)(jOt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])])])])])}}};const BFt=KFt;var JFt=BFt;const QFt={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var GFt={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,f.yj)(),a=(0,f.tv)(),l=r.params.id,o=(0,be.iH)(!0),n=(0,be.iH)(null),w=e.getters["user/user"],d=async()=>{o.value=!0,await KWt.get(l).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{n.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",QFt,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["admin"==(0,be.SU)(w).role?((0,s.wg)(),(0,s.j4)((0,be.SU)(JFt),{key:0,sourcing:n.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const XFt=GFt;var tIt=XFt;const eIt={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},rIt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},aIt={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},sIt=["src"],lIt={class:"tw-col-span-8"},oIt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),iIt={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},nIt={class:"md:tw-col-span-6 tw-col-span-12"},wIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),dIt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cIt={class:"md:tw-col-span-6 tw-col-span-12"},uIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),pIt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mIt={class:"md:tw-col-span-6 tw-col-span-12"},gIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),hIt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fIt={class:"md:tw-col-span-6 tw-col-span-12"},bIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),vIt={class:"tw-relative"},xIt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),yIt=[xIt],_It=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kIt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CIt={class:"tw-col-span-12"},DIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),SIt={class:"md:tw-col-span-6 tw-col-span-12"},zIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),UIt={class:"tw-relative"},PIt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),LIt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),qIt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),AIt=[PIt,LIt,qIt],WIt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$It={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},EIt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},TIt=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),OIt=["disabled"],FIt=(0,s._)("span",null,"Add to sourcing",-1);var IIt={__name:"CreateSourcingView",setup(t){const e=(0,be.qj)({}),r=(0,be.iH)(!1),l=(0,be.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await KWt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Cn("Your sourcing has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",eIt,[(0,s._)("div",rIt,[(0,s._)("div",aIt,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,sIt)]),(0,s._)("div",lIt,[oIt,(0,s._)("div",iIt,[(0,s._)("div",nIt,[wIt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,at.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",dIt,(0,at.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",cIt,[uIt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.product_url=t),onInput:i[3]||(i[3]=t=>e.product_url=null),class:(0,at.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",pIt,(0,at.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",mIt,[gIt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.estimated_quantity=t),onInput:i[5]||(i[5]=t=>e.estimated_quantity=null),class:(0,at.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",hIt,(0,at.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",fIt,[bIt,(0,s._)("div",vIt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.destination_country=t),onChange:i[7]||(i[7]=t=>e.destination_country=null),class:(0,at.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},yIt,34),[[a.bM,l.destination_country]]),_It]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",kIt,(0,at.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",CIt,[DIt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note]])]),(0,s._)("div",SIt,[zIt,(0,s._)("div",UIt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.shipping_method=t),onChange:i[10]||(i[10]=t=>e.shipping_method=null),class:(0,at.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},AIt,34),[[a.bM,l.shipping_method]]),WIt]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",$It,(0,at.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",EIt,[TIt,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),FIt],8,OIt)])])])])]))}};const VIt=IIt;var jIt=VIt,RIt={name:"sourcings",path:"/sourcings",component:va,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:iTt,meta:{module:"sourcing",title:"Sourcing",role:["admin"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:jIt,meta:{module:"sourcing",title:"New Sourcing",role:["admin"]}},{name:"sourcings.show",path:":id",component:tIt,meta:{module:"sourcing",title:"Sourcing",role:["admin"]}}]};const HIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var MIt={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>X.getters["user/roles"])),a=(0,be.iH)(null),l=(0,be.iH)(!1),o=(0,be.iH)([{id:null,name:"Choose Role"},...r.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),i=t=>{o.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(X.getters["user/fetchedRoles"])return!1;l.value=!0,await et.roles().then((t=>{"SUCCESS"==t.data.code&&(X.dispatch("user/setRoles",t.data.data.roles),X.dispatch("user/setFetchedRoles",!0),i(r.value))})),l.value=!1},w=t=>{console.log(t),e("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[HIt,(0,s.Wm)((0,be.SU)(sY.Z),{loading:l.value,"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>w(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:o.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const NIt=MIt;var YIt=NIt;const ZIt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var KIt={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>X.getters["user/users"])),a=(0,be.iH)(null),l=(0,be.iH)([{id:null,name:"Choose User"},...r.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),o=t=>{e("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[ZIt,(0,s.Wm)((0,be.SU)(sY.Z),{class:"tw-min-w-[200px]","append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>o(t)),clearable:!1,placeholder:"Choose User",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:l.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const BIt=KIt;var JIt=BIt;const QIt=(0,s._)("span",null,"Make announcement",-1),GIt=[QIt],XIt={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},tVt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},eVt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),rVt={class:"tw-p-5 tw-space-y-4"},aVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),sVt={class:"tw-grid tw-grid-cols-4 tw-gap-2"},lVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),oVt={class:"tw-grid tw-grid-cols-3 tw-gap-2"},iVt={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),wVt={class:"tw-grid tw-grid-cols-2 tw-gap-2"},dVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),cVt={class:"tw-grid tw-grid-cols-2 tw-gap-2"},uVt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),pVt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mVt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},gVt=["disabled"],hVt=["disabled"],fVt=(0,s._)("span",null,"Send",-1);var bVt={__name:"AddAlertForm",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)(!1),l=(0,s.f3)("alerts"),o=(0,be.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,be.iH)({}),n=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ta.create(o.value).then((t=>{"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Cn("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const w=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},GIt),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",XIt,[(0,s._)("div",tVt,[eVt,(0,s._)("div",rVt,[(0,s._)("div",null,[aVt,(0,s._)("div",sVt,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,at.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,at.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,at.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,at.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[lVt,(0,s._)("div",oVt,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,at.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,at.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,at.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,be.SU)(YIt),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,be.SU)(JIt),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",iVt,(0,at.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[nVt,(0,s._)("div",wVt,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,at.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,at.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[dVt,(0,s._)("div",cVt,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,at.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,at.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[uVt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,at.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",pVt,(0,at.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",mVt,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,gVt),(0,s._)("button",{onClick:n,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),fVt],8,hVt)])])])])),_:1},8,["visible"])])}}};const vVt=bVt;var xVt=vVt;const yVt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},_Vt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},kVt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),CVt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),DVt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},SVt=["disabled"],zVt=(0,s._)("span",null,"Confirm",-1);var UVt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,be.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,be.iH)({delete:!1}),o=(0,be.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ta["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Cn("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yVt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",_Vt,[kVt,CVt,(0,s._)("div",DVt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),zVt],8,SVt)])])])),_:1},8,["visible"])])}}};const PVt=UVt;var LVt=PVt;const qVt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},AVt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},WVt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$Vt={class:"tw-w-[70px] tw-truncate"},EVt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},TVt={class:"tw-w-[80px] tw-truncate"},OVt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},FVt={class:"tw-w-[100px] tw-truncate"},IVt={class:"tw-p-2"};var VVt={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",qVt,(0,at.zw)(t.item.id),1),(0,s._)("td",AVt,(0,at.zw)((0,be.SU)(_e())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",WVt,[(0,s._)("p",$Vt,(0,at.zw)(t.item.type),1)]),(0,s._)("td",EVt,[(0,s._)("p",TVt,(0,at.zw)(t.item.to),1)]),(0,s._)("td",OVt,[(0,s._)("p",FVt,(0,at.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",IVt,[(0,s.Wm)((0,be.SU)(LVt),{item:t.item},null,8,["item"])])])]))}};const jVt=VVt;var RVt=jVt;const HVt={class:"tw-overflow-x-auto"},MVt={class:"tw-inline-block tw-min-w-full tw-align-middle"},NVt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},YVt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ZVt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},KVt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BVt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JVt=["colspan"],QVt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),GVt=[QVt];var XVt={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,be.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,be.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HVt,[(0,s._)("div",MVt,[(0,s._)("div",NVt,[(0,s._)("table",YVt,[(0,s._)("thead",ZVt,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,at.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,at.zw)(t.name),1)],2))),64))])]),(0,be.SU)(r)?((0,s.wg)(),(0,s.j4)((0,be.SU)(Y$t),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,be.SU)(l).length?((0,s.wg)(),(0,s.iD)("tbody",KVt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(RVt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,be.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",BVt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},GVt,8,JVt)])]))],64))])])])])]))}};const tjt=XVt;var ejt=tjt;const rjt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},ajt={class:"tw-px-3"},sjt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ljt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),ojt={class:"tw-mt-5"};var ijt={__name:"IndexView",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)({}),a=(0,be.iH)({}),l=async()=>{e.value=!0,await ta.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",rjt,[(0,s._)("section",ajt,[(0,s._)("div",sjt,[ljt,(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(xVt))])]),(0,s._)("div",ojt,[(0,s.Wm)((0,be.SU)(ejt),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const njt=ijt;var wjt=njt,djt={name:"alerts",path:"/alerts",component:va,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:wjt,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};const cjt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),ujt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},pjt={class:"tw-flex tw-items-center tw-flex-col"},mjt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),gjt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},hjt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function fjt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[cjt,(0,s._)("div",ujt,[(0,s._)("div",pjt,[mjt,(0,s._)("div",gjt,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),hjt])])])}var bjt={};const vjt=(0,m.Z)(bjt,[["render",fjt]]);var xjt=vjt;const yjt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function _jt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yjt,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const kjt="api/charts/cost_per_day",Cjt="get";var Djt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},Sjt={data(){return{isLoading:!1,test:Djt}},methods:{async sendRequest(){switch(this.isLoading=!0,await E.getCookie(),Cjt){case"get":W.get(kjt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":W.post(kjt,Djt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":W["delete"](kjt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const zjt=(0,m.Z)(Sjt,[["render",_jt]]);var Ujt=zjt;const Pjt=[Nt,u_t,Ki,Vw,YWt,cC,OU,O2,Dtt,Nrt,vot,Jnt,udt,ift,ECt,BDt,RIt,djt,qit,{name:"default",path:"/test",component:va,children:[{name:"test",path:"",component:Ujt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:va,meta:{title:"Not Found"},children:[{name:"404",path:"",component:xjt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],Ljt=(0,f.p7)({history:(0,f.PO)("/"),routes:Pjt});Ljt.beforeEach(((t,e)=>rt(t,e,Ljt)));var qjt=Ljt,Ajt=(r(9773),r(8957));const Wjt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var $jt=(0,Ajt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:Wjt}}});const Ejt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Tjt=Ejt;const Ojt={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var Fjt=Ojt;const Ijt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var Vjt=Ijt,jjt=r(7025),Rjt=r(407),Hjt=r.n(Rjt),Mjt={install(t){t.config.globalProperties.$frontend=t=>n+t,t.config.globalProperties.$backend=t=>w+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const Njt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),Yjt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Zjt=Njt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Kjt=[Zjt];function Bjt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Yjt,Kjt)}var Jjt={};const Qjt=(0,m.Z)(Jjt,[["render",Bjt],["__scopeId","data-v-ff4afcd0"]]);var Gjt=Qjt;const Xjt={class:"tw-flex tw-justify-center tw-items-center"},tRt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),eRt=[tRt];function rRt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Xjt,eRt)}var aRt={};const sRt=(0,m.Z)(aRt,[["render",rRt]]);var lRt=sRt;const oRt={key:0},iRt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},nRt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},wRt=["innerHTML"],dRt={key:1,class:"tw-text-lg tw-text-gray-700"},cRt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function uRt(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",oRt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",iRt,[(0,s._)("div",nRt,[(0,s._)("div",{class:(0,at.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(ot.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,at.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,wRt)):((0,s.wg)(),(0,s.iD)("div",dRt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(Be.C),(0,s._)("div",cRt,[(0,s.Wm)(st.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var pRt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const mRt=(0,m.Z)(pRt,[["render",uRt]]);var gRt=mRt;const hRt={key:0},fRt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function bRt(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",hRt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",fRt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var vRt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const xRt=(0,m.Z)(vRt,[["render",bRt]]);var yRt=xRt,_Rt=r(2340),kRt=r(5781),CRt=r.n(kRt);const DRt={key:0},SRt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function zRt(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",DRt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",SRt,[(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var URt={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const PRt=(0,m.Z)(URt,[["render",zRt]]);var LRt=PRt,qRt=r(6088),ARt=(0,a.ri)(h).use(qjt).use(X).use($jt).use(Tjt).use(Fjt).use(Vjt).use(Mjt).use(jjt.Z).use(Hjt()).component("LoadingAnimation",Gjt).component("Loading",lRt).component("Popup",gRt).component("PopupFull",yRt).component("VueDatePicker",_Rt.Z).component("downloadCsv",CRt()).component("popupNew",LRt).component("icon",qRt.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,n=0;n<a.length;n++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var w=s();void 0!==w&&(e=w)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],n=a[2],w=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(n)var d=n(r)}for(e&&e(a);w<o.length;w++)l=o[w],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5084)}));a=r.O(a)})();
//# sourceMappingURL=app.e1a58920.js.map