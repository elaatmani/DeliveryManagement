(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":6956,"./oc-lnc.js":6956,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id=6700},5427:function(t,e,r){"use strict";r.d(e,{Z:function(){return qbt}});var a=r(9242),s=r(3396),o=r(7718);function i(t,e,r,a,i,l){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(o.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var l=r(7139);const n="https://vldo.shop/",d="https://api.vldo.shop/",w="1.0.1",c="$";var u={name:"App",data:()=>({theme:"light",version:w}),methods:{...(0,l.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},p=r(89);const m=(0,p.Z)(u,[["render",i],["__scopeId","data-v-4a3ad42f"]]);var g=m,h=r(2483);let f={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var y={name:"user",namespaced:!0,state:f,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},v={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let x={products:[],fetched:!1};var b={name:"product",namespaced:!0,state:x,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let _={fetched:!1,sales:[],count:0};var k={name:"sale",namespaced:!0,state:_,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let C={orders:[],order:null,all_orders:[],fetched:!1};var D={name:"order",namespaced:!0,state:C,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let S={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var z={name:"inventory",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},U=r(6943);const P=U.Z.create({baseURL:d}),L=U.Z.create({baseURL:d});L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},P.defaults.withCredentials=!0,P.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=P,$=r(680),q={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class W{async statistics(){return await q.getCookie(),A.post("api/v1/agent/statistics")}async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await q.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await q.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await q.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await q.getCookie(),A.get("api/orders/add")}async create(t){return await q.getCookie(),A.post("api/v1/agent/orders/create",t)}}var E=new W;let T={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var O={name:"agent",namespaced:!0,state:T,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),E.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const I=localStorage.getItem("cities");let F={fetched:!1,cities:I?JSON.parse(I):[]};var V={name:"city",namespaced:!0,state:F,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let R={shops:[]};var j={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let N={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var M={name:"notification",namespaced:!0,state:N,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let H={fetched:!1,warehouses:[]};var Y={name:"warehouse",namespaced:!0,state:H,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Z={fetched:!1,factorisations:[]};var K={name:"factorisation",namespaced:!0,state:Z,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let B={fetched:!1,sheets:[]};var Q={name:"sheet",namespaced:!0,state:B,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}},G=(0,l.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:y,product:b,alert:v,sale:k,order:D,inventory:z,city:V,agent:O,shop:j,notification:M,warehouse:Y,factorisation:K,sheet:Q}});class J{async login(t){return await q.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await q.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await q.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await q.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await q.getCookie(),A.get("api/user")}async profile(){return await q.getCookie(),A.get("api/users/profile")}async logout(){return await q.getCookie(),A.get("api/auth/logout")}async clear(){return await q.getCookie(),A.get("api/auth/clear")}async permession(){return await q.getCookie(),A.get("api/auth/permission")}async roles(){return await q.getCookie(),A.get("api/auth/roles")}async all(){return await q.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await q.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await q.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await q.getCookie(),A.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await q.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await q.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await q.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await q.getCookie(),A.get("api/roles/"+t)}async agents(){return await q.getCookie(),A.get("api/agents")}async deliveries(){return await q.getCookie(),A.get("api/delevries")}async allDeliveries(){return await q.getCookie(),A.get("api/deliveries")}async cities(){return await q.getCookie(),A.get("api/cities")}}var X=new J;function tt(t,e,r){if(document.title=t.meta?.title+" | Vldo Shop",!G.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(X.online().catch(qbt.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=G.getters["user/permissions"];return"all"===a||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"})}var et=r(2268),rt=r(7312),at=r(3369),st=r(3289),ot=r(165);const it={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},lt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},nt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},dt={class:"px-md-10 tw-w-full"},wt={class:"tw-w-[150px]"},ct=["src"],ut={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},pt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},mt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),gt=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),ht={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},ft={class:"mt-5"},yt=(0,s._)("p",{class:"mb-1"},"Email",-1),vt=(0,s._)("p",{class:"mb-1"},"Password",-1),xt={class:"mt-5"},bt=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),_t={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},kt=["src"];function Ct(t,e,r,o,i,l){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",it,[(0,s.Wm)(n),(0,s._)("div",lt,[(0,s._)("div",nt,[(0,s.Wm)(at.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",dt,[(0,s._)("div",wt,[(0,s._)("img",{class:"tw-w-full",src:i.localUrl+"assets/img/logo.png"},null,8,ct)]),(0,s._)("div",ut,[(0,s._)("div",pt,[mt,gt,i.error.active?((0,s.wg)(),(0,s.iD)("p",ht,(0,et.zw)(i.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",ft,[(0,s._)("div",null,[yt,(0,s.Wm)(ot.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>l.resetError("email")),modelValue:i.email,"onUpdate:modelValue":e[1]||(e[1]=t=>i.email=t),error:!i.emailStatus.valid,"error-messages":i.emailStatus.valid?"":i.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>i.emailFocus=!1),onFocus:e[3]||(e[3]=t=>i.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:i.emailFocus?i.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[vt,(0,s.Wm)(ot.hw,{name:"password",onKeyup:(0,a.D2)(l.login,["enter"]),modelValue:i.password,"onUpdate:modelValue":e[5]||(e[5]=t=>i.password=t),error:!i.passwordStatus.valid,"error-messages":i.passwordStatus.valid?"":i.passwordStatus.message,type:i.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>i.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>i.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(st.t,{onClick:e[4]||(e[4]=t=>i.showPassword=!i.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:i.passwordFocus?i.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(i.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",xt,[(0,s.Wm)(rt.T,{disabled:i.isLoading||!i.cookiesCleared,loading:i.isLoading||!i.cookiesCleared,onClick:l.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[bt])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",_t,[(0,s._)("img",{src:i.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,kt)])])])}function Dt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function St(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function zt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Ut(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function Pt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function Lt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function At(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var $t=r(7771),qt=r(8952);const Wt={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Et={class:"tw-text-sm"};function Tt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(qt.V,null,{default:(0,s.w5)((()=>[i.state.active?((0,s.wg)(),(0,s.iD)("div",Wt,[(0,s.Wm)($t.w,{closable:"",density:"compact",variant:"flat",type:i.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Et,(0,et.zw)(i.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Ot={computed:{state(){return this.$store.getters["alert/alert"]}}};const It=(0,p.Z)(Ot,[["render",Tt]]);var Ft=It,Vt={components:{Alert:Ft},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,l.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Dt(this.email),this.passwordStatus=St(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},X.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){X.clear().then((()=>{this.cookiesCleared=!0}))}};const Rt=(0,p.Z)(Vt,[["render",Ct]]);var jt=Rt,Nt={name:"login",path:"/login",component:jt,meta:{title:"Login"}},Mt=r(4454),Ht=r(3140);function Yt(t,e,r,a,o,i){const l=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),d=(0,s.up)("Alert"),w=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[i.isLoggedIn?((0,s.wg)(),(0,s.j4)(Mt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{active:o.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:i.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(d),(0,s.Wm)(Ht.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(at.K,{fluid:"",class:"py-6 px-6"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1}),o.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>i.scrollToTop&&i.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Zt=r(6439),Kt=r(9156);const Bt={class:"tw-flex tw-items-center tw-gap-2"};function Qt(t,e,r,o,i,l){const n=(0,s.up)("Notification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Zt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Bt,[(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Kt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>l.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var Gt=r(652),Jt=r(4075),Xt=r(8694),te=r(8793);const ee={class:"tw-relative"},re=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),ae={key:0,class:"!tw-duration-100"},se={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},oe={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},ie={class:"d-flex flex-column justify-center"},le={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},ne={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},de=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),we={class:"d-flex tw-items-center tw-gap-2"},ce=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ue(t,e,r,a,o,i){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ee,[(0,s.Wm)(rt.T,{onClick:i.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Gt.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),re])),_:1},8,["onClick"]),(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("div",se,[(0,s._)("div",oe,[(0,s.Wm)(Gt.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{eager:"",src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",ie,[(0,s._)("div",le,(0,et.zw)(i.user.firstname)+" "+(0,et.zw)(i.user.lastname),1),(0,s._)("div",ne,(0,et.zw)(i.user.role),1)])]),(0,s.Wm)(Jt.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>i.closeMenu&&i.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(rt.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),de])),_:1})]),(0,s.Wm)(Jt.J),(0,s._)("div",we,[(0,s.Wm)(rt.T,{onClick:i.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:(0,et.C_)([{"tw-animate-pulse":o.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),ce])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,i.closeMenu]])}var pe={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,X.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const me=(0,p.Z)(pe,[["render",ue]]);var ge=me;function he(t,e,r,a,o,i){const l=(0,s.up)("AdminNotification"),n=(0,s.up)("UserNotification");return(0,s.wg)(),(0,s.iD)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(l,{key:0})):(0,s.kq)("",!0),["agente","delivery"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(n,{key:1})):(0,s.kq)("",!0)])}const fe={class:"tw-relative"},ye={key:0,class:"tw-absolute tw-border-2 tw-border-solid tw-border-white tw-top-1 tw-right-1 tw-w-3 tw-h-3 tw-rounded-full tw-bg-red-500"},ve={key:0,class:"!tw-duration-100"},xe={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[230px] tw-min-h-[50px]"},be=(0,s._)("p",{class:"tw-p-2 tw-text-sm"},"Notifications",-1),_e={key:0},ke={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ce={key:1},De=(0,s._)("p",{class:""},"Stock Alert",-1),Se=(0,s._)("p",{class:""},"Delivery Reported",-1),ze=(0,s._)("p",{class:""},"Confirmation Reported",-1);function Ue(t,e,r,a,o,i){const l=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",fe,[(0,s.Wm)(rt.T,{onClick:i.toggleMenu,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{width:"22",height:"22",src:o.localUrl+"assets/img/icons/notification-bing.svg"},null,8,["src"]),i.stockAlert.length||i.reportedDeliveries.length||i.reportedConfirmations.length?((0,s.wg)(),(0,s.iD)("div",ye)):(0,s.kq)("",!0)])),_:1},8,["onClick"]),(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",xe,[be,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_e,[(0,s._)("div",ke,[(0,s.Wm)(st.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s.Wm)(l,{to:"/notifications/stock",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-outline")])),_:1}),(0,s._)("div",null,[De,(0,s._)("p",{class:(0,et.C_)([[i.stockAlert.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(i.stockAlert.length)+" "+(0,et.zw)(i.stockAlert.length>1?"products":"product"),3)])])),_:1}),(0,s.Wm)(l,{to:"/sales",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Se,(0,s._)("p",{class:(0,et.C_)([[i.reportedDeliveries.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(i.reportedDeliveries.length)+" today",3)])])),_:1}),(0,s.Wm)(l,{to:"/sales",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[ze,(0,s._)("p",{class:(0,et.C_)([[i.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(i.reportedConfirmations.length)+" today",3)])])),_:1})])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,i.closeMenu]])}class Pe{async all(){return await q.getCookie(),A.get("api/notifications")}async agente(){return await q.getCookie(),A.get("api/notifications/agente")}async delivery(){return await q.getCookie(),A.get("api/notifications/delivery")}}var Le=new Pe,Ae={data(){return{localUrl:n,isActive:!1,isLoaded:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},getNotifications(){Le.all().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},computed:{user(){return this.$store.getters["user/user"]},notifications(){return this.$store.getters["notification/notifications"]},stockAlert(){return this.notifications["productStockAlert"]||[]},reportedConfirmations(){return this.notifications["reportedOrderAgente"]||[]},reportedDeliveries(){return this.notifications["reportedOrderDelivery"]||[]}},mounted(){this.getNotifications()}};const $e=(0,p.Z)(Ae,[["render",Ue]]);var qe=$e;const We={class:"tw-relative"},Ee={key:0,class:"tw-absolute tw-border-2 tw-border-solid tw-border-white tw-top-1 tw-right-1 tw-w-3 tw-h-3 tw-rounded-full tw-bg-red-500"},Te={key:0,class:"!tw-duration-100"},Oe={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[230px] tw-min-h-[50px]"},Ie=(0,s._)("p",{class:"tw-p-2 tw-text-sm"},"Notifications",-1),Fe={key:0},Ve={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Re={key:1},je=(0,s._)("p",{class:""},"Confirmation Reported",-1),Ne=(0,s._)("p",{class:""},"Delivery Reported",-1);function Me(t,e,r,a,o,i){const l=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",We,[(0,s.Wm)(rt.T,{onClick:i.toggleMenu,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{width:"22",height:"22",src:o.localUrl+"assets/img/icons/notification-bing.svg"},null,8,["src"]),i.reportedDeliveries.length||i.reportedConfirmations.length?((0,s.wg)(),(0,s.iD)("div",Ee)):(0,s.kq)("",!0)])),_:1},8,["onClick"]),(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",Te,[(0,s._)("div",Oe,[Ie,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fe,[(0,s._)("div",Ve,[(0,s.Wm)(st.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Re,["agente"==i.user.role?((0,s.wg)(),(0,s.j4)(l,{key:0,to:"/orders",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[je,(0,s._)("p",{class:(0,et.C_)([[i.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(i.reportedConfirmations.length)+" today",3)])])),_:1})):(0,s.kq)("",!0),"delivery"==i.user.role?((0,s.wg)(),(0,s.j4)(l,{key:1,to:"/deliveries",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Ne,(0,s._)("p",{class:(0,et.C_)([[i.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(i.reportedConfirmations.length)+" today",3)])])),_:1})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,i.closeMenu]])}var He={data(){return{localUrl:n,isActive:!1,isLoaded:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},getAgenteNotifications(){Le.agente().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},getDeliveryNotifications(){Le.delivery().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},computed:{user(){return this.$store.getters["user/user"]},notifications(){return this.$store.getters["notification/notifications"]},stockAlert(){return this.notifications["productStockAlert"]||[]},reportedConfirmations(){return this.notifications["reportedOrderAgente"]||[]},reportedDeliveries(){return this.notifications["reportedOrderDelivery"]||[]}},mounted(){"agente"==this.user.role&&this.getAgenteNotifications(),"delivery"==this.user.role&&this.getDeliveryNotifications()}};const Ye=(0,p.Z)(He,[["render",Me]]);var Ze=Ye,Ke={components:{AdminNotification:qe,UserNotification:Ze},computed:{user(){return this.$store.getters["user/user"]}}};const Be=(0,p.Z)(Ke,[["render",he]]);var Qe=Be,Ge={emits:["toggleSidebar"],components:{HeaderMenu:ge,Notification:Qe},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Je=(0,p.Z)(Ge,[["render",Qt]]);var Xe=Je,tr=r(9457),er=r(2329),rr=r(9657);function ar(t,e,r,a,o,i){const l=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(rr.V,{modelValue:o.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>o.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(tr.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(Xt.f,{width:"140",src:o.localUrl+"assets/img/logo.png"},null,8,["src"])])])),_:1}),(0,s.Wm)(er.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.links,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const sr=[4,6,7],or=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Dashboard",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Dashboard Analytics",subModule:"dashboard/analytics",gate:"access_to_analytics",to:"/analytics"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_ads",to:"/ads"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:12,title:"Settings",module:"settings",to:"/settings",gate:"access_to_account",hasChildren:!1,icon:{type:"svg",value:"assets/img/icons/settings.svg"}},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var ir=r(9234),lr=r(2127);const nr={key:0},dr={class:"d-flex align-center"},wr={class:"tw-rounded-md tw-bg-gray-50"},cr={class:"tw-h-full py-2"},ur={key:1},pr={key:2},mr={key:3};function gr(t,e,r,a,o,i){const l=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),d=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&"all"!=r.link.gate||o.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nr,[(0,s.Wm)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>i.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",dr,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,icon:r.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(Xt.f,{key:1,src:o.localUrl+r.link.icon.value,"max-width":"18",class:(0,et.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(lr.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,et.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(ir.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(st.t,{key:2,class:(0,et.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",wr,[(0,s.Wm)(er.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(tr.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",cr,[(0,s.Wm)(st.t,{size:"x-small",class:"mr-2",color:i.isSublinkActive(t)?"primary-color":"secondary-color",icon:i.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,et.C_)(["tw-text-sm",{"text-primary-color":i.isSublinkActive(t)}])},(0,et.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",ur,[(0,s.Wm)(l)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",pr,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(d)])):(0,s.kq)("",!0)])}const hr={key:0},fr={class:"d-flex align-center"},yr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},vr={key:1,class:"tw-text-xs"},xr={class:"tw-rounded-md tw-bg-gray-50"},br={class:"tw-h-full py-2"};function _r(t,e,r,a,o,i){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>i.handleClick()),density:"comfortable",active:!1,ripple:!1,to:o.link.hasChildren?"":o.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",fr,["icon"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,icon:o.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(Xt.f,{key:1,src:o.localUrl+o.link.icon.value,"max-width":"18",class:(0,et.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(lr.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,et.zw)(o.link.title)},null,8,["class","textContent"]),(0,s._)("div",yr,[(o.isLoaded,(0,s.kq)("",!0)),(o.isLoaded,(0,s.wg)(),(0,s.iD)("p",vr,(0,et.zw)(i.count),1))]),(0,s.Wm)(ir.C),o.link.hasChildren?((0,s.wg)(),(0,s.j4)(st.t,{key:2,class:(0,et.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),o.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",xr,[(0,s.Wm)(er.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(tr.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",br,[(0,s.Wm)(st.t,{size:"x-small",class:"mr-2",color:i.isSublinkActive(t)?"primary-color":"secondary-color",icon:i.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,et.C_)(["tw-text-sm",{"text-primary-color":i.isSublinkActive(t)}])},(0,et.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var kr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Cr=(0,p.Z)(kr,[["render",_r],["__scopeId","data-v-419eeb7c"]]);var Dr=Cr;const Sr={key:0},zr={class:"d-flex align-center"},Ur={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Pr={key:1,class:"tw-text-xs"};function Lr(t,e,r,a,o,i){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Sr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>i.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",zr,[(0,s.Wm)(st.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(lr.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,et.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(ir.C),(0,s._)("div",Ur,[i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),i.fetched?((0,s.wg)(),(0,s.iD)("p",Pr,(0,et.zw)(1==r.id?i.orders.length-i.deliveredOrders.length:i.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class Ar{async delivery(){return await q.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await q.getCookie(),A.get("api/dashboard/agente")}}var $r=new Ar,qr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,$r.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Wr=(0,p.Z)(qr,[["render",Lr],["__scopeId","data-v-69fa82e9"]]);var Er=Wr;const Tr={key:0},Or={class:"d-flex align-center"},Ir={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Fr={key:1,class:"tw-text-xs"},Vr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Rr={key:1,class:"tw-text-xs"};function jr(t,e,r,a,o,i){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Tr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>i.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Or,[(0,s.Wm)(st.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(lr.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,et.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(ir.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Ir,[i.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),i.state.fetched?((0,s.wg)(),(0,s.iD)("p",Fr,(0,et.zw)(4==r.id?i.state.totalNotConfirmed:i.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Vr,[i.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),i.state.fetched?((0,s.wg)(),(0,s.iD)("p",Rr,(0,et.zw)(i.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Nr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Mr=(0,p.Z)(Nr,[["render",jr],["__scopeId","data-v-26146d6f"]]);var Hr=Mr,Yr={props:["link"],components:{SidebarSales:Dr,SidebarDelivery:Er,SidebarAgente:Hr},data(){return{localUrl:n,disabled_links:sr,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Zr=(0,p.Z)(Yr,[["render",gr],["__scopeId","data-v-35ca0437"]]);var Kr=Zr,Br={components:{SidebarItem:Kr},props:["active"],data(){return{localUrl:n,drawer:!0,links:or}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Qr=(0,p.Z)(Br,[["render",ar]]);var Gr=Qr,Jr=r(4410),Xr=r.n(Jr),ta=r(6027);class ea{async all(){return await q.getCookie(),A.get("api/sheets")}async create(t){await q.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await q.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await q.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await q.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await q.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await q.getCookie(),A.get("api/sync")}async auto(){return await q.getCookie(),A.post("api/sync")}async saveOrders(t){return await q.getCookie(),A.get("api/sync/"+t+"/save")}}var ra=new ea;class aa{async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await q.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),e.append("status",1),L.post("api/products/new",e)}async update(t,e){await q.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),r.append("status",1),L.post("api/products/update/"+t,r)}async all(){return await q.getCookie(),A.get("api/products")}async allForOrder(){return await q.getCookie(),A.get("api/products/for-order")}async getProduct(t){return await q.getCookie(),A.get("api/products/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await q.getCookie(),A.get("api/product/stockAlert")}}var sa=new aa;class oa{async all(){return await q.getCookie(),A.get("api/sales")}async delete(t){return await q.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await q.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await q.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await q.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await q.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await q.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await q.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await q.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await q.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await q.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await q.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await q.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await q.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await q.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await q.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await q.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await q.getCookie(),A.get("api/orders/history/show/"+t)}async resetSale(t){return await q.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await q.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await q.getCookie(),A.get("api/orders/count")}}var ia=new oa,la={components:{AppHeader:Xe,AppSidebar:Gr,Alert:Ft},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return X.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},subscribe(){console.log(Xr());const t=new ta.Z({broadcaster:"pusher",key:"ABCDEFG",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0,cluster:"mt1"});window.Echo=t,t.channel("notification").listenToAll((t=>{console.log(t)})),this.subscribed=!0},sync_sheets(){"admin"==this.user.role?ra.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):ra.auto()},getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ia.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,ia.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const na=(0,p.Z)(la,[["render",Yt]]);var da=na;const wa={key:0};function ca(t,e,r,a,o,i){return o.exists?((0,s.wg)(),(0,s.iD)("div",wa,[((0,s.wg)(),(0,s.j4)((0,s.LL)(i.dashboard)))])):(0,s.kq)("",!0)}var ua=r(6824),pa=r(8521);const ma={key:0},ga={key:1},ha=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),fa={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},ya={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},va={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},xa=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),ba=["disabled"],_a={key:0,class:"tw-flex tw-items-center tw-gap-2"},ka={key:1},Ca=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Da={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Sa(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),d=(0,s.up)("FilterTabs"),w=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ma,[(0,s.Wm)(l)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",ga,[ha,(0,s._)("div",fa,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",ya,[(0,s._)("div",va,[xa,(0,s._)("button",{disabled:o.updating,onClick:e[0]||(e[0]=(...t)=>i.updateSales&&i.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[o.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_a,[(0,s.Wm)(st.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),o.updating?((0,s.wg)(),(0,s.iD)("div",ka,[Ca,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,ba)])]),(0,s._)("div",Da,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:i.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:i.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:i.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:i.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":i.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var za=r(4286);const Ua={class:"tw-flex tw-items-center"},Pa={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},La={class:"tw-text-lg tw-font-bold"},Aa={class:"tw-text-sm"};function $a(t,e,r,a,o,i){return(0,s.wg)(),(0,s.j4)(za.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ua,[(0,s._)("div",{class:(0,et.C_)([i.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(st.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Pa,[(0,s._)("p",La,(0,et.zw)(r.dash.value),1),(0,s.Wm)(ir.C),(0,s._)("p",Aa,(0,et.zw)(r.dash.title),1)])])])),_:1})}var qa={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Wa=(0,p.Z)(qa,[["render",$a]]);var Ea=Wa;const Ta={key:0,class:""},Oa={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ia=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Fa=[Ia],Va={key:1,class:"tw-min-h-[50px]"},Ra={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},ja={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},Na={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},Ma={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},Ha={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},Ya=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),Za={key:1},Ka={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Ba=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Qa={key:1,class:"tw-flex tw-items-center tw-gap-2"},Ga=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function Ja(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ta,[(0,s._)("div",Oa,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Fa))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Va,[(0,s._)("div",Ra,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",ja,[(0,s._)("div",Na,(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),1),(0,s._)("div",Ma,[t.last_action?((0,s.wg)(),(0,s.iD)("div",Za,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",Ka,[Ba,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Qa,[Ga,(0,s.Uk)(" "+(0,et.zw)(i.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",Ha,[Ya,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var Xa=r(8777),ts={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Xa.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const es=(0,p.Z)(ts,[["render",Ja]]);var rs=es,as=r(1489),ss=r(3144),os=r(9870),is=r(6161),ls=r(4722);function ns(t,e,r,a,o,i){return(0,s.wg)(),(0,s.j4)(as._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ss.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(os.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(is.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(ls.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const ds={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},cs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},us={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ps={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ms={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},gs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},hs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function fs(t,e,r,a,o,i){const l=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ds,[(0,s._)("div",ws,[(0,s.Wm)(l,{dash:i.totalSales},null,8,["dash"])]),(0,s._)("div",cs,[(0,s.Wm)(l,{dash:i.deliveredSales},null,8,["dash"])]),(0,s._)("div",us,[(0,s.Wm)(l,{dash:i.shippedSales},null,8,["dash"])]),(0,s._)("div",ps,[(0,s.Wm)(l,{dash:i.reportedSales},null,8,["dash"])]),(0,s._)("div",ms,[(0,s.Wm)(l,{dash:i.noanswerSales},null,8,["dash"])]),(0,s._)("div",gs,[(0,s.Wm)(l,{dash:i.canceledSales},null,8,["dash"])]),(0,s._)("div",hs,[(0,s.Wm)(l,{dash:i.transferSales},null,8,["dash"])])])])}const ys={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},vs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},xs={class:"tw-text-xl tw-font-bold"},bs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},_s={class:"tw-text-sm"},ks={class:"rounded-circle tw-w-fit tw-mr-3"};function Cs(t,e,r,a,o,i){const l=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(za.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",ys,[(0,s._)("div",vs,[(0,s._)("p",xs,(0,et.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,et.zw)(r.symbol),1),(0,s._)("span",bs,[r.numbers?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",_s,(0,et.zw)(r.dash.title),1)])]),(0,s._)("div",ks,[(0,s.Wm)(st.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Ds={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Ss=(0,p.Z)(Ds,[["render",Cs]]);var zs=Ss,Us={components:{DashItemTwo:zs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ia.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Ps=(0,p.Z)(Us,[["render",fs]]);var Ls=Ps;const As={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},$s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Os={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Is={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Vs(t,e,r,a,o,i){const l=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",As,[(0,s._)("div",$s,[(0,s.Wm)(l,{dash:i.totalSales},null,8,["dash"])]),(0,s._)("div",qs,[(0,s.Wm)(l,{dash:i.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ws,[(0,s.Wm)(l,{dash:i.newSales},null,8,["dash"])]),(0,s._)("div",Es,[(0,s.Wm)(l,{dash:i.reportedSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(l,{dash:i.noanswerSales},null,8,["dash"])]),(0,s._)("div",Os,[(0,s.Wm)(l,{dash:i.canceledSales},null,8,["dash"])]),(0,s._)("div",Is,[(0,s.Wm)(l,{dash:i.doubledSales},null,8,["dash"])]),(0,s._)("div",Fs,[(0,s.Wm)(l,{dash:i.wrongNumberSales},null,8,["dash"])])])])}var Rs={components:{DashItemTwo:zs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ia.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const js=(0,p.Z)(Rs,[["render",Vs]]);var Ns=js,Ms={components:{DeliveryTab:Ls,ConfirmationTab:Ns},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const Hs=(0,p.Z)(Ms,[["render",ns]]);var Ys=Hs;const Zs={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},Ks={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Bs={class:"tw-relative"},Qs={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Gs={class:"tw-relative"},Js={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Xs=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),to={class:"tw-relative"},eo=(0,s._)("option",{value:"all"},"Select",-1),ro=["value"],ao={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},so=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),oo={class:"tw-relative"},io=(0,s._)("option",{value:"all"},"Select",-1),lo=["value"],no={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},wo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),co={class:"tw-relative"},uo=(0,s._)("option",{value:"all"},"Select",-1),po=["value"],mo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},go=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),ho={class:"tw-relative"},fo=(0,s._)("option",{value:"all"},"Select",-1),yo=["value"],vo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),bo={class:"tw-relative"},_o=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),ko={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Co=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Do={class:"tw-relative"},So=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),zo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Uo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Po={class:"tw-relative"},Lo=(0,s._)("option",{value:"all"},"Select",-1),Ao=(0,s._)("option",{value:"oui"},"Oui",-1),$o=(0,s._)("option",{value:"non"},"Non",-1),qo=[Lo,Ao,$o];function Wo(t,e,r,o,i,l){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",Zs,[(0,s._)("div",Ks,[(0,s._)("div",Bs,[(0,s.Wm)(n,{name:"Created Date",filter:i.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>i.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",Qs,[(0,s._)("div",Gs,[(0,s.Wm)(n,{name:"Dropped Date",filter:i.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>i.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",Js,[Xs,(0,s._)("div",to,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[eo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,ro)))),128))],512),[[a.bM,i.agentFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",ao,[so,(0,s._)("div",oo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[io,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,lo)))),128))],512),[[a.bM,i.deliveryFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",no,[wo,(0,s._)("div",co,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[uo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,po)))),128))],512),[[a.bM,i.cityFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",mo,[go,(0,s._)("div",ho,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[fo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,yo)))),128))],512),[[a.bM,i.productFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",vo,[xo,(0,s._)("div",bo,[_o,(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",ko,[Co,(0,s._)("div",Do,[So,(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",zo,[Uo,(0,s._)("div",Po,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},qo,512),[[a.bM,i.upsellFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Eo={class:"tw-text-sm tw-text-neutral-600"},To=["onClick"];function Oo(t,e,r,a,o,i){const l=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Eo,(0,et.zw)(r.name),1),(0,s.Wm)(l,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),i.onDateRangePicked],onCleared:i.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,To)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Io=r(1271),Fo=r(2292),Vo=r(1745),Ro=r(4253),jo=r(4819),No=r(2143),Mo={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Fo.Z)(new Date),(0,Vo.Z)(new Date)]},{label:"Last month",range:[(0,Fo.Z)((0,Ro.Z)(new Date,1)),(0,Vo.Z)((0,Ro.Z)(new Date,1))]},{label:"This year",range:[(0,jo.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Ho=(0,p.Z)(Mo,[["render",Oo]]);var Yo=Ho,Zo={components:{DateFilter:Yo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire vers",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non vers",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){X.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),sa.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),X.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),X.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Ko=(0,p.Z)(Zo,[["render",Wo]]);var Bo=Ko;const Qo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},Go=t=>t?t.split("api/")[1]:null;var Jo={components:{DashItem:Ea,UsersTable:rs,TabSwitcher:Ys,FilterTabs:Bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,o=this.filters.dateFilter[0],i=this.filters.dateFilter[1],l=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((d=>{if("all"!==t&&parseInt(d.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(d.affectation)!=parseInt(e))return!1;if("all"!==s&&d.upsell!=s)return!1;if("all"!==r&&!d.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&d.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const w=new Date(d.created_at),c=w.getDate(),u=w.getMonth(),p=w.getFullYear();if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(d.dropped_at),g=m.getDate(),h=m.getMonth(),f=w.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire vers",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non vers",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ia.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ia.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=Qo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=Qo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=Qo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Xo=(0,p.Z)(Jo,[["render",Sa]]);var ti=Xo;const ei=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),ri={key:0},ai={key:1},si={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},oi={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},ii={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},li={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},ni={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},di={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},wi={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},ci={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function ui(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[ei,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ri,[(0,s.Wm)(l)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ai,[(0,s._)("div",si,[(0,s._)("div",oi,[(0,s._)("div",ii,[(0,s.Wm)(n,{dash:i.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",li,[(0,s.Wm)(n,{dash:i.totalSales},null,8,["dash"])]),(0,s._)("div",ni,[(0,s.Wm)(n,{dash:i.deliveredSales},null,8,["dash"])]),(0,s._)("div",di,[(0,s.Wm)(n,{dash:i.reportedSales},null,8,["dash"])]),(0,s._)("div",wi,[(0,s.Wm)(n,{dash:i.shippedSales},null,8,["dash"])]),(0,s._)("div",ci,[(0,s.Wm)(n,{dash:i.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var pi={components:{DashItemTwo:zs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,$r.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const mi=(0,p.Z)(pi,[["render",ui]]);var gi=mi;const hi=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),fi={key:0},yi={key:1},vi={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},xi={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},bi={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},_i={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ki={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ci={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Di={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Si={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},zi={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Ui(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[hi,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fi,[(0,s.Wm)(l)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",yi,[(0,s._)("div",vi,[(0,s._)("div",xi,[(0,s._)("div",bi,[(0,s.Wm)(n,{dash:i.earningsDash,symbol:o.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",_i,[(0,s.Wm)(n,{dash:i.totalSales},null,8,["dash"])]),(0,s._)("div",ki,[(0,s.Wm)(n,{dash:i.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ci,[(0,s.Wm)(n,{dash:i.reportedSales},null,8,["dash"])]),(0,s._)("div",Di,[(0,s.Wm)(n,{dash:i.noanswerSales},null,8,["dash"])]),(0,s._)("div",Si,[(0,s.Wm)(n,{dash:i.canceledSales},null,8,["dash"])]),(0,s._)("div",zi,[(0,s.Wm)(n,{dash:i.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Pi={components:{DashItemTwo:zs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,$r.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Li=(0,p.Z)(Pi,[["render",Ui]]);var Ai=Li;const $i=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),qi=[$i];function Wi(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,qi)}var Ei={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const Ti=(0,p.Z)(Ei,[["render",Wi]]);var Oi=Ti;const Ii={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Fi=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Vi=[Fi];function Ri(t,e,r,a,o,i){const l=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ii,[o.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Vi))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.dashes,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const ji={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Ni={class:"tw-flex tw-justify-between"},Mi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Hi={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},Yi={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Zi={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Ki(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ji,[(0,s._)("div",Ni,[(0,s._)("div",null,[(0,s._)("div",Mi,[(0,s._)("p",Hi,(0,et.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Yi,[(0,s._)("span",Zi,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var Bi={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const Qi=(0,p.Z)(Bi,[["render",Ki]]);var Gi=Qi;class Ji{async statistics(){return await q.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await q.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await q.getCookie(),A.post("api/v1/followup/orders/create",t)}}var Xi=new Ji,tl={components:{DashCard:Gi},data(){return{fetching:!0,dashes:[]}},mounted(){Xi.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const el=(0,p.Z)(tl,[["render",Ri]]);var rl=el,al={components:{admin:ti,delivery:gi,agente:Ai,default:Oi,"follow-up":rl},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;default:this.exists=!0;break}}},created(){this.check()}};const sl=(0,p.Z)(al,[["render",ca]]);var ol=sl,il=r(3104);const ll=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),nl={key:0},dl={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},wl={class:"tw-w-full"},cl=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),ul={class:"tw-w-full"},pl=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),ml={class:"tw-w-full"},gl=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),hl={class:"tw-w-full"},fl=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),yl={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},vl=(0,s._)("span",null,"Update Password: ",-1),xl={class:"tw-w-full"},bl=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),_l={class:"tw-w-full"},kl=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),Cl={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Dl=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Sl=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function zl(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[ll,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nl,[(0,s.Wm)(l)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",dl,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wl,[cl,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ul,[pl,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ml,[gl,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",hl,[fl,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",yl,[vl,(0,s.Wm)(il.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xl,[bl,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_l,[kl,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Cl,[(0,s.Wm)(rt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Dl])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Sl])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var Ul={data(){return{serverUrl:d,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,X.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=zt(this.firstname),this.formStatus["lastname"]=zt(this.lastname),this.formStatus["phone"]=zt(this.phone),this.formStatus["password"]=St(this.password),this.formStatus["confirmPassword"]=Pt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return X.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const Pl=(0,p.Z)(Ul,[["render",zl]]);var Ll=Pl;const Al=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Notifications")])],-1),$l={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ql={class:"!tw-capitalize"};function Wl(t,e,r,a,o,i){(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Al,(0,s.kq)("",!0),((0,s.wg)(),(0,s.iD)("div",$l,[(0,s.Wm)(as._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ss.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tabs,(t=>((0,s.wg)(),(0,s.j4)(os.L,{class:"!tw-capitalize !tw-text-neutral-600",key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s._)("span",ql,(0,et.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(is.Oo,{class:"tw-mt-5",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tabs,(t=>((0,s.wg)(),(0,s.j4)(ls.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component)))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})]))])}const El={key:0};function Tl(t,e,r,a,o,i){const l=(0,s.up)("SalesTable");return i.fetched?((0,s.wg)(),(0,s.iD)("div",El,[((0,s.wg)(),(0,s.j4)(l,{key:i.sales.length,columns:o.columns,sales:i.sales},null,8,["columns","sales"]))])):(0,s.kq)("",!0)}const Ol={class:"tw-grid tw-grid-cols-12 tw-mb-5"},Il={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},Fl=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Vl=["value"],Rl={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},jl={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Nl={scope:"col",class:"tw-p-4"},Ml={class:"tw-flex tw-items-center"},Hl=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),Yl={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Zl={class:"tw-w-4 tw-p-4 tw-relative"},Kl={class:"tw-flex tw-items-center"},Bl=["onChange","checked"],Ql=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),Gl={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Jl={class:"tw-px-6 tw-py-4 tw-relative"},Xl={key:0},tn={class:"tw-px-6 tw-py-4"},en=["title"],rn={class:"tw-px-6 tw-py-4 tw-relative"},an={class:"tw-pb-2"},sn={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},on={key:0},ln={key:1},nn={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},dn={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},wn={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},cn={class:"tw-px-6 tw-py-4"},un={class:"tw-px-6 tw-py-4 tw-relative"},pn={class:"tw-flex tw-items-center tw-justify-center"},mn={class:"tw-flex tw-gap-1"},gn={key:0},hn={class:"tw-px-6 tw-py-4"},fn={class:"tw-px-6 tw-py-4 tw-relative"},yn={class:"tw-flex tw-items-center tw-justify-center"},vn={class:"tw-flex tw-gap-1"},xn={key:0},bn={class:"tw-px-6 tw-py-4"},_n={class:"tw-px-6 tw-py-4"},kn={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Cn={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},Dn={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Sn={class:"tw-flex tw-flex-wrap tw-gap-2"},zn={class:"tw-text-white"};function Un(t,e,r,o,i,l){const n=(0,s.up)("SaleConfirmation"),d=(0,s.up)("SaleAffectation"),w=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:l.items.length},[(0,s._)("div",Ol,[(0,s._)("div",Il,[Fl,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Vl)))),128))],512),[[a.bM,i.paginationLimit]])])]),(0,s._)("div",Rl,[((0,s.wg)(),(0,s.iD)("table",{key:l.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",jl,[(0,s._)("tr",null,[(0,s._)("th",Nl,[(0,s._)("div",Ml,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>l.handleSelectAll&&l.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>i.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,i.isAllSelected]]),Hl])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,et.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",Yl,(0,et.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,et.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",l.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",Zl,[(0,s._)("div",Kl,[(0,s._)("input",{onChange:e=>l.handleSelect(e,t.id),checked:l.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,Bl),Ql])]),(0,s._)("td",Gl,(0,et.zw)(t.id),1),(0,s._)("td",Jl,[(0,s.Uk)((0,et.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([l.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[l.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",Xl," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",tn,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,et.zw)(t.city),9,en)]),(0,s._)("td",rn,[(0,s._)("div",an,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",sn,(0,et.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,et.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",on,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",ln,"| "+(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",nn,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",dn," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",wn," delivery "))])])]),(0,s._)("td",cn,(0,et.zw)(t.fullname),1),(0,s._)("td",un,[(0,s._)("div",pn,[((0,s.wg)(),(0,s.j4)(n,{class:(0,et.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([l.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",mn,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",gn,[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,et.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",hn,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(d,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",fn,[(0,s._)("div",yn,[((0,s.wg)(),(0,s.j4)(w,{class:(0,et.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([l.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",vn,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",xn,[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,et.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",bn,(0,et.zw)(l.getPrice(t)),1),(0,s._)("td",_n,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",kn,[(0,s._)("div",Cn,[(0,s._)("div",Dn,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.sales.length:l.nextRange)+" of "+(0,et.zw)(r.sales.length)+" items ",1),(0,s._)("div",Sn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",zn,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Pn={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Ln=["onClick"],An={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},$n=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),qn={class:"tw-flex tw-justify-end tw-mt-2"};function Wn(t,e,r,o,i,l){const n=(0,s.up)("popup-full"),d=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,et.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,et.zw)(l.selected.name)+" ",1),i.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(i.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),i.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!i.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Pn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,et.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,et.zw)(t.name),3)],8,Ln)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.showPopup=!1),visible:i.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",An,[$n,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,i.note]]),(0,s._)("div",qn,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:i.isLoading,variant:"flat",color:"green",onClick:l.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(d,{order:r.sale,visible:i.showPopupReporter,onCancel:e[3]||(e[3]=t=>i.showPopupReporter=!1)},null,8,["order","visible"])])),[[te.L,l.close]])}const En=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1 / day1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2 / day1",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3 / day1",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 1 / day2",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 2 / day2",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 3 / day2",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 1 / day3",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 2 / day3",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 3 / day3",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],Tn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],On=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1 / day1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2 / day1",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3 / day1",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 1 / day2",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 2 / day2",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 3 / day2",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 1 / day3",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 2 / day3",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 3 / day3",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],In=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Fn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:10,value:"retourner",name:"Retourned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"}],Vn=[null,"expidier","paid","transfer","dispatch"],Rn={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},jn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Nn=(0,s._)("br",null,null,-1),Mn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Hn={class:"tw-flex tw-justify-end tw-mt-2"};function Yn(t,e,r,o,i,l){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Rn,[jn,(0,s.Wm)(n,{modelValue:i.date,"onUpdate:modelValue":e[0]||(e[0]=t=>i.date=t),format:l.format},null,8,["modelValue","format"]),Nn,Mn,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,i.note]]),(0,s._)("div",Hn,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:i.isLoading,variant:"flat",color:"green",onClick:l.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Zn={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ia.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const Kn=(0,p.Z)(Zn,[["render",Yn]]);var Bn=Kn,Qn={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:Bn},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:En,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ia.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ia.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const Gn=(0,p.Z)(Qn,[["render",Wn]]);var Jn=Gn;const Xn={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},td=["onClick"],ed={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},rd={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function ad(t,e,r,a,o,i){return i.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,et.zw)(i.selected.firstname)+" "+(0,et.zw)(i.selected.lastname)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Xn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",ed,(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),1)],8,td)))),128))])],2)])),[[te.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",rd,[(0,s.Wm)(st.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var sd={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ia.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const od=(0,p.Z)(sd,[["render",ad]]);var id=od;const ld={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},nd=["onClick"];function dd(t,e,r,a,o,i){const l=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,et.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,et.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",ld,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,et.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,et.zw)(t.name),3)],8,nd)))),128))])],2),(0,s.Wm)(l,{order:r.sale,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[te.L,i.close]])}const wd={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},cd=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),ud=(0,s._)("br",null,null,-1),pd=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),md={class:"tw-flex tw-justify-end tw-mt-2"};function gd(t,e,r,o,i,l){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",wd,[cd,(0,s.Wm)(n,{modelValue:i.date,"onUpdate:modelValue":e[0]||(e[0]=t=>i.date=t),format:l.format},null,8,["modelValue","format"]),ud,pd,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,i.note]]),(0,s._)("div",md,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:i.isLoading,variant:"flat",color:"green",onClick:l.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var hd={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ia.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const fd=(0,p.Z)(hd,[["render",gd]]);var yd=fd,vd={props:["delivery","id","sale"],components:{SaleDeliveryReporting:yd},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Fn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ia.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const xd=(0,p.Z)(vd,[["render",dd]]);var bd=xd;const _d={key:0};function kd(t,e,r,a,o,i){const l=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),d=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",_d,[(0,s.Wm)(rt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=t=>o.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.showHistoryPopup,onCancel:e[4]||(e[4]=t=>o.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[o.showHistoryPopup?((0,s.wg)(),(0,s.j4)(l,{key:0,onCancel:e[3]||(e[3]=t=>o.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{visible:o.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>o.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var Cd=r(7103),Dd=r(795),Sd=r(2773);const zd={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Ud={key:0,class:"tw-w-full tw-h-full"},Pd={key:1,class:"tw-p-5"},Ld={class:"d-flextw-flex-col justify-space-between flex-grow-1"},Ad={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},$d={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},qd={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},Wd={class:"d-flextw-flex-col justify-space-between flex-grow-1"},Ed={class:"tw-flex tw-flex-col tw-my-2"},Td=(0,s._)("div",null," New Order Created ",-1),Od={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function Id(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",zd,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ud,[(0,s.Wm)(l,{class:"text-primary-color"})])),(0,s.Wm)(rt.T,{onClick:i.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Pd,[(0,s.Wm)(Dd.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.events,(t=>((0,s.wg)(),(0,s.j4)(Sd.N,{key:t.id,class:"mb-4","dot-color":i.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",Ld,[(0,s._)("div",Ad,[(0,s.Wm)(Cd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:i.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Cd.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",$d,(0,et.zw)(t.users.firstname)+" "+(0,et.zw)(t.users.lastname),1),(0,s._)("div",qd,[(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(Sd.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",Wd,[(0,s._)("div",Ed,[(0,s.Wm)(Cd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),Td]),(0,s._)("div",Od,[(0,s._)("span",null,(0,et.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var Fd={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ia.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const Vd=(0,p.Z)(Fd,[["render",Id]]);var Rd=Vd;const jd={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Nd={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Md=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),Hd={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Yd={class:"md:tw-col-span-6 tw-col-span-12"},Zd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),Kd={class:"md:tw-col-span-6 tw-col-span-12"},Bd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),Qd={class:"md:tw-col-span-6 tw-col-span-12"},Gd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),Jd=["value"],Xd=["value"],tw={class:"md:tw-col-span-6 tw-col-span-12"},ew=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),rw={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},aw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),sw={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},ow={class:"tw-col-span-12"},iw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),lw={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},nw={class:"tw-col-span-12 md:tw-col-span-4"},dw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),ww={class:"tw-col-span-12 md:tw-col-span-8"},cw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),uw={class:"md:tw-col-span-6 tw-col-span-12"},pw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),mw={class:"md:tw-col-span-6 tw-col-span-12"},gw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),hw=["value"],fw={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},yw={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},vw={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},xw=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),bw={class:"tw-flex tw-flex-col tw-justify-center"},_w=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),kw={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},Cw={key:2,class:"md:tw-col-span-12 tw-col-span-12"},Dw={class:"tw-max-w-full tw-overflow-auto"},Sw={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},zw={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Uw={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},Pw=["src"],Lw={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},Aw=["onUpdate:modelValue"],$w=(0,s._)("option",{value:0},"Select",-1),qw=["value"],Ww={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Ew=["disabled","onUpdate:modelValue"],Tw=(0,s._)("option",{value:0},"Select",-1),Ow=["value"],Iw={key:0},Fw={key:1},Vw={key:2},Rw={key:3},jw=["value"],Nw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Mw={class:"md:tw-col-span-6 tw-col-span-12"},Hw=["onUpdate:modelValue"],Yw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Zw={key:0},Kw={key:1,class:"md:tw-col-span-6 tw-col-span-12"},Bw=["onUpdate:modelValue"],Qw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Gw={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},Jw=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),Xw={class:"md:tw-col-span-12 tw-col-span-12"},tc={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},ec=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),rc={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},ac=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),sc={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},oc=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),ic={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},lc=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),nc={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},dc={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},wc=(0,s._)("span",{class:"text-white"}," Cancel ",-1),cc=(0,s._)("span",{class:"text-white"}," Update ",-1);function uc(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("AddOrderConfirmation"),w=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",jd,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Nd,[Md,(0,s._)("div",Hd,[(0,s._)("div",Yd,[Zd,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.fullname]])]),(0,s._)("div",Kd,[Bd,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.phone]])]),(0,s._)("div",Qd,[Gd,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:i.sale.city},(0,et.zw)(i.sale.city),9,Jd),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,Xd)))),128))],512),[[a.bM,i.sale.city]])]),(0,s._)("div",tw,[ew,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>i.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.adresse]])]),(0,s._)("div",rw,[aw,(0,s.Wm)(d,{order:i.sale,id:i.sale.id,confirmation:i.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>i.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>i.sale.note=t),onReported:l.handleReported,onChange:l.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",sw,[(0,s._)("div",ow,[iw,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>i.sale.note=t)},null,512),[[a.nr,i.sale.note]])])]),"reporter"==i.sale.confirmation&&i.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",lw,[(0,s._)("div",nw,[dw,(0,s._)("div",null,(0,et.zw)(i.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",ww,[cw,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>i.sale.reported_agente_note=t)},null,512),[[a.nr,i.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",uw,[pw,(0,s.Wm)(w,{"product-ids":l.product_ids,items:i.items,"onUpdate:items":e[8]||(e[8]=t=>i.items=t),order:i.sale,confirmation:i.sale.confirmation,affectation:i.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>i.sale.affectation=t),id:i.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",mw,[gw,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,et.zw)(t.name),9,hw)))),128))],512),[[a.bM,i.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",fw,[(0,s._)("div",yw,[(0,s._)("label",vw,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>i.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,i.sale.counts_from_warehouse]]),xw]),(0,s._)("label",bw,[(0,s._)("span",{class:(0,et.C_)([[i.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,et.C_)([[i.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),_w,i.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",kw," No Order items ")),i.items.length?((0,s.wg)(),(0,s.iD)("div",Cw,[(0,s._)("div",Dw,[((0,s.wg)(),(0,s.iD)("table",{key:i.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Sw,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",zw,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",Uw,[l.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:i.serverUrl+"storage/"+l.product_images[e]},null,8,Pw)):(0,s.kq)("",!0)])])),(0,s._)("th",Lw,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[$w,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,qw)))),128))],8,Aw),[[a.bM,t.product.id]])])])]),(0,s._)("th",Ww,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==l.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Tw,l.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",Fw,(0,et.zw)(t.size)+" / "+(0,et.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",Vw,(0,et.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",Rw,(0,et.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Iw,"-"))],8,Ow)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:l.getVariations(t.product)?.variations[0]?.id}," Default ",8,jw))],8,Ew)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",Nw,[(0,s._)("div",Mw,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Hw),[[a.nr,t.quantity]])])]),(0,s._)("th",Yw,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",Zw," - ")):((0,s.wg)(),(0,s.iD)("div",Kw,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Bw),[[a.nr,t.price]])]))])]),(0,s._)("th",Qw,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:e=>l.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",Gw,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:l.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Jw])),_:1},8,["onClick"])])]),(0,s._)("div",Xw,[(0,s.Wm)(c,{"product-ids":l.product_ids},null,8,["product-ids"])]),(0,s._)("div",tc,[ec,(0,s._)("div",rc,[ac,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>i.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.price]])])]),(0,s._)("div",sc,[oc,(0,s._)("div",ic,[lc,(0,s._)("div",nc,(0,et.zw)(i.currency)+" "+(0,et.zw)(l.total_price),1)])])]),(0,s._)("div",dc,[(0,s.Wm)(rt.T,{onClick:l.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wc])),_:1},8,["onClick"]),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cc])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const pc={class:"tw-relative"},mc=["value"],gc={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},hc=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),fc={class:"tw-flex tw-justify-end tw-mt-2"};function yc(t,e,r,o,i,l){const n=(0,s.up)("popup-full"),d=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",pc,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,et.zw)(t.name),11,mc)))),128))],512),[[a.bM,l.confirmationValue]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.showPopup=!1),visible:i.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",gc,[hc,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,i.note]]),(0,s._)("div",fc,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:i.isLoading,variant:"flat",color:"green",onClick:l.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(d,{order:r.order,onConfirm:l.handleReportedDate,visible:i.showPopupReporter,onCancel:e[3]||(e[3]=t=>i.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[te.L,l.close]])}const vc={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},xc=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),bc=(0,s._)("br",null,null,-1),_c=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),kc={class:"tw-flex tw-justify-end tw-mt-2"};function Cc(t,e,r,o,i,l){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vc,[xc,(0,s.Wm)(n,{modelValue:i.date,"onUpdate:modelValue":e[0]||(e[0]=t=>i.date=t),format:l.format},null,8,["modelValue","format"]),bc,_c,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,i.note]]),(0,s._)("div",kc,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:i.isLoading,variant:"flat",color:"green",onClick:l.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Dc={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}}};const Sc=(0,p.Z)(Dc,[["render",Cc]]);var zc=Sc,Uc={props:["confirmation","id","order"],components:{AddOrderReporting:zc},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:En,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ia.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ia.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const Pc=(0,p.Z)(Uc,[["render",yc]]);var Lc=Pc;const Ac={class:"tw-relative"},$c=["disabled"],qc=["value"],Wc={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function Ec(t,e,r,o,i,l){return i.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",Ac,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>l.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.firstname+" "+t.lastname),9,qc)))),128))],8,$c),[[a.bM,l.affectationValue]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[te.L,l.close]]):((0,s.wg)(),(0,s.iD)("div",Wc,[(0,s.Wm)(st.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var Tc={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const Oc=(0,p.Z)(Tc,[["render",Ec]]);var Ic=Oc;const Fc=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),Vc={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},Rc={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jc=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Nc={class:"tw-px-6 tw-py-4"},Mc={class:"tw-px-6 tw-py-4"},Hc={class:"tw-px-6 tw-py-4"},Yc={class:"tw-px-6 tw-py-4"},Zc={class:"tw-max-w-[250px] tw-text-sm"},Kc={key:0},Bc=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),Qc=[Bc];function Gc(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[Fc,(0,s._)("div",null,[(0,s._)("div",Vc,[(0,s._)("table",Rc,[jc,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Nc,(0,et.zw)(i.getProduct(t.product_id)?.name),1),(0,s._)("td",Mc,(0,et.zw)(t.quantity),1),(0,s._)("td",Hc,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",Yc,[(0,s._)("p",Zc,(0,et.zw)(t.note),1)])])))),128)),0==i.offers.length?((0,s.wg)(),(0,s.iD)("tr",Kc,Qc)):(0,s.kq)("",!0)])])])])])}var Jc={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const Xc=(0,p.Z)(Jc,[["render",Gc]]);var tu=Xc,eu={components:{AddOrderConfirmation:Lc,AddOrderAffectation:Ic,ProductOffers:tu},props:["visible","order"],data(){return{upsells:In,serverUrl:d,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ia.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const ru=(0,p.Z)(eu,[["render",uc]]);var au=ru,su={props:["sale"],name:"saleActions",components:{SaleHistory:Rd,UpdateSale:au},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const ou=(0,p.Z)(su,[["render",kd]]);var iu=ou,lu={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:Jn,SaleAffectation:id,SaleDelivery:bd,SaleActions:iu},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return Qo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const nu=(0,p.Z)(lu,[["render",Un]]);var du=nu,wu={components:{SalesTable:du},data(){return{columns:[{prop:"id",name:"#"},{prop:"city",name:"City"},{prop:"date",name:"Date"},{prop:"client",name:"Client"},{prop:"product",name:"Product"},{prop:"upsell",name:"Upsell"},{prop:"confirmation",name:"Confirmation"},{prop:"affectation",name:"Affected"},{prop:"delivery",name:"Delivery"},{prop:"quantity",name:"Qty"},{prop:"price",name:"Price"},{prop:"actions",name:"Actions"}]}},computed:{sales(){return this.$store.getters["notification/notifications"]["reportedOrderAgente"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const cu=(0,p.Z)(wu,[["render",Tl]]);var uu=cu;const pu={key:0};function mu(t,e,r,a,o,i){const l=(0,s.up)("SalesTable");return i.fetched?((0,s.wg)(),(0,s.iD)("div",pu,[((0,s.wg)(),(0,s.j4)(l,{key:i.sales.length,columns:o.columns,sales:i.sales},null,8,["columns","sales"]))])):(0,s.kq)("",!0)}var gu={components:{SalesTable:du},data(){return{columns:[{prop:"id",name:"#"},{prop:"city",name:"City"},{prop:"date",name:"Date"},{prop:"client",name:"Client"},{prop:"product",name:"Product"},{prop:"upsell",name:"Upsell"},{prop:"confirmation",name:"Confirmation"},{prop:"affectation",name:"Affected"},{prop:"delivery",name:"Delivery"},{prop:"quantity",name:"Qty"},{prop:"price",name:"Price"},{prop:"actions",name:"Actions"}]}},computed:{sales(){return this.$store.getters["notification/notifications"]["reportedOrderDelivery"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const hu=(0,p.Z)(gu,[["render",mu]]);var fu=hu;function yu(t,e,r,a,o,i){const l=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{columns:o.columns,products:i.products},null,8,["columns","products"])])}const vu={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},xu={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},bu={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},_u=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ku={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Cu=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Du={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Su={class:"tw-px-6 tw-py-4"},zu={class:"tw-px-6 tw-py-4"},Uu={class:"tw-px-6 tw-py-4"},Pu={class:"tw-px-6 tw-py-4"},Lu={class:"tw-px-6 tw-py-4"},Au={class:"tw-px-6 tw-py-4"},$u={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},qu={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Wu={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Eu=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Tu=["value"],Ou={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Iu={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Fu={class:"tw-text-white"};function Vu(t,e,r,o,i,l){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vu,[(0,s._)("table",xu,[(0,s._)("thead",bu,[(0,s._)("tr",null,[_u,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ku,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Cu,(0,s._)("th",Du,(0,et.zw)(t.id),1),(0,s._)("td",Su,(0,et.zw)(t.ref),1),(0,s._)("td",zu,(0,et.zw)(t.name),1),(0,s._)("td",Uu,(0,et.zw)(t.buying_price)+" "+(0,et.zw)(i.currency),1),(0,s._)("td",Pu,(0,et.zw)(t.selling_price)+" "+(0,et.zw)(i.currency),1),(0,s._)("td",Lu,(0,et.zw)(l.calculQty(t.variations)),1),(0,s._)("td",Au,(0,et.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",$u,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",qu,[(0,s._)("div",Wu,[Eu,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Tu)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",Ou,[(0,s._)("div",Iu,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.products.length:l.nextRange)+" of "+(0,et.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Fu,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Ru={class:"tw-flex tw-items-center tw-gap-1"};function ju(t,e,r,a,o,i){const l=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Ru,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}var Nu={props:["rowIndex","product"],name:"productActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,sa["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),sa.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Mu=(0,p.Z)(Nu,[["render",ju]]);var Hu=Mu,Yu={props:["columns","products"],components:{ProductActions:Hu},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Zu=(0,p.Z)(Yu,[["render",Vu]]);var Ku=Zu,Bu={components:{ProductsTable:Ku},data(){return{columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["notification/notifications"]["productStockAlert"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Qu=(0,p.Z)(Bu,[["render",yu]]);var Gu=Qu,Ju={components:{StockAlertView:Gu,ReportedDelivery:fu,ReportedConfirmation:uu},data(){return{tab:1,fullTabs:[{id:1,name:"Stock Alert",component:"StockAlertView",permissions:["admin"]},{id:2,name:"Deliveries",component:"ReportedDelivery",permissions:["admin..","delivery"]},{id:3,name:"Confirmations",component:"ReportedConfirmation",permissions:["admin..","agente"]}]}},computed:{tabs(){return this.fullTabs.filter((t=>t.permissions.includes(this.user.role)))},tabName(){return this.$route.params.tab},user(){return this.$store.getters["user/user"]}},watch:{tabName(){this.handleChange()}},methods:{handleChange(){switch(this.tabName){case"stock":this.tab=1;break;case"delivery":this.tab=2;break;case"confirmation":this.tab=3;break;default:this.tab=this.tabs[0].id||1;break}}},mounted(){this.handleChange()}};const Xu=(0,p.Z)(Ju,[["render",Wl]]);var tp=Xu,ep={path:"/",name:"home",component:da,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:ol,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications/:tab",name:"notifications",component:tp,meta:{module:"notification",title:"Notifications",gate:"all"}},{path:"/settings",name:"settings",component:Ll,meta:{module:"settings",title:"Settings",gate:"all"}}]};const rp={class:"mb-5 tw-flex tw-justify-between tw-items-center"},ap=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),sp={key:0},op=(0,s._)("span",{class:"text-white"}," Add Product ",-1),ip={key:0},lp={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},np={class:"mb-5 tw-flex"},dp={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},wp={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},cp={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},up=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),pp={class:"tw-relative"},mp={class:""};function gp(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:l.products.length},[(0,s._)("div",rp,[ap,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",sp,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),op])),_:1})])):(0,s.kq)("",!0)]),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ip,[(0,s.Wm)(n)])),l.fetched?((0,s.wg)(),(0,s.iD)("div",lp,[(0,s._)("div",np,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",dp,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",wp,[(0,s._)("div",cp,[up,(0,s._)("div",pp,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>i.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,i.date]])])])])],2),(0,s._)("div",mp,[(0,s.Wm)(d,{columns:i.columns,products:l.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}var hp={components:{ProductsTable:Ku},data(){return{localUrl:n,confirmations:En,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const fp=(0,p.Z)(hp,[["render",gp]]);var yp=fp;const vp={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},xp={class:"tw-px-3"},bp={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},_p={class:"tw-flex tw-items-center tw-gap-x-3"},kp=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),Cp={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Dp=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),Sp={key:0};function zp(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",vp,[(0,s._)("section",xp,[(0,s._)("div",bp,[(0,s._)("div",null,[(0,s._)("div",_p,[kp,(0,s._)("span",Cp,(0,et.zw)(o.totalProducts)+" products",1)]),Dp])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateProducts,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[3]||(e[3]=t=>o.selected=t),onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Sp,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Up={class:"tw-flex tw-flex-col"},Pp={class:"tw-overflow-x-auto"},Lp={class:"tw-inline-block tw-min-w-full tw-align-middle"},Ap={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},$p={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},qp={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Wp={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},Ep={class:"tw-max-w-[25px]"},Tp={class:"tw-inline-flex tw-items-center"},Op={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},Ip=["checked"],Fp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Vp=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Rp=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),jp=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),Np=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),Mp=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),Hp=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),Yp=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),Zp=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),Kp={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Bp=(0,s._)("span",null,"Created",-1),Qp=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Gp=[Bp,Qp],Jp=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),Xp={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},tm={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},em=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),rm=[em],am={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},sm={colspan:"11"},om={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},im=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),lm=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),nm=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),dm=[lm,nm],wm={class:"tw-mt-6"};function cm(t,e,r,a,o,i){const l=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Up,[(0,s._)("div",Pp,[(0,s._)("div",Lp,[(0,s._)("div",Ap,[(0,s._)("table",$p,[(0,s._)("thead",qp,[(0,s._)("tr",null,[(0,s._)("th",Wp,[(0,s._)("div",Ep,[(0,s._)("div",Tp,[(0,s._)("label",Op,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>i.handleSelectedAllChange&&i.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,Ip),Fp])])])]),Vp,Rp,jp,Np,Mp,Hp,Yp,Zp,(0,s._)("th",Kp,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Gp)]),Jp])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Xp,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,o)=>((0,s.wg)(),(0,s.j4)(l,{selected:i.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>i.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:o,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",tm,rm)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",am,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",sm,[(0,s._)("div",om,[im,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},dm)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",wm,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const um={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},pm={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},mm={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},gm={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},hm=["disabled"],fm=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ym=(0,s._)("span",null," previous ",-1),vm=[fm,ym],xm=["disabled"],bm=(0,s._)("span",null," Next ",-1),_m=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),km=[bm,_m];function Cm(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",um,[(0,s._)("div",pm,[(0,s.Uk)(" Page "),(0,s._)("span",mm,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",gm,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>i.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},vm,10,hm),(0,s._)("button",{disabled:r.currentPage>=i.totalPages,onClick:e[1]||(e[1]=t=>i.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=i.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},km,10,xm)])])])}var Dm={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Sm=(0,p.Z)(Dm,[["render",Cm]]);var zm=Sm;const Um={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Pm={class:"tw-max-w-[25px]"},Lm={class:"tw-inline-flex tw-items-center"},Am={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},$m=["checked","id"],qm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Wm={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Em={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Tm={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Om={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"},Im={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Fm={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},Vm={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Rm={class:"tw-flex tw-items-center tw-gap-1"},jm={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},Nm={class:"tw-text-blue-700"},Mm={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},Hm={class:"tw-text-green-700"},Ym={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zm={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Km={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bm={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Qm={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Gm={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jm={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},Xm={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},tg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eg={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},rg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},ag={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},sg={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function og(t,e,r,a,o,i){(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,et.C_)(["hover:tw-bg-gray-50",[i.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",Um,[(0,s._)("div",Pm,[(0,s._)("div",Lm,[(0,s._)("label",Am,[(0,s._)("input",{type:"checkbox",checked:i.isSelected,onChange:e[0]||(e[0]=(...t)=>i.handleSelected&&i.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,$m),qm])])])]),(0,s._)("td",Wm,[(0,s._)("div",null,[(0,s._)("h2",Em,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",Tm,[(0,s._)("div",null,[(0,s._)("h2",Om,(0,et.zw)(r.item.ref),1)])]),(0,s._)("td",Im,[(0,s._)("div",null,[(0,s._)("h2",Fm,(0,et.zw)(r.item.name),1)])]),(0,s._)("td",Vm,[(0,s._)("div",Rm,[(0,s._)("div",jm,[(0,s._)("span",Nm,(0,et.zw)(r.item.buying_price),1),(0,s.Wm)(st.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",Mm,[(0,s.Wm)(st.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",Hm,(0,et.zw)(r.item.selling_price),1)])])]),(0,s._)("td",Ym,[(0,s._)("div",null,[(0,s._)("h2",Zm,(0,et.zw)(i.quantityTotal),1)])]),(0,s._)("td",Km,[(0,s._)("div",Bm,[(0,s._)("h2",Qm,(0,et.zw)(i.deliveredQuantity),1)])]),(0,s._)("td",Gm,[(0,s._)("div",Jm,[(0,s._)("h2",Xm,(0,et.zw)(i.shippedQuantity),1)])]),(0,s._)("td",tg,[(0,s._)("div",{class:(0,et.C_)([{"tw-text-red-500 !tw-font-bold":i.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",eg,(0,et.zw)(i.availableQuantity),1)],2)]),(0,s._)("td",rg,[(0,s._)("div",null,[(0,s._)("h2",ag,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",sg,[(0,s.kq)("",!0)])],2)}var ig=r(6797),lg=r.n(ig);const ng={class:"tw-h-full"},dg={class:"tw-flex tw-items-center tw-gap-2"};function wg(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",ng,[(0,s._)("div",dg,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])])])}var cg={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const ug=(0,p.Z)(cg,[["render",wg]]);var pg=ug,mg={components:{TableActions:pg},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:lg(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const gg=(0,p.Z)(mg,[["render",og]]);var hg=gg,fg={components:{TablePaginationNoNums:zm,TableRow:hg},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const yg=(0,p.Z)(fg,[["render",cm]]);var vg=yg;const xg={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},bg={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},_g=["disabled"],kg=["disabled"],Cg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Dg=[Cg],Sg={class:"tw-relative"},zg=["value"],Ug=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),Pg=[Ug],Lg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ag={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},$g=["value"],qg={class:"tw-overflow-hidden tw-col-span-1"},Wg={class:"tw-overflow-hidden tw-col-span-1"},Eg={class:"tw-overflow-hidden tw-col-span-1"};function Tg(t,e,r,o,i,l){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xg,[(0,s._)("div",bg,[(0,s._)("button",{class:(0,et.C_)([[i.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:i.showAll,onClick:e[0]||(e[0]=t=>l.filterToday(!1))}," View all ",10,_g),(0,s.kq)("",!0),(0,s.kq)("",!0),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Dg,8,kg),(0,s.kq)("",!0),(0,s._)("div",Sg,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>l.handlePerPageChange&&l.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Pg,40,zg),Lg])]),(0,s._)("div",Ag,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,$g),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[i.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",qg,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,et.C_)([[i.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Wg,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[i.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Eg,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Og={class:"tw-mb-4"},Ig={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Fg={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Vg={class:"tw-flex tw-items-center tw-justify-between"},Rg={class:"tw-text-xl tw-font-bold tw-text-gray-900"},jg={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Ng(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Og,[(0,s._)("div",Ig,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Fg,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[i.getConfirmation(t.confirmation).textLight,i.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",Vg,[(0,s._)("span",Rg,(0,et.zw)(t.total),1),(0,s._)("span",jg,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var Mg={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return En.find((e=>e.value==t))}}};const Hg=(0,p.Z)(Mg,[["render",Ng]]);var Yg=Hg;const Zg={class:"tw-mb-4"},Kg={class:"tw-flex tw-items-center tw-gap-2"},Bg=["disabled"],Qg=(0,s._)("span",null,"Select Filtered",-1),Gg={class:"tw-flex tw-justify-end"},Jg=["disabled"];function Xg(t,e,r,a,o,i){const l=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Zg,[(0,s._)("div",Kg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.handleExportFiltered&&i.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Qg],8,Bg)]),(0,s._)("div",Gg,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,et.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(l,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Jg)])])}class th{async statistics(t){return await q.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await q.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await q.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await q.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await q.getCookie(),A.post("api/v1/admin/orders/export",t)}}var eh=new th,rh={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,eh["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const ah=(0,p.Z)(rh,[["render",Xg]]);var sh=ah;const oh={class:"tw-mb-4"},ih={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},lh={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),dh=["value"],wh={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ch=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),uh=["value"],ph={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),gh=["value"],hh={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),yh=["value"],vh={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),bh=["value"],_h=(0,s._)("option",{value:"all",selected:""},"All",-1),kh=["value"],Ch={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Dh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),Sh=["value"],zh=(0,s._)("option",{value:"all",selected:""},"All",-1),Uh=["value"],Ph={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Lh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Ah=["value"],$h=(0,s._)("option",{value:"all",selected:""},"All",-1),qh=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),Wh=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),Eh=[$h,qh,Wh],Th={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Oh=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Ih=(0,s._)("span",null,"Clear",-1),Fh=[Oh,Ih],Vh=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Rh=(0,s._)("span",null,"Filter",-1),jh=[Vh,Rh];function Nh(t,e,r,a,o,i){(0,s.up)("DateFilter");const l=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",oh,[(0,s._)("div",ih,[(0,s.kq)("",!0),(0,s._)("div",lh,[nh,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,dh)]),(0,s._)("div",wh,[ch,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,uh)]),(0,s._)("div",ph,[mh,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,gh)]),(0,s._)("div",hh,[fh,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,yh)]),(0,s.Wm)(l,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",vh,[xh,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_h,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,et.zw)(t.name),11,kh)))),128))],40,bh)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Ch,[Dh,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[zh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,et.zw)(t.name),11,Uh)))),128))],40,Sh)]),(0,s._)("div",Ph,[Lh,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Eh,40,Ah)]),(0,s._)("div",Th,[(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Fh),(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},jh)])])])}const Mh={class:"tw-text-sm tw-text-neutral-600"},Hh=["onClick"];function Yh(t,e,r,a,o,i){const l=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Mh,(0,et.zw)(r.name),1),(0,s.Wm)(l,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),i.onDateRangePicked],onCleared:i.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,Hh)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Zh={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Fo.Z)(new Date),(0,Vo.Z)(new Date)]},{label:"Last month",range:[(0,Fo.Z)((0,Ro.Z)(new Date,1)),(0,Vo.Z)((0,Ro.Z)(new Date,1))]},{label:"This year",range:[(0,jo.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Kh=(0,p.Z)(Zh,[["render",Yh]]);var Bh=Kh;const Qh={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Gh=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Jh=["value"],Xh=(0,s._)("option",{value:"all"},"All",-1),tf=(0,s._)("option",{value:""},"No Delivery",-1),ef=["value"];function rf(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Qh,[Gh,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Xh,tf,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,ef)))),128))],40,Jh)])}var af={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const sf=(0,p.Z)(af,[["render",rf]]);var of=sf;const lf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},nf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),df=["value"],wf=(0,s._)("option",{value:"all"},"All",-1),cf=(0,s._)("option",{value:""},"No Agent",-1),uf=["value"];function pf(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",lf,[nf,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[wf,cf,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,uf)))),128))],40,df)])}var mf={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const gf=(0,p.Z)(mf,[["render",pf]]);var hf=gf;const ff={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),vf=["value"],xf=(0,s._)("option",{value:"all"},"All",-1),bf=["value"];function _f(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",ff,[yf,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[xf,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,bf)))),128))],40,vf)])}var kf={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const Cf=(0,p.Z)(kf,[["render",_f]]);var Df=Cf,Sf={components:{DateFilter:Bh,AffectationFilter:of,AgentFilter:hf,ProductFilter:Df},props:{filters:{required:!0,default:{}}},data(){return{confirmations:En,deliveries:Fn,dateFilter:["",""]}}};const zf=(0,p.Z)(Sf,[["render",Nh]]);var Uf=zf,Pf={components:{IndexStatistics:Yg,FiltersWrapper:Uf,IndexExport:sh},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=lg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Lf=(0,p.Z)(Pf,[["render",Tg]]);var Af=Lf;const $f={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},qf=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Wf={class:"tw-bg-white tw-p-4"},Ef={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Tf={class:"tw-col-span-2 md:tw-col-span-1"},Of=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),If={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ff={class:"tw-col-span-2 md:tw-col-span-1"},Vf=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Rf={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jf={class:"tw-col-span-2 md:tw-col-span-1"},Nf=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Mf={class:"tw-relative"},Hf=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Yf=["value"],Zf=["value"],Kf=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Bf={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qf={class:"tw-col-span-2 md:tw-col-span-1"},Gf=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Jf={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Xf={class:"tw-col-span-2"},ty=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ey={class:"tw-relative"},ry=["value"],ay=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),sy={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oy={key:0,class:"md:tw-col-span-1 tw-col-span-2"},iy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),ly={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ny={key:1,class:"md:tw-col-span-1 tw-col-span-2"},dy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),wy={class:"tw-col-span-2"},cy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),uy={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},py={class:"md:tw-col-span-1 tw-col-span-2"},my={class:"md:tw-col-span-1 tw-col-span-2"},gy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),hy={class:"tw-relative"},fy=["value"],yy=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vy={class:"tw-col-span-2"},xy={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},by={key:0,class:"tw-text-red-400 tw-text-xs"},_y={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},ky=["disabled"],Cy=(0,s._)("span",null,"Create",-1);function Dy(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$f,[qf,(0,s._)("div",Wf,[(0,s._)("div",Ef,[(0,s._)("div",Tf,[Of,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",If,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Ff,[Vf,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",Rf,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",jf,[Nf,(0,s._)("div",Mf,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Hf,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,Yf),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,Zf)))),128))],34),[[a.bM,i.itemCopy.city]]),Kf]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",Bf,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Qf,[Gf,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Jf,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Xf,[ty,(0,s._)("div",ey,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.confirmation=null),class:(0,et.C_)([[i.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,ry)))),128))],34),[[a.bM,i.itemCopy.confirmation]]),ay]),i.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",sy,(0,et.zw)(i.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",oy,[iy,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>i.errors.reported_agente_date=null),class:(0,et.C_)([[i.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.reported_agente_date]]),i.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",ly,(0,et.zw)(i.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",ny,[dy,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",wy,[cy,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",uy,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",py,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",my,[gy,(0,s._)("div",hy,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>i.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,fy)))),128))],512),[[a.bM,i.itemCopy.upsell]]),yy])]),(0,s._)("div",vy,[(0,s._)("label",xy,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",by," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",_y,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>l.handleCreate&&l.handleCreate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Cy],8,ky)])])])),_:1},8,["visible","onCancel"])])}const Sy=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!zy(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),zy=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Uy=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Py=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ly=(t,e)=>{t.isLoading=!0,t.errors={},eh.create(e).then((e=>Uy(t,e.data))).catch((e=>Py(t,e.response.data))).finally((()=>t.isLoading=!1))},Ay={key:0},$y=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),qy={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Wy=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ey=(0,s._)("span",null,"Add Item",-1),Ty=[Wy,Ey],Oy={key:1,class:"md:tw-col-span-12 tw-col-span-12"},Iy={class:"tw-max-w-full tw-overflow-auto"},Fy={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Vy={class:"tw-bg-gray-50"},Ry={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},jy={key:0},Ny={colspan:"6"},My={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Hy=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Yy=(0,s._)("span",null,"Add Item",-1),Zy=[Hy,Yy],Ky=(0,s._)("td",{colspan:"4"},null,-1),By=(0,s._)("td",null,null,-1),Qy={colspan:"1",class:"tw-p-2"},Gy={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Jy={key:1},Xy={colspan:"6"},tv={class:"tw-scale-75 tw-p-5"};function ev(t,e,r,a,o,i){const l=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ay,[$y,(0,s._)("div",qy,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Ty)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Oy,[(0,s._)("div",Iy,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Fy,[(0,s._)("tr",Vy,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Ry,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",jy,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,item:t,products:r.products,onDelete:i.deleteItem,onUpdate:i.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Ny,[(0,s._)("div",My,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Zy)])])]),(0,s._)("tr",null,[Ky,By,(0,s._)("td",Qy,[(0,s._)("div",Gy,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(i.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Jy,[(0,s._)("tr",null,[(0,s._)("td",Xy,[(0,s._)("div",tv,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const rv=(0,s._)("td",null,null,-1),av={class:"tw-p-2"},sv={class:"tw-relative"},ov=["value"],iv=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),lv=["value"],nv=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),dv={class:"tw-p-2"},wv={key:0,class:"tw-relative"},cv=["value"],uv=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),pv=["value"],mv={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},gv=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),hv=[gv],fv={class:"tw-p-2"},yv=["value"],vv={class:"tw-p-2"},xv=["value"],bv={class:"tw-flex tw-justify-center"};function _v(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("tr",null,[rv,(0,s._)("td",null,[(0,s._)("div",av,[(0,s._)("div",sv,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>i.handleProductChange&&i.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[iv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,lv)))),128))],40,ov),nv])])]),(0,s._)("td",null,[(0,s._)("div",dv,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",wv,[i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>i.handleVariationChange&&i.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[uv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,pv)))),128))],40,cv)):(0,s.kq)("",!0),i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",mv,hv)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",fv,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,yv)])]),(0,s._)("td",null,[(0,s._)("div",vv,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,xv)])]),(0,s._)("td",null,[(0,s._)("div",bv,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>i.handleDelete&&i.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var kv={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Cv=(0,p.Z)(kv,[["render",_v]]);var Dv=Cv,Sv={components:{ItemRow:Dv},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const zv=(0,p.Z)(Sv,[["render",ev]]);var Uv=zv;const Pv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Lv={key:0,class:"tw-relative"},Av=["value","disabled"],$v=(0,s._)("option",{value:""},"Choose a Delivery",-1),qv=["value"],Wv=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ev={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Tv={key:2,class:"tw-relative"},Ov={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Iv=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Fv=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Vv(t,e,r,a,o,i){const l=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Pv,o.fetched?((0,s.wg)(),(0,s.iD)("div",Lv,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>i.handleChange&&i.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,et.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[$v,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,qv)))),128))],42,Av),Wv])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Ev,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Tv,[(0,s._)("div",Ov,[(0,s.Wm)(l)]),Iv,Fv]))])}var Rv={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const jv=(0,p.Z)(Rv,[["render",Vv]]);var Nv=jv,Mv={components:{OrderItems:Uv,OrderAffectation:Nv},props:{visible:{required:!0}},data(){return{confirmations:En,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Sy(this,this.itemCopy);if(!t)return!1;Ly(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Hv=(0,p.Z)(Mv,[["render",Dy]]);var Yv=Hv,Zv={components:{IndexTable:vg,IndexFilters:Af,CreatePopup:Yv},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"asc",per_page:10,current_page:1,filters:{created_from:null,created_to:null}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,sa.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const Kv=(0,p.Z)(Zv,[["render",zp]]);var Bv=Kv,Qv=r(240),Gv=r(4842);const Jv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new product")],-1),Xv={key:0},tx={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ex={class:"tw-w-full"},rx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),ax={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sx={class:"tw-w-full"},ox=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),ix={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lx={class:"tw-w-full"},nx={class:"mb-1 text-body-2 tw-text-zinc-700"},dx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wx={class:"mb-1 text-body-2 tw-text-zinc-700"},cx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ux=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),px={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mx={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},gx=(0,s._)("span",null,"Add Variants: ",-1),hx={class:"tw-h-fit tw-mb-"},fx=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),yx={class:"tw-relative"},vx=(0,s._)("option",{value:0},"Select",-1),xx=["value"],bx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_x={key:0},kx={class:"md:tw-col-span-3 tw-col-span-12"},Cx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Dx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sx={class:"md:tw-col-span-3 tw-col-span-12"},zx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Ux={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Px={key:1},Lx={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Ax={class:"md:tw-col-span-3 tw-col-span-12"},$x=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),qx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wx={class:"md:tw-col-span-3 tw-col-span-12"},Ex=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Tx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ox={class:"md:tw-col-span-3 tw-col-span-12"},Ix=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Fx=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Vx={class:"md:tw-col-span-3 tw-col-span-12"},Rx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),jx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nx={class:"tw-col-span-12 tw-flex tw-justify-end"},Mx=["disabled"],Hx=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Yx={class:""},Zx={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},Kx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),Bx={class:"mb-1 text-body-2 tw-text-zinc-700"},Qx={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Gx={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Jx={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Xx={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},tb={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},eb={class:"tw-px-6 tw-py-2"},rb={class:"tw-px-6 tw-py-2"},ab={class:"tw-px-6 tw-py-2"},sb={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},ob=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),ib={class:"tw-mt-2"},lb=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),nb={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},db={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},wb={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},cb={class:"tw-w-max tw-relative"},ub=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),pb={class:"md:tw-col-span-6 tw-col-span-12"},mb={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},gb=(0,s._)("span",null,"No image available",-1),hb=[gb],fb={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},yb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),vb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function xb(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("VariantActions"),w=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Jv,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xv,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",tx,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ex,[rx,(0,s.Wm)(ot.hw,{error:!i.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:i.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>i.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ax,(0,et.zw)(i.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",sx,[ox,(0,s.Wm)(ot.hw,{error:!i.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("reference")),"hide-details":!0,modelValue:i.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>i.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ix,(0,et.zw)(i.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lx,[(0,s._)("div",nx," Buying Price ("+(0,et.zw)(i.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:l.handleBuyingPriceChange,error:!i.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("buyingPrice")),"hide-details":!0,modelValue:i.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>i.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",dx,(0,et.zw)(i.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",wx," Selling Price ("+(0,et.zw)(i.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:l.handleSellingPriceChange,error:!i.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>l.resetError("sellingPrice")),"hide-details":!0,modelValue:i.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>i.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",cx,(0,et.zw)(i.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ux,(0,s.Wm)(Gv.z,{error:!i.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>l.resetError("description")),"hide-details":!0,modelValue:i.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>i.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",px,(0,et.zw)(i.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",mx,[gx,(0,s.Wm)(il.G,{modelValue:i.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>i.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",hx,[fx,(0,s._)("div",yx,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>i.warehouse=t),onChange:e[12]||(e[12]=t=>l.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[vx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,xx)))),128))],544),[[a.bM,i.warehouse]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",bx,(0,et.zw)(i.formStatus.warehouse.message),1)]),i.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_x,[(0,s._)("div",kx,[Cx,(0,s.Wm)(ot.hw,{onChange:l.handleQuantityChange,type:"number",error:!i.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:i.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>i.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Dx,(0,et.zw)(i.formStatus.quantity.message),1)]),(0,s._)("div",Sx,[zx,(0,s.Wm)(ot.hw,{onChange:l.handleStockAlertChange,type:"number",error:!i.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>l.resetError("stockAlert")),"hide-details":!0,modelValue:i.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>i.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ux,(0,et.zw)(i.formStatus.stockAlert.message),1)])])),i.addVariants?((0,s.wg)(),(0,s.iD)("div",Px,[(0,s._)("div",Lx,[(0,s._)("div",Ax,[$x,(0,s.Wm)(ot.hw,{error:!i.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>l.resetError("size")),"hide-details":!0,modelValue:i.size,"onUpdate:modelValue":e[18]||(e[18]=t=>i.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",qx,(0,et.zw)(i.formStatus.size.message),1)]),(0,s._)("div",Wx,[Ex,(0,s.Wm)(ot.hw,{error:!i.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>l.resetError("color")),"hide-details":!0,modelValue:i.color,"onUpdate:modelValue":e[20]||(e[20]=t=>i.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Tx,(0,et.zw)(i.formStatus.color.message),1)]),(0,s._)("div",Ox,[Ix,(0,s.Wm)(ot.hw,{onChange:l.handleQuantityChange,type:"number",error:!i.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:i.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>i.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Fx]),(0,s._)("div",Vx,[Rx,(0,s.Wm)(ot.hw,{onChange:l.handleStockAlertChange,type:"number",error:!i.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>l.resetError("stockAlert")),"hide-details":!0,modelValue:i.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>i.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",jx,(0,et.zw)(i.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Nx,[(0,s._)("button",{disabled:!i.quantity,class:(0,et.C_)([{"bg-primary-color":i.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>l.addVariant&&l.addVariant(...t))},[(0,s.Wm)(st.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Hx],10,Mx)])]),(0,s._)("div",Yx,[(0,s._)("div",Zx,[Kx,(0,s._)("div",Bx," Quantity Total: "+(0,et.zw)(l.qtyTotal),1)]),0==i.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":i.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!i.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,et.zw)(i.formStatus.variants.valid?"No Variants yet":i.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",Qx,[(0,s._)("table",Gx,[(0,s._)("thead",Jx,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Xx,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",tb,(0,et.zw)(t.size),1),(0,s._)("td",eb,(0,et.zw)(t.color),1),(0,s._)("td",rb,(0,et.zw)(t.quantity),1),(0,s._)("td",ab,(0,et.zw)(t.stockAlert),1),(0,s._)("td",sb,[(0,s._)("div",null,[(0,s.Wm)(d,{onDelete:l.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ob,(0,s._)("div",ib,[(0,s.Wm)(Qv.r,{modelValue:i.selectedDeliveries,"onUpdate:modelValue":e[26]||(e[26]=t=>i.selectedDeliveries=t),items:l.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{offers:i.offers,"onUpdate:offers":e[27]||(e[27]=t=>i.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[lb,(0,s._)("div",nb,[(0,s._)("div",db,[(0,s._)("label",wb,[(0,s._)("div",cb,[(0,s.Wm)(st.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),ub]),(0,s._)("input",{onChange:e[28]||(e[28]=(...t)=>l.handleImageChange&&l.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",pb,[(0,s._)("div",mb,[(0,s._)("img",{class:(0,et.C_)([{"tw-hidden":!i.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!!i.image},"bg-gray-300 h-48 flex items-center justify-center"])},hb,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",fb,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yb])),_:1}),(0,s.Wm)(rt.T,{onClick:l.create,loading:i.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function bb(t,e,r,a,o,i){const l=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:i.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(d,{visible:o.visible,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:i.update,variant:r.variant,onCancel:i.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const _b={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},kb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Cb={class:"tw-col-span-12"},Db=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Sb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zb={class:"tw-col-span-12"},Ub=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Pb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lb={class:"tw-col-span-12"},Ab=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),$b={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qb={class:"tw-col-span-12"},Wb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Eb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tb={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},Ob=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Ib=[Ob],Fb=["disabled"],Vb=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Rb=[Vb];function jb(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",_b,[(0,s._)("div",kb,[(0,s._)("div",Cb,[Db,(0,s.Wm)(ot.hw,{error:!o.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[1]||(e[1]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Sb,(0,et.zw)(o.formStatus.size.message),1)]),(0,s._)("div",zb,[Ub,(0,s.Wm)(ot.hw,{error:!o.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[3]||(e[3]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pb,(0,et.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Lb,[Ab,(0,s.Wm)(ot.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",$b,(0,et.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",qb,[Wb,(0,s.Wm)(ot.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Eb,(0,et.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Tb,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Ib),(0,s._)("button",{disabled:!o.quantity,class:(0,et.C_)([{"tw-bg-orange-500":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>i.updateVariant&&i.updateVariant(...t))},Rb,10,Fb)])])])}var Nb={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const Mb=(0,p.Z)(Nb,[["render",jb]]);var Hb=Mb,Yb={components:{UpdateProductVariant:Hb},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Zb=(0,p.Z)(Yb,[["render",bb]]);var Kb=Zb;class Bb{async create(t){return await q.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await q.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await q.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await q.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var Qb=new Bb;const Gb=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Jb={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Xb={class:"md:tw-col-span-3 tw-col-span-12"},t_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),e_={class:"md:tw-col-span-3 tw-col-span-12"},r_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),a_={class:"md:tw-col-span-5 tw-col-span-12"},s_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),o_={class:"md:tw-col-span-1 tw-col-span-12"},i_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),l_={class:"tw-mt-2"},n_={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},d_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},w_=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),c_={class:"tw-px-6 tw-py-4"},u_={class:"tw-px-6 tw-py-4"},p_={class:"tw-px-6 tw-py-4"},m_={class:"tw-max-w-[250px] tw-text-sm"},g_={class:"tw-px-6 tw-py-4"},h_={key:0},f_=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),y_=[f_];function v_(t,e,r,a,o,i){const l=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Gb,(0,s._)("div",Jb,[(0,s._)("div",Xb,[t_,(0,s.Wm)(ot.hw,{type:"number","hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",e_,[r_,(0,s.Wm)(ot.hw,{type:"number","hide-details":!0,modelValue:o.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",a_,[s_,(0,s.Wm)(ot.hw,{type:"text","hide-details":!0,modelValue:o.note,"onUpdate:modelValue":e[2]||(e[2]=t=>o.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",o_,[i_,(0,s.Wm)(rt.T,{onClick:i.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",l_,[(0,s._)("div",n_,[(0,s._)("table",d_,[w_,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",c_,(0,et.zw)(t.quantity),1),(0,s._)("td",u_,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",p_,[(0,s._)("p",m_,(0,et.zw)(t.note),1)]),(0,s._)("td",g_,[(0,s.Wm)(rt.T,{onClick:e=>i.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",h_,y_)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:i.handleDelete},null,8,["visible","onResolved"])])}var x_={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const b_=(0,p.Z)(x_,[["render",v_]]);var __=b_,k_={components:{VariantActions:Kb,ProductOffers:__},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert}];t.variants=e}sa.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.product.name,"Product name"),this.formStatus.reference=zt(this.product.reference,"Reference"),this.formStatus.buyingPrice=zt(this.product.buyingPrice,"Buying price"),this.formStatus.quantity=zt(this.quantity,"Quantity"),this.formStatus.sellingPrice=zt(this.product.sellingPrice,"Selling price"),this.formStatus.description=zt(this.product.description,"Description"),this.formStatus.variants=Lt(this.variants),this.addVariants||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid)return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Qb.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses()}};const C_=(0,p.Z)(k_,[["render",xb]]);var D_=C_;const S_=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),z_={key:0},U_={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},P_={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},L_={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},A_={class:"tw-w-full"},$_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),q_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},W_={class:"tw-w-full"},E_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),T_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},O_={class:"tw-w-full"},I_={class:"mb-1 text-body-2 tw-text-zinc-700"},F_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},V_={class:"mb-1 text-body-2 tw-text-zinc-700"},R_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},j_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),N_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},M_={class:"tw-h-fit tw-mb-"},H_=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Y_={class:"tw-relative"},Z_=(0,s._)("option",{value:0},"Select",-1),K_=["value"],B_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Q_={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},G_={class:"md:tw-col-span-3 tw-col-span-12"},J_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),X_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tk={class:"md:tw-col-span-3 tw-col-span-12"},ek=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),rk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ak={class:"md:tw-col-span-3 tw-col-span-12"},sk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),ok={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ik={class:"md:tw-col-span-3 tw-col-span-12"},lk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),nk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dk={class:"tw-col-span-12 tw-flex tw-justify-end"},wk=["disabled"],ck=(0,s._)("span",{class:"tw-text-white"},"Add",-1),uk={class:""},pk={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},mk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),gk={class:"mb-1 text-body-2 tw-text-zinc-700"},hk={key:1,class:"tw-max-w-full tw-overflow-x-auto"},fk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},yk={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},vk={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},xk={class:"tw-px-6 tw-py-2 tw-capitalize"},bk={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_k={class:"tw-px-6 tw-py-2"},kk={class:"tw-px-6 tw-py-2"},Ck={class:"tw-flex tw-flex-col"},Dk={key:0,class:"tw-text-xs tw-text-green-500"},Sk={class:"tw-px-6 tw-py-2"},zk={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Uk=(0,s._)("h1",null,"Deliveries",-1),Pk={class:"tw-mt-2"},Lk=(0,s._)("h1",null,"Image",-1),Ak={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},$k={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},qk={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Wk={class:"tw-w-max tw-relative"},Ek=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Tk={class:"md:tw-col-span-6 tw-col-span-12"},Ok={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Ik=["src"],Fk=(0,s._)("span",null,"No image available",-1),Vk=[Fk],Rk={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},jk=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Nk=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Mk(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("UpdateVariantActions"),w=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[S_,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",z_,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",U_,[(0,s._)("div",P_,[(0,s.Uk)(" Product ID: "),(0,s._)("span",L_,(0,et.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",A_,[$_,(0,s.Wm)(ot.hw,{error:!i.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:i.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>i.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",q_,(0,et.zw)(i.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",W_,[E_,(0,s.Wm)(ot.hw,{error:!i.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:i.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>i.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",T_,(0,et.zw)(i.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",O_,[(0,s._)("div",I_," Buying Price ("+(0,et.zw)(i.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:l.handleBuyingPriceChange,error:!i.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("buyingPrice")),"hide-details":!0,modelValue:i.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>i.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",F_,(0,et.zw)(i.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",V_," Selling Price ("+(0,et.zw)(i.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:l.handleSellingPriceChange,error:!i.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>l.resetError("sellingPrice")),"hide-details":!0,modelValue:i.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>i.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",R_,(0,et.zw)(i.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[j_,(0,s.Wm)(Gv.z,{error:!i.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>l.resetError("description")),"hide-details":!0,modelValue:i.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>i.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",N_,(0,et.zw)(i.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",M_,[H_,(0,s._)("div",Y_,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.warehouse=t),onChange:e[11]||(e[11]=t=>l.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Z_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,K_)))),128))],544),[[a.bM,i.warehouse]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",B_,(0,et.zw)(i.formStatus.warehouse.message),1)]),(0,s._)("div",null,[(0,s._)("div",Q_,[(0,s._)("div",G_,[J_,(0,s.Wm)(ot.hw,{error:!i.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>l.resetError("size")),"hide-details":!0,modelValue:i.size,"onUpdate:modelValue":e[13]||(e[13]=t=>i.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",X_,(0,et.zw)(i.formStatus.size.message),1)]),(0,s._)("div",tk,[ek,(0,s.Wm)(ot.hw,{error:!i.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>l.resetError("color")),"hide-details":!0,modelValue:i.color,"onUpdate:modelValue":e[15]||(e[15]=t=>i.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rk,(0,et.zw)(i.formStatus.color.message),1)]),(0,s._)("div",ak,[sk,(0,s.Wm)(ot.hw,{onChange:l.handleQuantityChange,type:"number",error:!i.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:i.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>i.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ok,(0,et.zw)(i.formStatus.quantity.message),1)]),(0,s._)("div",ik,[lk,(0,s.Wm)(ot.hw,{onChange:l.handleStockAlertChange,type:"number",error:!i.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>l.resetError("stockAlert")),"hide-details":!0,modelValue:i.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>i.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",nk,(0,et.zw)(i.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",dk,[(0,s._)("button",{disabled:!i.quantity,class:(0,et.C_)([{"bg-primary-color":i.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>l.addVariant&&l.addVariant(...t))},[(0,s.Wm)(st.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),ck],10,wk)])]),(0,s._)("div",uk,[(0,s._)("div",pk,[mk,(0,s._)("div",gk," Quantity Total: "+(0,et.zw)(l.qtyTotal),1)]),0==i.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":i.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!i.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,et.zw)(i.formStatus.variants.valid?"No Variants yet":i.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",hk,[(0,s._)("table",fk,[(0,s._)("thead",yk,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["warehouse","size","color","qty","Stock Alert","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vk,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",xk,(0,et.zw)(t.warehouse.name),1),(0,s._)("td",bk,(0,et.zw)(t.size),1),(0,s._)("td",_k,(0,et.zw)(t.color),1),(0,s._)("td",kk,[(0,s._)("div",Ck,[(0,s._)("span",null,(0,et.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Dk,(0,et.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Sk,(0,et.zw)(t.stockAlert),1),(0,s._)("td",zk,[(0,s._)("div",null,[(0,s.Wm)(d,{onDelete:l.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Uk,(0,s._)("div",Pk,[(0,s.Wm)(Qv.r,{modelValue:i.selectedDeliveries,"onUpdate:modelValue":e[21]||(e[21]=t=>i.selectedDeliveries=t),items:l.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{offers:i.offers,"onUpdate:offers":e[22]||(e[22]=t=>i.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Lk,(0,s._)("div",Ak,[(0,s._)("div",$k,[(0,s._)("label",qk,[(0,s._)("div",Wk,[(0,s.Wm)(st.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Ek]),(0,s._)("input",{onChange:e[23]||(e[23]=(...t)=>l.handleImageChange&&l.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Tk,[(0,s._)("div",Ok,[(0,s._)("img",{class:(0,et.C_)([{"tw-hidden":!i.image},"w-full h-full tw-object-contain"]),ref:"image",src:i.serverUrl+"storage/"+i.image,id:"image-preview",alt:"Image Preview"},null,10,Ik),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!!i.image},"bg-gray-300 h-48 flex items-center justify-center"])},Vk,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Rk,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[jk])),_:1}),(0,s.Wm)(rt.T,{onClick:l.update,loading:i.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Nk])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const Hk={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},Yk={class:"tw-w-full"},Zk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),Kk={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Bk=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Qk=[Bk],Gk=["disabled"],Jk=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Xk=[Jk];function tC(t,e,r,a,o,i){const l=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:i.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(d,{visible:o.visible,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:i.update,variant:r.variant,onCancel:i.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(d,{visible:o.visibleAdd,onCancel:i.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",Hk,[(0,s._)("div",Yk,[Zk,(0,s.Wm)(ot.hw,{"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Kk,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>i.cancelAdd&&i.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Qk),(0,s._)("button",{disabled:!o.quantity||0==o.quantity,class:(0,et.C_)([{"!tw-bg-green-500":0!=o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>i.addQuantity&&i.addQuantity(...t))},Xk,10,Gk)])])])),_:1},8,["visible","onCancel"])])}var eC={components:{UpdateProductVariant:Hb},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const rC=(0,p.Z)(eC,[["render",tC]]);var aC=rC,sC={components:{UpdateVariantActions:aC,ProductOffers:__},data(){return{currency:c,serverUrl:d,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),sa.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=zt(this.product.name,"Product name"),this.formStatus.buyingPrice=zt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=zt(this.product.sellingPrice,"Selling price"),this.formStatus.description=zt(this.product.description,"Description"),this.formStatus.variants=Lt(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Qb.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return sa.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,name:o,description:i,deliveries:l,image:n,offers:d}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=o,this.product.reference=s,this.product.description=i,this.image=n,this.offers=d,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=l.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const oC=(0,p.Z)(sC,[["render",Mk]]);var iC=oC;const lC={class:"tw-pb-14"},nC=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),dC={key:0},wC={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},cC={class:"tw-grid tw-grid-cols-12 tw-gap-2"},uC={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},pC=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),mC={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},gC={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},hC=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),fC={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},yC={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},vC=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),xC={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},bC={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},_C=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),kC={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},CC={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},DC=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),SC={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},zC={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},UC=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),PC={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},LC={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},AC=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),$C={class:"tw-text-neutral-800 tw-font-medium"},qC={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},WC={key:3,class:"tw-border bg-white tw-w-full tw-rounded-md"},EC={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},TC={key:5,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},OC={class:"tw-max-w-full tw-overflow-auto"},IC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},FC={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},VC={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},RC={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},jC={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},NC={class:"tw-px-6 tw-py-2"},MC={class:"tw-px-6 tw-py-2"},HC={class:"tw-flex tw-flex-col"},YC={class:"tw-px-6 tw-py-2"},ZC={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},KC=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),BC=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),QC=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),GC={class:"tw-px-6 tw-py-2"},JC={class:"tw-flex tw-flex-col tw-font-medium"},XC=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function tD(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",lC,[nC,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",dC,[(0,s.Wm)(l)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",wC,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",cC,[(0,s._)("div",uC,[pC,(0,s._)("p",mC,(0,et.zw)(o.product.name),1)]),(0,s._)("div",gC,[hC,(0,s._)("p",fC,(0,et.zw)(o.product.ref),1)]),(0,s._)("div",yC,[vC,(0,s._)("p",xC,(0,et.zw)(o.product.buying_price)+" "+(0,et.zw)(o.currency),1)]),(0,s._)("div",bC,[_C,(0,s._)("p",kC,(0,et.zw)(o.product.selling_price)+" "+(0,et.zw)(o.currency),1)]),(0,s._)("div",CC,[DC,(0,s._)("p",SC,(0,et.zw)(i.qtyTotalDelivered),1)]),(0,s._)("div",zC,[UC,(0,s._)("p",PC,(0,et.zw)(i.qtyTotalSent),1)]),(0,s._)("div",LC,[AC,(0,s._)("p",$C,(0,et.zw)(o.product.description),1)])])])])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",qC,"Tracking")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",WC,[(0,s.Wm)(n,{product:o.product},null,8,["product"])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",EC,"Variations")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",TC,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",OC,[(0,s._)("table",IC,[(0,s._)("thead",FC,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",VC,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",RC,(0,et.zw)(t.id),1),(0,s._)("th",jC,(0,et.zw)(t.size),1),(0,s._)("td",NC,(0,et.zw)(t.color),1),(0,s._)("td",MC,[(0,s._)("div",HC,[(0,s._)("span",null,"Initial: "+(0,et.zw)(t.quantity),1)])]),(0,s._)("td",YC,(0,et.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",ZC,[KC,BC,QC,(0,s._)("td",GC,[(0,s._)("div",JC,[(0,s._)("span",null,"Total: "+(0,et.zw)(i.qtyTotal),1)])]),XC])])])])])])])):(0,s.kq)("",!0)])}const eD={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},rD=["onClick"];function aD(t,e,r,a,o,i){const l=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(as._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",eD,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>o.tab=t.id,class:(0,et.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==o.tab}])},(0,et.zw)(t.name),11,rD)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(is.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(ls.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const sD={class:"tw-mt-5"},oD={class:"tw-max-w-full tw-overflow-auto"},iD={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lD={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},nD={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function dD(t,e,r,a,o,i){const l=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",sD,[(0,s._)("div",oD,[(0,s._)("table",iD,[(0,s._)("thead",lD,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",nD,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.j4)(l,{item:t,key:t.id,source:r.source},null,8,["item","source"])))),128))])])])])}const wD={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},cD={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},uD={class:"tw-flex tw-items-start tw-h-full"},pD={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},mD={class:"tw-px-6 tw-py-2"},gD={key:0},hD={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},fD={key:0,class:"tw-h-fit tw-py-2"},yD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),vD={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},xD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),bD={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},_D=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),kD={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},CD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),DD={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},SD={key:1},zD={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},UD={key:0,class:"tw-h-fit tw-py-2"},PD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),LD={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},AD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),$D={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},qD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),WD={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},ED=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),TD={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},OD={class:"tw-px-6 tw-py-2 tw-space-x-3"};function ID(t,e,r,a,o,i){const l=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",wD,[(0,s._)("th",cD,[(0,s._)("div",uD,(0,et.zw)(r.item.id),1)]),(0,s._)("th",pD,(0,et.zw)(r.item.name),1),(0,s._)("td",mD,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",gD,[(0,s._)("div",hD,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,et.zw)(i.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",fD,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[yD,(0,s._)("td",vD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[xD,(0,s._)("td",bD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[_D,(0,s._)("td",kD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[CD,(0,s._)("td",DD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",SD,[(0,s._)("div",zD,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,et.zw)(i.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",UD,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[PD,(0,s._)("td",LD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[AD,(0,s._)("td",$D,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[qD,(0,s._)("td",WD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[ED,(0,s._)("td",TD,(0,et.zw)(i.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",OD,[(0,s._)("div",null,[(0,s.Wm)(l,{type:r.source,source:r.item},null,8,["type","source"])])])])}function FD(t,e,r,a,o,i){const l=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(l,{visible:o.visible,onCancel:i.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const VD={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},RD={class:"tw-p-5"},jD={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},ND=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function MD(t,e,r,a,o,i){const l=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",VD,[(0,s.Wm)(rt.T,{onClick:i.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",RD,[(0,s._)("table",jD,[ND,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,item:t,type:r.type},null,8,["item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const HD={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},YD={class:"tw-w-4 tw-px-2 tw-py-1"},ZD={class:"tw-w-4 tw-px-2 tw-py-1"},KD={class:"tw-w-4 tw-px-2 tw-py-1"},BD={class:"tw-w-4 tw-px-2 tw-py-1"},QD={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},GD={key:0,class:"tw-h-fit tw-py-2"},JD=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),XD={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},tS=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),eS={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},rS=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),aS={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},sS=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),oS={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function iS(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("tr",HD,[(0,s._)("td",YD,(0,et.zw)(r.item.id),1),(0,s._)("td",ZD,(0,et.zw)(r.item.size),1),(0,s._)("td",KD,(0,et.zw)(r.item.color),1),(0,s._)("td",BD,[(0,s._)("div",null,[(0,s._)("div",QD,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,et.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",GD,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[JD,(0,s._)("td",XD,(0,et.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[tS,(0,s._)("td",eS,(0,et.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[rS,(0,s._)("td",aS,(0,et.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[sS,(0,s._)("td",oS,(0,et.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var lS={props:["type","item"],data(){return{showDetails:!1}}};const nS=(0,p.Z)(lS,[["render",iS]]);var dS=nS,wS={props:["visible","source","type"],components:{ProductVariantDetailsRow:dS},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const cS=(0,p.Z)(wS,[["render",MD]]);var uS=cS,pS={props:["product","source","type"],components:{ProductVariantDetails:uS},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const mS=(0,p.Z)(pS,[["render",FD]]);var gS=mS,hS={components:{ShowProductVariantActions:gS},props:["source","item"],data(){return{showDetails:!1}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const fS=(0,p.Z)(hS,[["render",ID]]);var yS=fS,vS={props:["product","source"],components:{ProductTrackingRow:yS},computed:{items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const xS=(0,p.Z)(vS,[["render",dD]]);var bS=xS,_S={components:{ProductTrackingTable:bS},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const kS=(0,p.Z)(_S,[["render",aD]]);var CS=kS,DS={components:{ProductTracking:CS},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;sa.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const SS=(0,p.Z)(DS,[["render",tD]]);var zS=SS,US={name:"products",path:"/products",component:da,meta:{module:"product"},children:[{name:"product/list",path:"",component:yp,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:Bv,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:D_,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/update",path:"update/:id",component:iC,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:zS,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const PS={class:"mb-5 tw-flex tw-justify-between tw-items-center"},LS=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),AS={key:0},$S=(0,s._)("span",{class:"text-white"}," Add User ",-1),qS={key:0},WS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ES={class:"mb-5 tw-flex"},TS={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},OS={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},IS={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},FS=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),VS={class:"tw-relative"},RS=["value"],jS={class:""};function NS(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:l.users.length},[(0,s._)("div",PS,[LS,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",AS,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),$S])),_:1})])):(0,s.kq)("",!0)]),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qS,[(0,s.Wm)(n)])),l.fetched?((0,s.wg)(),(0,s.iD)("div",WS,[(0,s._)("div",ES,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",TS,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",OS,[(0,s._)("div",IS,[FS,(0,s._)("div",VS,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,et.zw)(t),9,RS)))),128))],512),[[a.bM,i.role]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",jS,[(0,s.Wm)(d,{users:l.filteredUsers,columns:i.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const MS={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},HS={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},YS={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},ZS=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),KS={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},BS=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),QS={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},GS={class:"tw-px-6 tw-py-4"},JS={class:"tw-px-6 tw-py-4"},XS={class:"tw-px-6 tw-py-4"},tz={class:"tw-px-6 tw-py-4"},ez={class:"tw-px-6 tw-py-4"},rz={key:0,class:"tw-text-red-500"},az={key:1},sz={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},oz=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),iz={key:1,class:"tw-text-neutral-700"},lz={class:"tw-px-6 tw-py-4"},nz={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},dz={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},wz={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},cz=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),uz=["value"],pz={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},mz={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},gz={class:"tw-text-white"};function hz(t,e,r,o,i,l){const n=(0,s.up)("RoleName"),d=(0,s.up)("UserStatus"),w=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",MS,[(0,s._)("table",HS,[(0,s._)("thead",YS,[(0,s._)("tr",null,[ZS,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",KS,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[BS,(0,s._)("th",QS,(0,et.zw)(e.id),1),(0,s._)("td",GS,(0,et.zw)(e.firstname)+" "+(0,et.zw)(e.lastname),1),(0,s._)("td",JS,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",XS,(0,et.zw)(e.email),1),(0,s._)("td",tz,(0,et.zw)(e.phone),1),(0,s._)("td",ez,[e.last_action?((0,s.wg)(),(0,s.iD)("div",az,[1==l.isOnline(l.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",sz,[oz,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",iz,(0,et.zw)(l.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",rz," Never Connected "))]),(0,s._)("td",lz,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(d,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",nz,[(0,s.Wm)(w,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",dz,[(0,s._)("div",wz,[cz,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,uz)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",pz,[(0,s._)("div",mz,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.users.length:l.nextRange)+" of "+(0,et.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",gz,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function fz(t,e,r,a,o,i){const l=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}var yz={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,X["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),X.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const vz=(0,p.Z)(yz,[["render",fz]]);var xz=vz;const bz={key:0,class:"tw-flex tw-items-center"};function _z(t,e,r,a,o,i){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",bz,[(0,s.Wm)(il.G,{disabled:o.isLoading,loading:o.isLoading,onChange:i.handleChange,color:"primary-color",flat:!0,modelValue:o.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>o.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var kz={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,X.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const Cz=(0,p.Z)(kz,[["render",_z]]);var Dz=Cz;const Sz={class:"tw-flex tw-items-center tw-h-full"};function zz(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Sz,[(0,s._)("div",{class:(0,et.C_)([i.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,et.C_)([i.current.text,"tw-text-sm tw-uppercase"])},(0,et.zw)(r.role),3)],2)])}var Uz={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const Pz=(0,p.Z)(Uz,[["render",zz]]);var Lz=Pz,Az={props:["columns","users"],components:{UserActions:xz,UserStatus:Dz,RoleName:Lz},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Xa.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const $z=(0,p.Z)(Az,[["render",hz]]);var qz=$z,Wz={components:{UsersTable:qz},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const Ez=(0,p.Z)(Wz,[["render",NS]]);var Tz=Ez,Oz=r(988);const Iz=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),Fz={key:0},Vz={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Rz={class:"tw-w-full"},jz=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),Nz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mz={class:"tw-w-full"},Hz=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),Yz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zz={class:"tw-w-full"},Kz=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),Bz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qz={class:"tw-w-full"},Gz=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),Jz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xz=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),tU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),eU=["value"],rU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),aU=["value"],sU=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),oU=(0,s._)("span",{class:"text-white"},"Add",-1),iU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),lU={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},nU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),dU={class:"tw-w-full"},wU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),cU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},uU={class:"tw-w-full"},pU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),mU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),hU={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},fU=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),yU=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function vU(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Iz,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fz,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",Vz,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Rz,[jz,(0,s.Wm)(ot.hw,{error:!i.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:i.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>i.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Nz,(0,et.zw)(i.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Mz,[Hz,(0,s.Wm)(ot.hw,{error:!i.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>l.resetError("lastname")),modelValue:i.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>i.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yz,(0,et.zw)(i.formStatus.lastname.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Zz,[Kz,(0,s.Wm)(ot.hw,{error:!i.formStatus.email.valid,"hide-details":!0,onKeyup:e[4]||(e[4]=t=>l.resetError("email")),modelValue:i.user.email,"onUpdate:modelValue":e[5]||(e[5]=t=>i.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bz,(0,et.zw)(i.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Qz,[Gz,(0,s.Wm)(ot.hw,{error:!i.formStatus.phone.valid,"hide-details":!0,onKeyup:e[6]||(e[6]=t=>l.resetError("phone")),modelValue:i.user.phone,"onUpdate:modelValue":e[7]||(e[7]=t=>i.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jz,(0,et.zw)(i.formStatus.phone.message),1)])])),_:1}),l.isAgente?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(il.G,{modelValue:i.isHavingAllProducts,"onUpdate:modelValue":e[8]||(e[8]=t=>i.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),Xz,(0,s._)("div",null,[(0,s.Wm)(Oz.f,{disabled:i.isHavingAllProducts,modelValue:i.selectedProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>i.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:l.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),l.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[tU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,eU)))),128))],512),[[a.bM,i.city]])])])),_:1})):(0,s.kq)("",!0),l.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[rU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>i.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,aU)))),128))],512),[[a.bM,i.deliveryCity]]),sU,(0,s.Wm)(ot.hw,{"hide-details":!0,modelValue:i.deliveryCityFee,"onUpdate:modelValue":e[12]||(e[12]=t=>i.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(rt.T,{onClick:l.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[oU])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[iU,(0,s.Wm)(Qv.r,{class:"text-capitalize",items:l.roles,"item-title":"name","item-value":"id",modelValue:i.role,"onUpdate:modelValue":e[13]||(e[13]=t=>i.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lU,[nU,(0,s.Wm)(il.G,{modelValue:i.user.status,"onUpdate:modelValue":e[14]||(e[14]=t=>i.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dU,[wU,(0,s.Wm)(ot.hw,{error:!i.formStatus.password.valid,"hide-details":!0,onKeyup:e[15]||(e[15]=t=>l.resetError("password")),modelValue:i.user.password,"onUpdate:modelValue":e[16]||(e[16]=t=>i.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cU,(0,et.zw)(i.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",uU,[pU,(0,s.Wm)(ot.hw,{error:!i.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[17]||(e[17]=t=>l.resetError("confirmPassword")),modelValue:i.user.confirmPassword,"onUpdate:modelValue":e[18]||(e[18]=t=>i.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mU,(0,et.zw)(i.formStatus.confirmPassword.message),1)])])),_:1}),l.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[gU,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,et.zw)(l.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,et.zw)(t.fee)+" "+(0,et.zw)(i.currency),1),(0,s._)("div",null,[(0,s.Wm)(st.t,{color:"red",onClick:e=>l.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",hU,[(0,s.Wm)(rt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[fU])),_:1}),(0,s.Wm)(rt.T,{onClick:l.create,loading:i.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yU])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var xU={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};X.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Dt(this.user.email),this.formStatus.firstname=zt(this.user.firstname),this.formStatus.lastname=zt(this.user.lastname),this.formStatus.phone=zt(this.user.phone),this.formStatus.password=St(this.user.password),this.formStatus.confirmPassword=Pt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,o=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&o&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):X.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):sa.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const bU=(0,p.Z)(xU,[["render",vU]]);var _U=bU;const kU=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),CU={key:0},DU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},SU={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},zU={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},UU={class:"tw-w-full"},PU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),LU={class:"tw-w-full"},AU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),$U={class:"tw-w-full"},qU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),WU={class:"tw-w-full"},EU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),TU={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},OU=(0,s._)("span",null,"Update Password: ",-1),IU={class:"tw-w-full"},FU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),VU={class:"tw-w-full"},RU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),jU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),NU={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},MU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),HU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),YU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),ZU=["value"],KU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),BU=["value"],QU=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),GU=(0,s._)("span",{class:"text-white"},"Add",-1),JU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),XU={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},tP=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),eP=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function rP(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kU,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CU,[(0,s.Wm)(n)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",DU,[(0,s._)("div",SU,[(0,s.Uk)(" User ID: "),(0,s._)("span",zU,(0,et.zw)(i.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UU,[PU,(0,s.Wm)(ot.hw,{"error-messages":i.formStatus.firstname.message,modelValue:i.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>i.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LU,[AU,(0,s.Wm)(ot.hw,{"error-messages":i.formStatus.lastname.message,modelValue:i.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>i.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$U,[qU,(0,s.Wm)(ot.hw,{"error-messages":i.formStatus.email.message,modelValue:i.email,"onUpdate:modelValue":e[2]||(e[2]=t=>i.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",WU,[EU,(0,s.Wm)(ot.hw,{"error-messages":i.formStatus.phone.message,modelValue:i.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>i.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",TU,[OU,(0,s.Wm)(il.G,{modelValue:i.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>i.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),i.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",IU,[FU,(0,s.Wm)(ot.hw,{"error-messages":i.formStatus.password.message,modelValue:i.password,"onUpdate:modelValue":e[5]||(e[5]=t=>i.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),i.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",VU,[RU,(0,s.Wm)(ot.hw,{"error-messages":i.formStatus.confirmPassword.message,modelValue:i.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>i.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jU,(0,s.Wm)(Qv.r,{class:"text-capitalize","error-messages":i.formStatus.role,items:l.roles,"item-title":"name","item-value":"id",modelValue:i.role,"onUpdate:modelValue":e[7]||(e[7]=t=>i.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",NU,[MU,(0,s.Wm)(il.G,{modelValue:i.status,"onUpdate:modelValue":e[8]||(e[8]=t=>i.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),l.isAgente?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(il.G,{modelValue:i.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>i.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),HU,(0,s._)("div",null,[(0,s.Wm)(Oz.f,{disabled:i.isHavingAllProducts,modelValue:i.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>i.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:l.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),l.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[YU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>i.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,ZU)))),128))],512),[[a.bM,i.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),l.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[KU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,BU)))),128))],512),[[a.bM,i.deliveryCity]]),QU,(0,s.Wm)(ot.hw,{"hide-details":!0,modelValue:i.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>i.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(rt.T,{onClick:l.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[GU])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),l.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[JU,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,et.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,et.zw)(t.fee)+" DH ",1),(0,s._)("div",null,[(0,s.Wm)(st.t,{color:"red",onClick:e=>l.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",XU,[(0,s.Wm)(rt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tP])),_:1}),(0,s.Wm)(rt.T,{onClick:l.update,loading:i.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[eP])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var aP={data(){return{serverUrl:d,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,X.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Dt(this.email),this.formStatus["firstname"]=zt(this.firstname),this.formStatus["lastname"]=zt(this.lastname),this.formStatus["phone"]=zt(this.phone),this.formStatus["password"]=St(this.password),this.formStatus["confirmPassword"]=Pt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,o=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&o&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return X.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:parseInt(e.fee)}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return sa.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return X.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const sP=(0,p.Z)(aP,[["render",rP]]);var oP=sP;const iP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),lP={key:0},nP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},dP={class:"md:tw-w-1/2 tw-w-full"},wP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),cP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},uP={class:"mb-3 text-body-2 tw-text-zinc-700"},pP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},mP={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},gP=["onClick"],hP={key:0},fP={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},yP=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),vP=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function xP(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[iP,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lP,[(0,s.Wm)(l)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",nP,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",dP,[wP,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cP,(0,et.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",uP,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",pP,(0,et.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",mP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>i.handleClick(t),class:(0,et.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,et.zw)(t),1)],10,gP)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",hP,(0,et.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",fP,[(0,s.Wm)(rt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yP])),_:1}),(0,s.Wm)(rt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vP])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var bP={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,X.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){0==this.roles.length?await this.getRoles():this.isFormReady=!0,this.permissions=this.$store.getters["user/permissions"]}};const _P=(0,p.Z)(bP,[["render",xP]]);var kP=_P;const CP={class:"mb-5 tw-flex tw-justify-between tw-items-center"},DP=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),SP={key:0},zP=(0,s._)("span",{class:"text-white"}," Add Role ",-1),UP={key:0},PP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},LP={class:"mb-5 tw-flex"},AP={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},$P={class:""};function qP(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:l.roles.length},[(0,s._)("div",CP,[DP,t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",SP,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),zP])),_:1})])):(0,s.kq)("",!0)]),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",UP,[(0,s.Wm)(n)])),l.fetched?((0,s.wg)(),(0,s.iD)("div",PP,[(0,s._)("div",LP,[(0,s.Wm)(rt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",AP,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",$P,[(0,s.Wm)(d,{roles:l.filteredRoles,columns:i.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const WP={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},EP={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},TP={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},OP=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),IP={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},FP=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),VP={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},RP={class:"tw-px-6 tw-py-4 tw-uppercase"},jP={class:"tw-px-6 tw-py-4"},NP={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},MP={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},HP={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},YP=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),ZP=["value"],KP={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},BP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},QP={class:"tw-text-white"};function GP(t,e,r,o,i,l){const n=(0,s.up)("RolePermissions"),d=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",WP,[(0,s._)("table",EP,[(0,s._)("thead",TP,[(0,s._)("tr",null,[OP,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",IP,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[FP,(0,s._)("th",VP,(0,et.zw)(t.id),1),(0,s._)("td",RP,(0,et.zw)(t.name),1),(0,s._)("td",jP,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",NP,[(0,s.Wm)(d,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",MP,[(0,s._)("div",HP,[YP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,ZP)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",KP,[(0,s._)("div",BP,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.roles.length:l.nextRange)+" of "+(0,et.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",QP,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const JP={key:0},XP={class:"tw-flex tw-flex-wrap tw-gap-2"};function tL(t,e,r,a,o,i){const l=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JP,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:o.isLoadingDelete,visible:o.showPopupDelete,onResolved:i.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(l,{noConfirm:!0,type:"info",title:"Permissions",loading:o.isLoadingShow,visible:o.showPopupShow,onResolved:i.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",XP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,et.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var eL={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,X.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),X.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const rL=(0,p.Z)(eL,[["render",tL]]);var aL=rL;const sL={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},oL=["title"];function iL(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",sL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,et.zw)(t.name),9,oL)))),128))])}var lL={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const nL=(0,p.Z)(lL,[["render",iL]]);var dL=nL,wL={props:["columns","roles"],components:{RoleActions:aL,RolePermissions:dL},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const cL=(0,p.Z)(wL,[["render",GP]]);var uL=cL,pL={components:{RolesTable:uL},data(){return{localUrl:n,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const mL=(0,p.Z)(pL,[["render",qP]]);var gL=mL;const hL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),fL={key:0},yL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},vL={class:"md:tw-w-1/2 tw-w-full"},xL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),bL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_L={class:"mb-3 text-body-2 tw-text-zinc-700"},kL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},CL={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},DL=["onClick"],SL={key:0},zL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},UL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),PL=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function LL(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[hL,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fL,[(0,s.Wm)(l)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",yL,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",vL,[xL,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",bL,(0,et.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",_L,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",kL,(0,et.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",CL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>i.handleClick(t),class:(0,et.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,et.zw)(t),11,DL)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",SL,(0,et.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",zL,[(0,s.Wm)(rt.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[UL])),_:1}),(0,s.Wm)(rt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[PL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var AL={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,X.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){X.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const $L=(0,p.Z)(AL,[["render",LL]]);var qL=$L,WL={name:"users",path:"/users",component:da,meta:{module:"user"},children:[{name:"user/list",path:"",component:Tz,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:_U,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:oP,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:kP,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:gL,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:qL,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const EL={class:"mb-5 tw-flex tw-justify-between tw-items-center"},TL=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),OL={key:0},IL=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),FL={key:0},VL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},RL={class:"mb-5 tw-flex"},jL={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},NL={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},ML={class:""};function HL(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("SalesAnalytics"),w=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",EL,[TL,t.$can("create_sale")&&l.fetched?((0,s.wg)(),(0,s.iD)("div",OL,[(0,s.Wm)(rt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>i.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),IL])),_:1})])):(0,s.kq)("",!0)]),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",FL,[(0,s.Wm)(n)])),l.fetched?((0,s.wg)(),(0,s.iD)("div",VL,[(0,s.Wm)(d,{sales:l.sales},null,8,["sales"]),(0,s._)("div",RL,[(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",jL,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,i.search]])]),(0,s._)("div",NL,[(0,s.Wm)(st.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,i.searchId]])]),(0,s.Wm)(ir.C),(0,s.Wm)(rt.T,{onClick:l.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:i.isButtonDisabled,loading:i.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(rt.T,{onClick:l.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":i.showFilters}])},[(0,s.Wm)(w,{sales:l.sales,search:i.search,"search-id":i.searchId,filtered:i.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>i.filteredSales=t),selected:l.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",ML,[((0,s.wg)(),(0,s.j4)(c,{onSelected:l.handleSelected,"selected-reset":i.selected,key:i.filteredSales.length,sales:i.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>i.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>i.showPopup=!1),visible:i.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>i.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const YL={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},ZL={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},KL=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),BL={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},QL={class:"md:tw-col-span-6 tw-col-span-12"},GL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),JL={class:"md:tw-col-span-6 tw-col-span-12"},XL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),tA={class:"md:tw-col-span-6 tw-col-span-12"},eA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),rA=["value"],aA={class:"md:tw-col-span-6 tw-col-span-12"},sA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),oA={class:"md:tw-col-span-12 tw-col-span-12"},iA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),lA={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},nA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),dA=(0,s._)("option",{value:0}," Select ",-1),wA=["value"],cA={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},uA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),pA=(0,s._)("option",{value:0}," Select ",-1),mA=["value"],gA={class:"md:tw-col-span-6 tw-col-span-12"},hA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),fA=(0,s._)("option",{value:0}," Select ",-1),yA=["value"],vA={class:"md:tw-col-span-6 tw-col-span-12"},xA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),bA={class:"md:tw-col-span-6 tw-col-span-12"},_A={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},kA={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},CA=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),DA={class:"tw-flex tw-flex-col tw-justify-center"},SA={class:"md:tw-col-span-6 tw-col-span-12"},zA={key:0,class:"md:tw-col-span-12 tw-col-span-12"},UA={class:"tw-max-w-full tw-overflow-auto"},PA={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},LA={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},AA={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},$A={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},qA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},WA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},EA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},TA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},OA={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},IA=(0,s._)("span",{class:"text-white"}," Cancel ",-1),FA=(0,s._)("span",{class:"text-white"}," Save ",-1);function VA(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YL,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",ZL,[KL,(0,s._)("div",BL,[(0,s._)("div",QL,[GL,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.fullname]])]),(0,s._)("div",JL,[XL,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.phone]])]),(0,s._)("div",tA,[eA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,rA)))),128))],512),[[a.bM,i.sale.city]])]),(0,s._)("div",aA,[sA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>i.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.adresse]])]),(0,s._)("div",oA,[iA,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>i.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.price]])]),(0,s._)("div",lA,[nA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[dA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,wA)))),128))],512),[[a.bM,i.warehouse_id]])]),(0,s._)("div",cA,[uA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[pA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,mA)))),128))],512),[[a.bM,i.product_id]])]),(0,s._)("div",gA,[hA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>i.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[fA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.size)+" / "+(0,et.zw)(t.color),9,yA)))),128))],512),[[a.bM,i.product_variation_id]])]),(0,s._)("div",vA,[xA,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>i.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.quantity]])]),(0,s._)("div",bA,[(0,s._)("div",_A,[(0,s._)("label",kA,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>i.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,i.sale.counts_from_warehouse]]),CA]),(0,s._)("label",DA,[(0,s._)("span",{class:(0,et.C_)([[i.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,et.C_)([[i.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",SA,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),i.items.length?((0,s.wg)(),(0,s.iD)("div",zA,[(0,s._)("div",UA,[(0,s._)("table",PA,[(0,s._)("thead",LA,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",AA,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",$A,(0,et.zw)(t.product.name),1),(0,s._)("th",qA,(0,et.zw)(t.product_variation.size)+" / "+(0,et.zw)(t.product_variation.color),1),(0,s._)("th",WA,(0,et.zw)(t.quantity),1),(0,s._)("th",EA,(0,et.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",TA,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:e=>l.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",OA,[(0,s.Wm)(rt.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[IA])),_:1}),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[FA])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var RA={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ia.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){sa.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const jA=(0,p.Z)(RA,[["render",VA]]);var NA=jA;const MA={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},HA={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},YA=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),ZA={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},KA={class:"md:tw-col-span-6 tw-col-span-12"},BA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),QA={class:"md:tw-col-span-6 tw-col-span-12"},GA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),JA={class:"md:tw-col-span-6 tw-col-span-12"},XA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),t$=["value"],e$=["value"],r$={class:"md:tw-col-span-6 tw-col-span-12"},a$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),s$={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},o$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),i$={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},l$={class:"tw-col-span-12"},n$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),d$={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},w$={class:"tw-col-span-12 md:tw-col-span-4"},c$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),u$={class:"tw-col-span-12 md:tw-col-span-8"},p$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),m$={class:"md:tw-col-span-6 tw-col-span-12"},g$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),h$={class:"md:tw-col-span-6 tw-col-span-12"},f$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),y$=["value"],v$={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},x$={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},b$={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},_$=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),k$={class:"tw-flex tw-flex-col tw-justify-center"},C$=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),D$={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},S$={key:2,class:"md:tw-col-span-12 tw-col-span-12"},z$={class:"tw-max-w-full tw-overflow-auto"},U$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},P$={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},L$={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},A$=["src"],$$={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},q$=["onUpdate:modelValue"],W$=(0,s._)("option",{value:0},"Select",-1),E$=["value"],T$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},O$=["disabled","onUpdate:modelValue"],I$=(0,s._)("option",{value:0},"Select",-1),F$=["value"],V$={key:0},R$={key:1},j$={key:2},N$={key:3},M$=["value"],H$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Y$={class:"md:tw-col-span-6 tw-col-span-12"},Z$=["onUpdate:modelValue"],K$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},B$={key:0},Q$={key:1,class:"md:tw-col-span-6 tw-col-span-12"},G$=["onUpdate:modelValue"],J$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},X$={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},tq=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),eq={class:"md:tw-col-span-12 tw-col-span-12"},rq={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},aq=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),sq={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},oq=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),iq={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},lq=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),nq={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},dq=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),wq={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},cq={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},uq=(0,s._)("span",{class:"text-white"}," Cancel ",-1),pq=(0,s._)("span",{class:"text-white"}," Create ",-1);function mq(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("AddOrderConfirmation"),w=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",MA,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",HA,[YA,(0,s._)("div",ZA,[(0,s._)("div",KA,[BA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.fullname]])]),(0,s._)("div",QA,[GA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.phone]])]),(0,s._)("div",JA,[XA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:i.sale.city},(0,et.zw)(i.sale.city),9,t$),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,e$)))),128))],512),[[a.bM,i.sale.city]])]),(0,s._)("div",r$,[a$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>i.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.adresse]])]),(0,s._)("div",s$,[o$,(0,s.Wm)(d,{order:i.sale,id:i.sale.id,confirmation:i.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>i.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>i.sale.note=t),onReported:l.handleReported,onChange:l.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",i$,[(0,s._)("div",l$,[n$,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>i.sale.note=t)},null,512),[[a.nr,i.sale.note]])])]),"reporter"==i.sale.confirmation&&i.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",d$,[(0,s._)("div",w$,[c$,(0,s._)("div",null,(0,et.zw)(i.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",u$,[p$,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>i.sale.reported_agente_note=t)},null,512),[[a.nr,i.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",m$,[g$,(0,s.Wm)(w,{"product-ids":l.product_ids,items:i.items,"onUpdate:items":e[8]||(e[8]=t=>i.items=t),order:i.sale,confirmation:i.sale.confirmation,affectation:i.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>i.sale.affectation=t),id:i.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",h$,[f$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,et.zw)(t.name),9,y$)))),128))],512),[[a.bM,i.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",v$,[(0,s._)("div",x$,[(0,s._)("label",b$,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>i.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,i.sale.counts_from_warehouse]]),_$]),(0,s._)("label",k$,[(0,s._)("span",{class:(0,et.C_)([[i.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,et.C_)([[i.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),C$,i.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",D$," No Order items ")),i.items.length?((0,s.wg)(),(0,s.iD)("div",S$,[(0,s._)("div",z$,[((0,s.wg)(),(0,s.iD)("table",{key:i.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",U$,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",P$,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",L$,[l.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:i.serverUrl+"storage/"+l.product_images[e]},null,8,A$)):(0,s.kq)("",!0)])])),(0,s._)("th",$$,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[W$,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,E$)))),128))],8,q$),[[a.bM,t.product.id]])])])]),(0,s._)("th",T$,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==l.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[I$,l.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",R$,(0,et.zw)(t.size)+" / "+(0,et.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",j$,(0,et.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",N$,(0,et.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",V$,"-"))],8,F$)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:l.getVariations(t.product)?.variations[0]?.id}," Default ",8,M$))],8,O$)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",H$,[(0,s._)("div",Y$,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Z$),[[a.nr,t.quantity]])])]),(0,s._)("th",K$,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",B$," - ")):((0,s.wg)(),(0,s.iD)("div",Q$,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,G$),[[a.nr,t.price]])]))])]),(0,s._)("th",J$,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:e=>l.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",X$,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:l.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),tq])),_:1},8,["onClick"])])]),(0,s._)("div",eq,[(0,s.Wm)(c,{"product-ids":l.product_ids},null,8,["product-ids"])]),(0,s._)("div",rq,[aq,(0,s._)("div",sq,[oq,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>i.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sale.price]])])]),(0,s._)("div",iq,[lq,(0,s._)("div",nq,[dq,(0,s._)("div",wq,(0,et.zw)(i.currency)+" "+(0,et.zw)(l.total_price),1)])])]),(0,s._)("div",cq,[(0,s.Wm)(rt.T,{onClick:l.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[uq])),_:1},8,["onClick"]),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pq])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var gq={components:{AddOrderConfirmation:Lc,AddOrderAffectation:Ic,ProductOffers:tu},props:["visible","order"],data(){return{upsells:In,serverUrl:d,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ia.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const hq=(0,p.Z)(gq,[["render",mq]]);var fq=hq;const yq={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},vq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_q={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},kq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Cq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Dq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sq={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function zq(t,e,r,a,o,i){const l=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),d=(0,s.up)("ConfirmationFilter"),w=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),m=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yq,[(0,s._)("div",vq,[(0,s.Wm)(l,{filter:o.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",xq,[(0,s.Wm)(n,{filter:o.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",bq,[(0,s.Wm)(d,{filter:o.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>o.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",_q,[(0,s.Wm)(w,{filter:o.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>o.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",kq,[(0,s.Wm)(c,{filter:o.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>o.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",Cq,[(0,s.Wm)(u,{filter:o.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>o.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",Dq,[(0,s.Wm)(p,{filter:o.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>o.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",Sq,[(0,s.Wm)(m,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const Uq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Pq=["onClick"];function Lq(t,e,r,a,o,i){const l=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[Uq,(0,s.Wm)(l,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),i.onDateRangePicked],onCleared:i.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,Pq)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Aq={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Fo.Z)(new Date),(0,Vo.Z)(new Date)]},{label:"Last month",range:[(0,Fo.Z)((0,Ro.Z)(new Date,1)),(0,Vo.Z)((0,Ro.Z)(new Date,1))]},{label:"This year",range:[(0,jo.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const $q=(0,p.Z)(Aq,[["render",Lq]]);var qq=$q;const Wq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Eq={class:"tw-relative"},Tq=(0,s._)("option",{value:"all"},"Select",-1),Oq=(0,s._)("option",{value:"oui"},"Oui",-1),Iq=(0,s._)("option",{value:"non"},"Non",-1),Fq=[Tq,Oq,Iq];function Vq(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[Wq,(0,s._)("div",Eq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Fq,512),[[a.bM,i.value]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var Rq={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const jq=(0,p.Z)(Rq,[["render",Vq]]);var Nq=jq;const Mq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),Hq={class:"tw-relative"},Yq=["value"];function Zq(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[Mq,(0,s._)("div",Hq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,et.zw)(t.value?t.name:"Select"),9,Yq)))),128))],512),[[a.bM,i.deliveryFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var Kq={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Fn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const Bq=(0,p.Z)(Kq,[["render",Zq]]);var Qq=Bq;const Gq=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),Jq={class:"tw-relative"},Xq=(0,s._)("option",{value:"all"}," Select ",-1),tW=["value"];function eW(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[Gq,(0,s._)("div",Jq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Xq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,et.zw)(t.name),9,tW)))),128))],512),[[a.bM,i.confirmationFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var rW={props:["filter"],data(){return{confirmationFilter:"all",confirmations:En}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const aW=(0,p.Z)(rW,[["render",eW]]);var sW=aW;const oW=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affect",-1),iW={class:"tw-relative"},lW=(0,s._)("option",{value:"all"},"Select",-1),nW=(0,s._)("option",{value:null},"Without delivery",-1),dW=["value"];function wW(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[oW,(0,s._)("div",iW,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[lW,nW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,dW)))),128))],512),[[a.bM,i.affectationFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var cW={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const uW=(0,p.Z)(cW,[["render",wW]]);var pW=uW;const mW=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),gW={class:"tw-relative"},hW=(0,s._)("option",{value:"all"},"Select",-1),fW=(0,s._)("option",{value:null},"Without agente",-1),yW=["value"];function vW(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[mW,(0,s._)("div",gW,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[hW,fW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,yW)))),128))],512),[[a.bM,i.agenteFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var xW={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const bW=(0,p.Z)(xW,[["render",vW]]);var _W=bW;const kW=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),CW={key:0},DW={key:1,class:"tw-relative"},SW=(0,s._)("option",{value:"all"},"Select",-1),zW=["value"];function UW(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[kW,l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CW,[(0,s._)("div",null,[(0,s.Wm)(st.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),l.fetched?((0,s.wg)(),(0,s.iD)("div",DW,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[SW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,zW)))),128))],512),[[a.bM,i.productFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var PW={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const LW=(0,p.Z)(PW,[["render",UW]]);var AW=LW;function $W(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:o,deliveryFilter:i,agenteFilter:l,dateFilter:n,productFilter:d}){const w=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==o&&t.upsell!=o)return!1;if("all"!==i&&t.delivery!=i)return!1;if("all"!==l&&t.agente_id!=l)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==d&&!t.items.some((t=>t.product_id==d)))return!1;const p=n.getDate(),m=n.getMonth(),g=n.getFullYear();if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(g<r||g===r&&m<e||g===r&&m===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(g>r||g===r&&m>e||g===r&&m===e&&p>t)return!1}return!0}))}function qW(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function WW(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function EW(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function TW(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const OW=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),IW={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},FW={class:"tw-relative tw-w-full"},VW=(0,s._)("option",{value:"all"},"All Sales",-1),RW=(0,s._)("option",{value:"selected"},"Selected Sales",-1),jW=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),NW=[VW,RW,jW];function MW(t,e,r,o,i,l){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[OW,(0,s._)("div",IW,[(0,s._)("div",FW,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},NW,512),[[a.bM,i.selection]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(rt.T,{onClick:l.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var HW={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const YW=(0,p.Z)(HW,[["render",MW]]);var ZW=YW,KW={components:{DateFilter:qq,UpsellFilter:Nq,DeliveryFilter:Qq,ConfirmationFilter:sW,AffectationFilter:pW,AgenteFilter:_W,ProductFilter:AW,ExcelExport:ZW},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return $W(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const BW=(0,p.Z)(KW,[["render",zq]]);var QW=BW;const GW={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},JW={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},XW={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},tE={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},eE={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},rE={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function aE(t,e,r,a,o,i){const l=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GW,[(0,s._)("div",JW,[(0,s._)("div",XW,[(0,s.Wm)(l,{dash:i.newSales},null,8,["dash"])]),(0,s._)("div",tE,[(0,s.Wm)(l,{dash:i.confirmedSales},null,8,["dash"])]),(0,s._)("div",eE,[(0,s.Wm)(l,{dash:i.deliveredSales},null,8,["dash"])]),(0,s._)("div",rE,[(0,s.Wm)(l,{dash:i.shippedSales},null,8,["dash"])])])])])}const sE={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},oE={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},iE={class:"tw-text-xl tw-font-bold"},lE={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},nE={class:"tw-text-sm"},dE={class:"rounded-circle tw-w-fit tw-mr-3"};function wE(t,e,r,a,o,i){const l=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(za.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",sE,[(0,s._)("div",oE,[(0,s._)("p",iE,(0,et.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,et.zw)(r.symbol),1),(0,s._)("span",lE,[r.numbers?((0,s.wg)(),(0,s.j4)(l,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",nE,(0,et.zw)(r.dash.title),1)])]),(0,s._)("div",dE,[(0,s.Wm)(st.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var cE={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const uE=(0,p.Z)(cE,[["render",wE]]);var pE=uE,mE={components:{DashItem:pE},props:["sales"],computed:{newSales(){return qW(this.sales)},confirmedSales(){return WW(this.sales)},deliveredSales(){return EW(this.sales)},shippedSales(){return TW(this.sales)}}};const gE=(0,p.Z)(mE,[["render",aE]]);var hE=gE,fE={components:{SalesTable:du,AddSale:NA,SalesAnalytics:hE,IndexFilter:QW,NewAddSale:fq},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await X.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await X.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ia.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return X.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ia.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const yE=(0,p.Z)(fE,[["render",HL]]);var vE=yE;const xE={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},bE={class:"tw-px-3"},_E={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},kE={class:"tw-flex tw-items-center tw-gap-x-3"},CE=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),DE={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},SE=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),zE={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},UE=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),PE=(0,s._)("span",null,"Create",-1),LE=[UE,PE],AE={class:"tw-overflow-hidden tw-col-span-1"},$E={key:0};function qE(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",xE,[(0,s._)("section",bE,[(0,s._)("div",_E,[(0,s._)("div",null,[(0,s._)("div",kE,[CE,(0,s._)("span",DE,(0,et.zw)(o.totalOrders)+" order",1)]),SE]),(0,s._)("div",zE,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},LE)])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",AE,[(0,s.Wm)(n,{onUpdate:i.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",$E,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const WE={class:"tw-flex tw-flex-col"},EE={class:"tw-overflow-x-auto"},TE={class:"tw-inline-block tw-min-w-full tw-align-middle"},OE={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},IE={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},FE={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},VE={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},RE={class:"tw-max-w-[25px]"},jE={class:"tw-inline-flex tw-items-center"},NE={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},ME=["checked"],HE=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),YE=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),ZE={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},KE=(0,s._)("span",null,"Created",-1),BE=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),QE=[KE,BE],GE=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),JE=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),XE=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),tT=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),eT=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),rT=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),aT=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),sT=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),oT={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},iT={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},lT=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),nT=[lT],dT={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},wT={colspan:"11"},cT={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},uT=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),pT=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),mT=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),gT=[pT,mT],hT={class:"tw-mt-6"};function fT(t,e,r,a,o,i){const l=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",WE,[(0,s._)("div",EE,[(0,s._)("div",TE,[(0,s._)("div",OE,[(0,s._)("table",IE,[(0,s._)("thead",FE,[(0,s._)("tr",null,[(0,s._)("th",VE,[(0,s._)("div",RE,[(0,s._)("div",jE,[(0,s._)("label",NE,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>i.handleSelectedAllChange&&i.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,ME),HE])])])]),YE,(0,s._)("th",ZE,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},QE)]),GE,JE,XE,tT,eT,rT,aT,sT])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",oT,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(l,{selected:i.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>i.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",iT,nT)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",dT,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",wT,[(0,s._)("div",cT,[uT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},gT)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",hT,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const yT={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},vT={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},xT={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},bT={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},_T=["disabled"],kT=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),CT=(0,s._)("span",null," previous ",-1),DT=[kT,CT],ST=["disabled"],zT=(0,s._)("span",null," Next ",-1),UT=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),PT=[zT,UT];function LT(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yT,[(0,s._)("div",vT,[(0,s.Uk)(" Page "),(0,s._)("span",xT,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",bT,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>i.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},DT,10,_T),(0,s._)("button",{disabled:r.currentPage>=i.totalPages,onClick:e[1]||(e[1]=t=>i.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=i.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},PT,10,ST)])])])}var AT={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const $T=(0,p.Z)(AT,[["render",LT]]);var qT=$T;const WT={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ET={class:"tw-max-w-[25px]"},TT={class:"tw-inline-flex tw-items-center"},OT={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},IT=["checked","id"],FT=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),VT={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RT={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},jT={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},NT={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},MT={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HT={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},YT={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ZT={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},KT={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},BT={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},QT={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},GT={class:"tw-space-y-1"},JT={class:"tw-font-bold tw-text-green-500"},XT={class:"tw-block tw-max-w-[150px] tw-truncate"},tO={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},eO={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rO={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aO={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},sO={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oO={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function iO(t,e,r,a,o,i){const l=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,et.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",WT,[(0,s._)("div",ET,[(0,s._)("div",TT,[(0,s._)("label",OT,[(0,s._)("input",{type:"checkbox",checked:i.isSelected,onChange:e[0]||(e[0]=(...t)=>i.handleSelected&&i.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,IT),FT])])])]),(0,s._)("td",VT,[(0,s._)("div",null,[(0,s._)("h2",RT,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",jT,[(0,s._)("div",null,[(0,s._)("h2",NT,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",MT,[(0,s._)("div",null,[(0,s._)("h2",HT,(0,et.zw)(r.item.fullname),1)])]),(0,s._)("td",YT,[(0,s._)("div",null,[(0,s._)("h2",ZT,(0,et.zw)(r.item.city),1)])]),(0,s._)("td",KT,[(0,s._)("div",null,[(0,s._)("h2",BT,(0,et.zw)(r.item.phone),1)])]),(0,s._)("td",QT,[(0,s._)("div",null,[(0,s._)("ul",GT,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",JT,(0,et.zw)(t.quantity)+" x ",1),(0,s._)("span",XT,(0,et.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",tO,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",eO,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",rO,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[i.confirmation.bgLight,i.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(i.confirmation.name),3)])]),(0,s._)("td",aO,[(0,s._)("div",null,[(0,s.Wm)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",sO,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[i.deliveryState.bgLight,i.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(i.deliveryState.value?i.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",oO,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const lO={class:"tw-h-full"},nO={class:"tw-flex tw-items-center tw-gap-2"},dO=["href"],wO={key:0},cO={key:1};function uO(t,e,r,a,o,i){const l=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",lO,[(0,s._)("div",nO,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,dO),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",wO,[(0,s.Wm)(l,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[3]||(e[3]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.history?((0,s.wg)(),(0,s.iD)("div",cO,[(0,s.Wm)(n,{visible:o.history,"onUpdate:visible":e[4]||(e[4]=t=>o.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const pO={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},mO=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),gO={class:"tw-bg-white tw-p-4"},hO={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},fO={class:"tw-col-span-2 md:tw-col-span-1"},yO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),vO={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xO={class:"tw-col-span-2 md:tw-col-span-1"},bO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),_O={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kO={class:"tw-col-span-2 md:tw-col-span-1"},CO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),DO={class:"tw-relative"},SO=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),zO=["value"],UO=["value"],PO=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),LO={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AO={class:"tw-col-span-2 md:tw-col-span-1"},$O=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),qO={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WO={class:"tw-col-span-2"},EO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),TO={class:"tw-relative"},OO=["value"],IO=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),FO={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VO={key:0,class:"md:tw-col-span-1 tw-col-span-2"},RO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),jO={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},NO={key:1,class:"md:tw-col-span-1 tw-col-span-2"},MO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),HO={class:"tw-col-span-2"},YO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),ZO={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},KO={class:"md:tw-col-span-1 tw-col-span-2"},BO={class:"tw-col-span-1"},QO=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),GO={class:"tw-relative"},JO=["value"],XO=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eI={class:"md:tw-col-span-1 tw-col-span-2"},rI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),aI={class:"tw-relative"},sI=["value"],oI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iI={class:"tw-col-span-2"},lI={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},nI={key:0,class:"tw-text-red-400 tw-text-xs"},dI={key:2,class:"tw-col-span-2"},wI={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},cI=["disabled"],uI=(0,s._)("span",null,"Update",-1);function pI(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",pO,[mO,(0,s._)("div",gO,[(0,s._)("div",hO,[(0,s._)("div",fO,[yO,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",vO,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",xO,[bO,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",_O,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",kO,[CO,(0,s._)("div",DO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[SO,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,zO),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,UO)))),128))],34),[[a.bM,i.itemCopy.city]]),PO]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",LO,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",AO,[$O,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",qO,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",WO,[EO,(0,s._)("div",TO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.confirmation=null),class:(0,et.C_)([[i.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,OO)))),128))],34),[[a.bM,i.itemCopy.confirmation]]),IO]),i.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",FO,(0,et.zw)(i.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",VO,[RO,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>i.errors.reported_agente_date=null),class:(0,et.C_)([[i.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.reported_agente_date]]),i.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",jO,(0,et.zw)(i.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",NO,[MO,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",HO,[YO,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",ZO,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",KO,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",BO,[QO,(0,s._)("div",GO,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>i.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>i.errors.delivery=null),class:(0,et.C_)([[i.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,JO)))),128))],34),[[a.bM,i.itemCopy.delivery]]),XO]),i.errors.delivery?((0,s.wg)(),(0,s.iD)("label",tI,(0,et.zw)(i.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",eI,[rI,(0,s._)("div",aI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>i.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,sI)))),128))],512),[[a.bM,i.itemCopy.upsell]]),oI])]),(0,s._)("div",iI,[(0,s._)("label",lI,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",nI," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),i.products_fetched?((0,s.wg)(),(0,s.iD)("div",dI,[(0,s.Wm)(w,{products:i.products,item:i.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",wI,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>l.handleUpdate&&l.handleUpdate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),uI],8,cI)])])])),_:1},8,["visible","onCancel"])])}const mI=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!gI(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),gI=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},hI=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},fI=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},yI=(t,e)=>{t.isLoading=!0,t.errors={},eh.update(e.id,e).then((e=>hI(t,e.data))).catch((e=>fI(t,e.response.data))).finally((()=>t.isLoading=!1))},vI={key:0},xI=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),bI={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},_I=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),kI=(0,s._)("span",null,"Add Item",-1),CI=[_I,kI],DI={key:1,class:"md:tw-col-span-12 tw-col-span-12"},SI={class:"tw-max-w-full tw-overflow-auto"},zI={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},UI={class:"tw-bg-gray-50"},PI={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},LI={key:0},AI={colspan:"6"},$I={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},qI=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),WI=(0,s._)("span",null,"Add Item",-1),EI=[qI,WI],TI=(0,s._)("td",{colspan:"4"},null,-1),OI=(0,s._)("td",null,null,-1),II={colspan:"1",class:"tw-p-2"},FI={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},VI={key:1},RI={colspan:"6"},jI={class:"tw-scale-75 tw-p-5"};function NI(t,e,r,a,o,i){const l=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vI,[xI,(0,s._)("div",bI,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},CI)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",DI,[(0,s._)("div",SI,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",zI,[(0,s._)("tr",UI,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",PI,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",LI,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,item:t,products:r.products,onDelete:i.deleteItem,onUpdate:i.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",AI,[(0,s._)("div",$I,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},EI)])])]),(0,s._)("tr",null,[TI,OI,(0,s._)("td",II,[(0,s._)("div",FI,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(i.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",VI,[(0,s._)("tr",null,[(0,s._)("td",RI,[(0,s._)("div",jI,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const MI=(0,s._)("td",null,null,-1),HI={class:"tw-p-2"},YI={class:"tw-relative"},ZI=["value"],KI=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),BI=["value"],QI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),GI={class:"tw-p-2"},JI={key:0,class:"tw-relative"},XI=["value"],tF=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),eF=["value"],rF={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},aF=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),sF=[aF],oF={class:"tw-p-2"},iF=["value"],lF={class:"tw-p-2"},nF=["value"],dF={class:"tw-flex tw-justify-center"};function wF(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("tr",null,[MI,(0,s._)("td",null,[(0,s._)("div",HI,[(0,s._)("div",YI,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>i.handleProductChange&&i.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[KI,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,BI)))),128))],40,ZI),QI])])]),(0,s._)("td",null,[(0,s._)("div",GI,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",JI,[i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>i.handleVariationChange&&i.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[tF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,eF)))),128))],40,XI)):(0,s.kq)("",!0),i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",rF,sF)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",oF,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,iF)])]),(0,s._)("td",null,[(0,s._)("div",lF,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,nF)])]),(0,s._)("td",null,[(0,s._)("div",dF,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>i.handleDelete&&i.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var cF={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const uF=(0,p.Z)(cF,[["render",wF]]);var pF=uF,mF={components:{ItemRow:pF},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const gF=(0,p.Z)(mF,[["render",NI]]);var hF=gF;const fF=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),yF={key:0,class:"tw-relative"},vF=["value","disabled"],xF=(0,s._)("option",{value:""},"Choose a Delivery",-1),bF=["value"],_F=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kF={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CF={key:2,class:"tw-relative"},DF={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},SF=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),zF=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function UF(t,e,r,a,o,i){const l=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[fF,o.fetched?((0,s.wg)(),(0,s.iD)("div",yF,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>i.handleChange&&i.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,et.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[xF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,bF)))),128))],42,vF),_F])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",kF,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CF,[(0,s._)("div",DF,[(0,s.Wm)(l)]),SF,zF]))])}var PF={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const LF=(0,p.Z)(PF,[["render",UF]]);var AF=LF;const $F={key:0},qF=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),WF={class:"md:tw-col-span-12 tw-col-span-12"},EF={class:"tw-max-w-full tw-overflow-auto"},TF={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},OF=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),IF={class:"tw-px-3 tw-py-2"},FF={class:"tw-px-3 tw-py-2"},VF={class:"tw-px-3 tw-py-2"},RF={class:"tw-px-3 tw-py-2"},jF={class:"tw-max-w-[250px] tw-text-sm"};function NF(t,e,r,a,o,i){return i.offers.length?((0,s.wg)(),(0,s.iD)("div",$F,[qF,(0,s._)("div",WF,[(0,s._)("div",EF,[(0,s._)("table",TF,[OF,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",IF,(0,et.zw)(i.getProduct(t.product_id)?.name),1),(0,s._)("td",FF,(0,et.zw)(t.quantity),1),(0,s._)("td",VF,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",RF,[(0,s._)("p",jF,(0,et.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var MF={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const HF=(0,p.Z)(MF,[["render",NF]]);var YF=HF,ZF={components:{OrderItems:hF,OrderAffectation:AF,ProductOffersTable:YF},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:En,deliveryStatus:Fn,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=mI(this,this.itemCopy);if(!t)return!1;yI(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const KF=(0,p.Z)(ZF,[["render",pI]]);var BF=KF;const QF={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GF=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),JF={class:"tw-bg-white tw-p-4"},XF={key:0},tV={key:1,class:"tw-p-5"},eV={class:"d-flextw-flex-col justify-space-between flex-grow-1"},rV={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},aV={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},sV={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},oV={class:"d-flextw-flex-col justify-space-between flex-grow-1"},iV={class:"tw-flex tw-flex-col tw-my-2"},lV=(0,s._)("div",null,"New Order Created",-1),nV={class:"tw-flex tw-flex-col"},dV={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},wV={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},cV={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function uV(t,e,r,a,o,i){const l=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",QF,[GF,(0,s._)("div",JF,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",XF,[(0,s.Wm)(l)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",tV,[(0,s.Wm)(Dd.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.events,(t=>((0,s.wg)(),(0,s.j4)(Sd.N,{key:t.id,class:"mb-4","dot-color":i.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",eV,[(0,s._)("div",rV,[(0,s.Wm)(Cd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:i.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Cd.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",aV,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,et.zw)(t.users.firstname)+" "+(0,et.zw)(t.users.lastname),1)]),(0,s._)("div",sV,[(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(Sd.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",oV,[(0,s._)("div",iV,[(0,s.Wm)(Cd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),lV]),(0,s._)("div",nV,[(0,s._)("div",dV,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,et.zw)(r.item.created_by.firstname)+" "+(0,et.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",wV,[(0,s._)("span",null,(0,et.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",cV,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var pV={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ia.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const mV=(0,p.Z)(pV,[["render",uV]]);var gV=mV,hV={components:{UpdatePopup:BF,HistoryPopup:gV},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const fV=(0,p.Z)(hV,[["render",uO]]);var yV=fV;const vV={key:0},xV={key:0,class:"tw-relative tw-inline-block tw-text-left"},bV={key:0},_V=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),kV=[_V],CV={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},DV={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},SV=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),zV=[SV],UV={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},PV={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},LV={class:"tw-py-1",role:"none"},AV=["onClick"],$V={key:1},qV={class:"tw-p-2 tw-scale-75"};function WV(t,e,r,a,o,i){const l=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",vV,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",xV,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[i.selected.id?((0,s.wg)(),(0,s.iD)("div",bV,kV)):(0,s.kq)("",!0),(0,s._)("p",CV,(0,et.zw)(i.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",DV,zV)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",UV,(0,et.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(qt.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",PV,[(0,s._)("div",LV,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>i.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,et.zw)(t.name),1)],8,AV)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,i.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",$V,[(0,s._)("div",qV,[(0,s.Wm)(l)])]))])):(0,s.kq)("",!0)}var EV={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};yI(this,e,!1)}}};const TV=(0,p.Z)(EV,[["render",WV]]);var OV=TV,IV={components:{TableActions:yV,TableRowAffectation:OV},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:lg()}},computed:{confirmation(){return En.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const FV=(0,p.Z)(IV,[["render",iO]]);var VV=FV,RV={components:{TablePaginationNoNums:qT,TableRow:VV},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const jV=(0,p.Z)(RV,[["render",fT]]);var NV=jV;const MV={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},HV={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},YV=["disabled"],ZV=["disabled"],KV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),BV=[KV],QV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),GV=[QV],JV=["disabled"],XV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),tR=[XV],eR=["disabled"],rR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),aR=[rR],sR=["disabled"],oR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),iR=[oR],lR={class:"tw-relative"},nR=["value"],dR=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),wR=[dR],cR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),uR={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},pR=["value"],mR=(0,s.uE)('<option value="all">All</option><option value="id">ID</option><option value="fullname">Fullname</option><option value="phone">Phone</option><option value="adresse">Address</option><option value="city">City</option><option value="note">Note</option>',7),gR=[mR],hR=["value"],fR={class:"tw-overflow-hidden tw-col-span-1"},yR={class:"tw-overflow-hidden tw-col-span-1"},vR={class:"tw-overflow-hidden tw-col-span-1"};function xR(t,e,r,o,i,l){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",MV,[(0,s._)("div",HV,[(0,s._)("button",{class:(0,et.C_)([[i.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:i.showAll,onClick:e[0]||(e[0]=t=>l.filterToday(!1))}," View all ",10,YV),(0,s._)("button",{title:"Orders Created Today",class:(0,et.C_)([[i.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:i.showToday,onClick:e[1]||(e[1]=t=>l.filterToday(!0))}," Today ",10,ZV),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>i.showFilters=!i.showFilters),class:(0,et.C_)([[i.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},BV,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>i.showStatistics=!i.showStatistics),class:(0,et.C_)([[i.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},GV,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>l.showReportedFirst&&l.showReportedFirst(...t)),disabled:r.loading,class:(0,et.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},tR,10,JV),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},aR,8,eR),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>i.showExport=!i.showExport),class:(0,et.C_)([[i.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},iR,10,sR),(0,s._)("div",lR,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>l.handlePerPageChange&&l.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},wR,40,nR),cR])]),(0,s._)("div",uR,[(0,s._)("select",{value:r.searchByField,onInput:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),class:"tw-block !tw-w-fit tw-px-2 tw-py-1.5 tw-border-r-0 tw-rounded-r-none tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},gR,40,pR),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-rounded-l-none tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,hR),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[i.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",fR,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,et.C_)([[i.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",yR,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[i.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vR,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const bR={class:"tw-mb-4"},_R={class:"tw-grid tw-grid-cols-12 tw-gap-4"},kR={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},CR={class:"tw-flex tw-items-center tw-justify-between"},DR={class:"tw-text-xl tw-font-bold tw-text-gray-900"},SR={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function zR(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",bR,[(0,s._)("div",_R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",kR,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[i.getConfirmation(t.confirmation).textLight,i.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",CR,[(0,s._)("span",DR,(0,et.zw)(t.total),1),(0,s._)("span",SR,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var UR={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return En.find((e=>e.value==t))}}};const PR=(0,p.Z)(UR,[["render",zR]]);var LR=PR;const AR={class:"tw-mb-4"},$R={class:"tw-flex tw-items-center tw-gap-2"},qR=["disabled"],WR=(0,s._)("span",null,"Select Filtered",-1),ER={class:"tw-flex tw-justify-end"},TR=["disabled"];function OR(t,e,r,a,o,i){const l=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",AR,[(0,s._)("div",$R,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.handleExportFiltered&&i.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),WR],8,qR)]),(0,s._)("div",ER,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,et.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(l,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,TR)])])}var IR={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,eh["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const FR=(0,p.Z)(IR,[["render",OR]]);var VR=FR;const RR={class:"tw-mb-4"},jR={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},NR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),HR=["value"],YR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ZR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),KR=["value"],BR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),GR=["value"],JR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),tj=["value"],ej={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rj=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),aj=["value"],sj=(0,s._)("option",{value:"all",selected:""},"All",-1),oj=["value"],ij={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lj=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),nj=["value"],dj=(0,s._)("option",{value:"all",selected:""},"All",-1),wj=["value"],cj={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uj=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),pj=["value"],mj=(0,s._)("option",{value:"all",selected:""},"All",-1),gj=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),hj=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),fj=[mj,gj,hj],yj={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vj=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered From",-1),xj=["value"],bj={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_j=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered To",-1),kj=["value"],Cj={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Dj=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Sj=(0,s._)("span",null,"Clear",-1),zj=[Dj,Sj],Uj=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Pj=(0,s._)("span",null,"Filter",-1),Lj=[Uj,Pj];function Aj(t,e,r,a,o,i){(0,s.up)("DateFilter");const l=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",RR,[(0,s._)("div",jR,[(0,s.kq)("",!0),(0,s._)("div",NR,[MR,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,HR)]),(0,s._)("div",YR,[ZR,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,KR)]),(0,s._)("div",BR,[QR,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,GR)]),(0,s._)("div",JR,[XR,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,tj)]),(0,s.Wm)(l,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",ej,[rj,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[sj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,et.zw)(t.name),11,oj)))),128))],40,aj)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",ij,[lj,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,et.zw)(t.name),11,wj)))),128))],40,nj)]),(0,s._)("div",cj,[uj,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},fj,40,pj)]),(0,s._)("div",yj,[vj,(0,s._)("input",{value:r.filters.delivered_from,type:"date",onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,delivered_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xj)]),(0,s._)("div",bj,[_j,(0,s._)("input",{value:r.filters.delivered_to,type:"date",onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,delivered_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,kj)]),(0,s._)("div",Cj,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},zj),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Lj)])])])}const $j={class:"tw-text-sm tw-text-neutral-600"},qj=["onClick"];function Wj(t,e,r,a,o,i){const l=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",$j,(0,et.zw)(r.name),1),(0,s.Wm)(l,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),i.onDateRangePicked],onCleared:i.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,qj)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Ej={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Fo.Z)(new Date),(0,Vo.Z)(new Date)]},{label:"Last month",range:[(0,Fo.Z)((0,Ro.Z)(new Date,1)),(0,Vo.Z)((0,Ro.Z)(new Date,1))]},{label:"This year",range:[(0,jo.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Tj=(0,p.Z)(Ej,[["render",Wj]]);var Oj=Tj;const Ij={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Fj=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Vj=["value"],Rj=(0,s._)("option",{value:"all"},"All",-1),jj=(0,s._)("option",{value:""},"No Delivery",-1),Nj=["value"];function Mj(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Ij,[Fj,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Rj,jj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Nj)))),128))],40,Vj)])}var Hj={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Yj=(0,p.Z)(Hj,[["render",Mj]]);var Zj=Yj;const Kj={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Bj=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Qj=["value"],Gj=(0,s._)("option",{value:"all"},"All",-1),Jj=(0,s._)("option",{value:""},"No Agent",-1),Xj=["value"];function tN(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Kj,[Bj,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Gj,Jj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Xj)))),128))],40,Qj)])}var eN={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const rN=(0,p.Z)(eN,[["render",tN]]);var aN=rN;const sN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),iN=["value"],lN=(0,s._)("option",{value:"all"},"All",-1),nN=["value"];function dN(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",sN,[oN,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[lN,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,nN)))),128))],40,iN)])}var wN={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const cN=(0,p.Z)(wN,[["render",dN]]);var uN=cN,pN={components:{DateFilter:Oj,AffectationFilter:Zj,AgentFilter:aN,ProductFilter:uN},props:{filters:{required:!0,default:{}}},data(){return{confirmations:En,deliveries:Fn,dateFilter:["",""]}}};const mN=(0,p.Z)(pN,[["render",Aj]]);var gN=mN,hN={components:{IndexStatistics:LR,FiltersWrapper:gN,IndexExport:VR},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=lg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const fN=(0,p.Z)(hN,[["render",xR]]);var yN=fN;const vN={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},xN=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),bN={class:"tw-bg-white tw-p-4"},_N={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},kN={class:"tw-col-span-2 md:tw-col-span-1"},CN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),DN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},SN={class:"tw-col-span-2 md:tw-col-span-1"},zN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),UN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},PN={class:"tw-col-span-2 md:tw-col-span-1"},LN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),AN={class:"tw-relative"},$N=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),qN=["value"],WN=["value"],EN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),TN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ON={class:"tw-col-span-2 md:tw-col-span-1"},IN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),FN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VN={class:"tw-col-span-2"},RN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),jN={class:"tw-relative"},NN=["value"],MN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),HN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},ZN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),KN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},QN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),GN={class:"tw-col-span-2"},JN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),XN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tM={class:"md:tw-col-span-1 tw-col-span-2"},eM={class:"md:tw-col-span-1 tw-col-span-2"},rM=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),aM={class:"tw-relative"},sM=["value"],oM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iM={class:"tw-col-span-2"},lM={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},nM={key:0,class:"tw-text-red-400 tw-text-xs"},dM={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},wM=["disabled"],cM=(0,s._)("span",null,"Create",-1);function uM(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",vN,[xN,(0,s._)("div",bN,[(0,s._)("div",_N,[(0,s._)("div",kN,[CN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",DN,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",SN,[zN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",UN,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",PN,[LN,(0,s._)("div",AN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[$N,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,qN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,WN)))),128))],34),[[a.bM,i.itemCopy.city]]),EN]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",TN,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ON,[IN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",FN,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",VN,[RN,(0,s._)("div",jN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.confirmation=null),class:(0,et.C_)([[i.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,NN)))),128))],34),[[a.bM,i.itemCopy.confirmation]]),MN]),i.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",HN,(0,et.zw)(i.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",YN,[ZN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>i.errors.reported_agente_date=null),class:(0,et.C_)([[i.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.reported_agente_date]]),i.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",KN,(0,et.zw)(i.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",BN,[QN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",GN,[JN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",XN,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",tM,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",eM,[rM,(0,s._)("div",aM,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>i.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,sM)))),128))],512),[[a.bM,i.itemCopy.upsell]]),oM])]),(0,s._)("div",iM,[(0,s._)("label",lM,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",nM," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",dM,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>l.handleCreate&&l.handleCreate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cM],8,wM)])])])),_:1},8,["visible","onCancel"])])}const pM=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},mM=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},gM=(t,e)=>{t.isLoading=!0,t.errors={},eh.create(e).then((e=>pM(t,e.data))).catch((e=>mM(t,e.response.data))).finally((()=>t.isLoading=!1))};var hM={components:{OrderItems:hF,OrderAffectation:AF},props:{visible:{required:!0}},data(){return{confirmations:En,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=mI(this,this.itemCopy);if(!t)return!1;gM(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const fM=(0,p.Z)(hM,[["render",uM]]);var yM=fM;const vM={class:"tw-mb-4"},xM={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},bM={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},_M={class:"tw-flex tw-items-center tw-gap-2"},kM={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},CM=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),DM={class:"tw-flex tw-items-center tw-gap-2"},SM=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),zM=(0,s._)("span",null," Clear Selection ",-1),UM=[SM,zM],PM=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),LM=(0,s._)("span",null," Actions ",-1),AM=[PM,LM],$M={key:0};function qM(t,e,r,a,o,i){const l=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",vM,[(0,s._)("div",xM,[(0,s._)("div",bM,[(0,s._)("div",_M,[(0,s._)("div",kM,(0,et.zw)(r.selected.length),1),CM]),(0,s._)("div",DM,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},UM),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},AM)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",$M,[(0,s.Wm)(l,{selected:r.selected,onUpdate:i.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const WM={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},EM={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},TM=(0,s._)("span",null,"Quick Actions",-1),OM={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},IM={class:"tw-bg-white tw-p-4"},FM={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},VM={class:"tw-col-span-2 md:tw-col-span-1"},RM={key:0,class:"tw-col-span-2 md:tw-col-span-1"},jM={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},NM=(0,s._)("span",null,"Apply",-1);function MM(t,e,r,a,o,i){const l=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",WM,[(0,s._)("div",EM,[TM,(0,s._)("span",OM,(0,et.zw)(r.selected.length),1)]),(0,s._)("div",IM,[(0,s._)("div",FM,[(0,s._)("div",VM,[(0,s.Wm)(l,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",RM,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",jM,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>i.execute&&i.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),NM])])])])),_:1},8,["visible","closeable","onCancel"])])}const HM=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),YM={class:"tw-relative"},ZM=["value"],KM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function BM(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[HM,(0,s._)("div",YM,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.vaction=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,ZM)))),128))],512),[[a.bM,l.vaction]]),KM]),(0,s.kq)("",!0)])}var QM={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const GM=(0,p.Z)(QM,[["render",BM]]);var JM=GM;const XM=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),tH={class:"tw-relative"},eH=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),rH=["value"],aH=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function sH(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[XM,(0,s._)("div",tH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.vvalue=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[eH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,rH)))),128))],512),[[a.bM,l.vvalue]]),aH]),(0,s.kq)("",!0)])}var oH={props:{value:{required:!0}},data(){return{statuses:Fn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const iH=(0,p.Z)(oH,[["render",sH]]);var lH=iH;class nH{async execute(t){return await q.getCookie(),A.post("api/v1/bulk/execute",t)}}var dH=new nH,wH=(t,e)=>{t.isLoading=!0,dH.execute(e).then((e=>cH(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const cH=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var uH={components:{BulkSelectAction:JM,BulkDeliveryAction:lH},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};wH(this,t)}}};const pH=(0,p.Z)(uH,[["render",MM]]);var mH=pH,gH={components:{BulkPopup:mH},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const hH=(0,p.Z)(gH,[["render",qM]]);var fH=hH,yH={components:{IndexTable:NV,IndexFilters:yN,CreatePopup:yM,BulkActions:fH},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,eh.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const vH=(0,p.Z)(yH,[["render",qE]]);var xH=vH;const bH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},_H={class:"tw-px-3"},kH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},CH={class:"tw-flex tw-items-center tw-gap-x-3"},DH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),SH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},zH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),UH={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},PH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),LH=(0,s._)("span",null,"Create",-1),AH=[PH,LH],$H={class:"tw-overflow-hidden tw-col-span-1"},qH={key:0};function WH(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",bH,[(0,s._)("section",_H,[(0,s._)("div",kH,[(0,s._)("div",null,[(0,s._)("div",CH,[DH,(0,s._)("span",SH,(0,et.zw)(o.totalOrders)+" order",1)]),zH]),(0,s._)("div",UH,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},AH)])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",$H,[(0,s.Wm)(n,{onUpdate:i.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",qH,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var EH={components:{IndexTable:NV,IndexFilters:yN,CreatePopup:yM,BulkActions:fH},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,eh.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const TH=(0,p.Z)(EH,[["render",WH]]);var OH=TH;const IH={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},FH={class:"tw-px-3"},VH={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},RH={class:"tw-flex tw-items-center tw-gap-x-3"},jH=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),NH={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},MH=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),HH={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},YH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ZH=(0,s._)("span",null,"Create",-1),KH=[YH,ZH],BH={class:"tw-overflow-hidden tw-col-span-1"},QH={key:0};function GH(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",IH,[(0,s._)("section",FH,[(0,s._)("div",VH,[(0,s._)("div",null,[(0,s._)("div",RH,[jH,(0,s._)("span",NH,(0,et.zw)(o.totalOrders)+" order",1)]),MH]),(0,s._)("div",HH,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},KH)])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",BH,[(0,s.Wm)(n,{onUpdate:i.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",QH,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var JH={components:{IndexTable:NV,IndexFilters:yN,CreatePopup:yM,BulkActions:fH},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,eh.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const XH=(0,p.Z)(JH,[["render",GH]]);var tY=XH;const eY={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},rY={class:"tw-px-3"},aY={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},sY={class:"tw-flex tw-items-center tw-gap-x-3"},oY=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),iY={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},lY=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),nY={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},dY=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),wY=(0,s._)("span",null,"Create",-1),cY=[dY,wY],uY={class:"tw-overflow-hidden tw-col-span-1"},pY={key:0};function mY(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",eY,[(0,s._)("section",rY,[(0,s._)("div",aY,[(0,s._)("div",null,[(0,s._)("div",sY,[oY,(0,s._)("span",iY,(0,et.zw)(o.totalOrders)+" order",1)]),lY]),(0,s._)("div",nY,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},cY)])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",uY,[(0,s.Wm)(n,{onUpdate:i.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[4]||(e[4]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",pY,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const gY={class:"tw-flex tw-flex-col"},hY={class:"tw-overflow-x-auto"},fY={class:"tw-inline-block tw-min-w-full tw-align-middle"},yY={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},vY={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},xY={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},bY={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},_Y={class:"tw-max-w-[25px]"},kY={class:"tw-inline-flex tw-items-center"},CY={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},DY=["checked"],SY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),zY=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),UY={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},PY=(0,s._)("span",null,"Created",-1),LY=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),AY=[PY,LY],$Y=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),qY=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),WY=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),EY=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),TY=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),OY=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),IY=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),FY=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),VY={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},RY={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},jY=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),NY=[jY],MY={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},HY={colspan:"11"},YY={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},ZY=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),KY=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),BY=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),QY=[KY,BY],GY={class:"tw-mt-6"};function JY(t,e,r,a,o,i){const l=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gY,[(0,s._)("div",hY,[(0,s._)("div",fY,[(0,s._)("div",yY,[(0,s._)("table",vY,[(0,s._)("thead",xY,[(0,s._)("tr",null,[(0,s._)("th",bY,[(0,s._)("div",_Y,[(0,s._)("div",kY,[(0,s._)("label",CY,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>i.handleSelectedAllChange&&i.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,DY),SY])])])]),zY,(0,s._)("th",UY,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},AY)]),$Y,qY,WY,EY,TY,OY,IY,FY])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",VY,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(l,{selected:i.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>i.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",RY,NY)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",MY,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",HY,[(0,s._)("div",YY,[ZY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},QY)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",GY,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const XY={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},tZ={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},eZ={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},rZ={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},aZ=["disabled"],sZ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),oZ=(0,s._)("span",null," previous ",-1),iZ=[sZ,oZ],lZ=["disabled"],nZ=(0,s._)("span",null," Next ",-1),dZ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),wZ=[nZ,dZ];function cZ(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",XY,[(0,s._)("div",tZ,[(0,s.Uk)(" Page "),(0,s._)("span",eZ,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",rZ,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>i.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},iZ,10,aZ),(0,s._)("button",{disabled:r.currentPage>=i.totalPages,onClick:e[1]||(e[1]=t=>i.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=i.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},wZ,10,lZ)])])])}var uZ={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const pZ=(0,p.Z)(uZ,[["render",cZ]]);var mZ=pZ;const gZ={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hZ={class:"tw-max-w-[25px]"},fZ={class:"tw-inline-flex tw-items-center"},yZ={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},vZ=["checked","id"],xZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),bZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_Z={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},kZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},CZ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},DZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},SZ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},zZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UZ={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},PZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},LZ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},AZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$Z={class:"tw-space-y-1"},qZ={class:"tw-font-bold tw-text-green-500"},WZ={class:"tw-block tw-max-w-[150px] tw-truncate"},EZ={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},TZ={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},OZ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},IZ={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},FZ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},VZ={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function RZ(t,e,r,a,o,i){const l=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,et.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",gZ,[(0,s._)("div",hZ,[(0,s._)("div",fZ,[(0,s._)("label",yZ,[(0,s._)("input",{type:"checkbox",checked:i.isSelected,onChange:e[0]||(e[0]=(...t)=>i.handleSelected&&i.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,vZ),xZ])])])]),(0,s._)("td",bZ,[(0,s._)("div",null,[(0,s._)("h2",_Z,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",kZ,[(0,s._)("div",null,[(0,s._)("h2",CZ,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",DZ,[(0,s._)("div",null,[(0,s._)("h2",SZ,(0,et.zw)(r.item.fullname),1)])]),(0,s._)("td",zZ,[(0,s._)("div",null,[(0,s._)("h2",UZ,(0,et.zw)(r.item.city),1)])]),(0,s._)("td",PZ,[(0,s._)("div",null,[(0,s._)("h2",LZ,(0,et.zw)(r.item.phone),1)])]),(0,s._)("td",AZ,[(0,s._)("div",null,[(0,s._)("ul",$Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",qZ,(0,et.zw)(t.quantity)+" x ",1),(0,s._)("span",WZ,(0,et.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",EZ,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",TZ,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",OZ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[i.confirmation.bgLight,i.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(i.confirmation.name),3)])]),(0,s._)("td",IZ,[(0,s._)("div",null,[(0,s.Wm)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",FZ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[i.deliveryState.bgLight,i.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(i.deliveryState.value?i.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",VZ,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const jZ={class:"tw-h-full"},NZ={class:"tw-flex tw-items-center tw-gap-2"},MZ=["href"],HZ={key:0};function YZ(t,e,r,a,o,i){const l=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",jZ,[(0,s._)("div",NZ,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,MZ),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",HZ,[(0,s.Wm)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[2]||(e[2]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const ZZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},KZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),BZ={class:"tw-bg-white tw-p-4"},QZ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},GZ={class:"tw-col-span-2 md:tw-col-span-1"},JZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),XZ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tK={class:"tw-col-span-2 md:tw-col-span-1"},eK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),rK={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aK={class:"tw-col-span-2 md:tw-col-span-1"},sK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),oK={class:"tw-relative"},iK=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),lK=["value"],nK=["value"],dK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wK={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cK={class:"tw-col-span-2 md:tw-col-span-1"},uK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),pK={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mK={class:"tw-col-span-2"},gK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),hK={class:"tw-relative"},fK=["value"],yK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vK={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xK={key:0,class:"md:tw-col-span-1 tw-col-span-2"},bK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),_K={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kK={key:1,class:"md:tw-col-span-1 tw-col-span-2"},CK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),DK={class:"tw-col-span-2"},SK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),zK={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},UK={class:"md:tw-col-span-1 tw-col-span-2"},PK={class:"md:tw-col-span-1 tw-col-span-2"},LK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),AK={class:"tw-relative"},$K=["value"],qK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WK={class:"tw-col-span-2"},EK={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},TK={key:0,class:"tw-text-red-400 tw-text-xs"},OK={key:3,class:"tw-col-span-2"},IK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},FK=["disabled"],VK=(0,s._)("span",null,"Update",-1);function RK(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ZZ,[KZ,(0,s._)("div",BZ,[(0,s._)("div",QZ,[(0,s._)("div",GZ,[JZ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",XZ,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",tK,[eK,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",rK,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",aK,[sK,(0,s._)("div",oK,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[iK,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,lK),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,nK)))),128))],34),[[a.bM,i.itemCopy.city]]),dK]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",wK,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",cK,[uK,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",pK,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",mK,[gK,(0,s._)("div",hK,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.followup_confirmation=null),class:(0,et.C_)([[i.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,fK)))),128))],34),[[a.bM,i.itemCopy.followup_confirmation]]),yK]),i.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",vK,(0,et.zw)(i.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",xK,[bK,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>i.errors.followup_reported_date=null),class:(0,et.C_)([[i.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.followup_reported_date]]),i.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",_K,(0,et.zw)(i.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",kK,[CK,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",DK,[SK,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",zK,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",UK,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",PK,[LK,(0,s._)("div",AK,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>i.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,$K)))),128))],512),[[a.bM,i.itemCopy.upsell]]),qK])]),(0,s._)("div",WK,[(0,s._)("label",EK,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",TK," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),i.products_fetched?((0,s.wg)(),(0,s.iD)("div",OK,[(0,s.Wm)(w,{products:i.products,item:i.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",IK,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>l.handleUpdate&&l.handleUpdate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),VK],8,FK)])])])),_:1},8,["visible","onCancel"])])}const jK=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!NK(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),NK=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},MK=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},HK=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},YK=(t,e)=>{t.isLoading=!0,t.errors={},eh.update(e.id,e).then((e=>MK(t,e.data))).catch((e=>HK(t,e.response.data))).finally((()=>t.isLoading=!1))},ZK={key:0},KK=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),BK={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},QK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),GK=(0,s._)("span",null,"Add Item",-1),JK=[QK,GK],XK={key:1,class:"md:tw-col-span-12 tw-col-span-12"},tB={class:"tw-max-w-full tw-overflow-auto"},eB={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},rB={class:"tw-bg-gray-50"},aB={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},sB={key:0},oB={colspan:"6"},iB={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},lB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),nB=(0,s._)("span",null,"Add Item",-1),dB=[lB,nB],wB=(0,s._)("td",{colspan:"4"},null,-1),cB=(0,s._)("td",null,null,-1),uB={colspan:"1",class:"tw-p-2"},pB={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},mB={key:1},gB={colspan:"6"},hB={class:"tw-scale-75 tw-p-5"};function fB(t,e,r,a,o,i){const l=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZK,[KK,(0,s._)("div",BK,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},JK)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",XK,[(0,s._)("div",tB,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",eB,[(0,s._)("tr",rB,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",aB,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",sB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,item:t,products:r.products,onDelete:i.deleteItem,onUpdate:i.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",oB,[(0,s._)("div",iB,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},dB)])])]),(0,s._)("tr",null,[wB,cB,(0,s._)("td",uB,[(0,s._)("div",pB,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(i.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",mB,[(0,s._)("tr",null,[(0,s._)("td",gB,[(0,s._)("div",hB,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const yB=(0,s._)("td",null,null,-1),vB={class:"tw-p-2"},xB={class:"tw-relative"},bB=["value"],_B=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),kB=["value"],CB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),DB={class:"tw-p-2"},SB={key:0,class:"tw-relative"},zB=["value"],UB=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),PB=["value"],LB={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},AB=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),$B=[AB],qB={class:"tw-p-2"},WB=["value"],EB={class:"tw-p-2"},TB=["value"],OB={class:"tw-flex tw-justify-center"};function IB(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("tr",null,[yB,(0,s._)("td",null,[(0,s._)("div",vB,[(0,s._)("div",xB,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>i.handleProductChange&&i.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[_B,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,kB)))),128))],40,bB),CB])])]),(0,s._)("td",null,[(0,s._)("div",DB,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",SB,[i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>i.handleVariationChange&&i.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[UB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,PB)))),128))],40,zB)):(0,s.kq)("",!0),i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",LB,$B)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",qB,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,WB)])]),(0,s._)("td",null,[(0,s._)("div",EB,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,TB)])]),(0,s._)("td",null,[(0,s._)("div",OB,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>i.handleDelete&&i.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var FB={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const VB=(0,p.Z)(FB,[["render",IB]]);var RB=VB,jB={components:{ItemRow:RB},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const NB=(0,p.Z)(jB,[["render",fB]]);var MB=NB;const HB=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),YB={key:0,class:"tw-relative"},ZB=["value","disabled"],KB=(0,s._)("option",{value:""},"Choose a Delivery",-1),BB=["value"],QB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),GB={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JB={key:2,class:"tw-relative"},XB={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},tQ=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),eQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function rQ(t,e,r,a,o,i){const l=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[HB,o.fetched?((0,s.wg)(),(0,s.iD)("div",YB,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>i.handleChange&&i.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,et.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[KB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,BB)))),128))],42,ZB),QB])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",GB,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JB,[(0,s._)("div",XB,[(0,s.Wm)(l)]),tQ,eQ]))])}var aQ={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const sQ=(0,p.Z)(aQ,[["render",rQ]]);var oQ=sQ;const iQ={key:0},lQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),nQ={class:"md:tw-col-span-12 tw-col-span-12"},dQ={class:"tw-max-w-full tw-overflow-auto"},wQ={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},cQ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),uQ={class:"tw-px-3 tw-py-2"},pQ={class:"tw-px-3 tw-py-2"},mQ={class:"tw-px-3 tw-py-2"},gQ={class:"tw-px-3 tw-py-2"},hQ={class:"tw-max-w-[250px] tw-text-sm"};function fQ(t,e,r,a,o,i){return i.offers.length?((0,s.wg)(),(0,s.iD)("div",iQ,[lQ,(0,s._)("div",nQ,[(0,s._)("div",dQ,[(0,s._)("table",wQ,[cQ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",uQ,(0,et.zw)(i.getProduct(t.product_id)?.name),1),(0,s._)("td",pQ,(0,et.zw)(t.quantity),1),(0,s._)("td",mQ,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",gQ,[(0,s._)("p",hQ,(0,et.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var yQ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const vQ=(0,p.Z)(yQ,[["render",fQ]]);var xQ=vQ,bQ={components:{OrderItems:MB,OrderAffectation:oQ,ProductOffersTable:xQ},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:On,deliveryStatus:Fn,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=jK(this,this.itemCopy);if(!t)return!1;YK(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const _Q=(0,p.Z)(bQ,[["render",RK]]);var kQ=_Q,CQ={components:{UpdatePopup:kQ},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const DQ=(0,p.Z)(CQ,[["render",YZ]]);var SQ=DQ;const zQ={key:0},UQ={key:0,class:"tw-relative tw-inline-block tw-text-left"},PQ={key:0},LQ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),AQ=[LQ],$Q={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},qQ={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},WQ=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),EQ=[WQ],TQ={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},OQ={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},IQ={class:"tw-py-1",role:"none"},FQ=["onClick"],VQ={key:1},RQ={class:"tw-p-2 tw-scale-75"};function jQ(t,e,r,a,o,i){const l=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",zQ,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",UQ,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[i.selected.id?((0,s.wg)(),(0,s.iD)("div",PQ,AQ)):(0,s.kq)("",!0),(0,s._)("p",$Q,(0,et.zw)(i.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",qQ,EQ)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",TQ,(0,et.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(qt.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",OQ,[(0,s._)("div",IQ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>i.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,et.zw)(t.name),1)],8,FQ)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,i.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",VQ,[(0,s._)("div",RQ,[(0,s.Wm)(l)])]))])):(0,s.kq)("",!0)}var NQ={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};YK(this,e,!1)}}};const MQ=(0,p.Z)(NQ,[["render",jQ]]);var HQ=MQ,YQ={components:{TableActions:SQ,TableRowAffectation:HQ},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:lg()}},computed:{confirmation(){return En.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const ZQ=(0,p.Z)(YQ,[["render",RZ]]);var KQ=ZQ,BQ={components:{TablePaginationNoNums:mZ,TableRow:KQ},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const QQ=(0,p.Z)(BQ,[["render",JY]]);var GQ=QQ;const JQ={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},XQ={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},tG=["disabled"],eG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),rG=[eG],aG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),sG=[aG],oG=["disabled"],iG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),lG=[iG],nG={class:"tw-relative"},dG=["value"],wG=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),cG=[wG],uG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pG={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},mG=["value"],gG={class:"tw-overflow-hidden tw-col-span-1"},hG={class:"tw-overflow-hidden tw-col-span-1"};function fG(t,e,r,o,i,l){const n=(0,s.up)("FiltersWrapper"),d=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",JQ,[(0,s._)("div",XQ,[(0,s._)("button",{class:(0,et.C_)([[i.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:i.showAll,onClick:e[0]||(e[0]=t=>l.filterToday(!1))}," View all ",10,tG),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>i.showFilters=!i.showFilters),class:(0,et.C_)([[i.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},rG,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>i.showStatistics=!i.showStatistics),class:(0,et.C_)([[i.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},sG,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lG,8,oG),(0,s.kq)("",!0),(0,s._)("div",nG,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>l.handlePerPageChange&&l.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},cG,40,dG),uG])]),(0,s._)("div",pG,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,mG),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[i.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",gG,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,et.C_)([[i.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",hG,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const yG={class:"tw-mb-4"},vG={class:"tw-grid tw-grid-cols-12 tw-gap-4"},xG={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},bG={class:"tw-flex tw-items-center tw-justify-between"},_G={class:"tw-text-xl tw-font-bold tw-text-gray-900"},kG={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function CG(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",yG,[(0,s._)("div",vG,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",xG,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[i.getConfirmation(t.confirmation).textLight,i.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",bG,[(0,s._)("span",_G,(0,et.zw)(t.total),1),(0,s._)("span",kG,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var DG={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return En.find((e=>e.value==t))}}};const SG=(0,p.Z)(DG,[["render",CG]]);var zG=SG;const UG={class:"tw-mb-4"},PG={class:"tw-flex tw-items-center tw-gap-2"},LG=["disabled"],AG=(0,s._)("span",null,"Select Filtered",-1),$G={class:"tw-flex tw-justify-end"},qG=["disabled"];function WG(t,e,r,a,o,i){const l=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",UG,[(0,s._)("div",PG,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.handleExportFiltered&&i.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),AG],8,LG)]),(0,s._)("div",$G,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,et.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(l,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,qG)])])}var EG={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,eh["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const TG=(0,p.Z)(EG,[["render",WG]]);var OG=TG;const IG={class:"tw-mb-4"},FG={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},VG={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RG=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),jG=["value"],NG=(0,s._)("option",{value:"all",selected:""},"All",-1),MG=["value"],HG={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YG=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),ZG=["value"],KG=(0,s._)("option",{value:"all",selected:""},"All",-1),BG=["value"],QG={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},GG=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),JG=(0,s._)("span",null,"Clear",-1),XG=[GG,JG],tJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),eJ=(0,s._)("span",null,"Filter",-1),rJ=[tJ,eJ];function aJ(t,e,r,a,o,i){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const l=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",IG,[(0,s._)("div",FG,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",VG,[RG,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[NG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,et.zw)(t.name),11,MG)))),128))],40,jG)]),(0,s.Wm)(l,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",HG,[YG,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[KG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,et.zw)(t.name),11,BG)))),128))],40,ZG)]),(0,s.kq)("",!0),(0,s._)("div",QG,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},XG),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},rJ)])])])}const sJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),iJ=["value"],lJ=(0,s._)("option",{value:"all"},"All",-1),nJ=(0,s._)("option",{value:""},"No Delivery",-1),dJ=["value"];function wJ(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",sJ,[oJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[lJ,nJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,dJ)))),128))],40,iJ)])}var cJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const uJ=(0,p.Z)(cJ,[["render",wJ]]);var pJ=uJ;const mJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),hJ=["value"],fJ=(0,s._)("option",{value:"all"},"All",-1),yJ=(0,s._)("option",{value:""},"No Agent",-1),vJ=["value"];function xJ(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",mJ,[gJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[fJ,yJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,vJ)))),128))],40,hJ)])}var bJ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _J=(0,p.Z)(bJ,[["render",xJ]]);var kJ=_J;const CJ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DJ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),SJ=["value"],zJ=(0,s._)("option",{value:"all"},"All",-1),UJ=["value"];function PJ(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",CJ,[DJ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[zJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,UJ)))),128))],40,SJ)])}var LJ={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const AJ=(0,p.Z)(LJ,[["render",PJ]]);var $J=AJ,qJ={components:{AffectationFilter:pJ,AgentFilter:kJ,ProductFilter:$J},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:On,deliveries:Fn,dateFilter:["",""]}}};const WJ=(0,p.Z)(qJ,[["render",aJ]]);var EJ=WJ,TJ={components:{IndexStatistics:zG,FiltersWrapper:EJ,IndexExport:OG},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=lg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const OJ=(0,p.Z)(TJ,[["render",fG]]);var IJ=OJ;const FJ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},VJ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),RJ={class:"tw-bg-white tw-p-4"},jJ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},NJ={class:"tw-col-span-2 md:tw-col-span-1"},MJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),HJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YJ={class:"tw-col-span-2 md:tw-col-span-1"},ZJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),KJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BJ={class:"tw-col-span-2 md:tw-col-span-1"},QJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),GJ={class:"tw-relative"},JJ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),XJ=["value"],tX=["value"],eX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rX={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aX={class:"tw-col-span-2 md:tw-col-span-1"},sX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),oX={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iX={class:"tw-col-span-2"},lX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),nX={class:"tw-relative"},dX=["value"],wX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cX={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uX={key:0,class:"md:tw-col-span-1 tw-col-span-2"},pX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),mX={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gX={key:1,class:"md:tw-col-span-1 tw-col-span-2"},hX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),fX={class:"tw-col-span-2"},yX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),vX={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xX={class:"md:tw-col-span-1 tw-col-span-2"},bX={class:"md:tw-col-span-1 tw-col-span-2"},_X=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),kX={class:"tw-relative"},CX=["value"],DX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),SX={class:"tw-col-span-2"},zX={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},UX={key:0,class:"tw-text-red-400 tw-text-xs"},PX={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},LX=["disabled"],AX=(0,s._)("span",null,"Create",-1);function $X(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",FJ,[VJ,(0,s._)("div",RJ,[(0,s._)("div",jJ,[(0,s._)("div",NJ,[MJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",HJ,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",YJ,[ZJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",KJ,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",BJ,[QJ,(0,s._)("div",GJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[JJ,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,XJ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,tX)))),128))],34),[[a.bM,i.itemCopy.city]]),eX]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",rX,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",aX,[sX,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",oX,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",iX,[lX,(0,s._)("div",nX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.followup_confirmation=null),class:(0,et.C_)([[i.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,dX)))),128))],34),[[a.bM,i.itemCopy.followup_confirmation]]),wX]),i.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",cX,(0,et.zw)(i.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",uX,[pX,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>i.errors.followup_reported_date=null),class:(0,et.C_)([[i.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.followup_reported_date]]),i.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",mX,(0,et.zw)(i.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",gX,[hX,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",fX,[yX,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",vX,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",xX,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",bX,[_X,(0,s._)("div",kX,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>i.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,CX)))),128))],512),[[a.bM,i.itemCopy.upsell]]),DX])]),(0,s._)("div",SX,[(0,s._)("label",zX,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",UX," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",PX,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>l.handleCreate&&l.handleCreate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),AX],8,LX)])])])),_:1},8,["visible","onCancel"])])}const qX=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},WX=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},EX=(t,e)=>{t.isLoading=!0,t.errors={},Xi.create(e).then((e=>qX(t,e.data))).catch((e=>WX(t,e.response.data))).finally((()=>t.isLoading=!1))};var TX={components:{OrderItems:MB,OrderAffectation:oQ},props:{visible:{required:!0}},data(){return{followup_confirmations:On,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=jK(this,this.itemCopy);if(!t)return!1;EX(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const OX=(0,p.Z)(TX,[["render",$X]]);var IX=OX,FX={components:{IndexTable:GQ,IndexFilters:IJ,CreatePopup:IX,BulkActions:fH},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Xi.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const VX=(0,p.Z)(FX,[["render",mY]]);var RX=VX,jX={name:"sales",path:"/sales",component:da,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:vE,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:xH,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:OH,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:tY,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:RX,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const NX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},MX={class:"tw-px-3"},HX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},YX={class:"tw-flex tw-items-center tw-gap-x-3"},ZX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),KX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},BX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),QX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},GX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),JX=(0,s._)("span",null,"Create",-1),XX=[GX,JX],t0={key:0};function e0(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",NX,[(0,s._)("section",MX,[(0,s._)("div",HX,[(0,s._)("div",null,[(0,s._)("div",YX,[ZX,(0,s._)("span",KX,(0,et.zw)(o.totalOrders)+" order",1)]),BX]),(0,s._)("div",QX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XX)])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>i.handlePerPageChange(o.per_page)),onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",t0,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const r0={class:"tw-flex tw-flex-col"},a0={class:"tw-overflow-x-auto"},s0={class:"tw-inline-block tw-min-w-full tw-align-middle"},o0={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},i0={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},l0={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},n0=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),d0={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},w0=(0,s._)("span",null,"Created",-1),c0=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),u0=[w0,c0],p0=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),m0=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),g0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),h0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),f0=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),y0=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),v0={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},x0={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},b0=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),_0=[b0],k0={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},C0={colspan:"8"},D0={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},S0=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),z0=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),U0=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),P0=[z0,U0],L0={class:"tw-mt-6"};function A0(t,e,r,a,o,i){const l=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r0,[(0,s._)("div",a0,[(0,s._)("div",s0,[(0,s._)("div",o0,[(0,s._)("table",i0,[(0,s._)("thead",l0,[(0,s._)("tr",null,[n0,(0,s._)("th",d0,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},u0)]),p0,m0,g0,h0,f0,y0])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",v0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",x0,_0)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",k0,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",C0,[(0,s._)("div",D0,[S0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},P0)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",L0,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const $0={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},q0={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},W0={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},E0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},T0=["disabled"],O0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),I0=(0,s._)("span",null," previous ",-1),F0=[O0,I0],V0=["disabled"],R0=(0,s._)("span",null," Next ",-1),j0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),N0=[R0,j0];function M0(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$0,[(0,s._)("div",q0,[(0,s.Uk)(" Page "),(0,s._)("span",W0,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",E0,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>i.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},F0,10,T0),(0,s._)("button",{disabled:r.currentPage>=i.totalPages,onClick:e[1]||(e[1]=t=>i.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=i.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},N0,10,V0)])])])}var H0={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Y0=(0,p.Z)(H0,[["render",M0]]);var Z0=Y0;const K0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},B0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Q0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},G0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},J0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},X0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},t1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},e1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},r1={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a1={class:"tw-space-y-1"},s1={class:"tw-font-bold tw-text-green-500"},o1={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},i1={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},l1={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},n1={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},d1=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),w1={key:1},c1={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function u1(t,e,r,a,o,i){const l=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",K0,[(0,s._)("div",null,[(0,s._)("h2",B0,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",Q0,[(0,s._)("div",null,[(0,s._)("h2",G0,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",J0,[(0,s._)("div",null,[(0,s._)("h2",X0,(0,et.zw)(r.item.fullname),1)])]),(0,s._)("td",t1,[(0,s._)("div",null,[(0,s._)("h2",e1,(0,et.zw)(r.item.phone),1)])]),(0,s._)("td",r1,[(0,s._)("div",null,[(0,s._)("ul",a1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",s1,(0,et.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,et.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",o1,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",i1,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",l1,[(0,s._)("span",{class:(0,et.C_)([[i.confirmation.bgLight,i.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(i.confirmation.name),3)]),(0,s._)("td",n1,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[d1,(0,s._)("span",null,(0,et.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",w1,[(0,s._)("span",{class:(0,et.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",c1,[(0,s._)("div",null,[(0,s.Wm)(l,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const p1={class:"tw-h-full"},m1={class:"tw-flex tw-items-center tw-gap-2"},g1=["href"],h1={key:0};function f1(t,e,r,a,o,i){const l=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",p1,[(0,s._)("div",m1,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,g1),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",h1,[(0,s.Wm)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const y1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},v1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),x1={class:"tw-bg-white tw-p-4"},b1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},_1={class:"tw-col-span-2 md:tw-col-span-1"},k1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),C1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D1={class:"tw-col-span-2 md:tw-col-span-1"},S1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),z1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U1={class:"tw-col-span-2 md:tw-col-span-1"},P1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),L1={class:"tw-relative"},A1=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),$1=["value"],q1=["value"],W1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),E1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T1={class:"tw-col-span-2 md:tw-col-span-1"},O1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),I1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},F1={class:"tw-col-span-2"},V1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),R1={class:"tw-relative"},j1=["value"],N1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),M1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H1={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Y1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Z1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K1={key:1,class:"md:tw-col-span-1 tw-col-span-2"},B1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Q1={class:"tw-col-span-2"},G1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),J1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X1={class:"md:tw-col-span-1 tw-col-span-2"},t2={class:"md:tw-col-span-1 tw-col-span-2"},e2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),r2={class:"tw-relative"},a2=["value"],s2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),o2={class:"tw-col-span-2"},i2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},l2={key:0,class:"tw-text-red-400 tw-text-xs"},n2={key:2,class:"tw-col-span-2"},d2={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},w2=["disabled"],c2=(0,s._)("span",null,"Update",-1);function u2(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",y1,[v1,(0,s._)("div",x1,[(0,s._)("div",b1,[(0,s._)("div",_1,[k1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",C1,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",D1,[S1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",z1,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",U1,[P1,(0,s._)("div",L1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[A1,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,$1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,q1)))),128))],34),[[a.bM,i.itemCopy.city]]),W1]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",E1,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",T1,[O1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",I1,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",F1,[V1,(0,s._)("div",R1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.confirmation=null),class:(0,et.C_)([[i.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,j1)))),128))],34),[[a.bM,i.itemCopy.confirmation]]),N1]),i.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",M1,(0,et.zw)(i.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",H1,[Y1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>i.errors.reported_agente_date=null),class:(0,et.C_)([[i.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.reported_agente_date]]),i.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Z1,(0,et.zw)(i.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",K1,[B1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Q1,[G1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",J1,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",X1,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",t2,[e2,(0,s._)("div",r2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>i.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,a2)))),128))],512),[[a.bM,i.itemCopy.upsell]]),s2])]),(0,s._)("div",o2,[(0,s._)("label",i2,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",l2," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),i.products_fetched?((0,s.wg)(),(0,s.iD)("div",n2,[(0,s.Wm)(w,{products:i.products,item:i.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",d2,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>l.handleUpdate&&l.handleUpdate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),c2],8,w2)])])])),_:1},8,["visible","onCancel"])])}const p2=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!m2(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),m2=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},g2=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},h2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},f2=(t,e)=>{t.isLoading=!0,t.errors={},E.update(e.id,e).then((e=>g2(t,e.data))).catch((e=>h2(t,e.response.data))).finally((()=>t.isLoading=!1))},y2={key:0},v2=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),x2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},b2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_2=(0,s._)("span",null,"Add Item",-1),k2=[b2,_2],C2={key:1,class:"md:tw-col-span-12 tw-col-span-12"},D2={class:"tw-max-w-full tw-overflow-auto"},S2={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},z2={class:"tw-bg-gray-50"},U2={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},P2={key:0},L2={colspan:"6"},A2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},$2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),q2=(0,s._)("span",null,"Add Item",-1),W2=[$2,q2],E2=(0,s._)("td",{colspan:"4"},null,-1),T2=(0,s._)("td",null,null,-1),O2={colspan:"1",class:"tw-p-2"},I2={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},F2={key:1},V2={colspan:"6"},R2={class:"tw-scale-75 tw-p-5"};function j2(t,e,r,a,o,i){const l=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",y2,[v2,(0,s._)("div",x2,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},k2)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",C2,[(0,s._)("div",D2,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",S2,[(0,s._)("tr",z2,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",U2,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",P2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,item:t,products:r.products,onDelete:i.deleteItem,onUpdate:i.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",L2,[(0,s._)("div",A2,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},W2)])])]),(0,s._)("tr",null,[E2,T2,(0,s._)("td",O2,[(0,s._)("div",I2,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(i.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",F2,[(0,s._)("tr",null,[(0,s._)("td",V2,[(0,s._)("div",R2,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const N2=(0,s._)("td",null,null,-1),M2={class:"tw-p-2"},H2={class:"tw-relative"},Y2=["value"],Z2=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),K2=["value"],B2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q2={class:"tw-p-2"},G2={key:0,class:"tw-relative"},J2=["value"],X2=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),t5=["value"],e5={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},r5=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),a5=[r5],s5={class:"tw-p-2"},o5=["value"],i5={class:"tw-p-2"},l5=["value"],n5={class:"tw-flex tw-justify-center"};function d5(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("tr",null,[N2,(0,s._)("td",null,[(0,s._)("div",M2,[(0,s._)("div",H2,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>i.handleProductChange&&i.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Z2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,K2)))),128))],40,Y2),B2])])]),(0,s._)("td",null,[(0,s._)("div",Q2,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",G2,[i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>i.handleVariationChange&&i.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[X2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,t5)))),128))],40,J2)):(0,s.kq)("",!0),i.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",e5,a5)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",s5,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,o5)])]),(0,s._)("td",null,[(0,s._)("div",i5,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,l5)])]),(0,s._)("td",null,[(0,s._)("div",n5,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>i.handleDelete&&i.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var w5={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const c5=(0,p.Z)(w5,[["render",d5]]);var u5=c5,p5={components:{ItemRow:u5},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const m5=(0,p.Z)(p5,[["render",j2]]);var g5=m5;const h5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),f5={key:0,class:"tw-relative"},y5=["value","disabled"],v5=(0,s._)("option",{value:""},"Choose a Delivery",-1),x5=["value"],b5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_5={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k5={key:2,class:"tw-relative"},C5={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},D5=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),S5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function z5(t,e,r,a,o,i){const l=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[h5,o.fetched?((0,s.wg)(),(0,s.iD)("div",f5,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>i.handleChange&&i.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,et.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[v5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,x5)))),128))],42,y5),b5])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",_5,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",k5,[(0,s._)("div",C5,[(0,s.Wm)(l)]),D5,S5]))])}var U5={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const P5=(0,p.Z)(U5,[["render",z5]]);var L5=P5;const A5={key:0},$5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),q5={class:"md:tw-col-span-12 tw-col-span-12"},W5={class:"tw-max-w-full tw-overflow-auto"},E5={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},T5=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),O5={class:"tw-px-3 tw-py-2"},I5={class:"tw-px-3 tw-py-2"},F5={class:"tw-px-3 tw-py-2"},V5={class:"tw-px-3 tw-py-2"},R5={class:"tw-max-w-[250px] tw-text-sm"};function j5(t,e,r,a,o,i){return i.offers.length?((0,s.wg)(),(0,s.iD)("div",A5,[$5,(0,s._)("div",q5,[(0,s._)("div",W5,[(0,s._)("table",E5,[T5,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",O5,(0,et.zw)(i.getProduct(t.product_id)?.name),1),(0,s._)("td",I5,(0,et.zw)(t.quantity),1),(0,s._)("td",F5,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",V5,[(0,s._)("p",R5,(0,et.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var N5={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const M5=(0,p.Z)(N5,[["render",j5]]);var H5=M5,Y5={components:{OrderItems:g5,OrderAffectation:L5,ProductOffersTable:H5},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:En,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=p2(this,this.itemCopy);if(!t)return!1;f2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Z5=(0,p.Z)(Y5,[["render",u2]]);var K5=Z5,B5={components:{UpdatePopup:K5},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const Q5=(0,p.Z)(B5,[["render",f1]]);var G5=Q5,J5={components:{TableActions:G5},props:{item:{required:!0}},data(){return{moment:lg()}},computed:{confirmation(){return En.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fn.find((t=>t.value==this.item.delivery))}},methods:{}};const X5=(0,p.Z)(J5,[["render",u1]]);var t4=X5,e4={components:{TablePaginationNoNums:Z0,TableRow:t4},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const r4=(0,p.Z)(e4,[["render",A0]]);var a4=r4;const s4={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},o4=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),i4={class:"tw-bg-white tw-p-4"},l4={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},n4={class:"tw-col-span-2 md:tw-col-span-1"},d4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),w4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c4={class:"tw-col-span-2 md:tw-col-span-1"},u4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),p4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},m4={class:"tw-col-span-2 md:tw-col-span-1"},g4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),h4={class:"tw-relative"},f4=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),y4=["value"],v4=["value"],x4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),b4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_4={class:"tw-col-span-2 md:tw-col-span-1"},k4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),C4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D4={class:"tw-col-span-2"},S4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),z4={class:"tw-relative"},U4=["value"],P4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),L4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A4={key:0,class:"md:tw-col-span-1 tw-col-span-2"},$4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),q4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W4={key:1,class:"md:tw-col-span-1 tw-col-span-2"},E4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),T4={class:"tw-col-span-2"},O4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),I4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},F4={class:"md:tw-col-span-1 tw-col-span-2"},V4={class:"tw-col-span-2"},R4={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},j4={key:0,class:"tw-text-red-400 tw-text-xs"},N4={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},M4=["disabled"],H4=(0,s._)("span",null,"Create",-1);function Y4(t,e,r,o,i,l){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",s4,[o4,(0,s._)("div",i4,[(0,s._)("div",l4,[(0,s._)("div",n4,[d4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>i.errors.fullname=null),type:"text",class:(0,et.C_)([[i.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,i.itemCopy.fullname]]),i.errors.fullname?((0,s.wg)(),(0,s.iD)("label",w4,(0,et.zw)(i.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",c4,[u4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>i.errors.phone=null),class:(0,et.C_)([[i.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,i.itemCopy.phone]]),i.errors.phone?((0,s.wg)(),(0,s.iD)("label",p4,(0,et.zw)(i.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",m4,[g4,(0,s._)("div",h4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.itemCopy.city=t),onChange:e[5]||(e[5]=t=>i.errors.city=null),class:(0,et.C_)([[i.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[f4,(0,s._)("option",{value:i.itemCopy.city,disabled:""},(0,et.zw)(i.itemCopy.city),9,y4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,v4)))),128))],34),[[a.bM,i.itemCopy.city]]),x4]),i.errors.city?((0,s.wg)(),(0,s.iD)("label",b4,(0,et.zw)(i.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",_4,[k4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>i.errors.adresse=null),class:(0,et.C_)([[i.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,i.itemCopy.adresse]]),i.errors.adresse?((0,s.wg)(),(0,s.iD)("label",C4,(0,et.zw)(i.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",D4,[S4,(0,s._)("div",z4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>i.errors.confirmation=null),class:(0,et.C_)([[i.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,U4)))),128))],34),[[a.bM,i.itemCopy.confirmation]]),P4]),i.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",L4,(0,et.zw)(i.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",A4,[$4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>i.errors.reported_agente_date=null),class:(0,et.C_)([[i.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.itemCopy.reported_agente_date]]),i.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",q4,(0,et.zw)(i.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==i.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",W4,[E4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>i.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,i.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",T4,[O4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>i.itemCopy.note=t),onInput:e[14]||(e[14]=t=>i.errors.note=null),class:(0,et.C_)([[i.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,i.itemCopy.note]]),i.errors.note?((0,s.wg)(),(0,s.iD)("label",I4,(0,et.zw)(i.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",F4,[(0,s.Wm)(n,{item:i.itemCopy,error:i.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>i.errors.affectation=t),affectation:i.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>i.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",V4,[(0,s._)("label",R4,[(0,s.Uk)("Order Items "),i.errors.items?((0,s.wg)(),(0,s.iD)("span",j4," # "+(0,et.zw)(i.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:i.itemCopy,error:i.errors.items,products:i.products,"products-fetched":i.products_fetched,items:i.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>i.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",N4,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>l.handleCreate&&l.handleCreate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),H4],8,M4)])])])),_:1},8,["visible","onCancel"])])}const Z4=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},K4=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},B4=(t,e)=>{t.isLoading=!0,t.errors={},E.create(e).then((e=>Z4(t,e.data))).catch((e=>K4(t,e.response.data))).finally((()=>t.isLoading=!1))};var Q4={components:{OrderItems:g5,OrderAffectation:L5},props:{visible:{required:!0}},data(){return{confirmations:Tn,upsells:In,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=p2(this,this.itemCopy);if(!t)return!1;B4(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const G4=(0,p.Z)(Q4,[["render",Y4]]);var J4=G4;const X4={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},t3={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},e3=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),r3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),a3=[r3],s3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),o3=[s3],i3=["disabled"],l3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),n3=[l3],d3={class:"tw-relative"},w3=["value"],c3=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),u3=[c3],p3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),m3={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},g3=["value"],h3={class:"tw-overflow-hidden tw-col-span-1"},f3={class:"tw-overflow-hidden tw-col-span-1"};function y3(t,e,r,o,i,l){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",X4,[(0,s._)("div",t3,[e3,(0,s._)("button",{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},a3),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>i.showStatistics=!i.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},o3)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},n3,8,i3),(0,s._)("div",d3,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},u3,40,w3),p3])]),(0,s._)("div",m3,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,g3),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[i.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",h3,[(0,s.Wm)(n,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[i.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",f3,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const v3={class:"tw-mb-4"},x3={class:"tw-grid tw-grid-cols-12 tw-gap-4"},b3={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},_3={class:"tw-flex tw-items-center tw-justify-between"},k3={class:"tw-text-xl tw-font-bold tw-text-gray-900"},C3={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function D3(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",v3,[(0,s._)("div",x3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",b3,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[i.getConfirmation(t.confirmation).textLight,i.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",_3,[(0,s._)("span",k3,(0,et.zw)(t.total),1),(0,s._)("span",C3,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var S3={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return En.find((e=>e.value==t))}}};const z3=(0,p.Z)(S3,[["render",D3]]);var U3=z3;const P3={class:"tw-mb-4"},L3={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},A3={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},$3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),q3=["value"],W3={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},E3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),T3=["value"],O3=(0,s._)("option",{value:"all",selected:""},"All",-1),I3=["value"],F3=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),V3=[F3];function R3(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",P3,[(0,s._)("div",L3,[(0,s._)("div",A3,[$3,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,q3)]),(0,s._)("div",W3,[E3,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[O3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,I3)))),128))],40,T3)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},V3)])])}var j3={props:{filters:{required:!0,default:{}}},data(){return{confirmations:En,deliveryStatus:Fn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const N3=(0,p.Z)(j3,[["render",R3]]);var M3=N3,H3={components:{IndexStatistics:U3,FiltersWrapper:M3},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const Y3=(0,p.Z)(H3,[["render",y3]]);var Z3=Y3,K3={components:{IndexTable:a4,IndexFilters:Z3,CreatePopup:J4},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const B3=(0,p.Z)(K3,[["render",e0]]);var Q3=B3;const G3={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},J3={class:"tw-px-3 tw-h-fit"},X3={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},t6=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),e6={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},r6=["disabled"],a6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),s6=(0,s._)("span",null,"Get Order",-1),o6=[a6,s6],i6={key:0,class:"tw-p-5"},l6={key:1,class:"tw-mt-5 tw-space-y-5"},n6={class:"tw-flex tw-items-center tw-justify-end"},d6={key:2},w6=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),c6=[w6];function u6(t,e,r,a,o,i){const l=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",G3,[(0,s._)("section",J3,[(0,s._)("div",X3,[t6,(0,s._)("div",e6,[(0,s._)("button",{disabled:o.fetching,onClick:e[0]||(e[0]=(...t)=>i.getOrder&&i.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},o6,8,r6)])]),o.fetching?((0,s.wg)(),(0,s.iD)("div",i6,[(0,s.Wm)(l)])):(0,s.kq)("",!0),!o.fetching&&o.order_exists?((0,s.wg)(),(0,s.iD)("div",l6,[(0,s.Wm)(n,{order:o.order,onUpdate:e[1]||(e[1]=t=>o.order=t)},null,8,["order"]),o.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>o.doubles=o.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",n6,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>i.save&&i.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),o.fetching||o.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",d6,c6))])])}const p6=t=>{t.fetching=!0,E.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},m6=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),g6=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,E.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},h6={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},f6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),y6={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},v6={class:"tw-text-xl tw-font-bold tw-text-gray-600"},x6=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),b6={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},_6={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},k6={class:"tw-space-y-2 tw-px-5"},C6=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),D6={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},S6={class:"tw-space-y-2 tw-px-5"},z6=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),U6={class:"tw-flex tw-items-center tw-gap-2"},P6={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},L6={class:"tw-space-y-2 tw-px-5"},A6=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),$6={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},q6={class:"tw-space-y-2 tw-px-5"},W6=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),E6={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},T6={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},O6={class:""},I6=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),F6={class:"tw-p-3 tw-pl-10 tw-space-y-2"},V6={class:"tw-font-bold tw-text-green-500"},R6={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},j6={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},N6={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},M6={key:0};function H6(t,e,r,a,o,i){const l=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",h6,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[f6,(0,s.Uk)(" Edit ")]),(0,s._)("div",y6,[(0,s._)("span",v6,[x6,(0,s.Uk)(" ID: "+(0,et.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,et.C_)([[i.confirmation.bgLight,i.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(i.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",b6,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",_6,[(0,s._)("div",k6,[C6,(0,s._)("span",D6,(0,et.zw)(r.order.fullname),1)]),(0,s._)("div",S6,[z6,(0,s._)("div",U6,[(0,s._)("span",P6,(0,et.zw)(r.order.phone),1),(0,s.Wm)(rt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",L6,[A6,(0,s._)("span",$6,(0,et.zw)(r.order.city),1)]),(0,s._)("div",q6,[W6,(0,s._)("span",E6,(0,et.zw)(r.order.adresse),1)])]),(0,s._)("div",T6,[(0,s._)("div",O6,[I6,(0,s._)("ul",F6,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",V6,(0,et.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,et.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",R6,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",j6,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",N6,[(0,s._)("span",null,(0,et.zw)(o.currency),1),(0,s._)("span",null,(0,et.zw)(i.price),1)])])])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",M6,[(0,s.Wm)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var Y6={components:{UpdatePopup:K5},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return Qo(this.order)},confirmation(){return En.find((t=>t.value==this.order.confirmation))}}};const Z6=(0,p.Z)(Y6,[["render",H6]]);var K6=Z6,B6={components:{OrderCard:K6},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){p6(this)},getOrder(){g6(this)},save(){m6(this)}},mounted(){this.toConfirm()}};const Q6=(0,p.Z)(B6,[["render",u6]]);var G6=Q6;const J6={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},X6={class:"tw-px-3"},t8={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},e8={class:"tw-flex tw-items-center tw-gap-x-3"},r8=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),a8={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},s8=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function o8(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",J6,[(0,s._)("section",X6,[(0,s._)("div",t8,[(0,s._)("div",null,[(0,s._)("div",e8,[r8,(0,s._)("span",a8,(0,et.zw)(o.totalOrders)+" order",1)]),s8]),(0,s.kq)("",!0)]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>i.handlePerPageChange(o.per_page)),onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var i8={components:{IndexTable:a4,IndexFilters:Z3},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const l8=(0,p.Z)(i8,[["render",o8]]);var n8=l8,d8={name:"orders",path:"/agent/orders",component:da,meta:{module:"order"},children:[{name:"order/list",path:"",component:Q3,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:G6,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:n8,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const w8=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),c8={key:0},u8={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},p8={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},m8={key:1},g8={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},h8=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),f8=["src"];function y8(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[w8,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",c8,[(0,s.Wm)(l)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",u8,[i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",p8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",m8,[(0,s._)("div",g8,[h8,(0,s._)("img",{src:o.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,f8)])]))])):(0,s.kq)("",!0)])}var v8=r(9875),x8=r(1888),b8=r(1334);const _8={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},k8={class:"tw-w-full tw-whitespace-normal"},C8=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),D8={class:"tw-flex tw-items-center"},S8={key:0},z8={key:1},U8={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},P8=(0,s._)("span",{class:"tw-text-sm"},"x",-1),L8={key:0},A8={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},$8=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),q8={class:"tw-flex tw-items-center tw-text-gray-500"},W8={class:"tw-flex tw-items-center tw-text-gray-500"};function E8(t,e,r,a,o,i){const l=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(as._,{class:(0,et.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,et.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[i.delivery?.bg,i.delivery?.text]])},(0,et.zw)(r.order.delivery),3),(0,s.Wm)(v8._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",_8,(0,et.zw)(r.order.city),1),(0,s._)("p",k8,(0,et.zw)(r.order.adresse),1)]),C8])),_:1}),(0,s.Wm)(x8.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,et.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(st.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(pa.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",D8,[(0,s._)("span",null,[(0,s.Uk)((0,et.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",S8,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",z8,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",U8,[P8,(0,s.Uk)(" "+(0,et.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(pa.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(i.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",L8,[r.order.note?((0,s.wg)(),(0,s.iD)("div",A8,[$8,(0,s._)("p",null,(0,et.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(er.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",q8,[(0,s.Wm)(st.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,et.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",W8,[(0,s.Wm)(st.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,et.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Jt.J),(0,s.Wm)(b8.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(rt.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(ir.C),r.order.phone?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(l,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const T8={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},O8={class:"tw-px-5 tw-pt-5"},I8=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),F8={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},V8=["disabled","onClick"],R8={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},j8=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),N8=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function M8(t,e,r,a,o,i){const l=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{onCancel:i.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",T8,[(0,s._)("div",O8,[I8,(0,s._)("div",F8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:i.isDisabled(e),onClick:t=>i.handleChange(e),key:e.value,class:(0,et.C_)([[i.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,et.zw)(e.name),11,V8)))),128))])]),(0,s._)("div",R8,[(0,s.Wm)(rt.T,{onClick:i.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[j8])),_:1},8,["onClick"]),(0,s.Wm)(rt.T,{onClick:i.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[N8])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:i.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const H8={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Y8=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Z8=(0,s._)("br",null,null,-1),K8=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),B8={class:"tw-flex tw-justify-end tw-mt-2"};function Q8(t,e,r,o,i,l){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",H8,[Y8,(0,s.Wm)(n,{modelValue:i.date,"onUpdate:modelValue":e[0]||(e[0]=t=>i.date=t),format:l.format},null,8,["modelValue","format"]),Z8,K8,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,i.note]]),(0,s._)("div",B8,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:i.isLoading,variant:"flat",color:"green",onClick:l.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var G8={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ia.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const J8=(0,p.Z)(G8,[["render",Q8]]);var X8=J8,t7={props:["visible","order"],components:{OrderReporting:X8},data:()=>({status:Fn,disabled:Vn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ia.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const e7=(0,p.Z)(t7,[["render",M8]]);var r7=e7,a7={components:{OrderCardDelivery:r7},props:["order"],data:()=>({deliveryStatus:Fn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return Qo(t)}}};const s7=(0,p.Z)(a7,[["render",E8]]);var o7=s7,i7={components:{OrderCard:o7},data(){return{localUrl:n,deliveryStatus:Fn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ia.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const l7=(0,p.Z)(i7,[["render",y8]]);var n7=l7;const d7=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),w7={key:0},c7={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},u7={class:"mb-5 tw-flex"},p7={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},m7={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},g7={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},h7=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),f7={class:"tw-relative"},y7=["value"],v7={key:0,class:""},x7={key:1},b7=(0,s._)("p",null,"No orders for now",-1),_7=[b7];function k7(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[d7,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",w7,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",c7,[(0,s._)("div",u7,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",p7,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",m7,[(0,s._)("div",g7,[h7,(0,s._)("div",f7,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,et.zw)(t.name),9,y7)))),128))],512),[[a.bM,i.deliveryFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),l.orders.length>0?((0,s.wg)(),(0,s.iD)("div",v7,[(0,s.Wm)(d,{orders:l.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",x7,_7))])):(0,s.kq)("",!0)])}const C7={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},D7={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},S7={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},z7=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),U7={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},P7={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},L7={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},A7=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),$7=["value"],q7={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},W7={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},E7={class:"tw-text-white"};function T7(t,e,r,o,i,l){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",C7,[(0,s._)("table",D7,[(0,s._)("thead",S7,[(0,s._)("tr",null,[z7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",U7,(0,et.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",P7,[(0,s._)("div",L7,[A7,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,$7)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",q7,[(0,s._)("div",W7,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.orders.length:l.nextRange)+" of "+(0,et.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",E7,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const O7=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),I7={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},F7={class:"tw-px-6 tw-py-4 tw-relative"},V7={key:0},R7={class:"tw-px-6 tw-py-4"},j7={class:"tw-px-6 tw-py-4"},N7={class:"tw-px-6 tw-py-4"},M7={class:"tw-px-6 tw-py-4"},H7={class:"tw-pb-2"},Y7={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Z7={key:0},K7={key:1},B7={class:"tw-px-6 tw-py-4 tw-relative"},Q7={class:"tw-flex tw-items-center tw-justify-center"},G7={class:"tw-flex tw-gap-1"},J7={key:0},X7={class:"tw-px-6 tw-py-4"},t9={class:"tw-px-6 tw-py-4"},e9={class:"tw-px-6 tw-py-4"},r9={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},a9={class:"tw-px-6 tw-py-4"};function s9(t,e,r,a,o,i){const l=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,et.C_)([["reporter"==r.order.delivery&&"tw-relative",i.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[O7,(0,s._)("th",I7,(0,et.zw)(r.order.id),1),(0,s._)("td",F7,[(0,s.Uk)((0,et.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([i.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",V7," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",R7,(0,et.zw)(r.order.fullname),1),(0,s._)("td",j7,(0,et.zw)(r.order.adresse),1),(0,s._)("td",N7,(0,et.zw)(r.order.phone),1),(0,s._)("td",M7,[(0,s._)("div",H7,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",Y7,(0,et.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,et.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Z7,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",K7,"| "+(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",B7,[(0,s._)("div",Q7,[((0,s.wg)(),(0,s.j4)(l,{class:(0,et.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([i.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",G7,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",J7,[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,et.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",X7,(0,et.zw)(i.getPrice(r.order)),1),(0,s._)("td",t9,(0,et.zw)(r.order.city),1),(0,s._)("td",e9,[(0,s._)("div",r9,(0,et.zw)(r.order.note),1)]),(0,s._)("td",a9,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const o9={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},i9={key:1},l9={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},n9=["onClick"];function d9(t,e,r,a,o,i){const l=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",o9,(0,et.zw)(i.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",i9,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,et.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,et.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",l9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!o.disabled.includes(t.value)&&i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,et.C_)(["tw-block tw-px-4 tw-py-2",[o.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,et.zw)(t.name),3)],8,n9)))),128))])],2),(0,s.Wm)(l,{order:r.order,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[te.L,i.close]])}var w9={props:["delivery","id","order"],components:{OrderReporting:X8},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Fn,disabled:Vn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ia.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const c9=(0,p.Z)(w9,[["render",d9]]);var u9=c9;const p9={key:0};function m9(t,e,r,a,o,i){return o.newOrder?((0,s.wg)(),(0,s.iD)("div",p9,[(0,s.Wm)(rt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var g9={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const h9=(0,p.Z)(g9,[["render",m9]]);var f9=h9,y9={props:["order","showNote"],components:{OrderDelivery:u9,OrderActions:f9},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return Qo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const v9=(0,p.Z)(y9,[["render",s9]]);var x9=v9,b9={props:["orders"],components:{OrderRow:x9},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const _9=(0,p.Z)(b9,[["render",T7]]);var k9=_9,C9={components:{OrdersTable:k9},data(){return{localUrl:n,deliveryStatus:Fn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ia.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const D9=(0,p.Z)(C9,[["render",k7]]);var S9=D9,z9={name:"deliveries",path:"/deliveries",component:da,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:n7,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:S9,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const U9=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),P9={key:0},L9={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},A9={class:"mb-5 tw-flex"},$9={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},q9={key:0,class:""};function W9(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[U9,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",P9,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",L9,[(0,s._)("div",A9,[(0,s.Wm)(rt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",$9,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),l.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",q9,[(0,s.Wm)(d,{columns:i.columns,states:l.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class E9{async inventoryStates(){return await q.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await q.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await q.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await q.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await q.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await q.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await q.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var T9=new E9;const O9={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},I9={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},F9={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},V9=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),R9={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},j9=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),N9={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},M9={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},H9={class:"tw-px-6 tw-py-4"},Y9={class:"tw-px-6 tw-py-4"},Z9={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},K9={class:"tw-px-6 tw-py-4"},B9={class:"tw-px-6 tw-py-4"},Q9=(0,s._)("br",null,null,-1),G9={class:"tw-px-6 tw-py-4"},J9={class:"mt-5 tw-flex tw-justify-between"},X9={class:"d-flex align-center"},ttt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),ett={class:"d-flex align-center"},rtt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},att={class:"tw-text-white"};function stt(t,e,r,a,o,i){const l=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",O9,[(0,s._)("table",I9,[(0,s._)("thead",F9,[(0,s._)("tr",null,[V9,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",R9,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[j9,(0,s._)("th",N9,(0,et.zw)(t.id),1),(0,s._)("td",M9,[(0,s.Wm)(l,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",H9,(0,et.zw)(t.buying_price)+" DH ",1),(0,s._)("td",Y9,(0,et.zw)(t.selling_price)+" DH ",1),(0,s._)("td",Z9,(0,et.zw)(i.availableQuantity(t)),1),(0,s._)("td",K9,(0,et.zw)(t.total_quantity),1),(0,s._)("td",B9,[(0,s.Uk)((0,et.zw)(t.updated_at?.split("T")[0])+" ",1),Q9,(0,s.Uk)(" "+(0,et.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",G9,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",J9,[(0,s._)("div",X9,[ttt,(0,s.Wm)(Qv.r,{"hide-details":!0,modelValue:o.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),items:o.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",ett,[(0,s._)("div",rtt,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(o.currentPage==i.pageCount?r.states.length:i.nextRange)+" of "+(0,et.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",att,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function ott(t,e,r,a,o,i){const l=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[2]||(e[2]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(l,{key:0,onCancel:e[1]||(e[1]=t=>o.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const itt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},ltt={class:"tw-p-5"},ntt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},dtt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),wtt={class:"tw-w-4 tw-p-4"},ctt={class:"tw-w-4 tw-p-4"},utt={class:"tw-w-4 tw-p-4"},ptt={class:"tw-w-4 tw-p-4"},mtt={class:"tw-flex tw-items-center tw-gap-1"},gtt={class:"tw-text-green-500"},htt={key:0},ftt={class:"tw-text-red-400"},ytt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function vtt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",itt,[(0,s.Wm)(rt.T,{onClick:i.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",ltt,[(0,s._)("table",ntt,[dtt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",wtt,(0,et.zw)(t.id),1),(0,s._)("td",ctt,(0,et.zw)(t.size),1),(0,s._)("td",utt,(0,et.zw)(t.color),1),(0,s._)("td",ptt,[(0,s._)("div",mtt,[(0,s._)("span",gtt,(0,et.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,et.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",htt,[(0,s.Uk)(" / "),(0,s._)("span",ftt,(0,et.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),ytt])])}var xtt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const btt=(0,p.Z)(xtt,[["render",vtt]]);var _tt=btt,ktt={props:["rowIndex","state"],components:{InventoryStateDetails:_tt},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const Ctt=(0,p.Z)(ktt,[["render",ott]]);var Dtt=Ctt,Stt={props:["columns","states"],components:{InventoryStateActions:Dtt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const ztt=(0,p.Z)(Stt,[["render",stt]]);var Utt=ztt,Ptt={components:{InventoryStateTable:Utt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await T9.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const Ltt=(0,p.Z)(Ptt,[["render",W9]]);var Att=Ltt;const $tt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),qtt={key:0},Wtt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ett={class:"tw-w-full"},Ttt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Ott={class:"tw-relative"},Itt=["disabled"],Ftt=["value"],Vtt={class:"tw-w-full"},Rtt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),jtt={class:"tw-relative"},Ntt=["disabled"],Mtt=["value"],Htt={class:"tw-w-full"},Ytt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Ztt={class:"tw-relative"},Ktt=["value"],Btt={class:"tw-w-full"},Qtt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Gtt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Jtt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Xtt={class:"tw-max-w-full"},tet={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},eet=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),ret={class:"tw-w-4 tw-p-4"},aet={class:"tw-w-4 tw-p-4"},set={class:"tw-w-4 tw-p-4"},oet={class:"tw-w-4 tw-p-4"},iet={class:"tw-w-4 tw-p-4"},net={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},det={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},wet=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),cet=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function uet(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[$tt,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qtt,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wtt,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ett,[Ttt,(0,s._)("div",Ott,[(0,s.wy)((0,s._)("select",{disabled:i.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>i.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname+" "+t.lastname),9,Ftt)))),128))],8,Itt),[[a.bM,i.delivery]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vtt,[Rtt,(0,s._)("div",jtt,[(0,s.wy)((0,s._)("select",{disabled:i.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>i.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,Mtt)))),128))],8,Ntt),[[a.bM,i.product]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Htt,[Ytt,(0,s._)("div",Ztt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,Ktt)))),128))],512),[[a.bM,i.variation]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Btt,[Qtt,(0,s._)("div",null,[(0,s.Wm)(ot.hw,{type:"number",onChange:l.handleQuantityChange,"hide-details":!0,modelValue:i.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>i.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Gtt,[(0,s.Wm)(rt.T,{onClick:l.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Jtt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Xtt,[(0,s._)("table",tet,[eet,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",ret,(0,et.zw)(t.id),1),(0,s._)("td",aet,(0,et.zw)(t.size),1),(0,s._)("td",set,(0,et.zw)(t.color),1),(0,s._)("td",oet,(0,et.zw)(t.quantity),1),(0,s._)("td",iet,[(0,s._)("div",net,[(0,s.Wm)(rt.T,{onClick:e=>l.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",det,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[wet])),_:1}),(0,s.Wm)(rt.T,{onClick:l.create,loading:i.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[cet])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var pet={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,T9.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await X.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return T9.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const met=(0,p.Z)(pet,[["render",uet]]);var get=met;const het=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),fet={key:0},yet={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},vet={class:"tw-w-full"},xet=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),bet={class:"tw-relative"},_et=["value"],ket={class:"tw-w-full"},Cet=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Det={class:"tw-relative"},zet=["value"],Uet={class:"tw-w-full"},Pet=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Let={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Aet=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),$et={class:"tw-max-w-full"},qet={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Wet=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Eet={class:"tw-w-4 tw-p-4"},Tet={class:"tw-w-4 tw-p-4"},Oet={class:"tw-w-4 tw-p-4"},Iet={class:"tw-w-4 tw-p-4"},Fet={class:"tw-w-4 tw-p-4"},Vet={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Ret={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},jet=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Net=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Met(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[het,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fet,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",yet,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",vet,[xet,(0,s._)("div",bet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname+" "+t.lastname),9,_et)))),128))],512),[[a.bM,i.delivery]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ket,[Cet,(0,s._)("div",Det,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.color+" / "+t.size+" / "+t.quantity),9,zet)))),128))],512),[[a.bM,i.variation]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Uet,[Pet,(0,s._)("div",null,[(0,s.Wm)(ot.hw,{type:"number",onChange:l.handleQuantityChange,"hide-details":!0,modelValue:i.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>i.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Let,[(0,s.Wm)(rt.T,{onClick:l.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Aet])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",$et,[(0,s._)("table",qet,[Wet,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Eet,(0,et.zw)(t.id),1),(0,s._)("td",Tet,(0,et.zw)(t.size),1),(0,s._)("td",Oet,(0,et.zw)(t.color),1),(0,s._)("td",Iet,(0,et.zw)(t.quantity),1),(0,s._)("td",Fet,[(0,s._)("div",Vet,[(0,s.Wm)(rt.T,{onClick:e=>l.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Ret,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[jet])),_:1}),(0,s.Wm)(rt.T,{onClick:l.update,loading:i.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Net])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Het={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,T9.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await X.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return sa.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return T9.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const Yet=(0,p.Z)(Het,[["render",Met]]);var Zet=Yet;const Ket=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Bet={key:0},Qet={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Get={class:"mb-5 tw-flex"},Jet={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Xet={key:0,class:""};function trt(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[Ket,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bet,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Qet,[(0,s._)("div",Get,[(0,s.Wm)(rt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Jet,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),l.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Xet,[(0,s.Wm)(d,{columns:i.columns,movements:l.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const ert={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},rrt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},art={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},srt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ort={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},irt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),lrt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},nrt={class:"tw-px-6 tw-py-4"},drt=(0,s._)("br",null,null,-1),wrt={class:"tw-px-6 tw-py-4"},crt={class:"tw-px-6 tw-py-4"},urt={class:"tw-px-6 tw-py-4"},prt={class:"tw-px-6 tw-py-4"},mrt={class:"tw-px-6 tw-py-4"},grt={class:"tw-w-[200px] !tw-whitespace-normal"},hrt={class:"tw-px-6 tw-py-4"},frt={class:"tw-px-6 tw-py-4"},yrt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},vrt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},xrt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),brt=["value"],_rt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},krt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Crt={class:"tw-text-white"};function Drt(t,e,r,o,i,l){const n=(0,s.up)("router-link"),d=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ert,[(0,s._)("table",rrt,[(0,s._)("thead",art,[(0,s._)("tr",null,[srt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ort,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[irt,(0,s._)("th",lrt,(0,et.zw)(t.id),1),(0,s._)("td",nrt,[(0,s.Uk)((0,et.zw)(t.created_at?.split("T")[0])+" ",1),drt,(0,s.Uk)(" "+(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",wrt,(0,et.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",crt,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",urt,(0,et.zw)(l.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",prt,[(0,s._)("div",{class:(0,et.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,et.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",mrt,[(0,s._)("div",grt,(0,et.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",hrt,(0,et.zw)(t.delivery.city?.name),1),(0,s._)("td",frt,[(0,s.Wm)(d,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",yrt,[(0,s._)("div",vrt,[xrt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,brt)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",_rt,[(0,s._)("div",krt,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.movements.length:l.nextRange)+" of "+(0,et.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Crt,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Srt={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zrt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),Urt={class:"mt-3"},Prt=(0,s._)("h2",{class:"mb-2"},"Received",-1),Lrt={class:"tw-mt-3"},Art=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),$rt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},qrt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Wrt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Ert(t,e,r,o,i,l){const n=(0,s.up)("popup-full"),d=(0,s.up)("MovementDetails"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(l.user.role)?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>i.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[1]||(e[1]=t=>i.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(rt.T,{key:3,onClick:e[2]||(e[2]=t=>i.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:i.confirmPopup,onCancel:e[6]||(e[6]=t=>i.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",Srt,[zrt,(0,s._)("div",Urt,[Prt,(0,s.Wm)(il.G,{density:"compact","hide-details":!0,modelValue:i.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>i.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",Lrt,[Art,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,i.note]])]),(0,s._)("div",$rt,[(0,s.Wm)(rt.T,{onClick:e[5]||(e[5]=t=>i.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[qrt])),_:1}),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Wrt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:i.detailsPopup,onCancel:e[8]||(e[8]=t=>i.detailsPopup=!1)},{default:(0,s.w5)((()=>[i.detailsPopup?((0,s.wg)(),(0,s.j4)(d,{key:0,onCancel:e[7]||(e[7]=t=>i.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:i.isLoading,visible:i.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const Trt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Ort={class:"tw-p-5"},Irt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Frt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Vrt={class:"tw-w-4 tw-p-4"},Rrt={class:"tw-w-4 tw-p-4"},jrt={class:"tw-w-4 tw-p-4"},Nrt={class:"tw-w-4 tw-p-4"};function Mrt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Trt,[(0,s.Wm)(rt.T,{onClick:i.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Ort,[(0,s._)("table",Irt,[Frt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Vrt,(0,et.zw)(t.id),1),(0,s._)("td",Rrt,(0,et.zw)(t.product_variation.size),1),(0,s._)("td",jrt,(0,et.zw)(t.product_variation.color),1),(0,s._)("td",Nrt,(0,et.zw)(t.quantity),1)])))),128))])])])])}var Hrt={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Yrt=(0,p.Z)(Hrt,[["render",Mrt]]);var Zrt=Yrt,Krt={props:["rowIndex","movement"],components:{MovementDetails:Zrt},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,T9["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,T9.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){T9.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const Brt=(0,p.Z)(Krt,[["render",Ert]]);var Qrt=Brt,Grt={props:["columns","movements"],components:{InventoryMovementsActions:Qrt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Jrt=(0,p.Z)(Grt,[["render",Drt]]);var Xrt=Jrt,tat={components:{InventoryMovementsTable:Xrt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await T9.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const eat=(0,p.Z)(tat,[["render",trt]]);var rat=eat,aat={name:"inventory/list",path:"/inventories",component:da,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:Att,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:rat,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:get,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:Zet,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]};const sat={class:"mb-5 tw-flex tw-justify-between tw-items-center"},oat=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),iat={key:0},lat=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),nat={key:0},dat={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},wat={class:"mb-5 tw-flex"},cat={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},uat={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},pat={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},mat=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),gat={class:"tw-relative"},hat={class:""};function fat(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:l.shops.length},[(0,s._)("div",sat,[oat,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",iat,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),lat])),_:1})])):(0,s.kq)("",!0)]),i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nat,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",dat,[(0,s._)("div",wat,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",cat,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",uat,[(0,s._)("div",pat,[mat,(0,s._)("div",gat,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>i.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,i.date]])])])])],2),(0,s._)("div",hat,[(0,s.Wm)(d,{columns:i.columns,shops:l.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class yat{async create(t){return await q.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await q.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await q.getCookie(),A.get("api/shops")}async getShop(t){return await q.getCookie(),A.get("api/shops/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/shops/delete/"+t)}}var vat=new yat;const xat={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},bat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},_at={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},kat=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Cat={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Dat=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Sat={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},zat={class:"tw-px-6 tw-py-4"},Uat={class:"tw-px-6 tw-py-4"},Pat={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Lat={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Aat={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},$at=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),qat=["value"],Wat={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Eat={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Tat={class:"tw-text-white"};function Oat(t,e,r,o,i,l){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xat,[(0,s._)("table",bat,[(0,s._)("thead",_at,[(0,s._)("tr",null,[kat,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Cat,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Dat,(0,s._)("th",Sat,(0,et.zw)(t.id),1),(0,s._)("td",zat,(0,et.zw)(t.name),1),(0,s._)("td",Uat,(0,et.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Pat,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",Lat,[(0,s._)("div",Aat,[$at,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,qat)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",Wat,[(0,s._)("div",Eat,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.shops.length:l.nextRange)+" of "+(0,et.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Tat,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Iat={class:"tw-flex tw-items-center tw-gap-1"};function Fat(t,e,r,a,o,i){const l=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Iat,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(l,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}var Vat={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,vat["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),vat.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Rat=(0,p.Z)(Vat,[["render",Fat]]);var jat=Rat,Nat={props:["columns","shops"],components:{ShopActions:jat},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Mat=(0,p.Z)(Nat,[["render",Oat]]);var Hat=Mat,Yat={components:{ShopsTable:Hat},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){vat.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Zat=(0,p.Z)(Yat,[["render",fat]]);var Kat=Zat;const Bat=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Qat={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Gat={class:"tw-w-full"},Jat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),Xat={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tst={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},est=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),rst=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function ast(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[Bat,(0,s._)("div",Qat,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Gat,[Jat,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xat,(0,et.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",tst,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[est])),_:1}),(0,s.Wm)(rt.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[rst])),_:1},8,["onClick","loading"])])])])}var sst={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;vat.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const ost=(0,p.Z)(sst,[["render",ast]]);var ist=ost;const lst=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),nst={key:0},dst={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},wst={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},cst={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},ust={class:"tw-w-full"},pst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),mst={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gst={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},hst=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),fst=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function yst(t,e,r,a,o,i){const l=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[lst,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nst,[(0,s.Wm)(l)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",dst,[(0,s._)("div",wst,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",cst,(0,et.zw)(i.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ust,[pst,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mst,(0,et.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",gst,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[hst])),_:1}),(0,s.Wm)(rt.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[fst])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var vst={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;vat.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){vat.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const xst=(0,p.Z)(vst,[["render",yst]]);var bst=xst,_st={name:"shops",path:"/shops",component:da,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:Kat,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:ist,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:bst,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const kst={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Cst=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),Dst={key:0},Sst=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),zst={key:0},Ust={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Pst={class:"mb-5 tw-flex"},Lst={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Ast={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},$st={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},qst=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Wst={class:"tw-relative"},Est={class:""};function Tst(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("WarehousesTable"),w=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:l.warehouses.length},[(0,s._)("div",kst,[Cst,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",Dst,[(0,s.Wm)(rt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>i.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Sst])),_:1})])):(0,s.kq)("",!0)]),i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",zst,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ust,[(0,s._)("div",Pst,[(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Lst,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",Ast,[(0,s._)("div",$st,[qst,(0,s._)("div",Wst,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>i.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,i.date]])])])])],2),(0,s._)("div",Est,[(0,s.Wm)(d,{columns:i.columns,warehouses:l.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(w,{onCancel:e[4]||(e[4]=t=>i.showPopup=!1),visible:i.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Ost={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Ist={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Fst={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Vst=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Rst={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jst=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Nst={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Mst={class:"tw-px-6 tw-py-4"},Hst={class:"tw-px-6 tw-py-4"},Yst={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Zst={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Kst={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Bst=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Qst=["value"],Gst={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Jst={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Xst={class:"tw-text-white"};function tot(t,e,r,o,i,l){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ost,[(0,s._)("table",Ist,[(0,s._)("thead",Fst,[(0,s._)("tr",null,[Vst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Rst,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[jst,(0,s._)("th",Nst,(0,et.zw)(t.id),1),(0,s._)("td",Mst,(0,et.zw)(t.name),1),(0,s._)("td",Hst,(0,et.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Yst,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",Zst,[(0,s._)("div",Kst,[Bst,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Qst)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",Gst,[(0,s._)("div",Jst,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.warehouses.length:l.nextRange)+" of "+(0,et.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Xst,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const eot={class:"tw-flex tw-items-center tw-gap-1"};function rot(t,e,r,a,o,i){const l=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",eot,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(l,{visible:o.showUpdatePopup,onCancel:e[2]||(e[2]=t=>o.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const aot={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},sot=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),oot={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},iot={class:"tw-w-full tw-col-span-12"},lot=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),not={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dot={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},wot=(0,s._)("span",{class:"text-white"}," Cancel ",-1),cot=(0,s._)("span",{class:"text-white"}," Update ",-1);function uot(t,e,r,a,o,i){const l=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",aot,[sot,(0,s._)("div",oot,[(0,s._)("div",iot,[lot,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",not,(0,et.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",dot,[(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wot])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[cot])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var pot={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Qb.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const mot=(0,p.Z)(pot,[["render",uot]]);var got=mot,hot={components:{UpdateWarehouse:got},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Qb["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const fot=(0,p.Z)(hot,[["render",rot]]);var yot=fot,vot={props:["columns","warehouses"],components:{WarehouseActions:yot},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const xot=(0,p.Z)(vot,[["render",tot]]);var bot=xot;const _ot={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},kot=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),Cot={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Dot={class:"tw-w-full tw-col-span-12"},Sot=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),zot={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uot={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Pot=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Lot=(0,s._)("span",{class:"text-white"}," Create ",-1);function Aot(t,e,r,a,o,i){const l=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",_ot,[kot,(0,s._)("div",Cot,[(0,s._)("div",Dot,[Sot,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zot,(0,et.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",Uot,[(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Pot])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Lot])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var $ot={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Qb.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const qot=(0,p.Z)($ot,[["render",Aot]]);var Wot=qot,Eot={components:{WarehousesTable:bot,AddWarehouse:Wot},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Qb.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Tot=(0,p.Z)(Eot,[["render",Tst]]);var Oot=Tot,Iot={name:"warehouses",path:"/warehouses",component:da,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:Oot,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const Fot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Vot={key:0},Rot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},jot={class:"mb-5 tw-flex"},Not={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Mot={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Hot={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Yot=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Zot={class:"tw-relative"},Kot={class:""};function Bot(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:l.factorisations.length},[Fot,i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vot,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Rot,[(0,s._)("div",jot,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Not,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",Mot,[(0,s._)("div",Hot,[Yot,(0,s._)("div",Zot,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>i.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,i.date]])])])])],2),(0,s._)("div",Kot,[(0,s.Wm)(d,{columns:i.columns,factorisations:l.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}class Qot{async update(t,e){return await q.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await q.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await q.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await q.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async all(){return await q.getCookie(),A.get("api/factorisations")}async getFactorisation(t){return await q.getCookie(),A.get("api/factorisations/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/factorisations/delete/"+t)}}var Got=new Qot;const Jot={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Xot={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},tit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},eit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),rit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ait={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},sit={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},oit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),iit=["value"],lit={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},nit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},dit={class:"tw-text-white"};function wit(t,e,r,o,i,l){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jot,[(0,s._)("table",Xot,[(0,s._)("thead",tit,[(0,s._)("tr",null,[eit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",rit,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",ait,[(0,s._)("div",sit,[oit,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,iit)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",lit,[(0,s._)("div",nit,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.factorisations.length:l.nextRange)+" of "+(0,et.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",dit,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const cit={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},uit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),pit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},mit={class:"tw-px-6 tw-py-4"},git={class:"tw-px-6 tw-py-4"},hit={class:"tw-px-6 tw-py-4"},fit={class:"tw-px-6 tw-py-4"},yit={class:"tw-px-6 tw-py-4"},vit={class:"tw-px-6 tw-py-4"},xit={class:"tw-px-6 tw-py-4"},bit={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},_it={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},kit=["disabled"],Cit=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Dit={class:"tw-px-6 tw-py-4"},Sit={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},zit={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Uit=["disabled"],Pit=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Lit={class:"tw-px-6 tw-py-4"},Ait={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function $it(t,e,r,o,i,l){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",cit,[uit,(0,s._)("th",pit,(0,et.zw)(r.factorisation.id),1),(0,s._)("td",mit,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>l.download(r.factorisation.id))},(0,et.zw)(r.factorisation.factorisation_id),1)]),(0,s._)("td",git,(0,et.zw)(l.deliveryName),1),(0,s._)("td",hit,(0,et.zw)(r.factorisation.commands_number),1),(0,s._)("td",fit,(0,et.zw)(r.factorisation.price),1),(0,s._)("td",yit,(0,et.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",vit,(0,et.zw)(r.factorisation.paid_at?.split("T")[0]),1),(0,s._)("td",xit,[(0,s._)("div",bit,[(0,s._)("label",_it,[(0,s.wy)((0,s._)("input",{disabled:i.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>l.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,kit),[[a.e8,l.close]]),Cit]),i.isLoadingClose?((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Dit,[(0,s._)("div",Sit,[(0,s._)("label",zit,[(0,s.wy)((0,s._)("input",{disabled:i.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>l.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Uit),[[a.e8,l.paid]]),Pit]),i.isLoadingPaid?((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Lit,(0,et.zw)(r.factorisation.created_at.split("T")[0]),1),(0,s._)("td",Ait,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])])}const qit={class:"tw-flex tw-items-center tw-gap-1"};function Wit(t,e,r,a,o,i){const l=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",qit,[(0,s.Wm)(rt.T,{href:o.serverUrl+"api/export/factorisations/"+r.factorisation.factorisation_id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[1]||(e[1]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(l,{visible:o.showUpdatePopup,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:o.showUpdateCommentPopup,onCancel:e[4]||(e[4]=t=>o.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Eit={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Tit=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Oit={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Iit={class:"tw-w-full tw-col-span-6"},Fit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Vit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Rit={class:"tw-w-full tw-col-span-6"},jit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Nit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mit={class:"tw-w-full tw-col-span-6"},Hit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Yit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zit={class:"tw-w-full tw-col-span-6"},Kit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Bit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qit={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Git=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Jit=(0,s._)("span",{class:"text-white"}," Update ",-1);function Xit(t,e,r,a,o,i){const l=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Eit,[Tit,(0,s._)("div",Oit,[(0,s._)("div",Iit,[Fit,(0,s.Wm)(ot.hw,{error:!o.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("factorisation_id")),"hide-details":!0,modelValue:o.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Vit,(0,et.zw)(o.formStatus.factorisation_id.message),1)]),(0,s._)("div",Rit,[jit,(0,s.Wm)(ot.hw,{error:!o.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:i.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>i.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Nit,(0,et.zw)(o.formStatus.delivery_id.message),1)]),(0,s._)("div",Mit,[Hit,(0,s.Wm)(ot.hw,{error:!o.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yit,(0,et.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Zit,[Kit,(0,s.Wm)(ot.hw,{error:!o.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bit,(0,et.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Qit,[(0,s.Wm)(rt.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Git])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Jit])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var tlt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Got.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=zt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Ut(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Ut(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const elt=(0,p.Z)(tlt,[["render",Xit]]);var rlt=elt;const alt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},slt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),olt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},ilt={class:"tw-w-full tw-col-span-6"},llt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),nlt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dlt={class:"tw-w-full tw-col-span-6"},wlt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),clt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ult={class:"tw-w-full tw-col-span-12"},plt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),mlt=["error"],glt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hlt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},flt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),ylt=(0,s._)("span",{class:"text-white"}," Update ",-1);function vlt(t,e,r,o,i,l){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",alt,[slt,(0,s._)("div",olt,[(0,s._)("div",ilt,[llt,(0,s.Wm)(ot.hw,{error:!i.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("price")),"hide-details":!0,modelValue:i.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>i.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",nlt,(0,et.zw)(i.formStatus.price.message),1)]),(0,s._)("div",dlt,[wlt,(0,s.Wm)(ot.hw,{error:!i.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:i.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>i.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",clt,(0,et.zw)(i.formStatus.commands_number.message),1)]),(0,s._)("div",ult,[plt,(0,s.wy)((0,s._)("textarea",{error:!i.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>i.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,mlt),[[a.nr,i.Factorisation.comment]]),(0,s._)("div",glt,(0,et.zw)(i.formStatus.commands_number.message),1)])]),(0,s._)("div",hlt,[(0,s.Wm)(rt.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[flt])),_:1}),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ylt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var xlt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Got.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=zt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const blt=(0,p.Z)(xlt,[["render",vlt]]);var _lt=blt,klt={components:{UpdateFactorisation:rlt,UpdateComment:_lt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1,showUpdateCommentPopup:!1,serverUrl:d}},methods:{handleResolved(t){t?(this.isLoading=!0,Got["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Clt=(0,p.Z)(klt,[["render",Wit]]);var Dlt=Clt,Slt={props:["factorisation"],components:{FactorisationActions:Dlt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Got.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Got.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=d+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const zlt=(0,p.Z)(Slt,[["render",$it]]);var Ult=zlt,Plt={props:["columns","factorisations"],components:{FactorisationRow:Ult},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const Llt=(0,p.Z)(Plt,[["render",wit]]);var Alt=Llt,$lt={components:{FactorisationsTable:Alt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Got.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const qlt=(0,p.Z)($lt,[["render",Bot]]);var Wlt=qlt,Elt={name:"factorisations",path:"/factorisations",component:da,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:Wlt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}}]};const Tlt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Olt={class:"tw-px-3"},Ilt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Flt={class:"tw-flex tw-items-center tw-gap-x-3"},Vlt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Rlt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},jlt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),Nlt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),Mlt=[Nlt],Hlt={key:0};function Ylt(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Tlt,[(0,s._)("section",Olt,[(0,s._)("div",Ilt,[(0,s._)("div",null,[(0,s._)("div",Flt,[Vlt,(0,s._)("span",Rlt,(0,et.zw)(o.totalOrders)+" order",1)]),jlt]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Mlt)]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Hlt,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class Zlt{async create(t){return await q.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await q.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await q.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await q.getCookie(),A.post("api/ads"+t,e)}}var Klt=new Zlt;const Blt={class:"tw-flex tw-flex-col"},Qlt={class:"tw-overflow-x-auto"},Glt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Jlt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Xlt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},tnt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},ent=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),rnt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ant=(0,s._)("span",null,"Created",-1),snt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),ont=[ant,snt],int={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},lnt=(0,s._)("span",null,"Ads For",-1),nnt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),dnt=[lnt,nnt],wnt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),cnt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),unt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),pnt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),mnt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),gnt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},hnt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},fnt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),ynt=[fnt],vnt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xnt={colspan:"8"},bnt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},_nt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),knt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Cnt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Dnt=[knt,Cnt],Snt={class:"tw-mt-6"};function znt(t,e,r,a,o,i){const l=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Blt,[(0,s._)("div",Qlt,[(0,s._)("div",Glt,[(0,s._)("div",Jlt,[(0,s._)("table",Xlt,[(0,s._)("thead",tnt,[(0,s._)("tr",null,[ent,(0,s._)("th",rnt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},ont)]),(0,s._)("th",int,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},dnt)]),wnt,cnt,unt,pnt,mnt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",gnt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(l,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",hnt,ynt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",vnt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",xnt,[(0,s._)("div",bnt,[_nt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Dnt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Snt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Unt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Pnt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Lnt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Ant={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},$nt=["disabled"],qnt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Wnt=(0,s._)("span",null," previous ",-1),Ent=[qnt,Wnt],Tnt=["disabled"],Ont=(0,s._)("span",null," Next ",-1),Int=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Fnt=[Ont,Int];function Vnt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Unt,[(0,s._)("div",Pnt,[(0,s.Uk)(" Page "),(0,s._)("span",Lnt,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",Ant,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>i.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ent,10,$nt),(0,s._)("button",{disabled:r.currentPage>=i.totalPages,onClick:e[1]||(e[1]=t=>i.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=i.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Fnt,10,Tnt)])])])}var Rnt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const jnt=(0,p.Z)(Rnt,[["render",Vnt]]);var Nnt=jnt;const Mnt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Hnt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Ynt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Znt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Knt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bnt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Qnt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Gnt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Jnt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Xnt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-capitalize"},tdt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},edt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},rdt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},adt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},sdt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function odt(t,e,r,a,o,i){const l=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Mnt,[(0,s._)("div",null,[(0,s._)("h2",Hnt,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",Ynt,[(0,s._)("div",null,[(0,s._)("h2",Znt,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Knt,[(0,s._)("div",null,[(0,s._)("h2",Bnt,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Qnt,[(0,s._)("div",null,[(0,s._)("h2",Gnt,(0,et.zw)(r.item.marketers.firstname)+" "+(0,et.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",Jnt,[(0,s._)("div",null,[(0,s._)("h2",Xnt,(0,et.zw)(r.item.source),1)])]),(0,s._)("td",tdt,[(0,s._)("div",null,[(0,s._)("h2",edt,(0,et.zw)(r.item.amount),1)])]),(0,s._)("td",rdt,[(0,s._)("div",null,[(0,s._)("h2",adt,(0,et.zw)(r.item.products.name),1)])]),(0,s._)("td",sdt,[(0,s._)("div",null,[(0,s.Wm)(l,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const idt={class:"tw-h-full"},ldt={class:"tw-flex tw-items-center tw-gap-2"},ndt={key:0};function ddt(t,e,r,a,o,i){const l=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",idt,[(0,s._)("div",ldt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",ndt,[(0,s.Wm)(l,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const wdt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},cdt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),udt={class:"tw-bg-white tw-p-4"},pdt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},mdt={class:"tw-col-span-2 md:tw-col-span-1"},gdt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),hdt=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),fdt=["value"],ydt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vdt={class:"tw-col-span-2 md:tw-col-span-1"},xdt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),bdt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_dt={class:"tw-col-span-2 md:tw-col-span-1"},kdt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),Cdt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Ddt=["value"],Sdt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zdt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Udt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),Pdt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Ldt=["value"],Adt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$dt={class:"md:tw-col-span-1 tw-col-span-2"},qdt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),Wdt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Edt={class:"tw-col-span-2"},Tdt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Odt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Idt=["disabled"],Fdt=(0,s._)("span",null,"Update",-1);function Vdt(t,e,r,o,i,l){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",wdt,[cdt,(0,s._)("div",udt,[(0,s._)("div",pdt,[(0,s._)("div",mdt,[gdt,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>i.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>i.items.source=t),class:(0,et.C_)([[i.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[hdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,et.zw)(t),9,fdt)))),128))],34),[[a.bM,i.items.source]]),i.errors.source?((0,s.wg)(),(0,s.iD)("label",ydt,(0,et.zw)(i.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",vdt,[xdt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.items.amount=t),onInput:e[3]||(e[3]=t=>i.errors.amount=null),class:(0,et.C_)([[i.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,i.items.amount]]),i.errors.amount?((0,s.wg)(),(0,s.iD)("label",bdt,(0,et.zw)(i.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",_dt,[kdt,(0,s.wy)((0,s._)("select",{onChange:e[4]||(e[4]=t=>i.errors.product_id=null),"onUpdate:modelValue":e[5]||(e[5]=t=>i.items.product_id=t),class:(0,et.C_)([[i.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Cdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,Ddt)))),128))],34),[[a.bM,i.items.product_id]]),i.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Sdt,(0,et.zw)(i.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==l.user.role?((0,s.wg)(),(0,s.iD)("div",zdt,[Udt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>i.errors.marketer_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>i.items.marketer_id=t),class:(0,et.C_)([[i.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Pdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Ldt)))),128))],34),[[a.bM,i.items.marketer_id]]),i.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",Adt,(0,et.zw)(i.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",$dt,[qdt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.items.ads_at=t),onInput:e[9]||(e[9]=t=>i.errors.ads_at=null),class:(0,et.C_)([[i.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.items.ads_at]]),(0,s._)("label",Wdt,(0,et.zw)(i.errors.ads_at),1)]),(0,s._)("div",Edt,[Tdt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.items.note=t),onInput:e[11]||(e[11]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,i.items.note]])])])]),(0,s._)("div",Odt,[(0,s._)("button",{onClick:e[12]||(e[12]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>l.handleUpdate&&l.handleUpdate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Fdt],8,Idt)])])])),_:1},8,["visible","onCancel"])])}const Rdt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),jdt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},Ndt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Mdt=(t,e)=>{t.isLoading=!0,t.errors={},Klt.update(e.id,e).then((e=>jdt(t,e.data))).catch((e=>Ndt(t,e.response.data))).finally((()=>t.isLoading=!1))};var Hdt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,sources:["facebook","Google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=Rdt(this,this.items);if(!t)return!1;Mdt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const Ydt=(0,p.Z)(Hdt,[["render",Vdt]]);var Zdt=Ydt,Kdt={components:{UpdatePopup:Zdt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const Bdt=(0,p.Z)(Kdt,[["render",ddt]]);var Qdt=Bdt,Gdt={components:{TableActions:Qdt},props:{item:{required:!0}},data(){return{moment:lg()}},computed:{},methods:{}};const Jdt=(0,p.Z)(Gdt,[["render",odt]]);var Xdt=Jdt,twt={components:{TablePaginationNoNums:Nnt,TableRow:Xdt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const ewt=(0,p.Z)(twt,[["render",znt]]);var rwt=ewt;const awt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},swt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},owt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),iwt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),lwt=[iwt],nwt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),dwt=[nwt],wwt=["disabled"],cwt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),uwt=[cwt],pwt={class:"tw-relative"},mwt=["value"],gwt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),hwt=[gwt],fwt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ywt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},vwt=["value"],xwt={class:"tw-overflow-hidden tw-col-span-1"},bwt={class:"tw-overflow-hidden tw-col-span-1"};function _wt(t,e,r,o,i,l){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",awt,[(0,s._)("div",swt,[owt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>i.showFilters=!i.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lwt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>i.showStatistics=!i.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},dwt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},uwt,8,wwt),(0,s._)("div",pwt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},hwt,40,mwt),fwt])]),(0,s._)("div",ywt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,vwt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[i.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xwt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[i.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bwt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const kwt={class:"tw-mb-4"},Cwt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Dwt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Swt={class:"tw-flex tw-items-center tw-justify-between"},zwt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Uwt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Pwt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",kwt,[(0,s._)("div",Cwt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Dwt,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[i.getConfirmation(t.confirmation).textLight,i.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",Swt,[(0,s._)("span",zwt,(0,et.zw)(t.total),1),(0,s._)("span",Uwt,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var Lwt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return On.find((e=>e.value==t))}}};const Awt=(0,p.Z)(Lwt,[["render",Pwt]]);var $wt=Awt;const qwt={class:"tw-mb-4"},Wwt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Ewt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Twt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Owt=["value"],Iwt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Fwt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Vwt=["value"],Rwt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jwt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),Nwt=["value"],Mwt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Hwt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),Ywt=["value"],Zwt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Kwt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Bwt=(0,s._)("span",null,"Clear",-1),Qwt=[Kwt,Bwt],Gwt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Jwt=(0,s._)("span",null,"Filter",-1),Xwt=[Gwt,Jwt];function tct(t,e,r,a,o,i){const l=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),d=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",qwt,[(0,s._)("div",Wwt,[(0,s._)("div",Ewt,[Twt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Owt)]),(0,s._)("div",Iwt,[Fwt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Vwt)]),(0,s._)("div",Rwt,[jwt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Nwt)]),(0,s._)("div",Mwt,[Hwt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ywt)]),(0,s.Wm)(l,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Zwt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Qwt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Xwt)])])])}const ect={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rct=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),act=["value"],sct=(0,s._)("option",{value:"all"},"All",-1),oct=["value"];function ict(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",ect,[rct,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[sct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,oct)))),128))],40,act)])}var lct={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const nct=(0,p.Z)(lct,[["render",ict]]);var dct=nct;const wct={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cct=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),uct=["value"],pct=(0,s._)("option",{value:"all"},"All",-1),mct=["value"];function gct(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",wct,[cct,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[pct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,mct)))),128))],40,uct)])}var hct={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const fct=(0,p.Z)(hct,[["render",gct]]);var yct=fct;const vct={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xct=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),bct=["value"],_ct=(0,s._)("option",{value:"all"},"All",-1),kct=["value"];function Cct(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",vct,[xct,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_ct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,et.zw)(t),9,kct)))),128))],40,bct)])}var Dct={props:{filters:{required:!0}},data(){return{sources:["facebook","Google","tiktok","snapchat"]}}};const Sct=(0,p.Z)(Dct,[["render",Cct]]);var zct=Sct,Uct={components:{MarketerFilter:dct,ProductFilter:yct,SourceFilter:zct},props:{filters:{required:!0,default:{}}},data(){return{}}};const Pct=(0,p.Z)(Uct,[["render",tct]]);var Lct=Pct,Act={components:{IndexStatistics:$wt,FiltersWrapper:Lct},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const $ct=(0,p.Z)(Act,[["render",_wt]]);var qct=$ct;const Wct={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Ect=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),Tct={class:"tw-bg-white tw-p-4"},Oct={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Ict={class:"tw-col-span-2 md:tw-col-span-1"},Fct=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),Vct=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),Rct=["value"],jct={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nct={class:"tw-col-span-2 md:tw-col-span-1"},Mct=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),Hct={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Yct={class:"tw-col-span-2 md:tw-col-span-1"},Zct=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),Kct=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Bct=["value"],Qct={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Gct={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Jct=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),Xct=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),tut=["value"],eut={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rut={class:"md:tw-col-span-1 tw-col-span-2"},aut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),sut={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},out={class:"tw-col-span-2"},iut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),lut={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nut=["disabled"],dut=(0,s._)("span",null,"Create",-1);function wut(t,e,r,o,i,l){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Wct,[Ect,(0,s._)("div",Tct,[(0,s._)("div",Oct,[(0,s._)("div",Ict,[Fct,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>i.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>i.items.source=t),class:(0,et.C_)([[i.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Vct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,et.zw)(t),9,Rct)))),128))],34),[[a.bM,i.items.source]]),i.errors.source?((0,s.wg)(),(0,s.iD)("label",jct,(0,et.zw)(i.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",Nct,[Mct,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.items.amount=t),onInput:e[3]||(e[3]=t=>i.errors.amount=null),class:(0,et.C_)([[i.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,i.items.amount]]),i.errors.amount?((0,s.wg)(),(0,s.iD)("label",Hct,(0,et.zw)(i.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Yct,[Zct,(0,s.wy)((0,s._)("select",{onChange:e[4]||(e[4]=t=>i.errors.product_id=null),"onUpdate:modelValue":e[5]||(e[5]=t=>i.items.product_id=t),class:(0,et.C_)([[i.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Kct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,Bct)))),128))],34),[[a.bM,i.items.product_id]]),i.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Qct,(0,et.zw)(i.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==l.user.role?((0,s.wg)(),(0,s.iD)("div",Gct,[Jct,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>i.errors.marketer_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>i.items.marketer_id=t),class:(0,et.C_)([[i.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Xct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,tut)))),128))],34),[[a.bM,i.items.marketer_id]]),i.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",eut,(0,et.zw)(i.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",rut,[aut,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.items.ads_at=t),onInput:e[9]||(e[9]=t=>i.errors.ads_at=null),class:(0,et.C_)([[i.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,i.items.ads_at]]),(0,s._)("label",sut,(0,et.zw)(i.errors.ads_at),1)]),(0,s._)("div",out,[iut,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.items.note=t),onInput:e[11]||(e[11]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,i.items.note]])])])]),(0,s._)("div",lut,[(0,s._)("button",{onClick:e[12]||(e[12]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>l.handleCreate&&l.handleCreate(...t)),disabled:i.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[i.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),dut],8,nut)])])])),_:1},8,["visible","onCancel"])])}const cut=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},uut=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},put=(t,e)=>{t.isLoading=!0,t.errors={},Klt.create(e).then((e=>cut(t,e.data))).catch((e=>uut(t,e.response.data))).finally((()=>t.isLoading=!1))};var mut={components:{},props:{visible:{required:!0}},data(){return{isLoading:!1,sources:["facebook","Google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:0,amount:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=Rdt(this,this.items);if(!t)return!1;put(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const gut=(0,p.Z)(mut,[["render",wut]]);var hut=gut,fut={components:{IndexTable:rwt,IndexFilters:qct,CreatePopup:hut},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Klt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const yut=(0,p.Z)(fut,[["render",Ylt]]);var vut=yut,xut={name:"ads",path:"/ads",component:da,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:vut,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const but={class:"mb-5 tw-flex tw-justify-between tw-items-center"},_ut=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),kut=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),Cut={key:0},Dut={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},Sut={class:"tw-flex tw-items-center tw-gap-2"},zut=(0,s._)("h1",null,"Application's email",-1),Uut={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},Put=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),Lut={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Aut={class:"mb-5 tw-flex"},$ut={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},qut={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Wut={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Eut=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Tut={class:"tw-relative"},Out={class:""};function Iut(t,e,r,o,i,l){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("SheetsTable"),w=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:l.sheets.length},[(0,s._)("div",but,[_ut,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>i.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),kut])),_:1})):(0,s.kq)("",!0)])]),i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cut,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dut,[(0,s._)("div",Sut,[zut,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.copy&&l.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(st.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",Uut,(0,et.zw)(i.email),1),Put])):(0,s.kq)("",!0),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Lut,[(0,s._)("div",Aut,[(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=t=>i.showFilters=!i.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",$ut,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:i.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,i.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":i.showFilters}])},[(0,s._)("div",qut,[(0,s._)("div",Wut,[Eut,(0,s._)("div",Tut,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>i.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,i.date]])])])])],2),(0,s._)("div",Out,[(0,s.Wm)(d,{sheets:l.sheets},null,8,["sheets"])]),(0,s.Wm)(w,{onCancel:e[5]||(e[5]=t=>i.showPopup=!1),visible:i.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Fut={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Vut={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Rut={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},jut=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Nut={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mut={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Hut={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Yut=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Zut=["value"],Kut={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},But={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Qut={class:"tw-text-white"};function Gut(t,e,r,o,i,l){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Fut,[(0,s._)("table",Vut,[(0,s._)("thead",Rut,[(0,s._)("tr",null,[jut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Nut,(0,et.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",Mut,[(0,s._)("div",Hut,[Yut,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Zut)))),128))],512),[[a.bM,i.paginationLimit]])]),(0,s._)("div",Kut,[(0,s._)("div",But,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(i.currentPage==l.pageCount?r.sheets.length:l.nextRange)+" of "+(0,et.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>i.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==i.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Qut,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Jut={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Xut=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),tpt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},ept={class:"tw-px-6 tw-py-4"},rpt={class:"tw-px-6 tw-py-4"},apt={class:"tw-px-6 tw-py-4"},spt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},opt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},ipt=["disabled"],lpt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),npt={class:"tw-px-6 tw-py-4"},dpt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function wpt(t,e,r,o,i,l){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",Jut,[Xut,(0,s._)("th",tpt,(0,et.zw)(r.sheet.id),1),(0,s._)("td",ept,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,et.zw)(r.sheet.name),1)])]),(0,s._)("td",rpt,[(0,s._)("div",null,(0,et.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",apt,[(0,s._)("div",spt,[(0,s._)("label",opt,[(0,s.wy)((0,s._)("input",{disabled:i.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>l.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,ipt),[[a.e8,l.autoFetch]]),lpt]),i.isLoadingAuto?((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",npt,(0,et.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",dpt,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const cpt={key:0};function upt(t,e,r,a,o,i){const l=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),d=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",cpt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:i.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:(0,et.C_)([o.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(l,{visible:o.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>o.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:o.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>o.showSheetPopup=t),sheet:r.sheet,orders:o.orders,onCancel:e[5]||(e[5]=t=>o.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const ppt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},mpt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),gpt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},hpt={class:"md:tw-col-span-6 tw-col-span-12"},fpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),ypt={class:"md:tw-col-span-6 tw-col-span-12"},vpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),xpt={class:"md:tw-col-span-12 tw-col-span-12"},bpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),_pt={class:"md:tw-col-span-6 tw-col-span-12"},kpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),Cpt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Dpt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Spt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},zpt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Upt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Ppt(t,e,r,o,i,l){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",ppt,[mpt,(0,s._)("div",gpt,[(0,s._)("div",hpt,[fpt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.newSheet.name]])]),(0,s._)("div",ypt,[vpt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.newSheet.sheet_name]])]),(0,s._)("div",xpt,[bpt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>i.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.newSheet.sheet_id]])]),(0,s._)("div",_pt,[kpt,(0,s._)("label",Cpt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,i.newSheet.auto_fetch]]),Dpt])])]),(0,s._)("div",Spt,[(0,s.Wm)(rt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zpt])),_:1}),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Upt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Lpt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;ra.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Apt=(0,p.Z)(Lpt,[["render",Ppt]]);var $pt=Apt;const qpt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Wpt={key:0},Ept={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Tpt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),Opt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},Ipt={class:"tw-relative tw-overflow-x-auto"},Fpt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},Vpt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Rpt={class:"tw-px-6 tw-py-2"},jpt={class:"tw-px-6 tw-py-2"},Npt={class:"tw-px-6 tw-py-2"},Mpt={class:"tw-px-6 tw-py-2"},Hpt={class:"tw-px-6 tw-py-2"},Ypt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Zpt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Kpt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function Bpt(t,e,r,a,o,i){const l=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qpt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Wpt,[(0,s._)("div",Ept,[Tpt,(0,s._)("div",Opt,(0,et.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",Ipt,[(0,s._)("table",Fpt,[Vpt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Rpt,(0,et.zw)(t["Full name"]),1),(0,s._)("td",jpt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,et.zw)(t),1)))),128))])]),(0,s._)("td",Npt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,et.zw)(t),1)))),128))])]),(0,s._)("td",Mpt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,et.zw)(t),1)))),128))])]),(0,s._)("td",Hpt,(0,et.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",Ypt,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Zpt])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:i.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kpt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var Qpt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,ra.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const Gpt=(0,p.Z)(Qpt,[["render",Bpt]]);var Jpt=Gpt,Xpt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:$pt,SheetOrders:Jpt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,ra["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,ra.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const tmt=(0,p.Z)(Xpt,[["render",upt]]);var emt=tmt,rmt={props:["sheet"],components:{SheetActions:emt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,ra.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const amt=(0,p.Z)(rmt,[["render",wpt]]);var smt=amt,omt={props:["sheets"],components:{SheetRow:smt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const imt=(0,p.Z)(omt,[["render",Gut]]);var lmt=imt;const nmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},dmt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),wmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},cmt={class:"md:tw-col-span-6 tw-col-span-12"},umt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),pmt={class:"md:tw-col-span-6 tw-col-span-12"},mmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),gmt={class:"md:tw-col-span-12 tw-col-span-12"},hmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),fmt={class:"md:tw-col-span-6 tw-col-span-12"},ymt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),vmt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xmt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),bmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},_mt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),kmt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Cmt(t,e,r,o,i,l){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",nmt,[dmt,(0,s._)("div",wmt,[(0,s._)("div",cmt,[umt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sheet.name]])]),(0,s._)("div",pmt,[mmt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>i.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sheet.sheet_name]])]),(0,s._)("div",gmt,[hmt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>i.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,i.sheet.sheet_id]])]),(0,s._)("div",fmt,[ymt,(0,s._)("label",vmt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,i.sheet.auto_fetch]]),xmt])])]),(0,s._)("div",bmt,[(0,s.Wm)(rt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[_mt])),_:1}),(0,s.Wm)(rt.T,{loading:i.isLoading,onClick:l.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[kmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Dmt={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;ra.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Smt=(0,p.Z)(Dmt,[["render",Cmt]]);var zmt=Smt,Umt={components:{SheetsTable:lmt,AddSheet:zmt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,ra.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const Pmt=(0,p.Z)(Umt,[["render",Iut]]);var Lmt=Pmt,Amt={name:"sheets",path:"/sheets",component:da,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:Lmt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const $mt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},qmt={class:"tw-px-3"},Wmt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Emt={class:"tw-flex tw-items-center tw-gap-x-3"},Tmt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),Omt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Imt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),Fmt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Vmt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Rmt=(0,s._)("span",null,"Create",-1),jmt=[Vmt,Rmt],Nmt={key:1};function Mmt(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",$mt,[(0,s._)("section",qmt,[(0,s._)("div",Wmt,[(0,s._)("div",null,[(0,s._)("div",Emt,[Tmt,(0,s._)("span",Omt,(0,et.zw)(o.totalOrders)+" order",1)]),Imt]),(0,s._)("div",Fmt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},jmt)])]),(0,s.Wm)(l,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>i.handlePerPageChange(o.per_page)),onClear:i.handleClearFilters,onPerPageChange:i.handlePerPageChange,onFresh:i.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:i.handleItemUpdate,onPageChange:i.handlePageChange,onSortOrder:i.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Nmt,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Hmt={class:"tw-mb-4"},Ymt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},Zmt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},Kmt={class:"tw-flex tw-items-center tw-gap-2"},Bmt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},Qmt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),Gmt={class:"tw-flex tw-items-center tw-gap-2"},Jmt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Xmt=(0,s._)("span",null," Clear Selection ",-1),tgt=[Jmt,Xmt],egt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),rgt=(0,s._)("span",null," Actions ",-1),agt=[egt,rgt],sgt={key:0};function ogt(t,e,r,a,o,i){const l=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",Hmt,[(0,s._)("div",Ymt,[(0,s._)("div",Zmt,[(0,s._)("div",Kmt,[(0,s._)("div",Bmt,(0,et.zw)(r.selected.length),1),Qmt]),(0,s._)("div",Gmt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},tgt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},agt)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",sgt,[(0,s.Wm)(l,{selected:r.selected,onUpdate:i.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const igt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},lgt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},ngt=(0,s._)("span",null,"Quick Actions",-1),dgt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},wgt={class:"tw-bg-white tw-p-4"},cgt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},ugt={class:"tw-col-span-2 md:tw-col-span-1"},pgt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},mgt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},ggt=(0,s._)("span",null,"Apply",-1);function hgt(t,e,r,a,o,i){const l=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",igt,[(0,s._)("div",lgt,[ngt,(0,s._)("span",dgt,(0,et.zw)(r.selected.length),1)]),(0,s._)("div",wgt,[(0,s._)("div",cgt,[(0,s._)("div",ugt,[(0,s.Wm)(l,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",pgt,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",mgt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>i.execute&&i.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ggt])])])])),_:1},8,["visible","closeable","onCancel"])])}const fgt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),ygt={class:"tw-relative"},vgt=["value"],xgt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function bgt(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[fgt,(0,s._)("div",ygt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.vaction=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,vgt)))),128))],512),[[a.bM,l.vaction]]),xgt]),(0,s.kq)("",!0)])}var _gt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const kgt=(0,p.Z)(_gt,[["render",bgt]]);var Cgt=kgt;const Dgt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),Sgt={class:"tw-relative"},zgt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),Ugt=["value"],Pgt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function Lgt(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[Dgt,(0,s._)("div",Sgt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.vvalue=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[zgt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,Ugt)))),128))],512),[[a.bM,l.vvalue]]),Pgt]),(0,s.kq)("",!0)])}var Agt={props:{value:{required:!0}},data(){return{statuses:Fn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const $gt=(0,p.Z)(Agt,[["render",Lgt]]);var qgt=$gt,Wgt=(t,e)=>{t.isLoading=!0,dH.execute(e).then((e=>Egt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const Egt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var Tgt={components:{BulkSelectAction:Cgt,BulkDeliveryAction:qgt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};Wgt(this,t)}}};const Ogt=(0,p.Z)(Tgt,[["render",hgt]]);var Igt=Ogt,Fgt={components:{BulkPopup:Igt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const Vgt=(0,p.Z)(Fgt,[["render",ogt]]);var Rgt=Vgt,jgt={components:{IndexTable:GQ,IndexFilters:IJ,CreatePopup:IX,BulkActions:Rgt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Xi.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const Ngt=(0,p.Z)(jgt,[["render",Mmt]]);var Mgt=Ngt,Hgt={path:"/followup",name:"followup",component:da,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:Mgt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const Ygt={class:"tw-pb-40"},Zgt={class:"tw-space-y-3"};function Kgt(t,e,r,a,o,i){const l=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),d=(0,s.up)("IndexRevenue"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",Ygt,[(0,s._)("div",Zgt,[(0,s.Wm)(l),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:i.handleFilter},null,8,["onFilter"]),(0,s.Wm)(d,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(w,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])])}const Bgt={class:"tw-bg-white tw-p-5"},Qgt={class:"tw-flex tw-items-center tw-justify-between"},Ggt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),Jgt={class:"tw-relative tw-flex tw-items-center"},Xgt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),tht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},eht=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),rht={key:0,class:""},aht={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},sht=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),oht=[sht],iht={key:1,class:"tw-min-h-[50px]"},lht={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},nht={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},dht={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},wht={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},cht={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},uht={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},pht={class:"tw-font-bold"},mht={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},ght={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},hht={key:1},fht={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},yht={key:1,class:"tw-flex tw-items-center tw-gap-2"};function vht(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)("div",Bgt,[(0,s._)("div",Qgt,[Ggt,(0,s._)("div",Jgt,[Xgt,(0,s._)("label",tht,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>i.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,i.showAll]]),eht])])]),i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rht,[(0,s._)("div",aht,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},oht))),64))])])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",iht,[(0,s._)("div",lht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",nht,[(0,s._)("div",dht,[t.last_action?1==l.isOnline(l.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",cht)):((0,s.wg)(),(0,s.iD)("div",uht)):((0,s.wg)(),(0,s.iD)("div",wht)),(0,s._)("span",pht,(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),1)]),(0,s._)("div",mht,[t.last_action?((0,s.wg)(),(0,s.iD)("div",hht,[1==l.isOnline(l.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",fht," Online ")):((0,s.wg)(),(0,s.iD)("div",yht,(0,et.zw)(l.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",ght," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var xht={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?lg()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?lg()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Xa.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const bht=(0,p.Z)(xht,[["render",vht]]);var _ht=bht;const kht={class:"tw-bg-white"},Cht={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},Dht={class:"tw-p-5"};function Sht(t,e,r,a,o,i){const l=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",kht,[(0,s._)("div",Cht,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.active=1),class:(0,et.C_)([[1==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.active=2),class:(0,et.C_)([[2==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",Dht,[1==o.active?((0,s.wg)(),(0,s.j4)(l,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==o.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const zht={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Uht=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Pht=[Uht],Lht={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function Aht(t,e,r,a,o,i){const l=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",zht,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Pht))),64))])):((0,s.wg)(),(0,s.iD)("div",Lht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const $ht={class:"tw-flex tw-justify-between"},qht={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Wht={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},Eht={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Tht={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Oht(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,et.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",$ht,[(0,s._)("div",null,[(0,s._)("div",qht,[(0,s._)("p",Wht,(0,et.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Eht,[(0,s._)("span",Tht,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var Iht={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const Fht=(0,p.Z)(Iht,[["render",Oht]]);var Vht=Fht,Rht={components:{DashboardCard:Vht},props:{statistics:{required:!0},fetching:{required:!0}}};const jht=(0,p.Z)(Rht,[["render",Aht]]);var Nht=jht;const Mht={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Hht=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Yht=[Hht],Zht={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function Kht(t,e,r,a,o,i){const l=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",Mht,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Yht))),64))])):((0,s.wg)(),(0,s.iD)("div",Zht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var Bht={components:{DashboardCard:Vht},props:{statistics:{required:!0},fetching:{required:!0}}};const Qht=(0,p.Z)(Bht,[["render",Kht]]);var Ght=Qht,Jht={components:{ConfirmationTab:Nht,DeliveryTab:Ght},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const Xht=(0,p.Z)(Jht,[["render",Sht]]);var tft=Xht;const eft={class:"tw-bg-white tw-p-5"},rft=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),aft={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},sft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ift=(0,s._)("option",{value:"all",selected:""},"All",-1),lft=["value"],nft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),wft=(0,s._)("option",{value:"all",selected:""},"All",-1),cft=["value"],uft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),mft=(0,s._)("option",{value:"all",selected:""},"All",-1),gft=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),hft=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),fft=[mft,gft,hft],yft={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},vft=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),xft=(0,s._)("span",null,"Clear",-1),bft=[vft,xft],_ft=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),kft=(0,s._)("span",null,"Filter",-1),Cft=[_ft,kft];function Dft(t,e,r,o,i,l){const n=(0,s.up)("DateFilter"),d=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter"),c=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",eft,[rft,(0,s._)("div",aft,[(0,s.Wm)(n,{from:i.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>i.filters.created_from=t),to:i.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>i.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:i.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>i.filters.dropped_from=t),to:i.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>i.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(d,{filters:i.filters,onUpdate:e[4]||(e[4]=t=>i.filters=t)},null,8,["filters"]),(0,s._)("div",sft,[oft,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ift,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,et.zw)(t.name),11,lft)))),128))],512),[[a.bM,i.filters.confirmation]])]),(0,s.Wm)(w,{filters:i.filters,onUpdate:e[6]||(e[6]=t=>i.filters=t)},null,8,["filters"]),(0,s._)("div",nft,[dft,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>i.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[wft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,et.zw)(t.name),11,cft)))),128))],512),[[a.bM,i.filters.delivery]])]),(0,s.Wm)(c,{filters:i.filters,onUpdate:e[8]||(e[8]=t=>i.filters=t)},null,8,["filters"]),(0,s._)("div",uft,[pft,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>i.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},fft,512),[[a.bM,i.filters.upsell]])]),(0,s._)("div",yft,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>l.clear&&l.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},bft),(0,s._)("button",{onClick:e[11]||(e[11]=(...t)=>l.filter&&l.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Cft)])])])}const Sft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Uft=["value"],Pft=(0,s._)("option",{value:"all"},"All",-1),Lft=(0,s._)("option",{value:""},"No Delivery",-1),Aft=["value"];function $ft(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Sft,[zft,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Pft,Lft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Aft)))),128))],40,Uft)])}var qft={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Wft=(0,p.Z)(qft,[["render",$ft]]);var Eft=Wft;const Tft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Oft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Ift=["value"],Fft=(0,s._)("option",{value:"all"},"All",-1),Vft=(0,s._)("option",{value:""},"No Agent",-1),Rft=["value"];function jft(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Tft,[Oft,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Fft,Vft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Rft)))),128))],40,Ift)])}var Nft={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Mft=(0,p.Z)(Nft,[["render",jft]]);var Hft=Mft;const Yft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Zft=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Kft=["value"],Bft=(0,s._)("option",{value:"all"},"All",-1),Qft=["value"];function Gft(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Yft,[Zft,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Bft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,Qft)))),128))],40,Kft)])}var Jft={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const Xft=(0,p.Z)(Jft,[["render",Gft]]);var tyt=Xft;const eyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ryt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ayt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),syt=[ayt],oyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iyt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},lyt=["value"],nyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dyt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},wyt=["value"];function cyt(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",eyt,[(0,s._)("label",ryt,(0,et.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},syt,512),[[a.bM,i.filterBy]])]),"custom"==i.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",oyt,[(0,s._)("label",iyt,(0,et.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>l.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,lyt)]),(0,s._)("div",nyt,[(0,s._)("label",dyt,(0,et.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>l.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,wyt)])],64)):(0,s.kq)("",!0)],64)}var uyt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=lg()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=lg()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=lg()().startOf("month").format("YYYY-MM-DD"),a=lg()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=lg()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=lg()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const pyt=(0,p.Z)(uyt,[["render",cyt]]);var myt=pyt,gyt={components:{AffectationFilter:Eft,AgentFilter:Hft,ProductFilter:tyt,DateFilter:myt},props:{},data(){return{confirmations:En,deliveries:Fn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const hyt=(0,p.Z)(gyt,[["render",Dft]]);var fyt=hyt;const yyt={key:0},vyt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function xyt(t,e,r,a,o,i){const l=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",yyt,[(0,s._)("div",vyt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const byt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},_yt={class:"tw-flex tw-justify-between"},kyt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Cyt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},Dyt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Syt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function zyt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",byt,[(0,s._)("div",_yt,[(0,s._)("div",null,[(0,s._)("div",kyt,[(0,s._)("p",Cyt,(0,et.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Dyt,[(0,s._)("span",Syt,(0,et.zw)(i.format(r.value)),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var Uyt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const Pyt=(0,p.Z)(Uyt,[["render",zyt]]);var Lyt=Pyt,Ayt={components:{RevenueCard:Lyt},props:{statistics:{required:!0},fetching:{required:!0}}};const $yt=(0,p.Z)(Ayt,[["render",xyt]]);var qyt=$yt,Wyt={components:{OnlineUsers:_ht,IndexStatistics:tft,IndexFilters:fyt,IndexRevenue:qyt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,eh.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const Eyt=(0,p.Z)(Wyt,[["render",Kgt]]);var Tyt=Eyt;const Oyt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Iyt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Fyt=[Iyt];function Vyt(t,e,r,a,o,i){const l=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Oyt,[o.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Fyt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.dashes,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const Ryt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},jyt={class:"tw-flex tw-justify-between"},Nyt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Myt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},Hyt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Yyt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Zyt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ryt,[(0,s._)("div",jyt,[(0,s._)("div",null,[(0,s._)("div",Nyt,[(0,s._)("p",Myt,(0,et.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Hyt,[(0,s._)("span",Yyt,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var Kyt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const Byt=(0,p.Z)(Kyt,[["render",Zyt]]);var Qyt=Byt,Gyt={components:{DashCard:Qyt},data(){return{fetching:!0,dashes:[]}},mounted(){E.statistics().then((t=>{this.dashes=t.data.data.statistics,this.fetching=!1}))}};const Jyt=(0,p.Z)(Gyt,[["render",Vyt]]);var Xyt=Jyt;const tvt={class:"tw-pb-40"},evt={class:"tw-space-y-3"};function rvt(t,e,r,a,o,i){const l=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",tvt,[(0,s._)("div",evt,[(0,s.Wm)(l,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:i.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:o.analytics,fetching:o.fetching},null,8,["analytics","fetching"])])])}const avt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},svt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),ovt=[svt],ivt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function lvt(t,e,r,a,o,i){const l=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",avt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},ovt))),64))])):((0,s.wg)(),(0,s.iD)("div",ivt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(l,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const nvt={class:"tw-flex tw-justify-between"},dvt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},wvt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},cvt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},uvt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function pvt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,et.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",nvt,[(0,s._)("div",null,[(0,s._)("div",dvt,[(0,s._)("p",wvt,(0,et.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",cvt,[(0,s._)("span",uvt,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var mvt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const gvt=(0,p.Z)(mvt,[["render",pvt]]);var hvt=gvt,fvt={components:{DashboardCard:hvt},props:{analytics:{required:!0},fetching:{required:!0}}};const yvt=(0,p.Z)(fvt,[["render",lvt]]);var vvt=yvt;const xvt={class:"tw-bg-white tw-p-5"},bvt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),_vt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},kvt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Cvt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Dvt=(0,s._)("span",null,"Clear",-1),Svt=[Cvt,Dvt],zvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Uvt=(0,s._)("span",null,"Filter",-1),Pvt=[zvt,Uvt];function Lvt(t,e,r,a,o,i){const l=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",xvt,[bvt,(0,s._)("div",_vt,[(0,s.Wm)(l,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(l,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[4]||(e[4]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[5]||(e[5]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",kvt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Svt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Pvt)])])])}const Avt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$vt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),qvt=["value"],Wvt=(0,s._)("option",{value:"all"},"All",-1),Evt=["value"];function Tvt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Avt,[$vt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Wvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Evt)))),128))],40,qvt)])}var Ovt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Ivt=(0,p.Z)(Ovt,[["render",Tvt]]);var Fvt=Ivt;const Vvt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Rvt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),jvt=["value"],Nvt=(0,s._)("option",{value:"all"},"All",-1),Mvt=["value"];function Hvt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Vvt,[Rvt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Nvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,Mvt)))),128))],40,jvt)])}var Yvt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const Zvt=(0,p.Z)(Yvt,[["render",Hvt]]);var Kvt=Zvt;const Bvt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Qvt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Gvt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),Jvt=[Gvt],Xvt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},txt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ext=["value"],rxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},axt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sxt=["value"];function oxt(t,e,r,o,i,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Bvt,[(0,s._)("label",Qvt,(0,et.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Jvt,512),[[a.bM,i.filterBy]])]),"custom"==i.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Xvt,[(0,s._)("label",txt,(0,et.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>l.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ext)]),(0,s._)("div",rxt,[(0,s._)("label",axt,(0,et.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>l.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sxt)])],64)):(0,s.kq)("",!0)],64)}var ixt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=lg()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=lg()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=lg()().startOf("month").format("YYYY-MM-DD"),a=lg()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=lg()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=lg()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const lxt=(0,p.Z)(ixt,[["render",oxt]]);var nxt=lxt,dxt={components:{SellerFilter:Fvt,ProductFilter:Kvt,DateFilter:nxt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const wxt=(0,p.Z)(dxt,[["render",Lvt]]);var cxt=wxt,uxt={components:{IndexAnalytics:vvt,IndexFilters:cxt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,eh.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const pxt=(0,p.Z)(uxt,[["render",rvt]]);var mxt=pxt,gxt={name:"dashboards",path:"/dashboards",component:da,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:Tyt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:mxt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:Xyt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};const hxt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),fxt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},yxt={class:"tw-flex tw-items-center tw-flex-col"},vxt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),xxt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},bxt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function _xt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[hxt,(0,s._)("div",fxt,[(0,s._)("div",yxt,[vxt,(0,s._)("div",xxt,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),bxt])])])}var kxt={};const Cxt=(0,p.Z)(kxt,[["render",_xt]]);var Dxt=Cxt;const Sxt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function zxt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Sxt,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:i.sendRequest,loading:o.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const Uxt="api/orders/count",Pxt="get";var Lxt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},Axt={data(){return{isLoading:!1,test:Lxt}},methods:{async sendRequest(){switch(this.isLoading=!0,await q.getCookie(),Pxt){case"get":A.get(Uxt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(Uxt,Lxt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](Uxt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const $xt=(0,p.Z)(Axt,[["render",zxt]]);var qxt=$xt;const Wxt=[Nt,xut,ep,gxt,US,WL,jX,d8,z9,aat,_st,Iot,Elt,Amt,Hgt,{name:"default",path:"/test",component:da,children:[{name:"test",path:"",component:qxt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:da,meta:{title:"Not Found"},children:[{name:"404",path:"",component:Dxt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],Ext=(0,h.p7)({history:(0,h.PO)("/"),routes:Wxt});Ext.beforeEach(((t,e)=>tt(t,e,Ext)));var Txt=Ext,Oxt=(r(9773),r(8957));const Ixt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var Fxt=(0,Oxt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:Ixt}}});const Vxt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Rxt=Vxt;const jxt={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var Nxt=jxt;const Mxt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",o=!0;const i=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(i.includes(r)&&(o=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":o=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":o=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":o=!1,document.getElementById("app").innerHTML="";break;default:break}return o&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var Hxt=Mxt,Yxt=r(7025);const Zxt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),Kxt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Bxt=Zxt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Qxt=[Bxt];function Gxt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",Kxt,Qxt)}var Jxt={};const Xxt=(0,p.Z)(Jxt,[["render",Gxt],["__scopeId","data-v-ff4afcd0"]]);var tbt=Xxt;const ebt={class:"tw-flex tw-justify-center tw-items-center"},rbt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),abt=[rbt];function sbt(t,e,r,a,o,i){return(0,s.wg)(),(0,s.iD)("div",ebt,abt)}var obt={};const ibt=(0,p.Z)(obt,[["render",sbt]]);var lbt=ibt;const nbt={key:0},dbt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},wbt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},cbt=["innerHTML"],ubt={key:1,class:"tw-text-lg tw-text-gray-700"},pbt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function mbt(t,e,r,a,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",nbt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",dbt,[(0,s._)("div",wbt,[(0,s._)("div",{class:(0,et.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",i.currentType.class])},[(0,s.Wm)(st.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(i.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,et.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,cbt)):((0,s.wg)(),(0,s.iD)("div",ubt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(ir.C),(0,s._)("div",pbt,[(0,s.Wm)(rt.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>i.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(rt.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>i.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>i.resolve(!1)),class:(0,et.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var gbt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const hbt=(0,p.Z)(gbt,[["render",mbt]]);var fbt=hbt;const ybt={key:0},vbt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function xbt(t,e,r,o,i,l){return r.visible?((0,s.wg)(),(0,s.iD)("div",ybt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",vbt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>l.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>l.resolve(!1)),class:(0,et.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var bbt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const _bt=(0,p.Z)(bbt,[["render",xbt]]);var kbt=_bt,Cbt=r(2340),Dbt=r(5781),Sbt=r.n(Dbt);const zbt={key:0},Ubt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function Pbt(t,e,r,o,i,l){return r.visible?((0,s.wg)(),(0,s.iD)("div",zbt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",Ubt,[(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[i.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>l.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>l.resolve(!1)),class:(0,et.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var Lbt={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const Abt=(0,p.Z)(Lbt,[["render",Pbt]]);var $bt=Abt,qbt=(0,a.ri)(g).use(Txt).use(G).use(Fxt).use(Rxt).use(Nxt).use(Hxt).use(Yxt.Z).component("LoadingAnimation",tbt).component("Loading",lbt).component("Popup",fbt).component("PopupFull",kbt).component("VueDatePicker",Cbt.Z).component("downloadCsv",Sbt()).component("popupNew",$bt).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,o){if(!a){var i=1/0;for(w=0;w<t.length;w++){a=t[w][0],s=t[w][1],o=t[w][2];for(var l=!0,n=0;n<a.length;n++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(l=!1,o<i&&(i=o));if(l){t.splice(w--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var w=t.length;w>0&&t[w-1][2]>o;w--)t[w]=t[w-1];t[w]=[a,s,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,i=a[0],l=a[1],n=a[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(s in l)r.o(l,s)&&(r.m[s]=l[s]);if(n)var w=n(r)}for(e&&e(a);d<i.length;d++)o=i[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(w)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(5427)}));a=r.O(a)})();
//# sourceMappingURL=app.133e4abe.js.map