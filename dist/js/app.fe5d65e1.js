(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id=6700},7230:function(t,e,r){"use strict";r.d(e,{Z:function(){return lOt}});var a=r(9242),s=r(3396),o=r(7718);function l(t,e,r,a,l,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(o.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var i=r(7139);const n="https://vldo.shop/",w="https://api.vldo.shop/",d="1.0.1",c="$";var u={name:"App",data:()=>({theme:"light",version:d}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},p=r(89);const m=(0,p.Z)(u,[["render",l],["__scopeId","data-v-4a3ad42f"]]);var g=m,h=r(2483);let f={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var b={name:"user",namespaced:!0,state:f,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},x={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let y={products:[],fetched:!1};var v={name:"product",namespaced:!0,state:y,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},_={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};r(541);let k={fetched:!1,sales:[],count:0};var C={name:"sale",namespaced:!0,state:k,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let D={orders:[],order:null,all_orders:[],fetched:!1};var S={name:"order",namespaced:!0,state:D,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let z={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var U={name:"inventory",namespaced:!0,state:z,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},P=r(6943);const L=P.Z.create({baseURL:w}),q=P.Z.create({baseURL:w});q.defaults.withCredentials=!0,q.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=L,$=r(680),W={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class E{async statistics(t){return await W.getCookie(),A.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await W.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await W.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await W.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await W.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await W.getCookie(),A.get("api/orders/add")}async create(t){return await W.getCookie(),A.post("api/v1/agent/orders/create",t)}}var T=new E;let F={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var O={name:"agent",namespaced:!0,state:F,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),T.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const I=localStorage.getItem("cities");let V={fetched:!1,cities:I?JSON.parse(I):[]};var j={name:"city",namespaced:!0,state:V,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let R={shops:[]};var M={name:"shop",namespaced:!0,state:R,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let N={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var H={name:"notification",namespaced:!0,state:N,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let Y={fetched:!1,warehouses:[]};var Z={name:"warehouse",namespaced:!0,state:Y,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let K={fetched:!1,factorisations:[]};var B={name:"factorisation",namespaced:!0,state:K,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let Q={fetched:!1,sheets:[]};var J={name:"sheet",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}},G=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:b,product:v,alert:x,sale:C,order:S,inventory:U,city:j,agent:O,shop:M,notification:H,warehouse:Z,factorisation:B,sheet:J,app:_}});class X{async login(t){return await W.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await W.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await W.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await W.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await W.getCookie(),A.get("api/user")}async profile(){return await W.getCookie(),A.get("api/users/profile")}async logout(){return await W.getCookie(),A.get("api/auth/logout")}async clear(){return await W.getCookie(),A.get("api/auth/clear")}async permession(){return await W.getCookie(),A.get("api/auth/permission")}async roles(){return await W.getCookie(),A.get("api/auth/roles")}async all(){return await W.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await W.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await W.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await W.getCookie(),A.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await W.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await W.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await W.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await W.getCookie(),A.get("api/roles/"+t)}async agents(){return await W.getCookie(),A.get("api/agents")}async deliveries(){return await W.getCookie(),A.get("api/delevries")}async allDeliveries(){return await W.getCookie(),A.get("api/deliveries")}async cities(){return await W.getCookie(),A.get("api/cities")}}var tt=new X;function et(t,e,r){if(document.title=t.meta?.title+" | Vldo Shop",!G.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(tt.online().catch(lOt.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=G.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(G.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var rt=r(2268),at=r(7312),st=r(3369),ot=r(3289),lt=r(165);const it={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},nt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},wt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},dt={class:"px-md-10 tw-w-full"},ct={class:"tw-w-[150px]"},ut=["src"],pt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},mt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},gt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),ht=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),ft={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},bt={class:"mt-5"},xt=(0,s._)("p",{class:"mb-1"},"Email",-1),yt=(0,s._)("p",{class:"mb-1"},"Password",-1),vt={class:"mt-5"},_t=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),kt={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Ct=["src"];function Dt(t,e,r,o,l,i){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",it,[(0,s.Wm)(n),(0,s._)("div",nt,[(0,s._)("div",wt,[(0,s.Wm)(st.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",dt,[(0,s._)("div",ct,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"assets/img/logo.png"},null,8,ut)]),(0,s._)("div",pt,[(0,s._)("div",mt,[gt,ht,l.error.active?((0,s.wg)(),(0,s.iD)("p",ft,(0,rt.zw)(l.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",bt,[(0,s._)("div",null,[xt,(0,s.Wm)(lt.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=t=>l.email=t),error:!l.emailStatus.valid,"error-messages":l.emailStatus.valid?"":l.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>l.emailFocus=!1),onFocus:e[3]||(e[3]=t=>l.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:l.emailFocus?l.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[yt,(0,s.Wm)(lt.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),error:!l.passwordStatus.valid,"error-messages":l.passwordStatus.valid?"":l.passwordStatus.message,type:l.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>l.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>l.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ot.t,{onClick:e[4]||(e[4]=t=>l.showPassword=!l.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:l.passwordFocus?l.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(l.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",vt,[(0,s.Wm)(at.T,{disabled:l.isLoading||!l.cookiesCleared,loading:l.isLoading||!l.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[_t])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",kt,[(0,s._)("img",{src:l.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Ct)])])])}function St(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function zt(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Ut(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Pt(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function Lt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function qt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function At(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var $t=r(7771),Wt=r(8952);const Et={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Tt={class:"tw-text-sm"};function Ft(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Wt.V,null,{default:(0,s.w5)((()=>[l.state.active?((0,s.wg)(),(0,s.iD)("div",Et,[(0,s.Wm)($t.w,{closable:"",density:"compact",variant:"flat",type:l.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Tt,(0,rt.zw)(l.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Ot={computed:{state(){return this.$store.getters["alert/alert"]}}};const It=(0,p.Z)(Ot,[["render",Ft]]);var Vt=It,jt={components:{Alert:Vt},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=St(this.email),this.passwordStatus=zt(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},tt.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){tt.clear().then((()=>{this.cookiesCleared=!0}))}};const Rt=(0,p.Z)(jt,[["render",Dt]]);var Mt=Rt,Nt={name:"login",path:"/login",component:Mt,meta:{title:"Login"}},Ht=r(4454),Yt=r(3140);function Zt(t,e,r,a,o,l){const i=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),w=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoggedIn?((0,s.wg)(),(0,s.j4)(Ht.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:o.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:l.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Uk)("j "),(0,s.Wm)(w),(0,s.Wm)(d),(0,s.Wm)(Yt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.K,{fluid:"",class:"py-6 px-6"},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1})])),_:1}),o.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>l.scrollToTop&&l.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Kt=r(6439),Bt=r(9156);const Qt={class:"tw-flex tw-items-center tw-gap-2"};function Jt(t,e,r,o,l,i){const n=(0,s.up)("GlobalNotification"),w=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Kt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Qt,[(0,s.Wm)(n),(0,s.Wm)(w)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Bt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var Gt=r(652),Xt=r(4075),te=r(8694),ee=r(8793);const re={class:"tw-relative"},ae=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),se={key:0,class:"!tw-duration-100"},oe={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},le={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},ie={class:"d-flex flex-column justify-center"},ne={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},we={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},de=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),ce={class:"d-flex tw-items-center tw-gap-2"},ue=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function pe(t,e,r,a,o,l){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",re,[(0,s.Wm)(at.T,{onClick:l.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Gt.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(te.f,{src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),ae])),_:1},8,["onClick"]),(0,s.Wm)(Wt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",se,[(0,s._)("div",oe,[(0,s._)("div",le,[(0,s.Wm)(Gt.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(te.f,{eager:"",src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",ie,[(0,s._)("div",ne,(0,rt.zw)(l.user.firstname)+" "+(0,rt.zw)(l.user.lastname),1),(0,s._)("div",we,(0,rt.zw)(l.user.role),1)])]),(0,s.Wm)(Xt.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>l.closeMenu&&l.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(at.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),de])),_:1})]),(0,s.Wm)(Xt.J),(0,s._)("div",ce,[(0,s.Wm)(at.T,{onClick:l.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:(0,rt.C_)([{"tw-animate-pulse":o.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),ue])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[ee.L,l.closeMenu]])}var me={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,tt.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const ge=(0,p.Z)(me,[["render",pe]]);var he=ge,fe=r(4870);class be{async AllNotifications(t={}){return await W.getCookie(),A.get("api/app/all",{params:t})}async notifications(){return await W.getCookie(),A.get("api/app/notifications")}async Changestatus(){return await W.getCookie(),A.get("api/app/changestatus")}}var xe=new be,ye=r(6797),ve=r.n(ye),_e=r(6562);const ke={class:"tw-relative"},Ce={key:0,class:"!tw-duration-100"},De={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},Se=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),ze={key:0},Ue={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Pe={key:1},Le={key:0},qe=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),Ae=[qe],$e={class:"tw-text-sm"},We={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Ee={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var Te={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,fe.iH)(!1),a=(0,fe.iH)(!1),o=()=>{r.value=!r.value},l=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},w=()=>{r.value=!1},d=()=>{xe.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{xe.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ke,[(0,s.Wm)(at.T,{onClick:o,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(te.f,{width:"22",height:"22",src:(0,fe.SU)(n)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&(0,fe.SU)(u).count>0?((0,s.wg)(),(0,s.j4)(_e.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:(0,fe.SU)(u).count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Wt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s._)("div",De,[Se,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ze,[(0,s._)("div",Ue,[(0,s.Wm)(ot.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Pe,[""==(0,fe.SU)(u).data?((0,s.wg)(),(0,s.iD)("div",Le,Ae)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(u).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,rt.C_)([l(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",$e,(0,rt.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",We,(0,rt.zw)((0,fe.SU)(ve())(t.created_at).fromNow()),1)],2)])))),128))])):(0,s.kq)("",!0),(0,s._)("div",Ee,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(at.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(at.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])])):(0,s.kq)("",!0)])),_:1})])),[[ee.L,w]])}}};const Fe=Te;var Oe=Fe,Ie={emits:["toggleSidebar"],components:{HeaderMenu:he,GlobalNotification:Oe},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Ve=(0,p.Z)(Ie,[["render",Jt]]);var je=Ve,Re=r(9457),Me=r(2329),Ne=r(9657);function He(t,e,r,a,o,l){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Ne.V,{modelValue:o.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>o.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(Re.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(te.f,{width:"140",src:o.localUrl+"assets/img/logo.png"},null,8,["src"])])])),_:1}),(0,s.Wm)(Me.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const Ye=[4,6,7],Ze=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Analytics",subModule:"dashboard/analytics",gate:"access_to_analytics",to:"/analytics"},{id:3,title:"Charts",subModule:"admin/charts",role:"admin",to:"/dashboards/admin/charts"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Add new sourcing",subModule:"sourcing/new",role:["admin"],to:"/sourcings/new"},{id:2,title:"All sourcings",subModule:"sourcing/index",role:["admin"],to:"/sourcings"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"},{id:2,title:"New Factorisation list",subModule:"factorisation/newlist",gate:"show_all_factorisations",to:"/newfactorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_ads",to:"/ads"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:12,title:"Settings",module:"settings",gate:"access_to_account",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Account",subModule:"settings/account",gate:"access_to_account",to:"/settings/account"},{id:1,title:"Blacklist",subModule:"settings/blacklist",gate:"access_to_account",to:"/settings/blacklist"}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var Ke=r(9234),Be=r(2127);const Qe={key:0},Je={class:"d-flex align-center"},Ge={class:"tw-rounded-md tw-bg-gray-50"},Xe={class:"tw-h-full py-2"},tr={key:1},er={key:2},rr={key:3};function ar(t,e,r,a,o,l){const i=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),w=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&"all"!=r.link.gate&&!r.link.role?.includes(l.user.role)||o.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qe,[(0,s.Wm)(Re.l,{class:(0,rt.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",Je,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:r.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(te.f,{key:1,src:o.localUrl+r.link.icon.value,"max-width":"18",class:(0,rt.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(Be.V,{class:(0,rt.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,rt.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(Ke.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(ot.t,{key:2,class:(0,rt.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",Ge,[(0,s.Wm)(Me.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Re.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",Xe,[(0,s.Wm)(ot.t,{size:"x-small",class:"mr-2",color:l.isSublinkActive(t)?"primary-color":"secondary-color",icon:l.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,rt.C_)(["tw-text-sm",{"text-primary-color":l.isSublinkActive(t)}])},(0,rt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",tr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",er,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",rr,[(0,s.Wm)(w)])):(0,s.kq)("",!0)])}const sr={key:0},or={class:"d-flex align-center"},lr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},ir={key:1,class:"tw-text-xs"},nr={class:"tw-rounded-md tw-bg-gray-50"},wr={class:"tw-h-full py-2"};function dr(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",sr,[(0,s.Wm)(Re.l,{class:(0,rt.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:o.link.hasChildren?"":o.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",or,["icon"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:o.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(te.f,{key:1,src:o.localUrl+o.link.icon.value,"max-width":"18",class:(0,rt.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(Be.V,{class:(0,rt.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,rt.zw)(o.link.title)},null,8,["class","textContent"]),(0,s._)("div",lr,[(o.isLoaded,(0,s.kq)("",!0)),(o.isLoaded,(0,s.wg)(),(0,s.iD)("p",ir,(0,rt.zw)(l.count),1))]),(0,s.Wm)(Ke.C),o.link.hasChildren?((0,s.wg)(),(0,s.j4)(ot.t,{key:2,class:(0,rt.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),o.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",nr,[(0,s.Wm)(Me.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Re.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",wr,[(0,s.Wm)(ot.t,{size:"x-small",class:"mr-2",color:l.isSublinkActive(t)?"primary-color":"secondary-color",icon:l.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,rt.C_)(["tw-text-sm",{"text-primary-color":l.isSublinkActive(t)}])},(0,rt.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var cr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const ur=(0,p.Z)(cr,[["render",dr],["__scopeId","data-v-419eeb7c"]]);var pr=ur;const mr={key:0},gr={class:"d-flex align-center"},hr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},fr={key:1,class:"tw-text-xs"};function br(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",mr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(Re.l,{class:(0,rt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",gr,[(0,s.Wm)(ot.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(Be.V,{class:(0,rt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,rt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(Ke.C),(0,s._)("div",hr,[l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.fetched?((0,s.wg)(),(0,s.iD)("p",fr,(0,rt.zw)(1==r.id?l.orders.length-l.deliveredOrders.length:l.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class xr{async delivery(){return await W.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await W.getCookie(),A.get("api/dashboard/agente")}async productPerformanceByConfirmation(){return await W.getCookie(),A.get("api/charts/products-performance/confirmation")}async productPerformanceByDelivery(){return await W.getCookie(),A.get("api/charts/products-performance/delivery")}}var yr=new xr,vr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,yr.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const _r=(0,p.Z)(vr,[["render",br],["__scopeId","data-v-69fa82e9"]]);var kr=_r;const Cr={key:0},Dr={class:"d-flex align-center"},Sr={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},zr={key:1,class:"tw-text-xs"},Ur={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Pr={key:1,class:"tw-text-xs"};function Lr(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Cr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(Re.l,{class:(0,rt.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Dr,[(0,s.Wm)(ot.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(Be.V,{class:(0,rt.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,rt.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(Ke.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Sr,[l.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.state.fetched?((0,s.wg)(),(0,s.iD)("p",zr,(0,rt.zw)(4==r.id?l.state.totalNotConfirmed:l.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Ur,[l.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.state.fetched?((0,s.wg)(),(0,s.iD)("p",Pr,(0,rt.zw)(l.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var qr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Ar=(0,p.Z)(qr,[["render",Lr],["__scopeId","data-v-26146d6f"]]);var $r=Ar,Wr={props:["link"],components:{SidebarSales:pr,SidebarDelivery:kr,SidebarAgente:$r},data(){return{localUrl:n,disabled_links:Ye,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Er=(0,p.Z)(Wr,[["render",ar],["__scopeId","data-v-7463e42d"]]);var Tr=Er,Fr={components:{SidebarItem:Tr},props:["active"],data(){return{localUrl:n,drawer:!0,links:Ze}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Or=(0,p.Z)(Fr,[["render",He]]);var Ir=Or;const Vr={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},jr={class:"tw-flex tw-items-start"},Rr={class:"tw-p-2"},Mr={class:"tw-p-2"},Nr={class:"tw-text-white tw-font-semibold"},Hr={key:0,class:"tw-flex-1"},Yr={key:1,class:"tw-pt-2 tw-pr-2"},Zr=["onClick"];var Kr={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>G.getters["app/alerts"])),r=(0,s.Fl)((()=>G.getters["user/user"])),o=(0,fe.iH)([]),l=(0,s.Fl)((()=>e.value.data.filter((t=>!o.value.includes(r.value.id+"*"+t.id))))),i=t=>{o.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(o.value))},n=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):o.value=JSON.parse(t)};return n(),(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[(0,fe.SU)(e).fetched&&(0,fe.SU)(l).length?((0,s.wg)(),(0,s.iD)("div",Vr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(l),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:(0,rt.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",jr,[(0,s._)("div",Rr,[(0,s.Wm)(o,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",Mr,[(0,s._)("p",Nr,(0,rt.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",Hr)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",Yr,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(o,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,Zr)])):(0,s.kq)("",!0)])],2)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const Br=Kr;var Qr=Br;class Jr{async paginate(t="",e){return await W.getCookie(),A.get("api/alerts"+t,{params:e})}async alerts(){return await W.getCookie(),A.get("api/my-alerts")}async create(t){return await W.getCookie(),A.post("api/alerts",t)}async update(t,e){return await W.getCookie(),A.post("api/alerts/"+t,e)}async get(t){return await W.getCookie(),A.get("api/alerts/"+t)}async delete(t){return await W.getCookie(),A["delete"]("api/alerts/"+t)}}var Gr=new Jr;const Xr={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},ta={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},ea={class:"tw-text-xs"},ra=["disabled"];var aa={__name:"AlertNotification",setup(t){const e=(0,fe.iH)(!1),r=(0,fe.iH)(!0),a=(0,i.oR)(),o=async()=>{e.value=!0,await xe.Changestatus().then((t=>{"SUCCESS"==t.data.code&&a.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!1,e.value=!1},l=(0,s.Fl)((()=>a.getters["app/notifications"].highlighted));return console.log(l.value),(t,a)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,fe.SU)(l)&&r.value?((0,s.wg)(),(0,s.iD)("div",Xr,[(0,s.Wm)($t.w,{text:(0,fe.SU)(l).message,color:"white",border:"top","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,rt.zw)((0,fe.SU)(l).message),1),(0,s._)("div",ta,[(0,s._)("span",ea,(0,rt.zw)((0,fe.SU)(ve())((0,fe.SU)(l).created_at).fromNow()),1),(0,s._)("button",{disabled:e.value,onClick:o,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,rt.zw)(e.value?"Closing...":"Close"),9,ra)])])),_:1},8,["text"])])):(0,s.kq)("",!0)]))}};const sa=aa;var oa=sa,la=r(4410),ia=r.n(la),na=r(6027);class wa{async all(){return await W.getCookie(),A.get("api/sheets")}async create(t){await W.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await W.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await W.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await W.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await W.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await W.getCookie(),A.get("api/sync")}async auto(){return await W.getCookie(),A.post("api/sync")}async saveOrders(t){return await W.getCookie(),A.get("api/sync/"+t+"/save")}}var da=new wa;class ca{async paginate(t="/",e){return await W.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await W.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("ref",t.reference),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),e.append("status",1),q.post("api/products/new",e)}async update(t,e){await W.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("ref",e.reference),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),r.append("status",1),q.post("api/products/update/"+t,r)}async all(){return await W.getCookie(),A.get("api/products")}async allForOrder(){return await W.getCookie(),A.get("api/products/for-order")}async getProduct(t){return await W.getCookie(),A.get("api/products/"+t)}async delete(t){return await W.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await W.getCookie(),A.get("api/product/stockAlert")}}var ua=new ca;class pa{async all(){return await W.getCookie(),A.get("api/sales")}async delete(t){return await W.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await W.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await W.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await W.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await W.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await W.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await W.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await W.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await W.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await W.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await W.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await W.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await W.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await W.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await W.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await W.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await W.getCookie(),A.get("api/orders/history/show/"+t)}async itemHistory(t){return await W.getCookie(),A.get("api/orders/item/history/show/"+t)}async resetSale(t){return await W.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await W.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await W.getCookie(),A.get("api/orders/count")}}var ma=new pa,ga={components:{AppHeader:je,AppSidebar:Ir,Alert:Vt,AlertNotification:oa,AppAnnonces:Qr},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return tt.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},subscribe(){console.log(ia());const t=new na.Z({broadcaster:"pusher",key:"ABCDEFG",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0,cluster:"mt1"});window.Echo=t,t.channel("notification").listenToAll((t=>{console.log(t)})),this.subscribed=!0},sync_sheets(){"admin"==this.user.role?da.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):da.auto()},getUsers(){tt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ma.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async getAlerts(){return Gr.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const ha=(0,p.Z)(ga,[["render",Zt]]);var fa=ha;const ba={key:0};function xa(t,e,r,a,o,l){return o.exists?((0,s.wg)(),(0,s.iD)("div",ba,[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.dashboard)))])):(0,s.kq)("",!0)}var ya=r(6824),va=r(8521);const _a={key:0},ka={key:1},Ca=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Da={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},Sa={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},za={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},Ua=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Pa=["disabled"],La={key:0,class:"tw-flex tw-items-center tw-gap-2"},qa={key:1},Aa=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),$a={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Wa(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),w=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_a,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ka,[Ca,(0,s._)("div",Da,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",Sa,[(0,s._)("div",za,[Ua,(0,s._)("button",{disabled:o.updating,onClick:e[0]||(e[0]=(...t)=>l.updateSales&&l.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[o.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",La,[(0,s.Wm)(ot.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),o.updating?((0,s.wg)(),(0,s.iD)("div",qa,[Aa,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Pa)])]),(0,s._)("div",$a,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:l.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:l.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:l.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(va.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:l.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":l.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Ea=r(4286);const Ta={class:"tw-flex tw-items-center"},Fa={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Oa={class:"tw-text-lg tw-font-bold"},Ia={class:"tw-text-sm"};function Va(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(Ea.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ta,[(0,s._)("div",{class:(0,rt.C_)([l.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(ot.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Fa,[(0,s._)("p",Oa,(0,rt.zw)(r.dash.value),1),(0,s.Wm)(Ke.C),(0,s._)("p",Ia,(0,rt.zw)(r.dash.title),1)])])])),_:1})}var ja={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Ra=(0,p.Z)(ja,[["render",Va]]);var Ma=Ra;const Na={key:0,class:""},Ha={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ya=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Za=[Ya],Ka={key:1,class:"tw-min-h-[50px]"},Ba={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Qa={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},Ja={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},Ga={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},Xa={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ts=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),es={key:1},rs={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},as=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),ss={key:1,class:"tw-flex tw-items-center tw-gap-2"},os=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ls(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Na,[(0,s._)("div",Ha,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Za))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ka,[(0,s._)("div",Ba,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Qa,[(0,s._)("div",Ja,(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),1),(0,s._)("div",Ga,[t.last_action?((0,s.wg)(),(0,s.iD)("div",es,[1==l.isOnline(l.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",rs,[as,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",ss,[os,(0,s.Uk)(" "+(0,rt.zw)(l.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",Xa,[ts,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var is=r(8777),ns={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){tt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,is.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const ws=(0,p.Z)(ns,[["render",ls]]);var ds=ws,cs=r(1489),us=r(3144),ps=r(9870),ms=r(6161),gs=r(4722);function hs(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(cs._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(us.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(ps.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(ms.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(gs.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const fs={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},bs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},xs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ys={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},vs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},_s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ks={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Cs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Ds(t,e,r,a,o,l){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fs,[(0,s._)("div",bs,[(0,s.Wm)(i,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",xs,[(0,s.Wm)(i,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",ys,[(0,s.Wm)(i,{dash:l.shippedSales},null,8,["dash"])]),(0,s._)("div",vs,[(0,s.Wm)(i,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",_s,[(0,s.Wm)(i,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",ks,[(0,s.Wm)(i,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",Cs,[(0,s.Wm)(i,{dash:l.transferSales},null,8,["dash"])])])])}const Ss={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},zs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},Us={class:"tw-text-xl tw-font-bold"},Ps={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Ls={class:"tw-text-sm"},qs={class:"rounded-circle tw-w-fit tw-mr-3"};function As(t,e,r,a,o,l){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Ea.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Ss,[(0,s._)("div",zs,[(0,s._)("p",Us,(0,rt.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,rt.zw)(r.symbol),1),(0,s._)("span",Ps,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Ls,(0,rt.zw)(r.dash.title),1)])]),(0,s._)("div",qs,[(0,s.Wm)(ot.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var $s={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Ws=(0,p.Z)($s,[["render",As]]);var Es=Ws,Ts={components:{DashItemTwo:Es},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Fs=(0,p.Z)(Ts,[["render",Ds]]);var Os=Fs;const Is={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Vs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Rs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ms={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ns={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Hs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ys={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Zs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Ks(t,e,r,a,o,l){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Is,[(0,s._)("div",Vs,[(0,s.Wm)(i,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",js,[(0,s.Wm)(i,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",Rs,[(0,s.Wm)(i,{dash:l.newSales},null,8,["dash"])]),(0,s._)("div",Ms,[(0,s.Wm)(i,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",Ns,[(0,s.Wm)(i,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",Hs,[(0,s.Wm)(i,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",Ys,[(0,s.Wm)(i,{dash:l.doubledSales},null,8,["dash"])]),(0,s._)("div",Zs,[(0,s.Wm)(i,{dash:l.wrongNumberSales},null,8,["dash"])])])])}var Bs={components:{DashItemTwo:Es},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Qs=(0,p.Z)(Bs,[["render",Ks]]);var Js=Qs,Gs={components:{DeliveryTab:Os,ConfirmationTab:Js},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const Xs=(0,p.Z)(Gs,[["render",hs]]);var to=Xs;const eo={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},ro={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ao={class:"tw-relative"},so={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},oo={class:"tw-relative"},lo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},io=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),no={class:"tw-relative"},wo=(0,s._)("option",{value:"all"},"Select",-1),co=["value"],uo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},po=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),mo={class:"tw-relative"},go=(0,s._)("option",{value:"all"},"Select",-1),ho=["value"],fo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),xo={class:"tw-relative"},yo=(0,s._)("option",{value:"all"},"Select",-1),vo=["value"],_o={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ko=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),Co={class:"tw-relative"},Do=(0,s._)("option",{value:"all"},"Select",-1),So=["value"],zo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Uo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),Po={class:"tw-relative"},Lo=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),qo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ao=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),$o={class:"tw-relative"},Wo=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Eo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},To=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Fo={class:"tw-relative"},Oo=(0,s._)("option",{value:"all"},"Select",-1),Io=(0,s._)("option",{value:"oui"},"Oui",-1),Vo=(0,s._)("option",{value:"non"},"Non",-1),jo=[Oo,Io,Vo];function Ro(t,e,r,o,l,i){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",eo,[(0,s._)("div",ro,[(0,s._)("div",ao,[(0,s.Wm)(n,{name:"Created Date",filter:l.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",so,[(0,s._)("div",oo,[(0,s.Wm)(n,{name:"Dropped Date",filter:l.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",lo,[io,(0,s._)("div",no,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[wo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,co)))),128))],512),[[a.bM,l.agentFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",uo,[po,(0,s._)("div",mo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[go,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,ho)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",fo,[bo,(0,s._)("div",xo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[yo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,vo)))),128))],512),[[a.bM,l.cityFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",_o,[ko,(0,s._)("div",Co,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Do,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,So)))),128))],512),[[a.bM,l.productFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",zo,[Uo,(0,s._)("div",Po,[Lo,(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",qo,[Ao,(0,s._)("div",$o,[Wo,(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Eo,[To,(0,s._)("div",Fo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},jo,512),[[a.bM,l.upsellFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Mo={class:"tw-text-sm tw-text-neutral-600"},No=["onClick"];function Ho(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Mo,(0,rt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,rt.zw)(t),9,No)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Yo=r(1271),Zo=r(2292),Ko=r(1745),Bo=r(4253),Qo=r(4819),Jo=r(2143),Go={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Yo.Z)(new Date,1),(0,Yo.Z)(new Date,1)]},{label:"This month",range:[(0,Zo.Z)(new Date),(0,Ko.Z)(new Date)]},{label:"Last month",range:[(0,Zo.Z)((0,Bo.Z)(new Date,1)),(0,Ko.Z)((0,Bo.Z)(new Date,1))]},{label:"This year",range:[(0,Qo.Z)(new Date),(0,Jo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Xo=(0,p.Z)(Go,[["render",Ho]]);var tl=Xo,el={components:{DateFilter:tl},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){tt.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ua.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),tt.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),tt.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const rl=(0,p.Z)(el,[["render",Ro]]);var al=rl;const sl=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},ol=t=>t?t.split("api/")[1]:null,ll=t=>JSON.parse(JSON.stringify(t));var il={components:{DashItem:Ma,UsersTable:ds,TabSwitcher:to,FilterTabs:al},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,o=this.filters.dateFilter[0],l=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((w=>{if("all"!==t&&parseInt(w.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(w.affectation)!=parseInt(e))return!1;if("all"!==s&&w.upsell!=s)return!1;if("all"!==r&&!w.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&w.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(w.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(w.dropped_at),g=m.getDate(),h=m.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=sl(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=sl(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=sl(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const nl=(0,p.Z)(il,[["render",Wa]]);var wl=nl;const dl=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),cl={key:0},ul={key:1},pl={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ml={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},gl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},hl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},fl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},bl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},xl={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},yl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function vl(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[dl,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cl,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ul,[(0,s._)("div",pl,[(0,s._)("div",ml,[(0,s._)("div",gl,[(0,s.Wm)(n,{dash:l.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",hl,[(0,s.Wm)(n,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",fl,[(0,s.Wm)(n,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",bl,[(0,s.Wm)(n,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",xl,[(0,s.Wm)(n,{dash:l.shippedSales},null,8,["dash"])]),(0,s._)("div",yl,[(0,s.Wm)(n,{dash:l.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var _l={components:{DashItemTwo:Es},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,yr.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const kl=(0,p.Z)(_l,[["render",vl]]);var Cl=kl;const Dl=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Sl={key:0},zl={key:1},Ul={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Pl={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},Ll={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},ql={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Al={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},$l={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Wl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},El={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Tl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Fl(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Dl,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sl,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",zl,[(0,s._)("div",Ul,[(0,s._)("div",Pl,[(0,s._)("div",Ll,[(0,s.Wm)(n,{dash:l.earningsDash,symbol:o.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",ql,[(0,s.Wm)(n,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",Al,[(0,s.Wm)(n,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",$l,[(0,s.Wm)(n,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",Wl,[(0,s.Wm)(n,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",El,[(0,s.Wm)(n,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",Tl,[(0,s.Wm)(n,{dash:l.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Ol={components:{DashItemTwo:Es},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,yr.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Il=(0,p.Z)(Ol,[["render",Fl]]);var Vl=Il;const jl=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),Rl=[jl];function Ml(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,Rl)}var Nl={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const Hl=(0,p.Z)(Nl,[["render",Ml]]);var Yl=Hl;const Zl={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Kl=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Bl=[Kl];function Ql(t,e,r,a,o,l){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zl,[o.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Bl))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const Jl={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Gl={class:"tw-flex tw-justify-between"},Xl={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ti={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},ei={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ri={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function ai(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jl,[(0,s._)("div",Gl,[(0,s._)("div",null,[(0,s._)("div",Xl,[(0,s._)("p",ti,(0,rt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,rt.j5)({background:r.color})},(0,rt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ei,[(0,s._)("span",ri,(0,rt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,rt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,rt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var si={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const oi=(0,p.Z)(si,[["render",ai]]);var li=oi;class ii{async statistics(){return await W.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await W.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await W.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await W.getCookie(),A.post("api/v1/followup/orders/create",t)}}var ni=new ii,wi={components:{DashCard:li},data(){return{fetching:!0,dashes:[]}},mounted(){ni.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const di=(0,p.Z)(wi,[["render",Ql]]);var ci=di,ui={components:{admin:wl,delivery:Cl,agente:Vl,default:Yl,"follow-up":ci},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;default:this.exists=!0;break}}},created(){this.check()}};const pi=(0,p.Z)(ui,[["render",xa]]);var mi=pi;const gi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},hi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},fi={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},bi={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},xi=["disabled"],yi=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),vi=(0,s._)("span",null," previous ",-1),_i=[yi,vi],ki=["disabled"],Ci=(0,s._)("span",null," Next ",-1),Di=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Si=[Ci,Di];function zi(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gi,[(0,s._)("div",hi,[(0,s.Uk)(" Page "),(0,s._)("span",fi,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",bi,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},_i,10,xi),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Si,10,ki)])])])}var Ui={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Pi=(0,p.Z)(Ui,[["render",zi]]);var Li=Pi;const qi={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ai=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),$i={key:0},Wi={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ei={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},Ti={key:0},Fi=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),Oi=[Fi],Ii={class:"tw-w-full tw-text-left tw-text-gray-500"},Vi={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},ji={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Ri=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var Mi={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,fe.iH)(!1),a=(0,fe.iH)(null),o=t=>{a.value.page=t,l()},l=async()=>{const t={...a.value,data:null};r.value=!1,await xe.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{l()}));const n=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",qi,[Ai,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$i,[(0,s._)("div",Wi,[(0,s.Wm)(ot.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",Ei,[""==(0,fe.SU)(n).data?((0,s.wg)(),(0,s.iD)("div",Ti,Oi)):(0,s.kq)("",!0),(0,s._)("table",Ii,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(n).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,rt.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",Vi,(0,rt.zw)(t.message),1),(0,s._)("div",ji,(0,rt.zw)((0,fe.SU)(ve())(t.created_at).fromNow()),1)],2)))),128))]),Ri,r.value?((0,s.wg)(),(0,s.j4)(Li,{key:1,onPageChange:o,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const Ni=Mi;var Hi=Ni,Yi={path:"/",name:"home",component:fa,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:mi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:Hi,meta:{module:"notification",title:"Notifications",gate:"all"}}]},Zi=r(3104);const Ki=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),Bi={key:0},Qi={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ji={class:"tw-w-full"},Gi=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),Xi={class:"tw-w-full"},tn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),en={class:"tw-w-full"},rn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),an={class:"tw-w-full"},sn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),on={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},ln=(0,s._)("span",null,"Update Password: ",-1),nn={class:"tw-w-full"},wn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),dn={class:"tw-w-full"},cn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),un={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},pn=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),mn=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function gn(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Ki,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bi,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",Qi,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ji,[Gi,(0,s.Wm)(lt.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Xi,[tn,(0,s.Wm)(lt.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",en,[rn,(0,s.Wm)(lt.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",an,[sn,(0,s.Wm)(lt.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",on,[ln,(0,s.Wm)(Zi.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nn,[wn,(0,s.Wm)(lt.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(va.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dn,[cn,(0,s.Wm)(lt.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",un,[(0,s.Wm)(at.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[pn])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[mn])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var hn={data(){return{serverUrl:w,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,tt.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Ut(this.firstname),this.formStatus["lastname"]=Ut(this.lastname),this.formStatus["phone"]=Ut(this.phone),this.formStatus["password"]=zt(this.password),this.formStatus["confirmPassword"]=Lt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return tt.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const fn=(0,p.Z)(hn,[["render",gn]]);var bn=fn;class xn{async all(t){return await W.getCookie(),A.get("api/blacklist",{params:t})}async create(t){return await W.getCookie(),A.post("api/blacklist",t)}async delete(t){return await W.getCookie(),A["delete"]("api/blacklist/"+t)}}var yn=new xn;const vn=[{name:"Client",key:"fullname"},{name:"Phone",key:"phone"},{name:"Address",key:"adresse"},{name:"City",key:"city"}],_n=(t,e="success")=>{console.log(G),G.dispatch("alert/toggleAlert",{type:e,title:t})},kn=(0,s._)("span",null,"New",-1),Cn={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},Dn={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Sn=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add new keyword ",-1),zn={class:"tw-p-5 tw-my-2"},Un={class:""},Pn=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Field",-1),Ln={class:"tw-relative"},qn=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a field ",-1),An=["value"],$n=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Wn={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},En={class:"tw-mt-5"},Tn=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Keyword",-1),Fn={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},On={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},In=["disabled"],Vn=(0,s._)("span",null,"Add",-1);var jn={__name:"BlacklistAdd",setup(t){const e=(0,s.f3)("blacklist"),r=(0,fe.iH)(!1),o=(0,fe.iH)(!1),l=(0,fe.qj)({}),i=(0,fe.qj)({blacklist:{field:"no-value-selected",value:""}}),n=()=>{r.value=!1},w=()=>{i.blacklist={field:"no-value-selected",value:""},r.value=!0},d=async()=>{o.value=!0,await yn.create(i.blacklist).then((t=>{"SUCCESS"==t.data.code&&(e.addItem(t.data.blacklist),r.value=!1,_n("Blacklist added successfully"))}),(t=>{if(500==t.response?.status&&"ERROR"==t.response?.data?.code&&_n(t?.response?.data?.message,"danger"),422==t?.response?.status)for(let e in t?.response?.data?.errors)l[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,e)=>{const c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:w,type:"button",class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-white tw-bg-orange-400 hover:tw-bg-orange-500 tw-duration-200 focus:tw-ring-4 focus:tw-ring-orange-300 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-me-2 tw-mb-2 dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 focus:tw-outline-none dark:focus:tw-ring-orange-800"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),kn]),(0,s.Wm)(c,{visible:r.value,closeable:!0,onCancel:n},{default:(0,s.w5)((()=>[(0,s._)("div",Cn,[(0,s._)("div",Dn,[Sn,(0,s._)("div",zn,[(0,s._)("div",Un,[Pn,(0,s._)("div",Ln,[(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>l.field=null),"onUpdate:modelValue":e[1]||(e[1]=t=>i.blacklist.field=t),class:(0,rt.C_)([[l.field&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[qn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(vn),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.name]),value:t.key,key:t.key},(0,rt.zw)(t.name),11,An)))),128))],34),[[a.bM,i.blacklist.field]]),$n]),l.field?((0,s.wg)(),(0,s.iD)("label",Wn,(0,rt.zw)(l.field),1)):(0,s.kq)("",!0)]),(0,s._)("div",En,[Tn,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.blacklist.value=t),onInput:e[3]||(e[3]=t=>l.value=null),type:"text",class:(0,rt.C_)([[l.value&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a keyword to be banned",required:""},null,34),[[a.nr,i.blacklist.value]]),l.value?((0,s.wg)(),(0,s.iD)("label",Fn,(0,rt.zw)(l.value),1)):(0,s.kq)("",!0)])]),(0,s._)("div",On,[(0,s._)("button",{onClick:n,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Vn],8,In)])])])])),_:1},8,["visible"])])}}};const Rn=jn;var Mn=Rn;const Nn={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},Hn=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete this ?",-1),Yn={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},Zn=["disabled"],Kn=["disabled"];var Bn={__name:"BlacklistTableActionsDelete",props:["item"],setup(t){const e=t,r=(0,fe.iH)(!1),a=(0,fe.iH)(!1),o=(0,s.f3)("blacklist"),l=async()=>{a.value=!0,await yn["delete"](e.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.deleteItem(e.item.id),_n("Deleted Successfully"),r.value=!1)}),(t=>{console.log(t),_n("Something went wrong","danger")})),a.value=!1};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),(0,s.Wm)(o,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",Nn,[Hn,(0,s._)("div",Yn,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,Zn),(0,s._)("button",{onClick:l,disabled:a.value,type:"button",class:(0,rt.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,rt.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,Kn)])])])),_:1},8,["visible","closeable"])])}}};const Qn=Bn;var Jn=Qn;const Gn={class:"tw-px-4"},Xn={class:"tw-flex tw-items-center tw-justify-end tw-gap-2"};var tw={__name:"BlacklistTableActions",props:["item"],setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("div",Gn,[(0,s._)("div",Xn,[(0,s.Wm)((0,fe.SU)(Jn),{item:e.item},null,8,["item"])])]))}};const ew=tw;var rw=ew;const aw=(0,s._)("td",{class:"tw-px-4 tw-py-2"},null,-1),sw={class:"tw-px-4 tw-py-2 tw-truncate"},ow={class:"tw-px-4 tw-py-2 tw-truncate"},lw={class:"tw-px-4 tw-py-2"};var iw={__name:"BlacklistTableRow",props:["item"],setup(t){const e=t,r=(0,fe.Vh)(e,"item"),a=(0,s.Fl)((()=>vn.find((t=>t.key==r.value.field))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[aw,(0,s._)("td",sw,[(0,s._)("p",null,(0,rt.zw)((0,fe.SU)(a).name),1)]),(0,s._)("td",ow,[(0,s._)("p",null,(0,rt.zw)((0,fe.SU)(r).value),1)]),(0,s._)("td",lw,[(0,s._)("p",null,(0,rt.zw)((0,fe.SU)(ve())((0,fe.SU)(r).created_at).format("DD[/]MM[/]YY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,fe.SU)(rw),{item:(0,fe.SU)(r)},null,8,["item"])])]))}};const nw=iw;var ww=nw;const dw={class:""},cw={class:"tw-overflow-x-auto tw-bg-white"},uw={class:"tw-inline-block tw-min-w-full tw-align-middle"},pw={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},mw={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},gw=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"rtl:tw-text-right tw-px-2 tw-w-5 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("div",{class:"tw-max-w-[25px]"},[(0,s._)("div",{class:"tw-inline-flex tw-items-center"},[(0,s._)("label",{class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},[(0,s._)("input",{type:"checkbox",class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"}),(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])])])])])]),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Field "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Keyword "),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4 tw-w-[100px]"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),hw={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},fw={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},bw=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),xw=[bw],yw={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vw={colspan:"11"},_w={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},kw=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Cw=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Dw=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Sw=[Cw,Dw],zw={class:"tw-mt-6"};var Uw={__name:"BlacklistTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,fe.Vh)(r,"options"),o=(0,fe.Vh)(r,"data"),l=(0,fe.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",dw,[(0,s._)("div",cw,[(0,s._)("div",uw,[(0,s._)("div",pw,[(0,s._)("table",mw,[gw,!(0,fe.SU)(l)&&(0,fe.SU)(o).length>0?((0,s.wg)(),(0,s.iD)("tbody",hw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(o),(t=>((0,s.wg)(),(0,s.j4)((0,fe.SU)(ww),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,fe.SU)(l)||0!=(0,fe.SU)(o).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",fw,xw)),(0,fe.SU)(l)?((0,s.wg)(),(0,s.iD)("tbody",yw,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",vw,[(0,s._)("div",_w,[kw,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Sw))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",zw,[(0,s.Wm)((0,fe.SU)(Li),{from:(0,fe.SU)(a).from,to:(0,fe.SU)(a).to,"last-page":(0,fe.SU)(a).last_page,"per-page":(0,fe.SU)(a).per_page,total:(0,fe.SU)(a).total,"current-page":(0,fe.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const Pw=Uw;var Lw=Pw;const qw={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},Aw={class:"mb-5 tw-flex tw-w-full tw-justify-between"},$w=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Blacklist ",-1),Ww=(0,s._)("div",{class:"tw-mt-5"},null,-1);var Ew={__name:"SettingsBlacklistView",setup(t){const e=(0,fe.qj)({}),r=(0,fe.iH)([]),a=(0,fe.iH)(!1),o=async()=>{a.value=!0,await yn.all(e).then((t=>{r.value=t.data.data,delete t.data.data,Object.assign(e,t.data)})),a.value=!1},l=t=>{r.value=r.value.filter((e=>e.id!=t))},i=t=>{e.page=t,o()},n=t=>{r.value.unshift(t)};return(0,s.JJ)("blacklist",{getData:o,deleteItem:l,addItem:n}),o(),(t,o)=>((0,s.wg)(),(0,s.iD)("div",qw,[(0,s._)("div",Aw,[$w,(0,s.Wm)((0,fe.SU)(Mn))]),Ww,(0,s.Wm)((0,fe.SU)(Lw),{onPageChange:i,data:r.value,loading:a.value,options:e},null,8,["data","loading","options"])]))}};const Tw=Ew;var Fw=Tw,Ow={name:"settings",path:"/settings",component:fa,meta:{module:"user"},children:[{path:"account",name:"settings/account",component:bn,meta:{module:"settings",title:"Account",gate:"all"}},{path:"blacklist",name:"settings/blacklist",component:Fw,meta:{module:"settings",title:"Blacklist",gate:"all"}}]};const Iw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Vw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),jw={key:0},Rw=(0,s._)("span",{class:"text-white"}," Add Product ",-1),Mw={key:0},Nw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Hw={class:"mb-5 tw-flex"},Yw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Zw={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Kw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Bw=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Qw={class:"tw-relative"},Jw={class:""};function Gw(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",Iw,[Vw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",jw,[(0,s.Wm)(at.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Rw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mw,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",Nw,[(0,s._)("div",Hw,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Yw,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Zw,[(0,s._)("div",Kw,[Bw,(0,s._)("div",Qw,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Jw,[(0,s.Wm)(w,{columns:l.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const Xw={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},td={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ed={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},rd=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),ad={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},sd=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),od={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},ld={class:"tw-px-6 tw-py-4"},id={class:"tw-px-6 tw-py-4"},nd={class:"tw-px-6 tw-py-4"},wd={class:"tw-px-6 tw-py-4"},dd={class:"tw-px-6 tw-py-4"},cd={class:"tw-px-6 tw-py-4"},ud={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},pd={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},md={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},gd=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),hd=["value"],fd={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},bd={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},xd={class:"tw-text-white"};function yd(t,e,r,o,l,i){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Xw,[(0,s._)("table",td,[(0,s._)("thead",ed,[(0,s._)("tr",null,[rd,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ad,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[sd,(0,s._)("th",od,(0,rt.zw)(t.id),1),(0,s._)("td",ld,(0,rt.zw)(t.ref),1),(0,s._)("td",id,(0,rt.zw)(t.name),1),(0,s._)("td",nd,(0,rt.zw)(t.buying_price)+" "+(0,rt.zw)(l.currency),1),(0,s._)("td",wd,(0,rt.zw)(t.selling_price)+" "+(0,rt.zw)(l.currency),1),(0,s._)("td",dd,(0,rt.zw)(i.calculQty(t.variations)),1),(0,s._)("td",cd,(0,rt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",ud,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",pd,[(0,s._)("div",md,[gd,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,hd)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",fd,[(0,s._)("div",bd,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,rt.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",xd,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const vd={class:"tw-flex tw-items-center tw-gap-1"};function _d(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",vd,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(at.T,{key:1,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(at.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var kd={props:["rowIndex","product"],name:"productActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ua["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ua.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Cd=(0,p.Z)(kd,[["render",_d]]);var Dd=Cd,Sd={props:["columns","products"],components:{ProductActions:Dd},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const zd=(0,p.Z)(Sd,[["render",yd]]);var Ud=zd;const Pd=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:15,value:"banned",name:"Banned",text:"tw-text-yellow-500 tw-font-semibold",textLight:"tw-text-yellow-500 tw-font-semibold",bg:"tw-bg-black",bgLight:"tw-bg-black",ring:"tw-ring-black/50"}],Ld=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],qd=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],Ad=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],$d=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:16,value:"returned",name:"Returned",text:"tw-text-rose-500",bg:"tw-bg-rose-500/10",ring:"tw-ring-rose-300"}],Wd=[null,"expidier","paid","transfer","dispatch"];var Ed={components:{ProductsTable:Ud},data(){return{localUrl:n,confirmations:Pd,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Td=(0,p.Z)(Ed,[["render",Gw]]);var Fd=Td;const Od={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Id={class:"tw-px-3"},Vd={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},jd={class:"tw-flex tw-items-center tw-gap-x-3"},Rd=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),Md={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Nd=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),Hd={key:0};function Yd(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Od,[(0,s._)("section",Id,[(0,s._)("div",Vd,[(0,s._)("div",null,[(0,s._)("div",jd,[Rd,(0,s._)("span",Md,(0,rt.zw)(o.totalProducts)+" products",1)]),Nd])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateProducts,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[3]||(e[3]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Hd,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Zd={class:"tw-flex tw-flex-col"},Kd={class:"tw-overflow-x-auto"},Bd={class:"tw-inline-block tw-min-w-full tw-align-middle"},Qd={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Jd={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Gd={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Xd={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},tc={class:"tw-max-w-[25px]"},ec={class:"tw-inline-flex tw-items-center"},rc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},ac=["checked"],sc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),oc=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),lc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),ic=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),nc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),wc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),dc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),cc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),uc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),pc={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},mc=(0,s._)("span",null,"Created",-1),gc=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),hc=[mc,gc],fc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),bc={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xc={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yc=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No product is found ! ")])],-1),vc=[yc],_c={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},kc={colspan:"11"},Cc={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Dc=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Sc=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),zc=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Uc=[Sc,zc],Pc={class:"tw-mt-6"};function Lc(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zd,[(0,s._)("div",Kd,[(0,s._)("div",Bd,[(0,s._)("div",Qd,[(0,s._)("table",Jd,[(0,s._)("thead",Gd,[(0,s._)("tr",null,[(0,s._)("th",Xd,[(0,s._)("div",tc,[(0,s._)("div",ec,[(0,s._)("label",rc,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,ac),sc])])])]),oc,lc,ic,nc,wc,dc,cc,uc,(0,s._)("th",pc,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},hc)]),fc])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",bc,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,o)=>((0,s.wg)(),(0,s.j4)(i,{onRefresh:e[2]||(e[2]=e=>t.$emit("pageChange",1)),selected:l.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>l.selectedOrders=t),onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:o,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",xc,vc)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",_c,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",kc,[(0,s._)("div",Cc,[Dc,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Uc)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Pc,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const qc={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Ac={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},$c={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Wc={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Ec=["disabled"],Tc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Fc=(0,s._)("span",null," previous ",-1),Oc=[Tc,Fc],Ic=["disabled"],Vc=(0,s._)("span",null," Next ",-1),jc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Rc=[Vc,jc];function Mc(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qc,[(0,s._)("div",Ac,[(0,s.Uk)(" Page "),(0,s._)("span",$c,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",Wc,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Oc,10,Ec),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Rc,10,Ic)])])])}var Nc={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Hc=(0,p.Z)(Nc,[["render",Mc]]);var Yc=Hc;const Zc={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Kc={class:"tw-max-w-[25px]"},Bc={class:"tw-inline-flex tw-items-center"},Qc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},Jc=["checked","id"],Gc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Xc={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tu={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},eu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ru={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"},au={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},su={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},ou={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lu={class:"tw-flex tw-items-center tw-gap-1"},iu={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},nu={class:"tw-text-blue-700"},wu={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},du={class:"tw-text-green-700"},cu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uu={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},pu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mu={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},gu={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},hu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fu={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},bu={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},xu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yu={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},vu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},_u={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},ku={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Cu(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,rt.C_)(["hover:tw-bg-gray-50",[l.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",Zc,[(0,s._)("div",Kc,[(0,s._)("div",Bc,[(0,s._)("label",Qc,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,Jc),Gc])])])]),(0,s._)("td",Xc,[(0,s._)("div",null,[(0,s._)("h2",tu,(0,rt.zw)(r.item.id),1)])]),(0,s._)("td",eu,[(0,s._)("div",null,[(0,s._)("h2",ru,(0,rt.zw)(r.item.ref),1)])]),(0,s._)("td",au,[(0,s._)("div",null,[(0,s._)("h2",su,(0,rt.zw)(r.item.name),1)])]),(0,s._)("td",ou,[(0,s._)("div",lu,[(0,s._)("div",iu,[(0,s._)("span",nu,(0,rt.zw)(r.item.buying_price),1),(0,s.Wm)(ot.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",wu,[(0,s.Wm)(ot.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",du,(0,rt.zw)(r.item.selling_price),1)])])]),(0,s._)("td",cu,[(0,s._)("div",null,[(0,s._)("h2",uu,(0,rt.zw)(l.quantityTotal),1)])]),(0,s._)("td",pu,[(0,s._)("div",mu,[(0,s._)("h2",gu,(0,rt.zw)(l.deliveredQuantity),1)])]),(0,s._)("td",hu,[(0,s._)("div",fu,[(0,s._)("h2",bu,(0,rt.zw)(l.shippedQuantity),1)])]),(0,s._)("td",xu,[(0,s._)("div",{class:(0,rt.C_)([{"tw-text-red-500 !tw-font-bold":l.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",yu,(0,rt.zw)(l.availableQuantity),1)],2)]),(0,s._)("td",vu,[(0,s._)("div",null,[(0,s._)("h2",_u,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",ku,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item,onRefresh:e[2]||(e[2]=e=>t.$emit("refresh"))},null,8,["item"])])])],2)}const Du={class:"tw-h-full"},Su={class:"tw-flex tw-items-center tw-gap-2"};function zu(t,e,r,a,o,l){const i=(0,s.up)("router-link"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Du,[(0,s._)("div",Su,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/products/update/"+r.item.id,class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var Uu={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1,showPopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ua["delete"](this.item.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"}),this.$emit("refresh"))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Pu=(0,p.Z)(Uu,[["render",zu]]);var Lu=Pu,qu={components:{TableActions:Lu},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ve(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Au=(0,p.Z)(qu,[["render",Cu]]);var $u=Au,Wu={components:{TablePaginationNoNums:Yc,TableRow:$u},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Eu=(0,p.Z)(Wu,[["render",Lc]]);var Tu=Eu;const Fu={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Ou={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Iu=["disabled"],Vu=["disabled"],ju=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Ru=[ju],Mu={class:"tw-relative"},Nu=["value"],Hu=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),Yu=[Hu],Zu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ku={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Bu=["value"],Qu={class:"tw-overflow-hidden tw-col-span-1"},Ju={class:"tw-overflow-hidden tw-col-span-1"},Gu={class:"tw-overflow-hidden tw-col-span-1"};function Xu(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Fu,[(0,s._)("div",Ou,[(0,s._)("button",{class:(0,rt.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Iu),(0,s.kq)("",!0),(0,s.kq)("",!0),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Ru,8,Vu),(0,s.kq)("",!0),(0,s._)("div",Mu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Yu,40,Nu),Zu])]),(0,s._)("div",Ku,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Bu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,rt.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Qu,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,rt.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Ju,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Gu,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const tp={class:"tw-mb-4"},ep={class:"tw-grid tw-grid-cols-12 tw-gap-4"},rp={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},ap={class:"tw-flex tw-items-center tw-justify-between"},sp={class:"tw-text-xl tw-font-bold tw-text-gray-900"},op={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function lp(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",tp,[(0,s._)("div",ep,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",rp,[(0,s._)("p",{class:(0,rt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,rt.zw)(t.name),3),(0,s._)("div",ap,[(0,s._)("span",sp,(0,rt.zw)(t.total),1),(0,s._)("span",op,(0,rt.zw)(t.percent)+"%",1)])])])))),128))])])}var ip={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Pd.find((e=>e.value==t))}}};const np=(0,p.Z)(ip,[["render",lp]]);var wp=np;const dp={class:"tw-mb-4"},cp={class:"tw-flex tw-items-center tw-gap-2"},up=["disabled"],pp=(0,s._)("span",null,"Select Filtered",-1),mp={class:"tw-flex tw-justify-end"},gp=["disabled"];function hp(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",dp,[(0,s._)("div",cp,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),pp],8,up)]),(0,s._)("div",mp,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,rt.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,gp)])])}class fp{async statistics(t){return await W.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await W.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await W.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await W.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await W.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await W.getCookie(),A.post("api/v1/admin/orders/export",t)}}var bp=new fp,xp={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,bp["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const yp=(0,p.Z)(xp,[["render",hp]]);var vp=yp;const _p={class:"tw-mb-4"},kp={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Cp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Dp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Sp=["value"],zp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Up=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Pp=["value"],Lp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),Ap=["value"],$p={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Wp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),Ep=["value"],Tp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Fp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Op=["value"],Ip=(0,s._)("option",{value:"all",selected:""},"All",-1),Vp=["value"],jp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Rp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),Mp=["value"],Np=(0,s._)("option",{value:"all",selected:""},"All",-1),Hp=["value"],Yp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Zp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Kp=["value"],Bp=(0,s._)("option",{value:"all",selected:""},"All",-1),Qp=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),Jp=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),Gp=[Bp,Qp,Jp],Xp={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},tm=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),em=(0,s._)("span",null,"Clear",-1),rm=[tm,em],am=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),sm=(0,s._)("span",null,"Filter",-1),om=[am,sm];function lm(t,e,r,a,o,l){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",_p,[(0,s._)("div",kp,[(0,s.kq)("",!0),(0,s._)("div",Cp,[Dp,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Sp)]),(0,s._)("div",zp,[Up,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Pp)]),(0,s._)("div",Lp,[qp,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ap)]),(0,s._)("div",$p,[Wp,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ep)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Tp,[Fp,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Ip,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,rt.zw)(t.name),11,Vp)))),128))],40,Op)]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",jp,[Rp,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Np,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,rt.zw)(t.name),11,Hp)))),128))],40,Mp)]),(0,s._)("div",Yp,[Zp,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Gp,40,Kp)]),(0,s._)("div",Xp,[(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},rm),(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},om)])])])}const im={class:"tw-text-sm tw-text-neutral-600"},nm=["onClick"];function wm(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",im,(0,rt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,rt.zw)(t),9,nm)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var dm={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Yo.Z)(new Date,1),(0,Yo.Z)(new Date,1)]},{label:"This month",range:[(0,Zo.Z)(new Date),(0,Ko.Z)(new Date)]},{label:"Last month",range:[(0,Zo.Z)((0,Bo.Z)(new Date,1)),(0,Ko.Z)((0,Bo.Z)(new Date,1))]},{label:"This year",range:[(0,Qo.Z)(new Date),(0,Jo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const cm=(0,p.Z)(dm,[["render",wm]]);var um=cm;const pm={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mm=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),gm=["value"],hm=(0,s._)("option",{value:"all"},"All",-1),fm=(0,s._)("option",{value:""},"No Delivery",-1),bm=["value"];function xm(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",pm,[mm,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hm,fm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,bm)))),128))],40,gm)])}var ym={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const vm=(0,p.Z)(ym,[["render",xm]]);var _m=vm;const km={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Cm=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Dm=["value"],Sm=(0,s._)("option",{value:"all"},"All",-1),zm=(0,s._)("option",{value:""},"No Agent",-1),Um=["value"];function Pm(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",km,[Cm,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Sm,zm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,Um)))),128))],40,Dm)])}var Lm={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const qm=(0,p.Z)(Lm,[["render",Pm]]);var Am=qm;const $m={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Wm=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Em=["value"],Tm=(0,s._)("option",{value:"all"},"All",-1),Fm=["value"];function Om(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",$m,[Wm,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Tm,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,Fm)))),128))],40,Em)])}var Im={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const Vm=(0,p.Z)(Im,[["render",Om]]);var jm=Vm,Rm={components:{DateFilter:um,AffectationFilter:_m,AgentFilter:Am,ProductFilter:jm},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Pd,deliveries:$d,dateFilter:["",""]}}};const Mm=(0,p.Z)(Rm,[["render",lm]]);var Nm=Mm,Hm={components:{IndexStatistics:wp,FiltersWrapper:Nm,IndexExport:vp},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ve()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Ym=(0,p.Z)(Hm,[["render",Xu]]);var Zm=Ym;const Km={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Bm=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Qm={class:"tw-bg-white tw-p-4"},Jm={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Gm={class:"tw-col-span-2 md:tw-col-span-1"},Xm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),tg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eg={class:"tw-col-span-2 md:tw-col-span-1"},rg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),ag={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sg={class:"tw-col-span-2 md:tw-col-span-1"},og=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),lg={class:"tw-relative"},ig=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),ng=["value"],wg=["value"],dg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ug={class:"tw-col-span-2 md:tw-col-span-1"},pg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),mg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gg={class:"tw-col-span-2"},hg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),fg={class:"tw-relative"},bg=["value"],xg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),yg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vg={key:0,class:"md:tw-col-span-1 tw-col-span-2"},_g=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),kg={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Cg={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Dg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Sg={class:"tw-col-span-2"},zg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Ug={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Pg={class:"md:tw-col-span-1 tw-col-span-2"},Lg={class:"md:tw-col-span-1 tw-col-span-2"},qg=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Ag={class:"tw-relative"},$g=["value"],Wg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Eg={class:"tw-col-span-2"},Tg={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Fg={key:0,class:"tw-text-red-400 tw-text-xs"},Og={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Ig=["disabled"],Vg=(0,s._)("span",null,"Create",-1);function jg(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Km,[Bm,(0,s._)("div",Qm,[(0,s._)("div",Jm,[(0,s._)("div",Gm,[Xm,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",tg,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",eg,[rg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",ag,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",sg,[og,(0,s._)("div",lg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[ig,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,ng),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,wg)))),128))],34),[[a.bM,l.itemCopy.city]]),dg]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",cg,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ug,[pg,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",mg,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",gg,[hg,(0,s._)("div",fg,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,rt.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,bg)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),xg]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",yg,(0,rt.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",vg,[_g,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,rt.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",kg,(0,rt.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Cg,[Dg,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Sg,[zg,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",Ug,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Pg,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",Lg,[qg,(0,s._)("div",Ag,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,$g)))),128))],512),[[a.bM,l.itemCopy.upsell]]),Wg])]),(0,s._)("div",Eg,[(0,s._)("label",Tg,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",Fg," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",Og,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Vg],8,Ig)])])])),_:1},8,["visible","onCancel"])])}const Rg=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Mg(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Mg=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Ng=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Hg=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Yg=(t,e)=>{t.isLoading=!0,t.errors={},bp.create(e).then((e=>Ng(t,e.data))).catch((e=>Hg(t,e.response.data))).finally((()=>t.isLoading=!1))},Zg={key:0},Kg=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Bg={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Qg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Jg=(0,s._)("span",null,"Add Item",-1),Gg=[Qg,Jg],Xg={key:1,class:"md:tw-col-span-12 tw-col-span-12"},th={class:"tw-max-w-full tw-overflow-auto"},eh={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},rh={class:"tw-bg-gray-50"},ah={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},sh={key:0},oh={colspan:"6"},lh={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},ih=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),nh=(0,s._)("span",null,"Add Item",-1),wh=[ih,nh],dh=(0,s._)("td",{colspan:"4"},null,-1),ch=(0,s._)("td",null,null,-1),uh={colspan:"1",class:"tw-p-2"},ph={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},mh={key:1},gh={colspan:"6"},hh={class:"tw-scale-75 tw-p-5"};function fh(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zg,[Kg,(0,s._)("div",Bg,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Gg)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Xg,[(0,s._)("div",th,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",eh,[(0,s._)("tr",rh,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",ah,(0,rt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",sh,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",oh,[(0,s._)("div",lh,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},wh)])])]),(0,s._)("tr",null,[dh,ch,(0,s._)("td",uh,[(0,s._)("div",ph,[(0,s._)("p",null,(0,rt.zw)(o.currency)+" "+(0,rt.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",mh,[(0,s._)("tr",null,[(0,s._)("td",gh,[(0,s._)("div",hh,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const bh=(0,s._)("td",null,null,-1),xh={class:"tw-p-2"},yh={class:"tw-relative"},vh=["value"],_h=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),kh=["value"],Ch=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Dh={class:"tw-p-2"},Sh={key:0,class:"tw-relative"},zh=["value"],Uh=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Ph=["value"],Lh={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},qh=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Ah=[qh],$h={class:"tw-p-2"},Wh=["value"],Eh={class:"tw-p-2"},Th=["value"],Fh={class:"tw-flex tw-justify-center"};function Oh(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[bh,(0,s._)("td",null,[(0,s._)("div",xh,[(0,s._)("div",yh,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[_h,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,kh)))),128))],40,vh),Ch])])]),(0,s._)("td",null,[(0,s._)("div",Dh,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Sh,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Uh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.color)+" "+(0,rt.zw)(t.size),9,Ph)))),128))],40,zh)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Lh,Ah)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",$h,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Wh)])]),(0,s._)("td",null,[(0,s._)("div",Eh,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Th)])]),(0,s._)("td",null,[(0,s._)("div",Fh,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Ih={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Vh=(0,p.Z)(Ih,[["render",Oh]]);var jh=Vh,Rh={components:{ItemRow:jh},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return sl(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Mh=(0,p.Z)(Rh,[["render",fh]]);var Nh=Mh;const Hh=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Yh={key:0,class:"tw-relative"},Zh=["value","disabled"],Kh=(0,s._)("option",{value:""},"Choose a Delivery",-1),Bh=["value"],Qh=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Jh={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Gh={key:2,class:"tw-relative"},Xh={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},tf=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),ef=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function rf(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Hh,o.fetched?((0,s.wg)(),(0,s.iD)("div",Yh,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,rt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Kh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,Bh)))),128))],42,Zh),Qh])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Jh,(0,rt.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gh,[(0,s._)("div",Xh,[(0,s.Wm)(i)]),tf,ef]))])}var af={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const sf=(0,p.Z)(af,[["render",rf]]);var of=sf,lf={components:{OrderItems:Nh,OrderAffectation:of},props:{visible:{required:!0}},data(){return{confirmations:Pd,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Rg(this,this.itemCopy);if(!t)return!1;Yg(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const nf=(0,p.Z)(lf,[["render",jg]]);var wf=nf,df={components:{IndexTable:Tu,IndexFilters:Zm,CreatePopup:wf},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ua.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const cf=(0,p.Z)(df,[["render",Yd]]);var uf=cf,pf=r(240),mf=r(4842);const gf=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new product")],-1),hf={key:0},ff={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},bf={class:"tw-w-full"},xf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),yf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vf={class:"tw-w-full"},_f=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),kf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Cf={class:"tw-w-full"},Df={class:"mb-1 text-body-2 tw-text-zinc-700"},Sf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zf={class:"mb-1 text-body-2 tw-text-zinc-700"},Uf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Pf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Lf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qf={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Af=(0,s._)("span",null,"Add Variants: ",-1),$f={class:"tw-h-fit tw-mb-"},Wf=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Ef={class:"tw-relative"},Tf=(0,s._)("option",{value:0},"Select",-1),Ff=["value"],Of={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},If={key:0},Vf={class:"md:tw-col-span-3 tw-col-span-12"},jf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Rf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mf={class:"md:tw-col-span-3 tw-col-span-12"},Nf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Hf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Yf={key:1},Zf={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Kf={class:"md:tw-col-span-3 tw-col-span-12"},Bf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Qf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jf={class:"md:tw-col-span-3 tw-col-span-12"},Gf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Xf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tb={class:"md:tw-col-span-3 tw-col-span-12"},eb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),rb=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),ab={class:"md:tw-col-span-3 tw-col-span-12"},sb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),ob={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lb={class:"tw-col-span-12 tw-flex tw-justify-end"},ib=["disabled"],nb=(0,s._)("span",{class:"tw-text-white"},"Add",-1),wb={class:""},db={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},cb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),ub={class:"mb-1 text-body-2 tw-text-zinc-700"},pb={key:1,class:"tw-max-w-full tw-overflow-x-auto"},mb={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},gb={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},hb={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},fb={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},bb={class:"tw-px-6 tw-py-2"},xb={class:"tw-px-6 tw-py-2"},yb={class:"tw-px-6 tw-py-2"},vb={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},_b={class:"tw-w-full"},kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Cb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Db={class:"tw-w-full"},Sb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),zb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ub=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),Pb={class:"tw-mt-2"},Lb=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),qb={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Ab={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},$b={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Wb={class:"tw-w-max tw-relative"},Eb=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Tb={class:"md:tw-col-span-6 tw-col-span-12"},Fb={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Ob=(0,s._)("span",null,"No image available",-1),Ib=[Ob],Vb={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},jb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Rb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Mb(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[gf,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hf,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ff,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",bf,[xf,(0,s.Wm)(lt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:l.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yf,(0,rt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vf,[_f,(0,s.Wm)(lt.hw,{error:!l.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:l.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>l.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kf,(0,rt.zw)(l.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Cf,[(0,s._)("div",Df," Buying Price ("+(0,rt.zw)(l.currency)+") ",1),(0,s.Wm)(lt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!l.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:l.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>l.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Sf,(0,rt.zw)(l.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",zf," Selling Price ("+(0,rt.zw)(l.currency)+") ",1),(0,s.Wm)(lt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!l.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:l.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>l.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Uf,(0,rt.zw)(l.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Pf,(0,s.Wm)(mf.z,{error:!l.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:l.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>l.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Lf,(0,rt.zw)(l.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",qf,[Af,(0,s.Wm)(Zi.G,{modelValue:l.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>l.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(va.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",$f,[Wf,(0,s._)("div",Ef,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Tf,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,Ff)))),128))],544),[[a.bM,l.warehouse]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Of,(0,rt.zw)(l.formStatus.warehouse.message),1)]),l.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",If,[(0,s._)("div",Vf,[jf,(0,s.Wm)(lt.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Rf,(0,rt.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Mf,[Nf,(0,s.Wm)(lt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Hf,(0,rt.zw)(l.formStatus.stockAlert.message),1)])])),l.addVariants?((0,s.wg)(),(0,s.iD)("div",Yf,[(0,s._)("div",Zf,[(0,s._)("div",Kf,[Bf,(0,s.Wm)(lt.hw,{error:!l.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[18]||(e[18]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qf,(0,rt.zw)(l.formStatus.size.message),1)]),(0,s._)("div",Jf,[Gf,(0,s.Wm)(lt.hw,{error:!l.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[20]||(e[20]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xf,(0,rt.zw)(l.formStatus.color.message),1)]),(0,s._)("div",tb,[eb,(0,s.Wm)(lt.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),rb]),(0,s._)("div",ab,[sb,(0,s.Wm)(lt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ob,(0,rt.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",lb,[(0,s._)("button",{disabled:!l.quantity,class:(0,rt.C_)([{"bg-primary-color":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),nb],10,ib)])]),(0,s._)("div",wb,[(0,s._)("div",db,[cb,(0,s._)("div",ub," Quantity Total: "+(0,rt.zw)(i.qtyTotal),1)]),0==l.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":l.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!l.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,rt.zw)(l.formStatus.variants.valid?"No Variants yet":l.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",pb,[(0,s._)("table",mb,[(0,s._)("thead",gb,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",hb,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",fb,(0,rt.zw)(t.size),1),(0,s._)("td",bb,(0,rt.zw)(t.color),1),(0,s._)("td",xb,(0,rt.zw)(t.quantity),1),(0,s._)("td",yb,(0,rt.zw)(t.stockAlert),1),(0,s._)("td",vb,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_b,[kb,(0,s.Wm)(lt.hw,{error:!l.formStatus.link_store.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:l.product.link_store,"onUpdate:modelValue":e[27]||(e[27]=t=>l.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cb,(0,rt.zw)(l.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Db,[Sb,(0,s.Wm)(lt.hw,{error:!l.formStatus.link_video.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:l.product.link_video,"onUpdate:modelValue":e[29]||(e[29]=t=>l.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zb,(0,rt.zw)(l.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Ub,(0,s._)("div",Pb,[(0,s.Wm)(pf.r,{modelValue:l.selectedDeliveries,"onUpdate:modelValue":e[30]||(e[30]=t=>l.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:l.offers,"onUpdate:offers":e[31]||(e[31]=t=>l.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Lb,(0,s._)("div",qb,[(0,s._)("div",Ab,[(0,s._)("label",$b,[(0,s._)("div",Wb,[(0,s.Wm)(ot.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Eb]),(0,s._)("input",{onChange:e[32]||(e[32]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Tb,[(0,s._)("div",Fb,[(0,s._)("img",{class:(0,rt.C_)([{"tw-hidden":!l.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,rt.C_)([{"tw-hidden":!!l.image},"bg-gray-300 h-48 flex items-center justify-center"])},Ib,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Vb,[(0,s.Wm)(at.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[jb])),_:1}),(0,s.Wm)(at.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Rb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function Nb(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(at.T,{onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:o.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:l.update,variant:r.variant,onCancel:l.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const Hb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},Yb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Zb={class:"tw-col-span-12"},Kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Bb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qb={class:"tw-col-span-12"},Jb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Gb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xb={class:"tw-col-span-12"},tx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),ex={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rx={class:"tw-col-span-12"},ax=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),sx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ox={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},lx=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),ix=[lx],nx=["disabled"],wx=(0,s._)("span",{class:"tw-text-white"},"Save",-1),dx=[wx];function cx(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Hb,[(0,s._)("div",Yb,[(0,s._)("div",Zb,[Kb,(0,s.Wm)(lt.hw,{error:!o.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[1]||(e[1]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bb,(0,rt.zw)(o.formStatus.size.message),1)]),(0,s._)("div",Qb,[Jb,(0,s.Wm)(lt.hw,{error:!o.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[3]||(e[3]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Gb,(0,rt.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Xb,[tx,(0,s.Wm)(lt.hw,{onChange:l.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ex,(0,rt.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",rx,[ax,(0,s.Wm)(lt.hw,{onChange:l.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>l.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",sx,(0,rt.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",ox,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},ix),(0,s._)("button",{disabled:!o.quantity,class:(0,rt.C_)([{"tw-bg-orange-500":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>l.updateVariant&&l.updateVariant(...t))},dx,10,nx)])])])}var ux={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const px=(0,p.Z)(ux,[["render",cx]]);var mx=px,gx={components:{UpdateProductVariant:mx},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const hx=(0,p.Z)(gx,[["render",Nb]]);var fx=hx;class bx{async create(t){return await W.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await W.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await W.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await W.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await W.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var xx=new bx;const yx=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),vx={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},_x={class:"md:tw-col-span-3 tw-col-span-12"},kx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Cx={class:"md:tw-col-span-3 tw-col-span-12"},Dx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Sx={class:"md:tw-col-span-5 tw-col-span-12"},zx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Ux={class:"md:tw-col-span-1 tw-col-span-12"},Px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),Lx={class:"tw-mt-2"},qx={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},Ax={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$x=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),Wx={class:"tw-px-6 tw-py-4"},Ex={class:"tw-px-6 tw-py-4"},Tx={class:"tw-px-6 tw-py-4"},Fx={class:"tw-max-w-[250px] tw-text-sm"},Ox={class:"tw-px-6 tw-py-4"},Ix={key:0},Vx=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),jx=[Vx];function Rx(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[yx,(0,s._)("div",vx,[(0,s._)("div",_x,[kx,(0,s.Wm)(lt.hw,{type:"number","hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Cx,[Dx,(0,s.Wm)(lt.hw,{type:"number","hide-details":!0,modelValue:o.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Sx,[zx,(0,s.Wm)(lt.hw,{type:"text","hide-details":!0,modelValue:o.note,"onUpdate:modelValue":e[2]||(e[2]=t=>o.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ux,[Px,(0,s.Wm)(at.T,{onClick:l.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",Lx,[(0,s._)("div",qx,[(0,s._)("table",Ax,[$x,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Wx,(0,rt.zw)(t.quantity),1),(0,s._)("td",Ex,(0,rt.zw)(t.price)+" "+(0,rt.zw)(o.currency),1),(0,s._)("td",Tx,[(0,s._)("p",Fx,(0,rt.zw)(t.note),1)]),(0,s._)("td",Ox,[(0,s.Wm)(at.T,{onClick:e=>l.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",Ix,jx)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"])])}var Mx={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const Nx=(0,p.Z)(Mx,[["render",Rx]]);var Hx=Nx,Yx={components:{VariantActions:fx,ProductOffers:Hx},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,link_video:"",link_store:"",description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert}];t.variants=e}ua.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",buyingPrice:0,link_video:"",link_store:"",sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.product.name,"Product name"),this.formStatus.reference=Ut(this.product.reference,"Reference"),this.formStatus.buyingPrice=Ut(this.product.buyingPrice,"Buying price"),this.formStatus.quantity=Ut(this.quantity,"Quantity"),this.formStatus.sellingPrice=Ut(this.product.sellingPrice,"Selling price"),this.formStatus.description=Ut(this.product.description,"Description"),this.formStatus.link_store=Ut(this.product.link_store,"Link store"),this.formStatus.link_video=Ut(this.product.link_video,"Link video"),this.formStatus.variants=qt(this.variants),this.addVariants||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.link_video.valid&&this.formStatus.link_store.valid&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid)return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,xx.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses()}};const Zx=(0,p.Z)(Yx,[["render",Mb]]);var Kx=Zx;const Bx=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),Qx={key:0},Jx={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Gx={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Xx={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},ty={class:"tw-w-full"},ey=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),ry={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ay={class:"tw-w-full"},sy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),oy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ly={class:"tw-w-full"},iy={class:"mb-1 text-body-2 tw-text-zinc-700"},ny={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wy={class:"mb-1 text-body-2 tw-text-zinc-700"},dy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},cy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),uy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},py={class:"tw-h-fit tw-mb-"},my=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),gy={class:"tw-relative"},hy=(0,s._)("option",{value:0},"Select",-1),fy=["value"],by={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xy={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},yy={class:"md:tw-col-span-3 tw-col-span-12"},vy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),_y={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ky={class:"md:tw-col-span-3 tw-col-span-12"},Cy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Dy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sy={class:"md:tw-col-span-3 tw-col-span-12"},zy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Uy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Py={class:"md:tw-col-span-3 tw-col-span-12"},Ly=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),qy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ay={class:"tw-col-span-12 tw-flex tw-justify-end"},$y=["disabled"],Wy=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Ey={class:""},Ty={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},Fy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),Oy={class:"mb-1 text-body-2 tw-text-zinc-700"},Iy={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Vy={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jy={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Ry={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},My={class:"tw-px-6 tw-py-2 tw-capitalize"},Ny={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Hy={class:"tw-px-6 tw-py-2"},Yy={class:"tw-px-6 tw-py-2"},Zy={class:"tw-flex tw-flex-col"},Ky={key:0,class:"tw-text-xs tw-text-green-500"},By={class:"tw-px-6 tw-py-2"},Qy={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Jy={class:"tw-w-full"},Gy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Xy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tv={class:"tw-w-full"},ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),rv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},av=(0,s._)("h1",null,"Deliveries",-1),sv={class:"tw-mt-2"},ov=(0,s._)("h1",null,"Image",-1),lv={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},iv={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},nv={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},wv={class:"tw-w-max tw-relative"},dv=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),cv={class:"md:tw-col-span-6 tw-col-span-12"},uv={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},pv=["src"],mv=(0,s._)("span",null,"No image available",-1),gv=[mv],hv={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},fv=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),bv=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function xv(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Bx,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qx,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Jx,[(0,s._)("div",Gx,[(0,s.Uk)(" Product ID: "),(0,s._)("span",Xx,(0,rt.zw)(i.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ty,[ey,(0,s.Wm)(lt.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:l.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ry,(0,rt.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ay,[sy,(0,s.Wm)(lt.hw,{error:!l.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>l.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",oy,(0,rt.zw)(l.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ly,[(0,s._)("div",iy," Buying Price ("+(0,rt.zw)(l.currency)+") ",1),(0,s.Wm)(lt.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!l.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:l.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>l.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",ny,(0,rt.zw)(l.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",wy," Selling Price ("+(0,rt.zw)(l.currency)+") ",1),(0,s.Wm)(lt.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!l.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:l.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>l.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",dy,(0,rt.zw)(l.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[cy,(0,s.Wm)(mf.z,{error:!l.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:l.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>l.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",uy,(0,rt.zw)(l.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(va.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",py,[my,(0,s._)("div",gy,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.warehouse=t),onChange:e[11]||(e[11]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[hy,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,fy)))),128))],544),[[a.bM,l.warehouse]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",by,(0,rt.zw)(l.formStatus.warehouse.message),1)]),(0,s._)("div",null,[(0,s._)("div",xy,[(0,s._)("div",yy,[vy,(0,s.Wm)(lt.hw,{error:!l.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>i.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[13]||(e[13]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_y,(0,rt.zw)(l.formStatus.size.message),1)]),(0,s._)("div",ky,[Cy,(0,s.Wm)(lt.hw,{error:!l.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[15]||(e[15]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Dy,(0,rt.zw)(l.formStatus.color.message),1)]),(0,s._)("div",Sy,[zy,(0,s.Wm)(lt.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Uy,(0,rt.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Py,[Ly,(0,s.Wm)(lt.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",qy,(0,rt.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Ay,[(0,s._)("button",{disabled:!l.quantity,class:(0,rt.C_)([{"bg-primary-color":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Wy],10,$y)])]),(0,s._)("div",Ey,[(0,s._)("div",Ty,[Fy,(0,s._)("div",Oy," Quantity Total: "+(0,rt.zw)(i.qtyTotal),1)]),0==l.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":l.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!l.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,rt.zw)(l.formStatus.variants.valid?"No Variants yet":l.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",Iy,[(0,s._)("table",Vy,[(0,s._)("thead",jy,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["warehouse","size","color","qty","Stock Alert","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Ry,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",My,(0,rt.zw)(t.warehouse.name),1),(0,s._)("td",Ny,(0,rt.zw)(t.size),1),(0,s._)("td",Hy,(0,rt.zw)(t.color),1),(0,s._)("td",Yy,[(0,s._)("div",Zy,[(0,s._)("span",null,(0,rt.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Ky,(0,rt.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",By,(0,rt.zw)(t.stockAlert),1),(0,s._)("td",Qy,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])])),_:1})])),_:1}),(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Jy,[Gy,(0,s.Wm)(lt.hw,{error:!l.formStatus.link_store.valid,onKeyup:e[21]||(e[21]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:l.product.link_store,"onUpdate:modelValue":e[22]||(e[22]=t=>l.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xy,(0,rt.zw)(l.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",tv,[ev,(0,s.Wm)(lt.hw,{error:!l.formStatus.link_video.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:l.product.link_video,"onUpdate:modelValue":e[24]||(e[24]=t=>l.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rv,(0,rt.zw)(l.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[av,(0,s._)("div",sv,[(0,s.Wm)(pf.r,{modelValue:l.selectedDeliveries,"onUpdate:modelValue":e[25]||(e[25]=t=>l.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:l.offers,"onUpdate:offers":e[26]||(e[26]=t=>l.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ov,(0,s._)("div",lv,[(0,s._)("div",iv,[(0,s._)("label",nv,[(0,s._)("div",wv,[(0,s.Wm)(ot.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),dv]),(0,s._)("input",{onChange:e[27]||(e[27]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",cv,[(0,s._)("div",uv,[(0,s._)("img",{class:(0,rt.C_)([{"tw-hidden":!l.image},"w-full h-full tw-object-contain"]),ref:"image",src:l.serverUrl+"storage/"+l.image,id:"image-preview",alt:"Image Preview"},null,10,pv),(0,s._)("div",{class:(0,rt.C_)([{"tw-hidden":!!l.image},"bg-gray-300 h-48 flex items-center justify-center"])},gv,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",hv,[(0,s.Wm)(at.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[fv])),_:1}),(0,s.Wm)(at.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[bv])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const yv={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},vv={class:"tw-w-full"},_v=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),kv={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Cv=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Dv=[Cv],Sv=["disabled"],zv=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Uv=[zv];function Pv(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:e[0]||(e[0]=t=>o.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(at.T,{key:1,onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(at.T,{onClick:e[2]||(e[2]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:o.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:l.update,variant:r.variant,onCancel:l.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(w,{visible:o.visibleAdd,onCancel:l.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",yv,[(0,s._)("div",vv,[_v,(0,s.Wm)(lt.hw,{"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",kv,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.cancelAdd&&l.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Dv),(0,s._)("button",{disabled:!o.quantity||0==o.quantity,class:(0,rt.C_)([{"!tw-bg-green-500":0!=o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>l.addQuantity&&l.addQuantity(...t))},Uv,10,Sv)])])])),_:1},8,["visible","onCancel"])])}var Lv={components:{UpdateProductVariant:mx},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const qv=(0,p.Z)(Lv,[["render",Pv]]);var Av=qv,$v={components:{UpdateVariantActions:Av,ProductOffers:Hx},data(){return{currency:c,serverUrl:w,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ua.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Ut(this.product.name,"Product name"),this.formStatus.buyingPrice=Ut(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Ut(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Ut(this.product.link_store,"Link store"),this.formStatus.link_video=Ut(this.product.link_video,"Link video"),this.formStatus.description=Ut(this.product.description,"Description"),this.formStatus.variants=qt(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return xx.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ua.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,name:o,description:l,link_video:i,link_store:n,deliveries:w,image:d,offers:c}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=o,this.product.reference=s,this.product.link_video=i,this.product.link_store=n,this.product.description=l,this.image=d,this.offers=c,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=w.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Wv=(0,p.Z)($v,[["render",xv]]);var Ev=Wv;const Tv={class:"tw-pb-14"},Fv=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Ov={key:0},Iv={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Vv={class:"tw-grid tw-grid-cols-12 tw-gap-2"},jv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Rv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),Mv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Nv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Hv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),Yv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Zv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Kv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),Bv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Qv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Jv=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),Gv={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Xv={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},t_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),e_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},r_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},a_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),s_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},o_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},l_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),i_=["href"],n_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},w_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),d_=["href"],c_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},u_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),p_={class:"tw-text-neutral-800 tw-font-medium"},m_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},g_={key:3,class:"tw-border bg-white tw-w-full tw-rounded-md"},h_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},f_={key:5,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},b_={class:"tw-max-w-full tw-overflow-auto"},x_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},y_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},v_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},__={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},k_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},C_={class:"tw-px-6 tw-py-2"},D_={class:"tw-px-6 tw-py-2"},S_={class:"tw-flex tw-flex-col"},z_={class:"tw-px-6 tw-py-2"},U_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},P_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),L_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),q_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),A_={class:"tw-px-6 tw-py-2"},$_={class:"tw-flex tw-flex-col tw-font-medium"},W_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function E_(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",Tv,[Fv,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ov,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Iv,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Vv,[(0,s._)("div",jv,[Rv,(0,s._)("p",Mv,(0,rt.zw)(o.product.name),1)]),(0,s._)("div",Nv,[Hv,(0,s._)("p",Yv,(0,rt.zw)(o.product.ref),1)]),(0,s._)("div",Zv,[Kv,(0,s._)("p",Bv,(0,rt.zw)(o.product.buying_price)+" "+(0,rt.zw)(o.currency),1)]),(0,s._)("div",Qv,[Jv,(0,s._)("p",Gv,(0,rt.zw)(o.product.selling_price)+" "+(0,rt.zw)(o.currency),1)]),(0,s._)("div",Xv,[t_,(0,s._)("p",e_,(0,rt.zw)(l.qtyTotalDelivered),1)]),(0,s._)("div",r_,[a_,(0,s._)("p",s_,(0,rt.zw)(l.qtyTotalSent),1)]),(0,s._)("div",o_,[l_,(0,s._)("a",{target:"_blank",href:o.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,rt.zw)(o.product.link_store),9,i_)]),(0,s._)("div",n_,[w_,(0,s._)("a",{target:"_blank",href:o.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,rt.zw)(o.product.link_video),9,d_)]),(0,s._)("div",c_,[u_,(0,s._)("p",p_,(0,rt.zw)(o.product.description),1)])])])])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",m_,"Tracking")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",g_,[(0,s.Wm)(n,{product:o.product},null,8,["product"])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",h_,"Variations")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",f_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",b_,[(0,s._)("table",x_,[(0,s._)("thead",y_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",v_,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",__,(0,rt.zw)(t.id),1),(0,s._)("th",k_,(0,rt.zw)(t.size),1),(0,s._)("td",C_,(0,rt.zw)(t.color),1),(0,s._)("td",D_,[(0,s._)("div",S_,[(0,s._)("span",null,"Initial: "+(0,rt.zw)(t.quantity),1)])]),(0,s._)("td",z_,(0,rt.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",U_,[P_,L_,q_,(0,s._)("td",A_,[(0,s._)("div",$_,[(0,s._)("span",null,"Total: "+(0,rt.zw)(l.qtyTotal),1)])]),W_])])])])])])])):(0,s.kq)("",!0)])}const T_={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},F_=["onClick"];function O_(t,e,r,a,o,l){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(cs._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",T_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>o.tab=t.id,class:(0,rt.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==o.tab}])},(0,rt.zw)(t.name),11,F_)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(ms.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(gs.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const I_={class:"tw-mt-5"},V_={class:"tw-max-w-full tw-overflow-auto"},j_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},R_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},M_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function N_(t,e,r,a,o,l){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",I_,[(0,s._)("div",V_,[(0,s._)("table",j_,[(0,s._)("thead",R_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",M_,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.j4)(i,{item:t,key:t.id,source:r.source},null,8,["item","source"])))),128))])])])])}const H_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Y_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Z_={class:"tw-flex tw-items-start tw-h-full"},K_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},B_={class:"tw-px-6 tw-py-2"},Q_={key:0},J_={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},G_={key:0,class:"tw-h-fit tw-py-2"},X_=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),tk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),rk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},ak=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),sk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},ok=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),lk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},ik={key:1},nk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},wk={key:0,class:"tw-h-fit tw-py-2"},dk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),ck={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},uk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),pk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},mk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),gk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},hk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),fk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},bk={class:"tw-px-6 tw-py-2 tw-space-x-3"};function xk(t,e,r,a,o,l){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",H_,[(0,s._)("th",Y_,[(0,s._)("div",Z_,(0,rt.zw)(r.item.id),1)]),(0,s._)("th",K_,(0,rt.zw)(r.item.name),1),(0,s._)("td",B_,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",Q_,[(0,s._)("div",J_,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,rt.zw)(l.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Wt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",G_,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[X_,(0,s._)("td",tk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[ek,(0,s._)("td",rk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[ak,(0,s._)("td",sk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[ok,(0,s._)("td",lk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",ik,[(0,s._)("div",nk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,rt.zw)(l.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Wt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",wk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[dk,(0,s._)("td",ck,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[uk,(0,s._)("td",pk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[mk,(0,s._)("td",gk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[hk,(0,s._)("td",fk,(0,rt.zw)(l.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",bk,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function yk(t,e,r,a,o,l){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:o.visible,onCancel:l.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const vk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},_k={class:"tw-p-5"},kk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Ck=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Dk(t,e,r,a,o,l){const i=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",vk,[(0,s.Wm)(at.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",_k,[(0,s._)("table",kk,[Ck,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,type:r.type},null,8,["item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Sk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},zk={class:"tw-w-4 tw-px-2 tw-py-1"},Uk={class:"tw-w-4 tw-px-2 tw-py-1"},Pk={class:"tw-w-4 tw-px-2 tw-py-1"},Lk={class:"tw-w-4 tw-px-2 tw-py-1"},qk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Ak={key:0,class:"tw-h-fit tw-py-2"},$k=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Wk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Ek=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Tk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Ok={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Ik=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Vk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function jk(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",Sk,[(0,s._)("td",zk,(0,rt.zw)(r.item.id),1),(0,s._)("td",Uk,(0,rt.zw)(r.item.size),1),(0,s._)("td",Pk,(0,rt.zw)(r.item.color),1),(0,s._)("td",Lk,[(0,s._)("div",null,[(0,s._)("div",qk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,rt.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Wt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",Ak,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[$k,(0,s._)("td",Wk,(0,rt.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[Ek,(0,s._)("td",Tk,(0,rt.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[Fk,(0,s._)("td",Ok,(0,rt.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[Ik,(0,s._)("td",Vk,(0,rt.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var Rk={props:["type","item"],data(){return{showDetails:!1}}};const Mk=(0,p.Z)(Rk,[["render",jk]]);var Nk=Mk,Hk={props:["visible","source","type"],components:{ProductVariantDetailsRow:Nk},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Yk=(0,p.Z)(Hk,[["render",Dk]]);var Zk=Yk,Kk={props:["product","source","type"],components:{ProductVariantDetails:Zk},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const Bk=(0,p.Z)(Kk,[["render",yk]]);var Qk=Bk,Jk={components:{ShowProductVariantActions:Qk},props:["source","item"],data(){return{showDetails:!1}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const Gk=(0,p.Z)(Jk,[["render",xk]]);var Xk=Gk,tC={props:["product","source"],components:{ProductTrackingRow:Xk},computed:{items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const eC=(0,p.Z)(tC,[["render",N_]]);var rC=eC,aC={components:{ProductTrackingTable:rC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const sC=(0,p.Z)(aC,[["render",O_]]);var oC=sC,lC={components:{ProductTracking:oC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ua.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const iC=(0,p.Z)(lC,[["render",E_]]);var nC=iC,wC={name:"products",path:"/products",component:fa,meta:{module:"product"},children:[{name:"product/list",path:"",component:Fd,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:uf,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:Kx,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/update",path:"update/:id",component:Ev,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:nC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const dC={class:"mb-5 tw-flex tw-justify-between tw-items-center"},cC=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),uC={key:0},pC=(0,s._)("span",{class:"text-white"}," Add User ",-1),mC={key:0},gC={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},hC={class:"mb-5 tw-flex"},fC={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},bC={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},xC={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},yC=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),vC={class:"tw-relative"},_C=["value"],kC={class:""};function CC(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",dC,[cC,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",uC,[(0,s.Wm)(at.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),pC])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mC,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",gC,[(0,s._)("div",hC,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",fC,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",bC,[(0,s._)("div",xC,[yC,(0,s._)("div",vC,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,rt.zw)(t),9,_C)))),128))],512),[[a.bM,l.role]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",kC,[(0,s.Wm)(w,{users:i.filteredUsers,columns:l.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const DC={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},SC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},zC={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},UC=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),PC={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},LC=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),qC={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},AC={class:"tw-px-6 tw-py-4"},$C={class:"tw-px-6 tw-py-4"},WC={class:"tw-px-6 tw-py-4"},EC={class:"tw-px-6 tw-py-4"},TC={class:"tw-px-6 tw-py-4"},FC={key:0,class:"tw-text-red-500"},OC={key:1},IC={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},VC=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),jC={key:1,class:"tw-text-neutral-700"},RC={class:"tw-px-6 tw-py-4"},MC={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},NC={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},HC={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},YC=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),ZC=["value"],KC={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},BC={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},QC={class:"tw-text-white"};function JC(t,e,r,o,l,i){const n=(0,s.up)("RoleName"),w=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",DC,[(0,s._)("table",SC,[(0,s._)("thead",zC,[(0,s._)("tr",null,[UC,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",PC,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[LC,(0,s._)("th",qC,(0,rt.zw)(e.id),1),(0,s._)("td",AC,(0,rt.zw)(e.firstname)+" "+(0,rt.zw)(e.lastname),1),(0,s._)("td",$C,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",WC,(0,rt.zw)(e.email),1),(0,s._)("td",EC,(0,rt.zw)(e.phone),1),(0,s._)("td",TC,[e.last_action?((0,s.wg)(),(0,s.iD)("div",OC,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",IC,[VC,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",jC,(0,rt.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",FC," Never Connected "))]),(0,s._)("td",RC,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(w,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",MC,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",NC,[(0,s._)("div",HC,[YC,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,ZC)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",KC,[(0,s._)("div",BC,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,rt.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",QC,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function GC(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(at.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(at.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var XC={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,tt["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),tt.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const tD=(0,p.Z)(XC,[["render",GC]]);var eD=tD;const rD={key:0,class:"tw-flex tw-items-center"};function aD(t,e,r,a,o,l){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",rD,[(0,s.Wm)(Zi.G,{disabled:o.isLoading,loading:o.isLoading,onChange:l.handleChange,color:"primary-color",flat:!0,modelValue:o.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>o.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var sD={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,tt.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const oD=(0,p.Z)(sD,[["render",aD]]);var lD=oD;const iD={class:"tw-flex tw-items-center tw-h-full"};function nD(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",iD,[(0,s._)("div",{class:(0,rt.C_)([l.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,rt.C_)([l.current.text,"tw-text-sm tw-uppercase"])},(0,rt.zw)(r.role),3)],2)])}var wD={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const dD=(0,p.Z)(wD,[["render",nD]]);var cD=dD,uD={props:["columns","users"],components:{UserActions:eD,UserStatus:lD,RoleName:cD},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,is.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const pD=(0,p.Z)(uD,[["render",JC]]);var mD=pD,gD={components:{UsersTable:mD},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){tt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){tt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const hD=(0,p.Z)(gD,[["render",CC]]);var fD=hD,bD=r(988);const xD=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),yD={key:0},vD={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_D={class:"tw-w-full"},kD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),CD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},DD={class:"tw-w-full"},SD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),zD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},UD={class:"tw-w-full"},PD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),LD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qD={class:"tw-w-full"},AD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),$D={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},WD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),ED=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),TD=["value"],FD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),OD=["value"],ID=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),VD=(0,s._)("span",{class:"text-white"},"Add",-1),jD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),RD={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},MD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),ND={class:"tw-w-full"},HD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),YD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ZD={class:"tw-w-full"},KD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),BD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},QD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),JD={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},GD=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),XD=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function tS(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[xD,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yD,[(0,s.Wm)(n)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",vD,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_D,[kD,(0,s.Wm)(lt.hw,{error:!l.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:l.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",CD,(0,rt.zw)(l.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",DD,[SD,(0,s.Wm)(lt.hw,{error:!l.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:l.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>l.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zD,(0,rt.zw)(l.formStatus.lastname.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UD,[PD,(0,s.Wm)(lt.hw,{error:!l.formStatus.email.valid,"hide-details":!0,onKeyup:e[4]||(e[4]=t=>i.resetError("email")),modelValue:l.user.email,"onUpdate:modelValue":e[5]||(e[5]=t=>l.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",LD,(0,rt.zw)(l.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qD,[AD,(0,s.Wm)(lt.hw,{error:!l.formStatus.phone.valid,"hide-details":!0,onKeyup:e[6]||(e[6]=t=>i.resetError("phone")),modelValue:l.user.phone,"onUpdate:modelValue":e[7]||(e[7]=t=>l.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$D,(0,rt.zw)(l.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Zi.G,{modelValue:l.isHavingAllProducts,"onUpdate:modelValue":e[8]||(e[8]=t=>l.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),WD,(0,s._)("div",null,[(0,s.Wm)(bD.f,{disabled:l.isHavingAllProducts,modelValue:l.selectedProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>l.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(va.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ED,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,TD)))),128))],512),[[a.bM,l.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(va.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[FD,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,OD)))),128))],512),[[a.bM,l.deliveryCity]]),ID,(0,s.Wm)(lt.hw,{"hide-details":!0,modelValue:l.deliveryCityFee,"onUpdate:modelValue":e[12]||(e[12]=t=>l.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(at.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[VD])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jD,(0,s.Wm)(pf.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:l.role,"onUpdate:modelValue":e[13]||(e[13]=t=>l.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",RD,[MD,(0,s.Wm)(Zi.G,{modelValue:l.user.status,"onUpdate:modelValue":e[14]||(e[14]=t=>l.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ND,[HD,(0,s.Wm)(lt.hw,{error:!l.formStatus.password.valid,"hide-details":!0,onKeyup:e[15]||(e[15]=t=>i.resetError("password")),modelValue:l.user.password,"onUpdate:modelValue":e[16]||(e[16]=t=>l.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",YD,(0,rt.zw)(l.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ZD,[KD,(0,s.Wm)(lt.hw,{error:!l.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[17]||(e[17]=t=>i.resetError("confirmPassword")),modelValue:l.user.confirmPassword,"onUpdate:modelValue":e[18]||(e[18]=t=>l.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",BD,(0,rt.zw)(l.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[QD,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,rt.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,rt.zw)(t.fee)+" "+(0,rt.zw)(l.currency),1),(0,s._)("div",null,[(0,s.Wm)(ot.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",JD,[(0,s.Wm)(at.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[GD])),_:1}),(0,s.Wm)(at.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[XD])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var eS={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};tt.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=St(this.user.email),this.formStatus.firstname=Ut(this.user.firstname),this.formStatus.lastname=Ut(this.user.lastname),this.formStatus.phone=Ut(this.user.phone),this.formStatus.password=zt(this.user.password),this.formStatus.confirmPassword=Lt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,o=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&o&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):tt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):tt.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ua.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const rS=(0,p.Z)(eS,[["render",tS]]);var aS=rS;const sS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),oS={key:0},lS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},iS={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},nS={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},wS={class:"tw-w-full"},dS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),cS={class:"tw-w-full"},uS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),pS={class:"tw-w-full"},mS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),gS={class:"tw-w-full"},hS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),fS={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},bS=(0,s._)("span",null,"Update Password: ",-1),xS={class:"tw-w-full"},yS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),vS={class:"tw-w-full"},_S=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),kS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),CS={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},DS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),SS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),zS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),US=["value"],PS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),LS=["value"],qS=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),AS=(0,s._)("span",{class:"text-white"},"Add",-1),$S=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),WS={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},ES=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),TS=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function FS(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[sS,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",oS,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",lS,[(0,s._)("div",iS,[(0,s.Uk)(" User ID: "),(0,s._)("span",nS,(0,rt.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wS,[dS,(0,s.Wm)(lt.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",cS,[uS,(0,s.Wm)(lt.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",pS,[mS,(0,s.Wm)(lt.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gS,[hS,(0,s.Wm)(lt.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",fS,[bS,(0,s.Wm)(Zi.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xS,[yS,(0,s.Wm)(lt.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(va.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vS,[_S,(0,s.Wm)(lt.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[kS,(0,s.Wm)(pf.r,{class:"text-capitalize","error-messages":l.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:l.role,"onUpdate:modelValue":e[7]||(e[7]=t=>l.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",CS,[DS,(0,s.Wm)(Zi.G,{modelValue:l.status,"onUpdate:modelValue":e[8]||(e[8]=t=>l.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Zi.G,{modelValue:l.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>l.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),SS,(0,s._)("div",null,[(0,s.Wm)(bD.f,{disabled:l.isHavingAllProducts,modelValue:l.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>l.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(va.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[zS,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,US)))),128))],512),[[a.bM,l.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(va.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[PS,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,LS)))),128))],512),[[a.bM,l.deliveryCity]]),qS,(0,s.Wm)(lt.hw,{"hide-details":!0,modelValue:l.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>l.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(at.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[AS])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(va.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[$S,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,rt.zw)(l.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,rt.zw)(t.fee)+" DH ",1),(0,s._)("div",null,[(0,s.Wm)(ot.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",WS,[(0,s.Wm)(at.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ES])),_:1}),(0,s.Wm)(at.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[TS])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var OS={data(){return{serverUrl:w,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,tt.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=St(this.email),this.formStatus["firstname"]=Ut(this.firstname),this.formStatus["lastname"]=Ut(this.lastname),this.formStatus["phone"]=Ut(this.phone),this.formStatus["password"]=zt(this.password),this.formStatus["confirmPassword"]=Lt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,o=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&o&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await tt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return tt.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:parseInt(e.fee)}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ua.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return tt.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const IS=(0,p.Z)(OS,[["render",FS]]);var VS=IS;const jS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),RS={key:0},MS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},NS={class:"md:tw-w-1/2 tw-w-full"},HS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),YS={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ZS={class:"mb-3 text-body-2 tw-text-zinc-700"},KS={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},BS={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},QS=["onClick"],JS={key:0},GS={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},XS=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),tz=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function ez(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[jS,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RS,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",MS,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",NS,[HS,(0,s.Wm)(lt.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",YS,(0,rt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",ZS,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",KS,(0,rt.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",BS,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>l.handleClick(t),class:(0,rt.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,rt.zw)(t),1)],10,QS)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",JS,(0,rt.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",GS,[(0,s.Wm)(at.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[XS])),_:1}),(0,s.Wm)(at.T,{onClick:l.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tz])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var rz={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,tt.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){tt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){0==this.roles.length?await this.getRoles():this.isFormReady=!0,this.permissions=this.$store.getters["user/permissions"]}};const az=(0,p.Z)(rz,[["render",ez]]);var sz=az;const oz={class:"mb-5 tw-flex tw-justify-between tw-items-center"},lz=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),iz={key:0},nz=(0,s._)("span",{class:"text-white"}," Add Role ",-1),wz={key:0},dz={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},cz={class:"mb-5 tw-flex"},uz={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},pz={class:""};function mz(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",oz,[lz,t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",iz,[(0,s.Wm)(at.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),nz])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wz,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",dz,[(0,s._)("div",cz,[(0,s.Wm)(at.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",uz,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",pz,[(0,s.Wm)(w,{roles:i.filteredRoles,columns:l.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const gz={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},hz={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},fz={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},bz=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),xz={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},yz=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),vz={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},_z={class:"tw-px-6 tw-py-4 tw-uppercase"},kz={class:"tw-px-6 tw-py-4"},Cz={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Dz={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Sz={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},zz=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Uz=["value"],Pz={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Lz={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},qz={class:"tw-text-white"};function Az(t,e,r,o,l,i){const n=(0,s.up)("RolePermissions"),w=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gz,[(0,s._)("table",hz,[(0,s._)("thead",fz,[(0,s._)("tr",null,[bz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",xz,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[yz,(0,s._)("th",vz,(0,rt.zw)(t.id),1),(0,s._)("td",_z,(0,rt.zw)(t.name),1),(0,s._)("td",kz,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",Cz,[(0,s.Wm)(w,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",Dz,[(0,s._)("div",Sz,[zz,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,Uz)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",Pz,[(0,s._)("div",Lz,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,rt.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",qz,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const $z={key:0},Wz={class:"tw-flex tw-flex-wrap tw-gap-2"};function Ez(t,e,r,a,o,l){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$z,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(at.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:o.isLoadingDelete,visible:o.showPopupDelete,onResolved:l.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:o.isLoadingShow,visible:o.showPopupShow,onResolved:l.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",Wz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,rt.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var Tz={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,tt.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),tt.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const Fz=(0,p.Z)(Tz,[["render",Ez]]);var Oz=Fz;const Iz={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},Vz=["title"];function jz(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Iz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,rt.zw)(t.name),9,Vz)))),128))])}var Rz={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const Mz=(0,p.Z)(Rz,[["render",jz]]);var Nz=Mz,Hz={props:["columns","roles"],components:{RoleActions:Oz,RolePermissions:Nz},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const Yz=(0,p.Z)(Hz,[["render",Az]]);var Zz=Yz,Kz={components:{RolesTable:Zz},data(){return{localUrl:n,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return tt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const Bz=(0,p.Z)(Kz,[["render",mz]]);var Qz=Bz;const Jz=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),Gz={key:0},Xz={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},tU={class:"md:tw-w-1/2 tw-w-full"},eU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),rU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},aU={class:"mb-3 text-body-2 tw-text-zinc-700"},sU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},oU={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},lU=["onClick"],iU={key:0},nU={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},wU=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),dU=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function cU(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Jz,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gz,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",Xz,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",tU,[eU,(0,s.Wm)(lt.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rU,(0,rt.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",aU,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",sU,(0,rt.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",oU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>l.handleClick(t),class:(0,rt.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,rt.zw)(t),11,lU)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",iU,(0,rt.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",nU,[(0,s.Wm)(at.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[wU])),_:1}),(0,s.Wm)(at.T,{onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[dU])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var uU={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,tt.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){tt.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){tt.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const pU=(0,p.Z)(uU,[["render",cU]]);var mU=pU,gU={name:"users",path:"/users",component:fa,meta:{module:"user"},children:[{name:"user/list",path:"",component:fD,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:aS,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:VS,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:sz,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:Qz,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:mU,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const hU={class:"mb-5 tw-flex tw-justify-between tw-items-center"},fU=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),bU={key:0},xU=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),yU={key:0},vU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_U={class:"mb-5 tw-flex"},kU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},CU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},DU={class:""};function SU(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hU,[fU,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",bU,[(0,s.Wm)(at.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),xU])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yU,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",vU,[(0,s.Wm)(w,{sales:i.sales},null,8,["sales"]),(0,s._)("div",_U,[(0,s.Wm)(at.T,{onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",kU,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,l.search]])]),(0,s._)("div",CU,[(0,s.Wm)(ot.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,l.searchId]])]),(0,s.Wm)(Ke.C),(0,s.Wm)(at.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:l.isButtonDisabled,loading:l.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(at.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":l.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:l.search,"search-id":l.searchId,filtered:l.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>l.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",DU,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":l.selected,key:l.filteredSales.length,sales:l.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>l.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>l.showPopup=!1),visible:l.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>l.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const zU={class:"tw-grid tw-grid-cols-12 tw-mb-5"},UU={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},PU=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),LU=["value"],qU={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},AU={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},$U={scope:"col",class:"tw-p-4"},WU={class:"tw-flex tw-items-center"},EU=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),TU={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},FU={class:"tw-w-4 tw-p-4 tw-relative"},OU={class:"tw-flex tw-items-center"},IU=["onChange","checked"],VU=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),jU={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},RU={class:"tw-px-6 tw-py-4 tw-relative"},MU={key:0},NU={class:"tw-px-6 tw-py-4"},HU=["title"],YU={class:"tw-px-6 tw-py-4 tw-relative"},ZU={class:"tw-pb-2"},KU={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},BU={key:0},QU={key:1},JU={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},GU={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},XU={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},tP={class:"tw-px-6 tw-py-4"},eP={class:"tw-px-6 tw-py-4 tw-relative"},rP={class:"tw-flex tw-items-center tw-justify-center"},aP={class:"tw-flex tw-gap-1"},sP={key:0},oP={class:"tw-px-6 tw-py-4"},lP={class:"tw-px-6 tw-py-4 tw-relative"},iP={class:"tw-flex tw-items-center tw-justify-center"},nP={class:"tw-flex tw-gap-1"},wP={key:0},dP={class:"tw-px-6 tw-py-4"},cP={class:"tw-px-6 tw-py-4"},uP={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},pP={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},mP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},gP={class:"tw-flex tw-flex-wrap tw-gap-2"},hP={class:"tw-text-white"};function fP(t,e,r,o,l,i){const n=(0,s.up)("SaleConfirmation"),w=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",zU,[(0,s._)("div",UU,[PU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,LU)))),128))],512),[[a.bM,l.paginationLimit]])])]),(0,s._)("div",qU,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",AU,[(0,s._)("tr",null,[(0,s._)("th",$U,[(0,s._)("div",WU,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>l.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,l.isAllSelected]]),EU])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,rt.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",TU,(0,rt.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,rt.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",FU,[(0,s._)("div",OU,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,IU),VU])]),(0,s._)("td",jU,(0,rt.zw)(t.id),1),(0,s._)("td",RU,[(0,s.Uk)((0,rt.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",MU," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",NU,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,rt.zw)(t.city),9,HU)]),(0,s._)("td",YU,[(0,s._)("div",ZU,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",KU,(0,rt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,rt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",BU,"| "+(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",QU,"| "+(0,rt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",JU,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",GU," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",XU," delivery "))])])]),(0,s._)("td",tP,(0,rt.zw)(t.fullname),1),(0,s._)("td",eP,[(0,s._)("div",rP,[((0,s.wg)(),(0,s.j4)(n,{class:(0,rt.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",aP,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",sP,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,rt.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",oP,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(w,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",lP,[(0,s._)("div",iP,[((0,s.wg)(),(0,s.j4)(d,{class:(0,rt.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",nP,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",wP,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,rt.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",dP,(0,rt.zw)(i.getPrice(t)),1),(0,s._)("td",cP,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",uP,[(0,s._)("div",pP,[(0,s._)("div",mP,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,rt.zw)(r.sales.length)+" items ",1),(0,s._)("div",gP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",hP,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const bP={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},xP=["onClick"],yP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},vP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),_P={class:"tw-flex tw-justify-end tw-mt-2"};function kP(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,rt.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,rt.zw)(i.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,rt.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",bP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,rt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,rt.zw)(t.name),3)],8,xP)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.showPopup=!1),visible:l.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",yP,[vP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",_P,[(0,s.Wm)(at.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.sale,visible:l.showPopupReporter,onCancel:e[3]||(e[3]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[ee.L,i.close]])}const CP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},DP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),SP=(0,s._)("br",null,null,-1),zP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),UP={class:"tw-flex tw-justify-end tw-mt-2"};function PP(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",CP,[DP,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),SP,zP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",UP,[(0,s.Wm)(at.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var LP={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ma.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const qP=(0,p.Z)(LP,[["render",PP]]);var AP=qP,$P={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:AP},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:Pd,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ma.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ma.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const WP=(0,p.Z)($P,[["render",kP]]);var EP=WP;const TP={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},FP=["onClick"],OP={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},IP={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function VP(t,e,r,a,o,l){return l.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,rt.zw)(l.selected.firstname)+" "+(0,rt.zw)(l.selected.lastname)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,rt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",TP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",OP,(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),1)],8,FP)))),128))])],2)])),[[ee.L,l.close]]):((0,s.wg)(),(0,s.iD)("div",IP,[(0,s.Wm)(ot.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var jP={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ma.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const RP=(0,p.Z)(jP,[["render",VP]]);var MP=RP;const NP={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},HP=["onClick"];function YP(t,e,r,a,o,l){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,rt.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,rt.zw)(l.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,rt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",NP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,rt.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,rt.zw)(t.name),3)],8,HP)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[ee.L,l.close]])}const ZP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},KP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),BP=(0,s._)("br",null,null,-1),QP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),JP={class:"tw-flex tw-justify-end tw-mt-2"};function GP(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",ZP,[KP,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),BP,QP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",JP,[(0,s.Wm)(at.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var XP={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ma.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const tL=(0,p.Z)(XP,[["render",GP]]);var eL=tL,rL={props:["delivery","id","sale"],components:{SaleDeliveryReporting:eL},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:$d,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ma.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const aL=(0,p.Z)(rL,[["render",YP]]);var sL=aL;const oL={key:0};function lL(t,e,r,a,o,l){const i=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),w=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",oL,[(0,s.Wm)(at.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(at.T,{onClick:e[2]||(e[2]=t=>o.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.showHistoryPopup,onCancel:e[4]||(e[4]=t=>o.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[o.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>o.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{visible:o.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>o.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var iL=r(7103),nL=r(795),wL=r(2773);const dL={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},cL={key:0,class:"tw-w-full tw-h-full"},uL={key:1,class:"tw-p-5"},pL={class:"d-flextw-flex-col justify-space-between flex-grow-1"},mL={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},gL={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},hL={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},fL={class:"d-flextw-flex-col justify-space-between flex-grow-1"},bL={class:"tw-flex tw-flex-col tw-my-2"},xL=(0,s._)("div",null," New Order Created ",-1),yL={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function vL(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",dL,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cL,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(at.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",uL,[(0,s.Wm)(nL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(wL.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",pL,[(0,s._)("div",mL,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(iL.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",gL,(0,rt.zw)(t.users.firstname)+" "+(0,rt.zw)(t.users.lastname),1),(0,s._)("div",hL,[(0,s._)("span",null,(0,rt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,rt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(wL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",fL,[(0,s._)("div",bL,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),xL]),(0,s._)("div",yL,[(0,s._)("span",null,(0,rt.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,rt.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var _L={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ma.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const kL=(0,p.Z)(_L,[["render",vL]]);var CL=kL;const DL={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},SL={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zL=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),UL={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},PL={class:"md:tw-col-span-6 tw-col-span-12"},LL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),qL={class:"md:tw-col-span-6 tw-col-span-12"},AL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),$L={class:"md:tw-col-span-6 tw-col-span-12"},WL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),EL=["value"],TL=["value"],FL={class:"md:tw-col-span-6 tw-col-span-12"},OL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),IL={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},VL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),jL={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},RL={class:"tw-col-span-12"},ML=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),NL={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},HL={class:"tw-col-span-12 md:tw-col-span-4"},YL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),ZL={class:"tw-col-span-12 md:tw-col-span-8"},KL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),BL={class:"md:tw-col-span-6 tw-col-span-12"},QL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),JL={class:"md:tw-col-span-6 tw-col-span-12"},GL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),XL=["value"],tq={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},eq={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},rq={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},aq=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),sq={class:"tw-flex tw-flex-col tw-justify-center"},oq=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),lq={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},iq={key:2,class:"md:tw-col-span-12 tw-col-span-12"},nq={class:"tw-max-w-full tw-overflow-auto"},wq={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},dq={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},cq={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},uq=["src"],pq={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},mq=["onUpdate:modelValue"],gq=(0,s._)("option",{value:0},"Select",-1),hq=["value"],fq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},bq=["disabled","onUpdate:modelValue"],xq=(0,s._)("option",{value:0},"Select",-1),yq=["value"],vq={key:0},_q={key:1},kq={key:2},Cq={key:3},Dq=["value"],Sq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},zq={class:"md:tw-col-span-6 tw-col-span-12"},Uq=["onUpdate:modelValue"],Pq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Lq={key:0},qq={key:1,class:"md:tw-col-span-6 tw-col-span-12"},Aq=["onUpdate:modelValue"],$q={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Wq={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},Eq=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),Tq={class:"md:tw-col-span-12 tw-col-span-12"},Fq={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},Oq=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),Iq={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},Vq=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),jq={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},Rq=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),Mq={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},Nq=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),Hq={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},Yq={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Zq=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Kq=(0,s._)("span",{class:"text-white"}," Update ",-1);function Bq(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DL,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",SL,[zL,(0,s._)("div",UL,[(0,s._)("div",PL,[LL,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",qL,[AL,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",$L,[WL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:l.sale.city},(0,rt.zw)(l.sale.city),9,EL),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,TL)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",FL,[OL,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",IL,[VL,(0,s.Wm)(w,{order:l.sale,id:l.sale.id,confirmation:l.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>l.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>l.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",jL,[(0,s._)("div",RL,[ML,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>l.sale.note=t)},null,512),[[a.nr,l.sale.note]])])]),"reporter"==l.sale.confirmation&&l.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",NL,[(0,s._)("div",HL,[YL,(0,s._)("div",null,(0,rt.zw)(l.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",ZL,[KL,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>l.sale.reported_agente_note=t)},null,512),[[a.nr,l.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",BL,[QL,(0,s.Wm)(d,{"product-ids":i.product_ids,items:l.items,"onUpdate:items":e[8]||(e[8]=t=>l.items=t),order:l.sale,confirmation:l.sale.confirmation,affectation:l.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>l.sale.affectation=t),id:l.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",JL,[GL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,rt.zw)(t.name),9,XL)))),128))],512),[[a.bM,l.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",tq,[(0,s._)("div",eq,[(0,s._)("label",rq,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),aq]),(0,s._)("label",sq,[(0,s._)("span",{class:(0,rt.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,rt.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),oq,l.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",lq," No Order items ")),l.items.length?((0,s.wg)(),(0,s.iD)("div",iq,[(0,s._)("div",nq,[((0,s.wg)(),(0,s.iD)("table",{key:l.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",wq,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",dq,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",cq,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:l.serverUrl+"storage/"+i.product_images[e]},null,8,uq)):(0,s.kq)("",!0)])])),(0,s._)("th",pq,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[gq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,hq)))),128))],8,mq),[[a.bM,t.product.id]])])])]),(0,s._)("th",fq,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[xq,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",_q,(0,rt.zw)(t.size)+" / "+(0,rt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",kq,(0,rt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",Cq,(0,rt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",vq,"-"))],8,yq)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,Dq))],8,bq)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",Sq,[(0,s._)("div",zq,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Uq),[[a.nr,t.quantity]])])]),(0,s._)("th",Pq,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",Lq," - ")):((0,s.wg)(),(0,s.iD)("div",qq,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Aq),[[a.nr,t.price]])]))])]),(0,s._)("th",$q,[(0,s._)("div",null,[(0,s.Wm)(at.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",Wq,[(0,s._)("div",null,[(0,s.Wm)(at.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Eq])),_:1},8,["onClick"])])]),(0,s._)("div",Tq,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",Fq,[Oq,(0,s._)("div",Iq,[Vq,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>l.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])])]),(0,s._)("div",jq,[Rq,(0,s._)("div",Mq,[Nq,(0,s._)("div",Hq,(0,rt.zw)(l.currency)+" "+(0,rt.zw)(i.total_price),1)])])]),(0,s._)("div",Yq,[(0,s.Wm)(at.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Zq])),_:1},8,["onClick"]),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kq])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Qq={class:"tw-relative"},Jq=["value"],Gq={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Xq=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),tA={class:"tw-flex tw-justify-end tw-mt-2"};function eA(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",Qq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,rt.zw)(t.name),11,Jq)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.showPopup=!1),visible:l.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Gq,[Xq,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",tA,[(0,s.Wm)(at.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.order,onConfirm:i.handleReportedDate,visible:l.showPopupReporter,onCancel:e[3]||(e[3]=t=>l.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[ee.L,i.close]])}const rA={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},aA=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),sA=(0,s._)("br",null,null,-1),oA=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),lA={class:"tw-flex tw-justify-end tw-mt-2"};function iA(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",rA,[aA,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),sA,oA,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",lA,[(0,s.Wm)(at.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var nA={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}}};const wA=(0,p.Z)(nA,[["render",iA]]);var dA=wA,cA={props:["confirmation","id","order"],components:{AddOrderReporting:dA},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Pd,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ma.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ma.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const uA=(0,p.Z)(cA,[["render",eA]]);var pA=uA;const mA={class:"tw-relative"},gA=["disabled"],hA=["value"],fA={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function bA(t,e,r,o,l,i){return l.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",mA,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.firstname+" "+t.lastname),9,hA)))),128))],8,gA),[[a.bM,i.affectationValue]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[ee.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",fA,[(0,s.Wm)(ot.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var xA={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,tt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const yA=(0,p.Z)(xA,[["render",bA]]);var vA=yA;const _A=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),kA={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},CA={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},DA=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),SA={class:"tw-px-6 tw-py-4"},zA={class:"tw-px-6 tw-py-4"},UA={class:"tw-px-6 tw-py-4"},PA={class:"tw-px-6 tw-py-4"},LA={class:"tw-max-w-[250px] tw-text-sm"},qA={key:0},AA=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),$A=[AA];function WA(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[_A,(0,s._)("div",null,[(0,s._)("div",kA,[(0,s._)("table",CA,[DA,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",SA,(0,rt.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",zA,(0,rt.zw)(t.quantity),1),(0,s._)("td",UA,(0,rt.zw)(t.price)+" "+(0,rt.zw)(o.currency),1),(0,s._)("td",PA,[(0,s._)("p",LA,(0,rt.zw)(t.note),1)])])))),128)),0==l.offers.length?((0,s.wg)(),(0,s.iD)("tr",qA,$A)):(0,s.kq)("",!0)])])])])])}var EA={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const TA=(0,p.Z)(EA,[["render",WA]]);var FA=TA,OA={components:{AddOrderConfirmation:pA,AddOrderAffectation:vA,ProductOffers:FA},props:["visible","order"],data(){return{upsells:Ad,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ma.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const IA=(0,p.Z)(OA,[["render",Bq]]);var VA=IA,jA={props:["sale"],name:"saleActions",components:{SaleHistory:CL,UpdateSale:VA},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const RA=(0,p.Z)(jA,[["render",lL]]);var MA=RA,NA={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:EP,SaleAffectation:MP,SaleDelivery:sL,SaleActions:MA},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return sl(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const HA=(0,p.Z)(NA,[["render",fP]]);var YA=HA;const ZA={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},KA={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},BA=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),QA={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},JA={class:"md:tw-col-span-6 tw-col-span-12"},GA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),XA={class:"md:tw-col-span-6 tw-col-span-12"},t$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),e$={class:"md:tw-col-span-6 tw-col-span-12"},r$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),a$=["value"],s$={class:"md:tw-col-span-6 tw-col-span-12"},o$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),l$={class:"md:tw-col-span-12 tw-col-span-12"},i$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),n$={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},w$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),d$=(0,s._)("option",{value:0}," Select ",-1),c$=["value"],u$={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},p$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),m$=(0,s._)("option",{value:0}," Select ",-1),g$=["value"],h$={class:"md:tw-col-span-6 tw-col-span-12"},f$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),b$=(0,s._)("option",{value:0}," Select ",-1),x$=["value"],y$={class:"md:tw-col-span-6 tw-col-span-12"},v$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),_$={class:"md:tw-col-span-6 tw-col-span-12"},k$={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},C$={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},D$=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),S$={class:"tw-flex tw-flex-col tw-justify-center"},z$={class:"md:tw-col-span-6 tw-col-span-12"},U$={key:0,class:"md:tw-col-span-12 tw-col-span-12"},P$={class:"tw-max-w-full tw-overflow-auto"},L$={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},q$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},A$={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},$$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},W$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},E$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},T$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},F$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},O$={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},I$=(0,s._)("span",{class:"text-white"}," Cancel ",-1),V$=(0,s._)("span",{class:"text-white"}," Save ",-1);function j$(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ZA,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",KA,[BA,(0,s._)("div",QA,[(0,s._)("div",JA,[GA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",XA,[t$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",e$,[r$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,a$)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",s$,[o$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",l$,[i$,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>l.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])]),(0,s._)("div",n$,[w$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[d$,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,c$)))),128))],512),[[a.bM,l.warehouse_id]])]),(0,s._)("div",u$,[p$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[m$,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,g$)))),128))],512),[[a.bM,l.product_id]])]),(0,s._)("div",h$,[f$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[b$,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.size)+" / "+(0,rt.zw)(t.color),9,x$)))),128))],512),[[a.bM,l.product_variation_id]])]),(0,s._)("div",y$,[v$,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>l.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.quantity]])]),(0,s._)("div",_$,[(0,s._)("div",k$,[(0,s._)("label",C$,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),D$]),(0,s._)("label",S$,[(0,s._)("span",{class:(0,rt.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,rt.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",z$,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),l.items.length?((0,s.wg)(),(0,s.iD)("div",U$,[(0,s._)("div",P$,[(0,s._)("table",L$,[(0,s._)("thead",q$,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",A$,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",$$,(0,rt.zw)(t.product.name),1),(0,s._)("th",W$,(0,rt.zw)(t.product_variation.size)+" / "+(0,rt.zw)(t.product_variation.color),1),(0,s._)("th",E$,(0,rt.zw)(t.quantity),1),(0,s._)("th",T$,(0,rt.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",F$,[(0,s._)("div",null,[(0,s.Wm)(at.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",O$,[(0,s.Wm)(at.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[I$])),_:1}),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[V$])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var R$={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ma.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ua.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const M$=(0,p.Z)(R$,[["render",j$]]);var N$=M$;const H$={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Y$={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Z$=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),K$={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},B$={class:"md:tw-col-span-6 tw-col-span-12"},Q$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),J$={class:"md:tw-col-span-6 tw-col-span-12"},G$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),X$={class:"md:tw-col-span-6 tw-col-span-12"},tW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),eW=["value"],rW=["value"],aW={class:"md:tw-col-span-6 tw-col-span-12"},sW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),oW={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},lW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),iW={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},nW={class:"tw-col-span-12"},wW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),dW={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},cW={class:"tw-col-span-12 md:tw-col-span-4"},uW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),pW={class:"tw-col-span-12 md:tw-col-span-8"},mW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),gW={class:"md:tw-col-span-6 tw-col-span-12"},hW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),fW={class:"md:tw-col-span-6 tw-col-span-12"},bW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),xW=["value"],yW={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},vW={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},_W={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},kW=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),CW={class:"tw-flex tw-flex-col tw-justify-center"},DW=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),SW={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},zW={key:2,class:"md:tw-col-span-12 tw-col-span-12"},UW={class:"tw-max-w-full tw-overflow-auto"},PW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},LW={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},qW={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},AW=["src"],$W={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},WW=["onUpdate:modelValue"],EW=(0,s._)("option",{value:0},"Select",-1),TW=["value"],FW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},OW=["disabled","onUpdate:modelValue"],IW=(0,s._)("option",{value:0},"Select",-1),VW=["value"],jW={key:0},RW={key:1},MW={key:2},NW={key:3},HW=["value"],YW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},ZW={class:"md:tw-col-span-6 tw-col-span-12"},KW=["onUpdate:modelValue"],BW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},QW={key:0},JW={key:1,class:"md:tw-col-span-6 tw-col-span-12"},GW=["onUpdate:modelValue"],XW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},tE={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},eE=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),rE={class:"md:tw-col-span-12 tw-col-span-12"},aE={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},sE=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),oE={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},lE=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),iE={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},nE=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),wE={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},dE=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),cE={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},uE={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},pE=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mE=(0,s._)("span",{class:"text-white"}," Create ",-1);function gE(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",H$,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Y$,[Z$,(0,s._)("div",K$,[(0,s._)("div",B$,[Q$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",J$,[G$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",X$,[tW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:l.sale.city},(0,rt.zw)(l.sale.city),9,eW),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,rW)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",aW,[sW,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",oW,[lW,(0,s.Wm)(w,{order:l.sale,id:l.sale.id,confirmation:l.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>l.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>l.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",iW,[(0,s._)("div",nW,[wW,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>l.sale.note=t)},null,512),[[a.nr,l.sale.note]])])]),"reporter"==l.sale.confirmation&&l.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",dW,[(0,s._)("div",cW,[uW,(0,s._)("div",null,(0,rt.zw)(l.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",pW,[mW,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>l.sale.reported_agente_note=t)},null,512),[[a.nr,l.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",gW,[hW,(0,s.Wm)(d,{"product-ids":i.product_ids,items:l.items,"onUpdate:items":e[8]||(e[8]=t=>l.items=t),order:l.sale,confirmation:l.sale.confirmation,affectation:l.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>l.sale.affectation=t),id:l.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",fW,[bW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,rt.zw)(t.name),9,xW)))),128))],512),[[a.bM,l.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",yW,[(0,s._)("div",vW,[(0,s._)("label",_W,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),kW]),(0,s._)("label",CW,[(0,s._)("span",{class:(0,rt.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,rt.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),DW,l.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",SW," No Order items ")),l.items.length?((0,s.wg)(),(0,s.iD)("div",zW,[(0,s._)("div",UW,[((0,s.wg)(),(0,s.iD)("table",{key:l.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",PW,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",LW,(0,rt.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",qW,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:l.serverUrl+"storage/"+i.product_images[e]},null,8,AW)):(0,s.kq)("",!0)])])),(0,s._)("th",$W,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[EW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,TW)))),128))],8,WW),[[a.bM,t.product.id]])])])]),(0,s._)("th",FW,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[IW,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",RW,(0,rt.zw)(t.size)+" / "+(0,rt.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",MW,(0,rt.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",NW,(0,rt.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",jW,"-"))],8,VW)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,HW))],8,OW)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",YW,[(0,s._)("div",ZW,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,KW),[[a.nr,t.quantity]])])]),(0,s._)("th",BW,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",QW," - ")):((0,s.wg)(),(0,s.iD)("div",JW,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,GW),[[a.nr,t.price]])]))])]),(0,s._)("th",XW,[(0,s._)("div",null,[(0,s.Wm)(at.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",tE,[(0,s._)("div",null,[(0,s.Wm)(at.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),eE])),_:1},8,["onClick"])])]),(0,s._)("div",rE,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",aE,[sE,(0,s._)("div",oE,[lE,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>l.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])])]),(0,s._)("div",iE,[nE,(0,s._)("div",wE,[dE,(0,s._)("div",cE,(0,rt.zw)(l.currency)+" "+(0,rt.zw)(i.total_price),1)])])]),(0,s._)("div",uE,[(0,s.Wm)(at.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pE])),_:1},8,["onClick"]),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mE])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var hE={components:{AddOrderConfirmation:pA,AddOrderAffectation:vA,ProductOffers:FA},props:["visible","order"],data(){return{upsells:Ad,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ma.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const fE=(0,p.Z)(hE,[["render",gE]]);var bE=fE;const xE={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},yE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},vE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_E={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},kE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},CE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},DE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},SE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function UE(t,e,r,a,o,l){const i=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),w=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),m=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xE,[(0,s._)("div",yE,[(0,s.Wm)(i,{filter:o.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",vE,[(0,s.Wm)(n,{filter:o.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",_E,[(0,s.Wm)(w,{filter:o.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>o.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",kE,[(0,s.Wm)(d,{filter:o.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>o.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",CE,[(0,s.Wm)(c,{filter:o.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>o.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",DE,[(0,s.Wm)(u,{filter:o.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>o.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",SE,[(0,s.Wm)(p,{filter:o.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>o.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",zE,[(0,s.Wm)(m,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const PE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),LE=["onClick"];function qE(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[PE,(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,rt.zw)(t),9,LE)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var AE={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Yo.Z)(new Date,1),(0,Yo.Z)(new Date,1)]},{label:"This month",range:[(0,Zo.Z)(new Date),(0,Ko.Z)(new Date)]},{label:"Last month",range:[(0,Zo.Z)((0,Bo.Z)(new Date,1)),(0,Ko.Z)((0,Bo.Z)(new Date,1))]},{label:"This year",range:[(0,Qo.Z)(new Date),(0,Jo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const $E=(0,p.Z)(AE,[["render",qE]]);var WE=$E;const EE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),TE={class:"tw-relative"},FE=(0,s._)("option",{value:"all"},"Select",-1),OE=(0,s._)("option",{value:"oui"},"Oui",-1),IE=(0,s._)("option",{value:"non"},"Non",-1),VE=[FE,OE,IE];function jE(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[EE,(0,s._)("div",TE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},VE,512),[[a.bM,l.value]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var RE={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const ME=(0,p.Z)(RE,[["render",jE]]);var NE=ME;const HE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),YE={class:"tw-relative"},ZE=["value"];function KE(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[HE,(0,s._)("div",YE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,rt.zw)(t.value?t.name:"Select"),9,ZE)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var BE={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:$d}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const QE=(0,p.Z)(BE,[["render",KE]]);var JE=QE;const GE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),XE={class:"tw-relative"},tT=(0,s._)("option",{value:"all"}," Select ",-1),eT=["value"];function rT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[GE,(0,s._)("div",XE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[tT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,rt.zw)(t.name),9,eT)))),128))],512),[[a.bM,l.confirmationFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var aT={props:["filter"],data(){return{confirmationFilter:"all",confirmations:Pd}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const sT=(0,p.Z)(aT,[["render",rT]]);var oT=sT;const lT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),iT={class:"tw-relative"},nT=(0,s._)("option",{value:"all"},"Select",-1),wT=(0,s._)("option",{value:null},"Without delivery",-1),dT=["value"];function cT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[lT,(0,s._)("div",iT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[nT,wT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,dT)))),128))],512),[[a.bM,l.affectationFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var uT={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const pT=(0,p.Z)(uT,[["render",cT]]);var mT=pT;const gT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),hT={class:"tw-relative"},fT=(0,s._)("option",{value:"all"},"Select",-1),bT=(0,s._)("option",{value:null},"Without agente",-1),xT=["value"];function yT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[gT,(0,s._)("div",hT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[fT,bT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,xT)))),128))],512),[[a.bM,l.agenteFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var vT={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const _T=(0,p.Z)(vT,[["render",yT]]);var kT=_T;const CT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),DT={key:0},ST={key:1,class:"tw-relative"},zT=(0,s._)("option",{value:"all"},"Select",-1),UT=["value"];function PT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[CT,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DT,[(0,s._)("div",null,[(0,s.Wm)(ot.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",ST,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[zT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,UT)))),128))],512),[[a.bM,l.productFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var LT={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const qT=(0,p.Z)(LT,[["render",PT]]);var AT=qT;function $T(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:o,deliveryFilter:l,agenteFilter:i,dateFilter:n,productFilter:w}){const d=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==o&&t.upsell!=o)return!1;if("all"!==l&&t.delivery!=l)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==w&&!t.items.some((t=>t.product_id==w)))return!1;const p=n.getDate(),m=n.getMonth(),g=n.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(g<r||g===r&&m<e||g===r&&m===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(g>r||g===r&&m>e||g===r&&m===e&&p>t)return!1}return!0}))}function WT(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function ET(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function TT(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function FT(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const OT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),IT={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},VT={class:"tw-relative tw-w-full"},jT=(0,s._)("option",{value:"all"},"All Sales",-1),RT=(0,s._)("option",{value:"selected"},"Selected Sales",-1),MT=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),NT=[jT,RT,MT];function HT(t,e,r,o,l,i){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[OT,(0,s._)("div",IT,[(0,s._)("div",VT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},NT,512),[[a.bM,l.selection]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(at.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var YT={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const ZT=(0,p.Z)(YT,[["render",HT]]);var KT=ZT,BT={components:{DateFilter:WE,UpsellFilter:NE,DeliveryFilter:JE,ConfirmationFilter:oT,AffectationFilter:mT,AgenteFilter:kT,ProductFilter:AT,ExcelExport:KT},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return $T(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const QT=(0,p.Z)(BT,[["render",UE]]);var JT=QT;const GT={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},XT={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},tF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},eF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},rF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},aF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function sF(t,e,r,a,o,l){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GT,[(0,s._)("div",XT,[(0,s._)("div",tF,[(0,s.Wm)(i,{dash:l.newSales},null,8,["dash"])]),(0,s._)("div",eF,[(0,s.Wm)(i,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",rF,[(0,s.Wm)(i,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",aF,[(0,s.Wm)(i,{dash:l.shippedSales},null,8,["dash"])])])])])}const oF={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},lF={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},iF={class:"tw-text-xl tw-font-bold"},nF={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},wF={class:"tw-text-sm"},dF={class:"rounded-circle tw-w-fit tw-mr-3"};function cF(t,e,r,a,o,l){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Ea.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",oF,[(0,s._)("div",lF,[(0,s._)("p",iF,(0,rt.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,rt.zw)(r.symbol),1),(0,s._)("span",nF,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",wF,(0,rt.zw)(r.dash.title),1)])]),(0,s._)("div",dF,[(0,s.Wm)(ot.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var uF={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const pF=(0,p.Z)(uF,[["render",cF]]);var mF=pF,gF={components:{DashItem:mF},props:["sales"],computed:{newSales(){return WT(this.sales)},confirmedSales(){return ET(this.sales)},deliveredSales(){return TT(this.sales)},shippedSales(){return FT(this.sales)}}};const hF=(0,p.Z)(gF,[["render",sF]]);var fF=hF,bF={components:{SalesTable:YA,AddSale:N$,SalesAnalytics:fF,IndexFilter:JT,NewAddSale:bE},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await tt.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await tt.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ma.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return tt.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ma.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const xF=(0,p.Z)(bF,[["render",SU]]);var yF=xF;const vF={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},_F={class:"tw-px-3"},kF={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},CF={class:"tw-flex tw-items-center tw-gap-x-3"},DF=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),SF={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},zF=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),UF={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},PF=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),LF=(0,s._)("span",null,"Create",-1),qF=[PF,LF],AF={class:"tw-overflow-hidden tw-col-span-1"},$F={key:0};function WF(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",vF,[(0,s._)("section",_F,[(0,s._)("div",kF,[(0,s._)("div",null,[(0,s._)("div",CF,[DF,(0,s._)("span",SF,(0,rt.zw)(o.totalOrders)+" order",1)]),zF]),(0,s._)("div",UF,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},qF)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,rt.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",AF,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",$F,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const EF={class:"tw-flex tw-flex-col"},TF={class:"tw-overflow-x-auto"},FF={class:"tw-inline-block tw-min-w-full tw-align-middle"},OF={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},IF={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},VF={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},jF={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},RF={class:"tw-max-w-[25px]"},MF={class:"tw-inline-flex tw-items-center"},NF={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},HF=["checked"],YF=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ZF=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),KF={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},BF=(0,s._)("span",null,"Created",-1),QF=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),JF=[BF,QF],GF=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),XF=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),tO=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),eO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),rO=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),aO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),sO=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),oO=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),lO={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},iO={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},nO=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),wO=[nO],dO={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},cO={colspan:"11"},uO={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},pO=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),mO=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),gO=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),hO=[mO,gO],fO={class:"tw-mt-6"};function bO(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",EF,[(0,s._)("div",TF,[(0,s._)("div",FF,[(0,s._)("div",OF,[(0,s._)("table",IF,[(0,s._)("thead",VF,[(0,s._)("tr",null,[(0,s._)("th",jF,[(0,s._)("div",RF,[(0,s._)("div",MF,[(0,s._)("label",NF,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,HF),YF])])])]),ZF,(0,s._)("th",KF,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},JF)]),GF,XF,tO,eO,rO,aO,sO,oO])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",lO,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",iO,wO)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",dO,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",cO,[(0,s._)("div",uO,[pO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},hO)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",fO,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const xO={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},yO={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},vO={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},_O={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},kO=["disabled"],CO=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),DO=(0,s._)("span",null," previous ",-1),SO=[CO,DO],zO=["disabled"],UO=(0,s._)("span",null," Next ",-1),PO=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),LO=[UO,PO];function qO(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xO,[(0,s._)("div",yO,[(0,s.Uk)(" Page "),(0,s._)("span",vO,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",_O,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},SO,10,kO),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},LO,10,zO)])])])}var AO={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const $O=(0,p.Z)(AO,[["render",qO]]);var WO=$O;const EO={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},TO={class:"tw-max-w-[25px]"},FO={class:"tw-inline-flex tw-items-center"},OO={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},IO=["checked","id"],VO=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),jO={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RO={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},MO={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},NO={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},HO={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},YO={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},ZO={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},KO={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},BO={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QO={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},JO={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},GO={class:"tw-space-y-1"},XO={class:"tw-font-bold tw-text-green-500"},tI={class:"tw-block tw-max-w-[150px] tw-truncate"},eI={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rI={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},aI={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sI={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},oI={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lI={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function iI(t,e,r,a,o,l){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,rt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",EO,[(0,s._)("div",TO,[(0,s._)("div",FO,[(0,s._)("label",OO,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,IO),VO])])])]),(0,s._)("td",jO,[(0,s._)("div",null,[(0,s._)("h2",RO,(0,rt.zw)(r.item.id),1)])]),(0,s._)("td",MO,[(0,s._)("div",null,[(0,s._)("h2",NO,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",HO,[(0,s._)("div",null,[(0,s._)("h2",YO,(0,rt.zw)(r.item.fullname),1)])]),(0,s._)("td",ZO,[(0,s._)("div",null,[(0,s._)("h2",KO,(0,rt.zw)(r.item.city),1)])]),(0,s._)("td",BO,[(0,s._)("div",null,[(0,s._)("h2",QO,(0,rt.zw)(r.item.phone),1)])]),(0,s._)("td",JO,[(0,s._)("div",null,[(0,s._)("ul",GO,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",XO,(0,rt.zw)(t.quantity)+" x ",1),(0,s._)("span",tI,(0,rt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",eI,(0,rt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",rI,(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",aI,[(0,s._)("div",null,[(0,s._)("span",{class:(0,rt.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,rt.zw)(l.confirmation.name),3)])]),(0,s._)("td",sI,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",oI,[(0,s._)("div",null,[(0,s._)("span",{class:(0,rt.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,rt.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",lI,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const nI={class:"tw-h-full"},wI={class:"tw-flex tw-items-center tw-gap-2"},dI=["href"],cI={key:0},uI={key:1},pI={key:2};function mI(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup"),w=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",nI,[(0,s._)("div",wI,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,dI),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",cI,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[4]||(e[4]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.history?((0,s.wg)(),(0,s.iD)("div",uI,[(0,s.Wm)(n,{visible:o.history,"onUpdate:visible":e[5]||(e[5]=t=>o.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.historyItem?((0,s.wg)(),(0,s.iD)("div",pI,[(0,s.Wm)(w,{visible:o.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>o.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const gI={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hI=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),fI={class:"tw-bg-white tw-p-4"},bI={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},xI={class:"tw-col-span-2 md:tw-col-span-1"},yI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),vI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_I={class:"tw-col-span-2 md:tw-col-span-1"},kI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),CI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DI={class:"tw-col-span-2 md:tw-col-span-1"},SI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),zI={class:"tw-relative"},UI=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),PI=["value"],LI=["value"],qI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$I={class:"tw-col-span-2 md:tw-col-span-1"},WI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),EI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TI={class:"tw-col-span-2"},FI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),OI={class:"tw-relative"},II=["value"],VI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RI={key:0,class:"md:tw-col-span-1 tw-col-span-2"},MI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),NI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HI={key:1,class:"md:tw-col-span-1 tw-col-span-2"},YI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),ZI={class:"tw-col-span-2"},KI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),BI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QI={class:"md:tw-col-span-1 tw-col-span-2"},JI={class:"tw-col-span-1"},GI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),XI={class:"tw-relative"},tV=["value"],eV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aV={class:"md:tw-col-span-1 tw-col-span-2"},sV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),oV={class:"tw-relative"},lV=["value"],iV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),nV={class:"tw-col-span-2"},wV={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},dV={key:0,class:"tw-text-red-400 tw-text-xs"},cV={key:2,class:"tw-col-span-2"},uV={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},pV=["disabled"],mV=(0,s._)("span",null,"Update",-1);function gV(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",gI,[hI,(0,s._)("div",fI,[(0,s._)("div",bI,[(0,s._)("div",xI,[yI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",vI,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",_I,[kI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",CI,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",DI,[SI,(0,s._)("div",zI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[UI,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,PI),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,LI)))),128))],34),[[a.bM,l.itemCopy.city]]),qI]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",AI,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",$I,[WI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",EI,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",TI,[FI,(0,s._)("div",OI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,rt.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,II)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),VI]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",jI,(0,rt.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",RI,[MI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,rt.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",NI,(0,rt.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",HI,[YI,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",ZI,[KI,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",BI,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",QI,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",JI,[GI,(0,s._)("div",XI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>l.errors.delivery=null),class:(0,rt.C_)([[l.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,tV)))),128))],34),[[a.bM,l.itemCopy.delivery]]),eV]),l.errors.delivery?((0,s.wg)(),(0,s.iD)("label",rV,(0,rt.zw)(l.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",aV,[sV,(0,s._)("div",oV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,lV)))),128))],512),[[a.bM,l.itemCopy.upsell]]),iV])]),(0,s._)("div",nV,[(0,s._)("label",wV,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",dV," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",cV,[(0,s.Wm)(d,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",uV,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mV],8,pV)])])])),_:1},8,["visible","onCancel"])])}const hV=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation||"confirmer"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!fV(t,e.items):(t.errors.affectation="Warning: Order is confirmed but not affected.",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),fV=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},bV=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},xV=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},yV=(t,e)=>{t.isLoading=!0,t.errors={},bp.update(e.id,e).then((e=>bV(t,e.data))).catch((e=>xV(t,e.response.data))).finally((()=>t.isLoading=!1))},vV={key:0},_V=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),kV={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},CV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),DV=(0,s._)("span",null,"Add Item",-1),SV=[CV,DV],zV={key:1,class:"md:tw-col-span-12 tw-col-span-12"},UV={class:"tw-max-w-full tw-overflow-auto"},PV={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},LV={class:"tw-bg-gray-50"},qV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},AV={key:0},$V={colspan:"6"},WV={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},EV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),TV=(0,s._)("span",null,"Add Item",-1),FV=[EV,TV],OV=(0,s._)("td",{colspan:"4"},null,-1),IV=(0,s._)("td",null,null,-1),VV={colspan:"1",class:"tw-p-2"},jV={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},RV={key:1},MV={colspan:"6"},NV={class:"tw-scale-75 tw-p-5"};function HV(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vV,[_V,(0,s._)("div",kV,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SV)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",zV,[(0,s._)("div",UV,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",PV,[(0,s._)("tr",LV,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",qV,(0,rt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",AV,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",$V,[(0,s._)("div",WV,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},FV)])])]),(0,s._)("tr",null,[OV,IV,(0,s._)("td",VV,[(0,s._)("div",jV,[(0,s._)("p",null,(0,rt.zw)(o.currency)+" "+(0,rt.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",RV,[(0,s._)("tr",null,[(0,s._)("td",MV,[(0,s._)("div",NV,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const YV=(0,s._)("td",null,null,-1),ZV={class:"tw-p-2"},KV={class:"tw-relative"},BV=["value"],QV=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),JV=["value"],GV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),XV={class:"tw-p-2"},tj={key:0,class:"tw-relative"},ej=["value"],rj=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),aj=["value"],sj={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},oj=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),lj=[oj],ij={class:"tw-p-2"},nj=["value"],wj={class:"tw-p-2"},dj=["value"],cj={class:"tw-flex tw-justify-center"};function uj(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[YV,(0,s._)("td",null,[(0,s._)("div",ZV,[(0,s._)("div",KV,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[QV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,JV)))),128))],40,BV),GV])])]),(0,s._)("td",null,[(0,s._)("div",XV,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",tj,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[rj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.color)+" "+(0,rt.zw)(t.size),9,aj)))),128))],40,ej)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",sj,lj)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",ij,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,nj)])]),(0,s._)("td",null,[(0,s._)("div",wj,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,dj)])]),(0,s._)("td",null,[(0,s._)("div",cj,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var pj={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const mj=(0,p.Z)(pj,[["render",uj]]);var gj=mj,hj={components:{ItemRow:gj},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return sl(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const fj=(0,p.Z)(hj,[["render",HV]]);var bj=fj;const xj=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),yj={key:0,class:"tw-relative"},vj=["value","disabled"],_j=(0,s._)("option",{value:""},"Choose a Delivery",-1),kj=["value"],Cj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Dj={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Sj={key:2,class:"tw-relative"},zj={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Uj=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Pj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Lj(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[xj,o.fetched?((0,s.wg)(),(0,s.iD)("div",yj,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,rt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[_j,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,kj)))),128))],42,vj),Cj])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Dj,(0,rt.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sj,[(0,s._)("div",zj,[(0,s.Wm)(i)]),Uj,Pj]))])}var qj={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Aj=(0,p.Z)(qj,[["render",Lj]]);var $j=Aj;const Wj={key:0},Ej=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),Tj={class:"md:tw-col-span-12 tw-col-span-12"},Fj={class:"tw-max-w-full tw-overflow-auto"},Oj={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Ij=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Vj={class:"tw-px-3 tw-py-2"},jj={class:"tw-px-3 tw-py-2"},Rj={class:"tw-px-3 tw-py-2"},Mj={class:"tw-px-3 tw-py-2"},Nj={class:"tw-max-w-[250px] tw-text-sm"};function Hj(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",Wj,[Ej,(0,s._)("div",Tj,[(0,s._)("div",Fj,[(0,s._)("table",Oj,[Ij,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Vj,(0,rt.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",jj,(0,rt.zw)(t.quantity),1),(0,s._)("td",Rj,(0,rt.zw)(t.price)+" "+(0,rt.zw)(o.currency),1),(0,s._)("td",Mj,[(0,s._)("p",Nj,(0,rt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var Yj={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Zj=(0,p.Z)(Yj,[["render",Hj]]);var Kj=Zj,Bj={components:{OrderItems:bj,OrderAffectation:$j,ProductOffersTable:Kj},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Pd,deliveryStatus:$d,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=hV(this,this.itemCopy);if(!t)return!1;yV(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Qj=(0,p.Z)(Bj,[["render",gV]]);var Jj=Qj;const Gj={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Xj=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),tR={class:"tw-bg-white tw-p-4"},eR={key:0},rR={key:1,class:"tw-p-5"},aR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},sR={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},oR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},lR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},iR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},nR={class:"tw-flex tw-flex-col tw-my-2"},wR=(0,s._)("div",null,"New Order Created",-1),dR={class:"tw-flex tw-flex-col"},cR={key:0,class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},uR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},pR={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function mR(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Gj,[Xj,(0,s._)("div",tR,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",eR,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",rR,[(0,s.Wm)(nL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(wL.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",aR,[(0,s._)("div",sR,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(iL.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",oR,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,rt.zw)(t.users.firstname)+" "+(0,rt.zw)(t.users.lastname),1)]),(0,s._)("div",lR,[(0,s._)("span",null,(0,rt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,rt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(wL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",iR,[(0,s._)("div",nR,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),wR]),(0,s._)("div",dR,[r.item.created_by?((0,s.wg)(),(0,s.iD)("div",cR,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,rt.zw)(r.item.created_by.firstname)+" "+(0,rt.zw)(r.item.created_by.lastname),1)])):(0,s.kq)("",!0),(0,s._)("div",uR,[(0,s._)("span",null,(0,rt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,rt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",pR,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var gR={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ma.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const hR=(0,p.Z)(gR,[["render",mR]]);var fR=hR;const bR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},xR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),yR={class:"tw-bg-white tw-p-4"},vR={key:0},_R={key:1,class:"tw-p-5"},kR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},CR={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},DR={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},SR={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},zR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},UR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},PR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},LR={class:"tw-flex tw-flex-col tw-my-2"},qR=(0,s._)("div",null,"No Changes Happend Yet",-1),AR={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},$R={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function WR(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",bR,[xR,(0,s._)("div",yR,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vR,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",_R,[(0,s.Wm)(nL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(wL.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",kR,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",CR,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(iL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",DR,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(iL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",SR,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(iL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",zR,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,rt.zw)(t.users.firstname)+" "+(0,rt.zw)(t.users.lastname),1)]),(0,s._)("div",UR,[(0,s._)("span",null,(0,rt.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,rt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(wL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",PR,[(0,s._)("div",LR,[(0,s.Wm)(iL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),qR]),(0,s._)("div",AR,[(0,s._)("span",null,(0,rt.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,rt.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",$R,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var ER={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ma.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const TR=(0,p.Z)(ER,[["render",WR]]);var FR=TR,OR={components:{UpdatePopup:Jj,HistoryPopup:fR,HistoryItemPopup:FR},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const IR=(0,p.Z)(OR,[["render",mI]]);var VR=IR;const jR={key:0},RR={key:0,class:"tw-relative tw-inline-block tw-text-left"},MR={key:0},NR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),HR=[NR],YR={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},ZR={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},KR=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),BR=[KR],QR={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},JR={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},GR={class:"tw-py-1",role:"none"},XR=["onClick"],tM={key:1},eM={class:"tw-p-2 tw-scale-75"};function rM(t,e,r,a,o,l){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",jR,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",RR,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[l.selected.id?((0,s.wg)(),(0,s.iD)("div",MR,HR)):(0,s.kq)("",!0),(0,s._)("p",YR,(0,rt.zw)(l.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",ZR,BR)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",QR,(0,rt.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Wt.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",JR,[(0,s._)("div",GR,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>l.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,rt.zw)(t.name),1)],8,XR)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ee.L,l.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",tM,[(0,s._)("div",eM,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var aM={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};yV(this,e,!1)}}};const sM=(0,p.Z)(aM,[["render",rM]]);var oM=sM,lM={components:{TableActions:VR,TableRowAffectation:oM},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ve()}},computed:{confirmation(){return Pd.find((t=>t.value==this.item.confirmation))},deliveryState(){return $d.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const iM=(0,p.Z)(lM,[["render",iI]]);var nM=iM,wM={components:{TablePaginationNoNums:WO,TableRow:nM},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const dM=(0,p.Z)(wM,[["render",bO]]);var cM=dM;const uM={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},pM={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},mM=["disabled"],gM=["disabled"],hM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),fM=[hM],bM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),xM=[bM],yM=["disabled"],vM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),_M=[vM],kM=["disabled"],CM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),DM=[CM],SM=["disabled"],zM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),UM=[zM],PM={class:"tw-relative"},LM=["value"],qM=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),AM=[qM],$M=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WM={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},EM=["value"],TM=(0,s.uE)('<option value="all">All</option><option value="id">ID</option><option value="fullname">Fullname</option><option value="phone">Phone</option><option value="adresse">Address</option><option value="city">City</option><option value="note">Note</option>',7),FM=[TM],OM=["value"],IM={class:"tw-overflow-hidden tw-col-span-1"},VM={class:"tw-overflow-hidden tw-col-span-1"},jM={class:"tw-overflow-hidden tw-col-span-1"};function RM(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",uM,[(0,s._)("div",pM,[(0,s._)("button",{class:(0,rt.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,mM),(0,s._)("button",{title:"Orders Created Today",class:(0,rt.C_)([[l.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:l.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,gM),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,rt.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},fM,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,rt.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},xM,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,rt.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},_M,10,yM),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},DM,8,kM),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>l.showExport=!l.showExport),class:(0,rt.C_)([[l.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},UM,10,SM),(0,s._)("div",PM,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},AM,40,LM),$M])]),(0,s._)("div",WM,[(0,s._)("select",{value:r.searchByField,onInput:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),class:"tw-block !tw-w-fit tw-px-2 tw-py-1.5 tw-border-r-0 tw-rounded-r-none tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},FM,40,EM),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-rounded-l-none tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,OM),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,rt.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",IM,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,rt.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",VM,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jM,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const MM={class:"tw-mb-4"},NM={class:"tw-grid tw-grid-cols-12 tw-gap-4"},HM={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},YM={class:"tw-flex tw-items-center tw-justify-between"},ZM={class:"tw-text-xl tw-font-bold tw-text-gray-900"},KM={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function BM(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",MM,[(0,s._)("div",NM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",HM,[(0,s._)("p",{class:(0,rt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,rt.zw)(t.name),3),(0,s._)("div",YM,[(0,s._)("span",ZM,(0,rt.zw)(t.total),1),(0,s._)("span",KM,(0,rt.zw)(t.percent)+"%",1)])])])))),128))])])}var QM={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Pd.find((e=>e.value==t))}}};const JM=(0,p.Z)(QM,[["render",BM]]);var GM=JM;const XM={class:"tw-mb-4"},tN={class:"tw-flex tw-items-center tw-gap-2"},eN=["disabled"],rN=(0,s._)("span",null,"Select Filtered",-1),aN={class:"tw-flex tw-justify-end"},sN=["disabled"];function oN(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",XM,[(0,s._)("div",tN,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rN],8,eN)]),(0,s._)("div",aN,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,rt.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,sN)])])}var lN={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,bp["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const iN=(0,p.Z)(lN,[["render",oN]]);var nN=iN;const wN={class:"tw-mb-4"},dN={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},cN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),pN=["value"],mN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),hN=["value"],fN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),xN=["value"],yN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),_N=["value"],kN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),DN=["value"],SN=(0,s._)("option",{value:"all",selected:""},"All",-1),zN=["value"],UN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),LN=["value"],qN=(0,s._)("option",{value:"all",selected:""},"All",-1),AN=["value"],$N={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),EN=["value"],TN=(0,s._)("option",{value:"all",selected:""},"All",-1),FN=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),ON=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),IN=[TN,FN,ON],VN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered From",-1),RN=["value"],MN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},NN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered To",-1),HN=["value"],YN={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ZN=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),KN=(0,s._)("span",null,"Clear",-1),BN=[ZN,KN],QN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),JN=(0,s._)("span",null,"Filter",-1),GN=[QN,JN];function XN(t,e,r,a,o,l){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",wN,[(0,s._)("div",dN,[(0,s.kq)("",!0),(0,s._)("div",cN,[uN,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,pN)]),(0,s._)("div",mN,[gN,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,hN)]),(0,s._)("div",fN,[bN,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xN)]),(0,s._)("div",yN,[vN,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,_N)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",kN,[CN,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[SN,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,rt.zw)(t.name),11,zN)))),128))],40,DN)]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",UN,[PN,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qN,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,rt.zw)(t.name),11,AN)))),128))],40,LN)]),(0,s._)("div",$N,[WN,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},IN,40,EN)]),(0,s._)("div",VN,[jN,(0,s._)("input",{value:r.filters.delivered_from,type:"date",onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,delivered_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,RN)]),(0,s._)("div",MN,[NN,(0,s._)("input",{value:r.filters.delivered_to,type:"date",onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,delivered_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,HN)]),(0,s._)("div",YN,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},BN),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},GN)])])])}const tH={class:"tw-text-sm tw-text-neutral-600"},eH=["onClick"];function rH(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",tH,(0,rt.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,rt.zw)(t),9,eH)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var aH={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Yo.Z)(new Date,1),(0,Yo.Z)(new Date,1)]},{label:"This month",range:[(0,Zo.Z)(new Date),(0,Ko.Z)(new Date)]},{label:"Last month",range:[(0,Zo.Z)((0,Bo.Z)(new Date,1)),(0,Ko.Z)((0,Bo.Z)(new Date,1))]},{label:"This year",range:[(0,Qo.Z)(new Date),(0,Jo.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const sH=(0,p.Z)(aH,[["render",rH]]);var oH=sH;const lH={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iH=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),nH=["value"],wH=(0,s._)("option",{value:"all"},"All",-1),dH=(0,s._)("option",{value:""},"No Delivery",-1),cH=["value"];function uH(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",lH,[iH,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[wH,dH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,cH)))),128))],40,nH)])}var pH={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const mH=(0,p.Z)(pH,[["render",uH]]);var gH=mH;const hH={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fH=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),bH=["value"],xH=(0,s._)("option",{value:"all"},"All",-1),yH=(0,s._)("option",{value:""},"No Agent",-1),vH=["value"];function _H(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",hH,[fH,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[xH,yH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,vH)))),128))],40,bH)])}var kH={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const CH=(0,p.Z)(kH,[["render",_H]]);var DH=CH;const SH={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zH=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),UH=["value"],PH=(0,s._)("option",{value:"all"},"All",-1),LH=["value"];function qH(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",SH,[zH,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[PH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,LH)))),128))],40,UH)])}var AH={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const $H=(0,p.Z)(AH,[["render",qH]]);var WH=$H,EH={components:{DateFilter:oH,AffectationFilter:gH,AgentFilter:DH,ProductFilter:WH},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Pd,deliveries:$d,dateFilter:["",""]}}};const TH=(0,p.Z)(EH,[["render",XN]]);var FH=TH,OH={components:{IndexStatistics:GM,FiltersWrapper:FH,IndexExport:nN},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ve()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const IH=(0,p.Z)(OH,[["render",RM]]);var VH=IH;const jH={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},RH=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),MH={class:"tw-bg-white tw-p-4"},NH={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},HH={class:"tw-col-span-2 md:tw-col-span-1"},YH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),ZH={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},KH={class:"tw-col-span-2 md:tw-col-span-1"},BH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),QH={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JH={class:"tw-col-span-2 md:tw-col-span-1"},GH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),XH={class:"tw-relative"},tY=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),eY=["value"],rY=["value"],aY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),sY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oY={class:"tw-col-span-2 md:tw-col-span-1"},lY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),iY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nY={class:"tw-col-span-2"},wY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),dY={class:"tw-relative"},cY=["value"],uY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mY={key:0,class:"md:tw-col-span-1 tw-col-span-2"},gY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),hY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fY={key:1,class:"md:tw-col-span-1 tw-col-span-2"},bY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),xY={class:"tw-col-span-2"},yY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),vY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Y={class:"md:tw-col-span-1 tw-col-span-2"},kY={class:"md:tw-col-span-1 tw-col-span-2"},CY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),DY={class:"tw-relative"},SY=["value"],zY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),UY={class:"tw-col-span-2"},PY={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},LY={key:0,class:"tw-text-red-400 tw-text-xs"},qY={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},AY=["disabled"],$Y=(0,s._)("span",null,"Create",-1);function WY(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",jH,[RH,(0,s._)("div",MH,[(0,s._)("div",NH,[(0,s._)("div",HH,[YH,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",ZH,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",KH,[BH,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",QH,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",JH,[GH,(0,s._)("div",XH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[tY,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,eY),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,rY)))),128))],34),[[a.bM,l.itemCopy.city]]),aY]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",sY,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",oY,[lY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",iY,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",nY,[wY,(0,s._)("div",dY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,rt.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,cY)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),uY]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",pY,(0,rt.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",mY,[gY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,rt.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",hY,(0,rt.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",fY,[bY,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",xY,[yY,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",vY,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",_Y,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",kY,[CY,(0,s._)("div",DY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,SY)))),128))],512),[[a.bM,l.itemCopy.upsell]]),zY])]),(0,s._)("div",UY,[(0,s._)("label",PY,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",LY," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",qY,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),$Y],8,AY)])])])),_:1},8,["visible","onCancel"])])}const EY=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},TY=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},FY=(t,e)=>{t.isLoading=!0,t.errors={},bp.create(e).then((e=>EY(t,e.data))).catch((e=>TY(t,e.response.data))).finally((()=>t.isLoading=!1))};var OY={components:{OrderItems:bj,OrderAffectation:$j},props:{visible:{required:!0}},data(){return{confirmations:Pd,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=hV(this,this.itemCopy);if(!t)return!1;FY(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const IY=(0,p.Z)(OY,[["render",WY]]);var VY=IY;const jY={class:"tw-mb-4"},RY={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},MY={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},NY={class:"tw-flex tw-items-center tw-gap-2"},HY={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},YY=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),ZY={class:"tw-flex tw-items-center tw-gap-2"},KY=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),BY=(0,s._)("span",null," Clear Selection ",-1),QY=[KY,BY],JY=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),GY=(0,s._)("span",null," Actions ",-1),XY=[JY,GY],tZ={key:0};function eZ(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",jY,[(0,s._)("div",RY,[(0,s._)("div",MY,[(0,s._)("div",NY,[(0,s._)("div",HY,(0,rt.zw)(r.selected.length),1),YY]),(0,s._)("div",ZY,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},QY),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},XY)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",tZ,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const rZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},aZ={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},sZ=(0,s._)("span",null,"Quick Actions",-1),oZ={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},lZ={class:"tw-bg-white tw-p-4"},iZ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},nZ={class:"tw-col-span-2 md:tw-col-span-1"},wZ={key:0,class:"tw-col-span-2 md:tw-col-span-1"},dZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},cZ=(0,s._)("span",null,"Apply",-1);function uZ(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",rZ,[(0,s._)("div",aZ,[sZ,(0,s._)("span",oZ,(0,rt.zw)(r.selected.length),1)]),(0,s._)("div",lZ,[(0,s._)("div",iZ,[(0,s._)("div",nZ,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",wZ,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",dZ,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cZ])])])])),_:1},8,["visible","closeable","onCancel"])])}const pZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),mZ={class:"tw-relative"},gZ=["value"],hZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function fZ(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[pZ,(0,s._)("div",mZ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,rt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,gZ)))),128))],512),[[a.bM,i.vaction]]),hZ]),(0,s.kq)("",!0)])}var bZ={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const xZ=(0,p.Z)(bZ,[["render",fZ]]);var yZ=xZ;const vZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),_Z={class:"tw-relative"},kZ=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),CZ=["value"],DZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function SZ(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[vZ,(0,s._)("div",_Z,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,rt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[kZ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,CZ)))),128))],512),[[a.bM,i.vvalue]]),DZ]),(0,s.kq)("",!0)])}var zZ={props:{value:{required:!0}},data(){return{statuses:$d}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const UZ=(0,p.Z)(zZ,[["render",SZ]]);var PZ=UZ;class LZ{async execute(t){return await W.getCookie(),A.post("api/v1/bulk/execute",t)}}var qZ=new LZ,AZ=(t,e)=>{t.isLoading=!0,qZ.execute(e).then((e=>$Z(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const $Z=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var WZ={components:{BulkSelectAction:yZ,BulkDeliveryAction:PZ},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};AZ(this,t)}}};const EZ=(0,p.Z)(WZ,[["render",uZ]]);var TZ=EZ,FZ={components:{BulkPopup:TZ},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const OZ=(0,p.Z)(FZ,[["render",eZ]]);var IZ=OZ,VZ={components:{IndexTable:cM,IndexFilters:VH,CreatePopup:VY,BulkActions:IZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,bp.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const jZ=(0,p.Z)(VZ,[["render",WF]]);var RZ=jZ;const MZ={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},NZ={class:"tw-px-3"},HZ={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},YZ={class:"tw-flex tw-items-center tw-gap-x-3"},ZZ=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),KZ={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},BZ=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),QZ={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},JZ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),GZ=(0,s._)("span",null,"Create",-1),XZ=[JZ,GZ],tK={class:"tw-overflow-hidden tw-col-span-1"},eK={key:0};function rK(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",MZ,[(0,s._)("section",NZ,[(0,s._)("div",HZ,[(0,s._)("div",null,[(0,s._)("div",YZ,[ZZ,(0,s._)("span",KZ,(0,rt.zw)(o.totalOrders)+" order",1)]),BZ]),(0,s._)("div",QZ,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XZ)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,rt.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tK,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",eK,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var aK={components:{IndexTable:cM,IndexFilters:VH,CreatePopup:VY,BulkActions:IZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,bp.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const sK=(0,p.Z)(aK,[["render",rK]]);var oK=sK;const lK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},iK={class:"tw-px-3"},nK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},wK={class:"tw-flex tw-items-center tw-gap-x-3"},dK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),cK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},uK=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),pK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},mK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),gK=(0,s._)("span",null,"Create",-1),hK=[mK,gK],fK={class:"tw-overflow-hidden tw-col-span-1"},bK={key:0};function xK(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",lK,[(0,s._)("section",iK,[(0,s._)("div",nK,[(0,s._)("div",null,[(0,s._)("div",wK,[dK,(0,s._)("span",cK,(0,rt.zw)(o.totalOrders)+" order",1)]),uK]),(0,s._)("div",pK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},hK)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,rt.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",fK,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",bK,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var yK={components:{IndexTable:cM,IndexFilters:VH,CreatePopup:VY,BulkActions:IZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,bp.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const vK=(0,p.Z)(yK,[["render",xK]]);var _K=vK;const kK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},CK={class:"tw-px-3"},DK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},SK={class:"tw-flex tw-items-center tw-gap-x-3"},zK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),UK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},PK=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),LK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},qK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),AK=(0,s._)("span",null,"Create",-1),$K=[qK,AK],WK={class:"tw-overflow-hidden tw-col-span-1"},EK={key:0};function TK(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",kK,[(0,s._)("section",CK,[(0,s._)("div",DK,[(0,s._)("div",null,[(0,s._)("div",SK,[zK,(0,s._)("span",UK,(0,rt.zw)(o.totalOrders)+" order",1)]),PK]),(0,s._)("div",LK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},$K)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,rt.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",WK,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[4]||(e[4]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",EK,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const FK={class:"tw-flex tw-flex-col"},OK={class:"tw-overflow-x-auto"},IK={class:"tw-inline-block tw-min-w-full tw-align-middle"},VK={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},jK={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},RK={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},MK={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},NK={class:"tw-max-w-[25px]"},HK={class:"tw-inline-flex tw-items-center"},YK={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},ZK=["checked"],KK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),BK=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),QK={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},JK=(0,s._)("span",null,"Created",-1),GK=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),XK=[JK,GK],tB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),eB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),rB=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),aB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),sB=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Reconfirmation ",-1),oB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),lB=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),iB=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),nB={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},wB={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},dB=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),cB=[dB],uB={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},pB={colspan:"11"},mB={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},gB=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),hB=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),fB=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),bB=[hB,fB],xB={class:"tw-mt-6"};function yB(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",FK,[(0,s._)("div",OK,[(0,s._)("div",IK,[(0,s._)("div",VK,[(0,s._)("table",jK,[(0,s._)("thead",RK,[(0,s._)("tr",null,[(0,s._)("th",MK,[(0,s._)("div",NK,[(0,s._)("div",HK,[(0,s._)("label",YK,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,ZK),KK])])])]),BK,(0,s._)("th",QK,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},XK)]),tB,eB,rB,aB,sB,oB,lB,iB])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",nB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",wB,cB)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",uB,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",pB,[(0,s._)("div",mB,[gB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},bB)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",xB,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const vB={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},_B={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},kB={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},CB={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},DB=["disabled"],SB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),zB=(0,s._)("span",null," previous ",-1),UB=[SB,zB],PB=["disabled"],LB=(0,s._)("span",null," Next ",-1),qB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),AB=[LB,qB];function $B(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vB,[(0,s._)("div",_B,[(0,s.Uk)(" Page "),(0,s._)("span",kB,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",CB,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},UB,10,DB),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},AB,10,PB)])])])}var WB={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const EB=(0,p.Z)(WB,[["render",$B]]);var TB=EB;const FB={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},OB={class:"tw-max-w-[25px]"},IB={class:"tw-inline-flex tw-items-center"},VB={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},jB=["checked","id"],RB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),MB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},NB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},HB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},YB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},ZB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},KB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},BB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QB={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},JB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},GB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},XB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tQ={class:"tw-space-y-1"},eQ={class:"tw-font-bold tw-text-green-500"},rQ={class:"tw-block tw-max-w-[150px] tw-truncate"},aQ={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},sQ={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},oQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},iQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nQ={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function wQ(t,e,r,a,o,l){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,rt.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.followup_confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",FB,[(0,s._)("div",OB,[(0,s._)("div",IB,[(0,s._)("label",VB,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,jB),RB])])])]),(0,s._)("td",MB,[(0,s._)("div",null,[(0,s._)("h2",NB,(0,rt.zw)(r.item.id),1)])]),(0,s._)("td",HB,[(0,s._)("div",null,[(0,s._)("h2",YB,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",ZB,[(0,s._)("div",null,[(0,s._)("h2",KB,(0,rt.zw)(r.item.fullname),1)])]),(0,s._)("td",BB,[(0,s._)("div",null,[(0,s._)("h2",QB,(0,rt.zw)(r.item.city),1)])]),(0,s._)("td",JB,[(0,s._)("div",null,[(0,s._)("h2",GB,(0,rt.zw)(r.item.phone),1)])]),(0,s._)("td",XB,[(0,s._)("div",null,[(0,s._)("ul",tQ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",eQ,(0,rt.zw)(t.quantity)+" x ",1),(0,s._)("span",rQ,(0,rt.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",aQ,(0,rt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",sQ,(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",oQ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,rt.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,rt.zw)(l.confirmation.name),3)])]),(0,s._)("td",lQ,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",iQ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,rt.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,rt.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",nQ,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const dQ={class:"tw-h-full"},cQ={class:"tw-flex tw-items-center tw-gap-2"},uQ=["href"],pQ={key:0};function mQ(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",dQ,[(0,s._)("div",cQ,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,uQ),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",pQ,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[2]||(e[2]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const gQ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hQ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),fQ={class:"tw-bg-white tw-p-4"},bQ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},xQ={class:"tw-col-span-2 md:tw-col-span-1"},yQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),vQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Q={class:"tw-col-span-2 md:tw-col-span-1"},kQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),CQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DQ={class:"tw-col-span-2 md:tw-col-span-1"},SQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),zQ={class:"tw-relative"},UQ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),PQ=["value"],LQ=["value"],qQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$Q={class:"tw-col-span-2 md:tw-col-span-1"},WQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),EQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TQ={class:"tw-col-span-2"},FQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),OQ={class:"tw-relative"},IQ=["value"],VQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RQ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},MQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),NQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HQ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},YQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),ZQ={class:"tw-col-span-2"},KQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),BQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QQ={class:"md:tw-col-span-1 tw-col-span-2"},JQ={class:"md:tw-col-span-1 tw-col-span-2"},GQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),XQ={class:"tw-relative"},tJ=["value"],eJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rJ={class:"tw-col-span-2"},aJ={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sJ={key:0,class:"tw-text-red-400 tw-text-xs"},oJ={key:3,class:"tw-col-span-2"},lJ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},iJ=["disabled"],nJ=(0,s._)("span",null,"Update",-1);function wJ(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",gQ,[hQ,(0,s._)("div",fQ,[(0,s._)("div",bQ,[(0,s._)("div",xQ,[yQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",vQ,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",_Q,[kQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",CQ,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",DQ,[SQ,(0,s._)("div",zQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[UQ,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,PQ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,LQ)))),128))],34),[[a.bM,l.itemCopy.city]]),qQ]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",AQ,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",$Q,[WQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",EQ,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",TQ,[FQ,(0,s._)("div",OQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.followup_confirmation=null),class:(0,rt.C_)([[l.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,IQ)))),128))],34),[[a.bM,l.itemCopy.followup_confirmation]]),VQ]),l.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",jQ,(0,rt.zw)(l.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",RQ,[MQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>l.errors.followup_reported_date=null),class:(0,rt.C_)([[l.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.followup_reported_date]]),l.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",NQ,(0,rt.zw)(l.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",HQ,[YQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",ZQ,[KQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",BQ,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",QQ,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",JQ,[GQ,(0,s._)("div",XQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,tJ)))),128))],512),[[a.bM,l.itemCopy.upsell]]),eJ])]),(0,s._)("div",rJ,[(0,s._)("label",aJ,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",sJ," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",oJ,[(0,s.Wm)(d,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",lJ,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),nJ],8,iJ)])])])),_:1},8,["visible","onCancel"])])}const dJ=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!cJ(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),cJ=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},uJ=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},pJ=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},mJ=(t,e)=>{t.isLoading=!0,t.errors={},bp.update(e.id,e).then((e=>uJ(t,e.data))).catch((e=>pJ(t,e.response.data))).finally((()=>t.isLoading=!1))},gJ={key:0},hJ=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),fJ={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},bJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),xJ=(0,s._)("span",null,"Add Item",-1),yJ=[bJ,xJ],vJ={key:1,class:"md:tw-col-span-12 tw-col-span-12"},_J={class:"tw-max-w-full tw-overflow-auto"},kJ={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},CJ={class:"tw-bg-gray-50"},DJ={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},SJ={key:0},zJ={colspan:"6"},UJ={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},PJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),LJ=(0,s._)("span",null,"Add Item",-1),qJ=[PJ,LJ],AJ=(0,s._)("td",{colspan:"4"},null,-1),$J=(0,s._)("td",null,null,-1),WJ={colspan:"1",class:"tw-p-2"},EJ={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},TJ={key:1},FJ={colspan:"6"},OJ={class:"tw-scale-75 tw-p-5"};function IJ(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gJ,[hJ,(0,s._)("div",fJ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},yJ)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",vJ,[(0,s._)("div",_J,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",kJ,[(0,s._)("tr",CJ,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",DJ,(0,rt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",SJ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",zJ,[(0,s._)("div",UJ,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},qJ)])])]),(0,s._)("tr",null,[AJ,$J,(0,s._)("td",WJ,[(0,s._)("div",EJ,[(0,s._)("p",null,(0,rt.zw)(o.currency)+" "+(0,rt.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",TJ,[(0,s._)("tr",null,[(0,s._)("td",FJ,[(0,s._)("div",OJ,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const VJ=(0,s._)("td",null,null,-1),jJ={class:"tw-p-2"},RJ={class:"tw-relative"},MJ=["value"],NJ=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),HJ=["value"],YJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ZJ={class:"tw-p-2"},KJ={key:0,class:"tw-relative"},BJ=["value"],QJ=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),JJ=["value"],GJ={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},XJ=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),tG=[XJ],eG={class:"tw-p-2"},rG=["value"],aG={class:"tw-p-2"},sG=["value"],oG={class:"tw-flex tw-justify-center"};function lG(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[VJ,(0,s._)("td",null,[(0,s._)("div",jJ,[(0,s._)("div",RJ,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[NJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,HJ)))),128))],40,MJ),YJ])])]),(0,s._)("td",null,[(0,s._)("div",ZJ,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",KJ,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[QJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.color)+" "+(0,rt.zw)(t.size),9,JJ)))),128))],40,BJ)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",GJ,tG)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",eG,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,rG)])]),(0,s._)("td",null,[(0,s._)("div",aG,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,sG)])]),(0,s._)("td",null,[(0,s._)("div",oG,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var iG={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const nG=(0,p.Z)(iG,[["render",lG]]);var wG=nG,dG={components:{ItemRow:wG},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return sl(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const cG=(0,p.Z)(dG,[["render",IJ]]);var uG=cG;const pG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),mG={key:0,class:"tw-relative"},gG=["value","disabled"],hG=(0,s._)("option",{value:""},"Choose a Delivery",-1),fG=["value"],bG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),xG={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yG={key:2,class:"tw-relative"},vG={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},_G=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),kG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function CG(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[pG,o.fetched?((0,s.wg)(),(0,s.iD)("div",mG,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,rt.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[hG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,fG)))),128))],42,gG),bG])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",xG,(0,rt.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yG,[(0,s._)("div",vG,[(0,s.Wm)(i)]),_G,kG]))])}var DG={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const SG=(0,p.Z)(DG,[["render",CG]]);var zG=SG;const UG={key:0},PG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),LG={class:"md:tw-col-span-12 tw-col-span-12"},qG={class:"tw-max-w-full tw-overflow-auto"},AG={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$G=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),WG={class:"tw-px-3 tw-py-2"},EG={class:"tw-px-3 tw-py-2"},TG={class:"tw-px-3 tw-py-2"},FG={class:"tw-px-3 tw-py-2"},OG={class:"tw-max-w-[250px] tw-text-sm"};function IG(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",UG,[PG,(0,s._)("div",LG,[(0,s._)("div",qG,[(0,s._)("table",AG,[$G,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",WG,(0,rt.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",EG,(0,rt.zw)(t.quantity),1),(0,s._)("td",TG,(0,rt.zw)(t.price)+" "+(0,rt.zw)(o.currency),1),(0,s._)("td",FG,[(0,s._)("p",OG,(0,rt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var VG={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const jG=(0,p.Z)(VG,[["render",IG]]);var RG=jG,MG={components:{OrderItems:uG,OrderAffectation:zG,ProductOffersTable:RG},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:qd,deliveryStatus:$d,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=dJ(this,this.itemCopy);if(!t)return!1;mJ(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const NG=(0,p.Z)(MG,[["render",wJ]]);var HG=NG,YG={components:{UpdatePopup:HG},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const ZG=(0,p.Z)(YG,[["render",mQ]]);var KG=ZG;const BG={key:0},QG={key:0,class:"tw-relative tw-inline-block tw-text-left"},JG={key:0},GG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),XG=[GG],tX={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},eX={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},rX=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),aX=[rX],sX={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},oX={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},lX={class:"tw-py-1",role:"none"},iX=["onClick"],nX={key:1},wX={class:"tw-p-2 tw-scale-75"};function dX(t,e,r,a,o,l){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",BG,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",QG,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[l.selected.id?((0,s.wg)(),(0,s.iD)("div",JG,XG)):(0,s.kq)("",!0),(0,s._)("p",tX,(0,rt.zw)(l.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",eX,aX)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",sX,(0,rt.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Wt.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",oX,[(0,s._)("div",lX,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>l.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,rt.zw)(t.name),1)],8,iX)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[ee.L,l.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",nX,[(0,s._)("div",wX,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var cX={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};mJ(this,e,!1)}}};const uX=(0,p.Z)(cX,[["render",dX]]);var pX=uX,mX={components:{TableActions:KG,TableRowAffectation:pX},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:ve()}},computed:{confirmation(){return qd.find((t=>t.value==this.item.followup_confirmation))},deliveryState(){return $d.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const gX=(0,p.Z)(mX,[["render",wQ]]);var hX=gX,fX={components:{TablePaginationNoNums:TB,TableRow:hX},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const bX=(0,p.Z)(fX,[["render",yB]]);var xX=bX;const yX={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},vX={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},_X=["disabled"],kX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),CX=[kX],DX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),SX=[DX],zX=["disabled"],UX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),PX=[UX],LX={class:"tw-relative"},qX=["value"],AX=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),$X=[AX],WX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),EX={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},TX=["value"],FX={class:"tw-overflow-hidden tw-col-span-1"},OX={class:"tw-overflow-hidden tw-col-span-1"};function IX(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),w=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",yX,[(0,s._)("div",vX,[(0,s._)("button",{class:(0,rt.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,_X),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,rt.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},CX,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,rt.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},SX,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},PX,8,zX),(0,s.kq)("",!0),(0,s._)("div",LX,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},$X,40,qX),WX])]),(0,s._)("div",EX,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,TX),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,rt.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",FX,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,rt.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",OX,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const VX={class:"tw-mb-4"},jX={class:"tw-grid tw-grid-cols-12 tw-gap-4"},RX={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},MX={class:"tw-flex tw-items-center tw-justify-between"},NX={class:"tw-text-xl tw-font-bold tw-text-gray-900"},HX={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function YX(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",VX,[(0,s._)("div",jX,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",RX,[(0,s._)("p",{class:(0,rt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,rt.zw)(t.name),3),(0,s._)("div",MX,[(0,s._)("span",NX,(0,rt.zw)(t.total),1),(0,s._)("span",HX,(0,rt.zw)(t.percent)+"%",1)])])])))),128))])])}var ZX={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Pd.find((e=>e.value==t))}}};const KX=(0,p.Z)(ZX,[["render",YX]]);var BX=KX;const QX={class:"tw-mb-4"},JX={class:"tw-flex tw-items-center tw-gap-2"},GX=["disabled"],XX=(0,s._)("span",null,"Select Filtered",-1),t0={class:"tw-flex tw-justify-end"},e0=["disabled"];function r0(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",QX,[(0,s._)("div",JX,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XX],8,GX)]),(0,s._)("div",t0,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,rt.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,e0)])])}var a0={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,bp["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const s0=(0,p.Z)(a0,[["render",r0]]);var o0=s0;const l0={class:"tw-mb-4"},i0={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},n0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},w0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),d0=["value"],c0=(0,s._)("option",{value:"all",selected:""},"All",-1),u0=["value"],p0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},m0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),g0=["value"],h0=(0,s._)("option",{value:"all",selected:""},"All",-1),f0=["value"],b0={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},x0=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),y0=(0,s._)("span",null,"Clear",-1),v0=[x0,y0],_0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),k0=(0,s._)("span",null,"Filter",-1),C0=[_0,k0];function D0(t,e,r,a,o,l){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",l0,[(0,s._)("div",i0,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",n0,[w0,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[c0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,rt.zw)(t.name),11,u0)))),128))],40,d0)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",p0,[m0,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[h0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,rt.zw)(t.name),11,f0)))),128))],40,g0)]),(0,s.kq)("",!0),(0,s._)("div",b0,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},v0),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},C0)])])])}const S0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},z0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),U0=["value"],P0=(0,s._)("option",{value:"all"},"All",-1),L0=(0,s._)("option",{value:""},"No Delivery",-1),q0=["value"];function A0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",S0,[z0,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[P0,L0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,q0)))),128))],40,U0)])}var $0={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const W0=(0,p.Z)($0,[["render",A0]]);var E0=W0;const T0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},F0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),O0=["value"],I0=(0,s._)("option",{value:"all"},"All",-1),V0=(0,s._)("option",{value:""},"No Agent",-1),j0=["value"];function R0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",T0,[F0,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[I0,V0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,j0)))),128))],40,O0)])}var M0={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const N0=(0,p.Z)(M0,[["render",R0]]);var H0=N0;const Y0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Z0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),K0=["value"],B0=(0,s._)("option",{value:"all"},"All",-1),Q0=["value"];function J0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Y0,[Z0,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[B0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,Q0)))),128))],40,K0)])}var G0={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const X0=(0,p.Z)(G0,[["render",J0]]);var t1=X0,e1={components:{AffectationFilter:E0,AgentFilter:H0,ProductFilter:t1},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:qd,deliveries:$d,dateFilter:["",""]}}};const r1=(0,p.Z)(e1,[["render",D0]]);var a1=r1,s1={components:{IndexStatistics:BX,FiltersWrapper:a1,IndexExport:o0},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=ve()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const o1=(0,p.Z)(s1,[["render",IX]]);var l1=o1;const i1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},n1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),w1={class:"tw-bg-white tw-p-4"},d1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},c1={class:"tw-col-span-2 md:tw-col-span-1"},u1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),p1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},m1={class:"tw-col-span-2 md:tw-col-span-1"},g1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),h1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},f1={class:"tw-col-span-2 md:tw-col-span-1"},b1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),x1={class:"tw-relative"},y1=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),v1=["value"],_1=["value"],k1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),C1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D1={class:"tw-col-span-2 md:tw-col-span-1"},S1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),z1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U1={class:"tw-col-span-2"},P1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),L1={class:"tw-relative"},q1=["value"],A1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W1={key:0,class:"md:tw-col-span-1 tw-col-span-2"},E1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),T1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},F1={key:1,class:"md:tw-col-span-1 tw-col-span-2"},O1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),I1={class:"tw-col-span-2"},V1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),j1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R1={class:"md:tw-col-span-1 tw-col-span-2"},M1={class:"md:tw-col-span-1 tw-col-span-2"},N1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),H1={class:"tw-relative"},Y1=["value"],Z1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),K1={class:"tw-col-span-2"},B1={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Q1={key:0,class:"tw-text-red-400 tw-text-xs"},J1={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},G1=["disabled"],X1=(0,s._)("span",null,"Create",-1);function t2(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",i1,[n1,(0,s._)("div",w1,[(0,s._)("div",d1,[(0,s._)("div",c1,[u1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",p1,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",m1,[g1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",h1,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",f1,[b1,(0,s._)("div",x1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[y1,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,v1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,_1)))),128))],34),[[a.bM,l.itemCopy.city]]),k1]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",C1,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",D1,[S1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",z1,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",U1,[P1,(0,s._)("div",L1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.followup_confirmation=null),class:(0,rt.C_)([[l.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,q1)))),128))],34),[[a.bM,l.itemCopy.followup_confirmation]]),A1]),l.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",$1,(0,rt.zw)(l.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",W1,[E1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>l.errors.followup_reported_date=null),class:(0,rt.C_)([[l.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.followup_reported_date]]),l.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",T1,(0,rt.zw)(l.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",F1,[O1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",I1,[V1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",j1,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",R1,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",M1,[N1,(0,s._)("div",H1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,Y1)))),128))],512),[[a.bM,l.itemCopy.upsell]]),Z1])]),(0,s._)("div",K1,[(0,s._)("label",B1,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",Q1," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",J1,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),X1],8,G1)])])])),_:1},8,["visible","onCancel"])])}const e2=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},r2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},a2=(t,e)=>{t.isLoading=!0,t.errors={},ni.create(e).then((e=>e2(t,e.data))).catch((e=>r2(t,e.response.data))).finally((()=>t.isLoading=!1))};var s2={components:{OrderItems:uG,OrderAffectation:zG},props:{visible:{required:!0}},data(){return{followup_confirmations:qd,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=dJ(this,this.itemCopy);if(!t)return!1;a2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const o2=(0,p.Z)(s2,[["render",t2]]);var l2=o2,i2={components:{IndexTable:xX,IndexFilters:l1,CreatePopup:l2,BulkActions:IZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ni.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const n2=(0,p.Z)(i2,[["render",TK]]);var w2=n2,d2={name:"sales",path:"/sales",component:fa,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:yF,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:RZ,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:oK,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:_K,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:w2,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const c2={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},u2={class:"tw-px-3"},p2={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},m2={class:"tw-flex tw-items-center tw-gap-x-3"},g2=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),h2={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},f2=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),b2={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},x2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),y2=(0,s._)("span",null,"Create",-1),v2=[x2,y2],_2={key:0};function k2(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",c2,[(0,s._)("section",u2,[(0,s._)("div",p2,[(0,s._)("div",null,[(0,s._)("div",m2,[g2,(0,s._)("span",h2,(0,rt.zw)(o.totalOrders)+" order",1)]),f2]),(0,s._)("div",b2,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},v2)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",_2,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const C2={class:"tw-flex tw-flex-col"},D2={class:"tw-overflow-x-auto"},S2={class:"tw-inline-block tw-min-w-full tw-align-middle"},z2={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},U2={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},P2={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},L2=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),q2={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},A2=(0,s._)("span",null,"Created",-1),$2=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),W2=[A2,$2],E2=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),T2=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),F2=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),O2=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),I2=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),V2=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),j2={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},R2={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},M2=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),N2=[M2],H2={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Y2={colspan:"8"},Z2={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},K2=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),B2=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Q2=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),J2=[B2,Q2],G2={class:"tw-mt-6"};function X2(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",C2,[(0,s._)("div",D2,[(0,s._)("div",S2,[(0,s._)("div",z2,[(0,s._)("table",U2,[(0,s._)("thead",P2,[(0,s._)("tr",null,[L2,(0,s._)("th",q2,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},W2)]),E2,T2,F2,O2,I2,V2])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",j2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",R2,N2)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",H2,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Y2,[(0,s._)("div",Z2,[K2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},J2)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",G2,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const t5={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},e5={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},r5={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},a5={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},s5=["disabled"],o5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),l5=(0,s._)("span",null," previous ",-1),i5=[o5,l5],n5=["disabled"],w5=(0,s._)("span",null," Next ",-1),d5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),c5=[w5,d5];function u5(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",t5,[(0,s._)("div",e5,[(0,s.Uk)(" Page "),(0,s._)("span",r5,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",a5,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},i5,10,s5),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},c5,10,n5)])])])}var p5={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const m5=(0,p.Z)(p5,[["render",u5]]);var g5=m5;const h5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},b5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},x5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},y5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},_5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},k5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},C5={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},D5={class:"tw-space-y-1"},S5={class:"tw-font-bold tw-text-green-500"},z5={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},U5={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},P5={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},L5={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},q5=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),A5={key:1},$5={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function W5(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",h5,[(0,s._)("div",null,[(0,s._)("h2",f5,(0,rt.zw)(r.item.id),1)])]),(0,s._)("td",b5,[(0,s._)("div",null,[(0,s._)("h2",x5,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",y5,[(0,s._)("div",null,[(0,s._)("h2",v5,(0,rt.zw)(r.item.fullname),1)])]),(0,s._)("td",_5,[(0,s._)("div",null,[(0,s._)("h2",k5,(0,rt.zw)(r.item.phone),1)])]),(0,s._)("td",C5,[(0,s._)("div",null,[(0,s._)("ul",D5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",S5,(0,rt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,rt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",z5,(0,rt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",U5,(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",P5,[(0,s._)("span",{class:(0,rt.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,rt.zw)(l.confirmation.name),3)]),(0,s._)("td",L5,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[q5,(0,s._)("span",null,(0,rt.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",A5,[(0,s._)("span",{class:(0,rt.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",$5,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const E5={class:"tw-h-full"},T5={class:"tw-flex tw-items-center tw-gap-2"},F5=["href"],O5={key:0};function I5(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",E5,[(0,s._)("div",T5,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,F5),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",O5,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const V5={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},j5=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),R5={class:"tw-bg-white tw-p-4"},M5={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},N5={class:"tw-col-span-2 md:tw-col-span-1"},H5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Y5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Z5={class:"tw-col-span-2 md:tw-col-span-1"},K5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),B5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Q5={class:"tw-col-span-2 md:tw-col-span-1"},J5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),G5={class:"tw-relative"},X5=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),t4=["value"],e4=["value"],r4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),a4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s4={class:"tw-col-span-2 md:tw-col-span-1"},o4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),l4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i4={class:"tw-col-span-2"},n4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),w4={class:"tw-relative"},d4=["value"],c4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),u4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p4={key:0,class:"md:tw-col-span-1 tw-col-span-2"},m4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),g4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h4={key:1,class:"md:tw-col-span-1 tw-col-span-2"},f4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),b4={class:"tw-col-span-2"},x4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),y4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},v4={class:"md:tw-col-span-1 tw-col-span-2"},_4={class:"md:tw-col-span-1 tw-col-span-2"},k4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),C4={class:"tw-relative"},D4=["value"],S4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),z4={class:"tw-col-span-2"},U4={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},P4={key:0,class:"tw-text-red-400 tw-text-xs"},L4={key:2,class:"tw-col-span-2"},q4={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},A4={class:"tw-space-y-2 tw-px-5"},$4=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),W4=["href"],E4={key:1,class:"tw-font-[cairo] tw-text-gray-500"},T4={class:"tw-space-y-2 tw-px-5"},F4=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),O4=["href"],I4={key:1,class:"tw-font-[cairo] tw-text-gray-500"},V4={key:3,class:"tw-col-span-2"},j4={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},R4=["disabled"],M4=(0,s._)("span",null,"Update",-1);function N4(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",V5,[j5,(0,s._)("div",R5,[(0,s._)("div",M5,[(0,s._)("div",N5,[H5,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Y5,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Z5,[K5,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",B5,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Q5,[J5,(0,s._)("div",G5,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[X5,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,t4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,e4)))),128))],34),[[a.bM,l.itemCopy.city]]),r4]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",a4,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",s4,[o4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",l4,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",i4,[n4,(0,s._)("div",w4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,rt.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,d4)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),c4]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",u4,(0,rt.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",p4,[m4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,rt.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",g4,(0,rt.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",h4,[f4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",b4,[x4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",y4,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",v4,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",_4,[k4,(0,s._)("div",C4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,D4)))),128))],512),[[a.bM,l.itemCopy.upsell]]),S4])]),(0,s._)("div",z4,[(0,s._)("label",U4,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",P4," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",L4,[(0,s._)("div",q4,[(0,s._)("div",A4,[$4,l.product.video?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:l.product.video},(0,rt.zw)(i.truncateText(l.product.video,30)),9,W4)):((0,s.wg)(),(0,s.iD)("span",E4,"No video link in this product"))]),(0,s._)("div",T4,[F4,l.product.store?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:l.product.store},(0,rt.zw)(i.truncateText(l.product.store,30)),9,O4)):((0,s.wg)(),(0,s.iD)("span",I4,"No store link in this product"))])])])):(0,s.kq)("",!0),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",V4,[(0,s.Wm)(d,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",j4,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),M4],8,R4)])])])),_:1},8,["visible","onCancel"])])}const H4=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation||"confirmer"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Y4(t,e.items):(t.errors.affectation="Warning: Order is confirmed but not affected.",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Y4=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Z4=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},K4=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},B4=(t,e)=>{t.isLoading=!0,t.errors={},T.update(e.id,e).then((e=>Z4(t,e.data))).catch((e=>K4(t,e.response.data))).finally((()=>t.isLoading=!1))},Q4={key:0},J4=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),G4={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},X4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t3=(0,s._)("span",null,"Add Item",-1),e3=[X4,t3],r3={key:1,class:"md:tw-col-span-12 tw-col-span-12"},a3={class:"tw-max-w-full tw-overflow-auto"},s3={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},o3={class:"tw-bg-gray-50"},l3={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},i3={key:0},n3={colspan:"6"},w3={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},d3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),c3=(0,s._)("span",null,"Add Item",-1),u3=[d3,c3],p3=(0,s._)("td",{colspan:"4"},null,-1),m3=(0,s._)("td",null,null,-1),g3={colspan:"1",class:"tw-p-2"},h3={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},f3={key:1},b3={colspan:"6"},x3={class:"tw-scale-75 tw-p-5"};function y3(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Q4,[J4,(0,s._)("div",G4,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},e3)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",r3,[(0,s._)("div",a3,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",s3,[(0,s._)("tr",o3,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,rt.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",l3,(0,rt.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",i3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",n3,[(0,s._)("div",w3,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},u3)])])]),(0,s._)("tr",null,[p3,m3,(0,s._)("td",g3,[(0,s._)("div",h3,[(0,s._)("p",null,(0,rt.zw)(o.currency)+" "+(0,rt.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",f3,[(0,s._)("tr",null,[(0,s._)("td",b3,[(0,s._)("div",x3,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const v3=(0,s._)("td",null,null,-1),_3={class:"tw-p-2"},k3={class:"tw-relative"},C3=["value"],D3=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),S3=["value"],z3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),U3={class:"tw-p-2"},P3={key:0,class:"tw-relative"},L3=["value"],q3=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),A3=["value"],$3={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},W3=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),E3=[W3],T3={class:"tw-p-2"},F3=["value"],O3={class:"tw-p-2"},I3=["value"],V3={class:"tw-flex tw-justify-center"};function j3(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[v3,(0,s._)("td",null,[(0,s._)("div",_3,[(0,s._)("div",k3,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[D3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,S3)))),128))],40,C3),z3])])]),(0,s._)("td",null,[(0,s._)("div",U3,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",P3,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[q3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.color)+" "+(0,rt.zw)(t.size),9,A3)))),128))],40,L3)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",$3,E3)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",T3,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,F3)])]),(0,s._)("td",null,[(0,s._)("div",O3,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,I3)])]),(0,s._)("td",null,[(0,s._)("div",V3,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var R3={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const M3=(0,p.Z)(R3,[["render",j3]]);var N3=M3,H3={components:{ItemRow:N3},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return sl(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Y3=(0,p.Z)(H3,[["render",y3]]);var Z3=Y3;const K3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),B3={key:0,class:"tw-relative"},Q3=["value","disabled"],J3=(0,s._)("option",{value:""},"Choose a Delivery",-1),G3=["value"],X3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),t8={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e8={key:2,class:"tw-relative"},r8={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},a8=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),s8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function o8(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[K3,o.fetched?((0,s.wg)(),(0,s.iD)("div",B3,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,rt.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[J3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,G3)))),128))],42,Q3),X3])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",t8,(0,rt.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",e8,[(0,s._)("div",r8,[(0,s.Wm)(i)]),a8,s8]))])}var l8={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const i8=(0,p.Z)(l8,[["render",o8]]);var n8=i8;const w8={key:0},d8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),c8={class:"md:tw-col-span-12 tw-col-span-12"},u8={class:"tw-max-w-full tw-overflow-auto"},p8={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},m8=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),g8={class:"tw-px-3 tw-py-2"},h8={class:"tw-px-3 tw-py-2"},f8={class:"tw-px-3 tw-py-2"},b8={class:"tw-px-3 tw-py-2"},x8={class:"tw-max-w-[250px] tw-text-sm"};function y8(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",w8,[d8,(0,s._)("div",c8,[(0,s._)("div",u8,[(0,s._)("table",p8,[m8,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",g8,(0,rt.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",h8,(0,rt.zw)(t.quantity),1),(0,s._)("td",f8,(0,rt.zw)(t.price)+" "+(0,rt.zw)(o.currency),1),(0,s._)("td",b8,[(0,s._)("p",x8,(0,rt.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var v8={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const _8=(0,p.Z)(v8,[["render",y8]]);var k8=_8,C8={components:{OrderItems:Z3,OrderAffectation:n8,ProductOffersTable:k8},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Pd,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=H4(this,this.itemCopy);if(!t)return!1;B4(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.product=this.products.find((t=>t.id==this.itemCopy.items[0].product_id)),this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const D8=(0,p.Z)(C8,[["render",N4]]);var S8=D8,z8={components:{UpdatePopup:S8},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const U8=(0,p.Z)(z8,[["render",I5]]);var P8=U8,L8={components:{TableActions:P8},props:{item:{required:!0}},data(){return{moment:ve()}},computed:{confirmation(){return Pd.find((t=>t.value==this.item.confirmation))},deliveryState(){return $d.find((t=>t.value==this.item.delivery))}},methods:{}};const q8=(0,p.Z)(L8,[["render",W5]]);var A8=q8,$8={components:{TablePaginationNoNums:g5,TableRow:A8},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const W8=(0,p.Z)($8,[["render",X2]]);var E8=W8;const T8={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},F8=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),O8={class:"tw-bg-white tw-p-4"},I8={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},V8={class:"tw-col-span-2 md:tw-col-span-1"},j8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),R8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M8={class:"tw-col-span-2 md:tw-col-span-1"},N8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),H8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Y8={class:"tw-col-span-2 md:tw-col-span-1"},Z8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),K8={class:"tw-relative"},B8=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Q8=["value"],J8=["value"],G8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),X8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t6={class:"tw-col-span-2 md:tw-col-span-1"},e6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),r6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},a6={class:"tw-col-span-2"},s6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),o6={class:"tw-relative"},l6=["value"],i6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),n6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},d6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),c6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},u6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},p6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),m6={class:"tw-col-span-2"},g6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),h6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},f6={class:"md:tw-col-span-1 tw-col-span-2"},b6={class:"tw-col-span-2"},x6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},y6={key:0,class:"tw-text-red-400 tw-text-xs"},v6={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},_6=["disabled"],k6=(0,s._)("span",null,"Create",-1);function C6(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",T8,[F8,(0,s._)("div",O8,[(0,s._)("div",I8,[(0,s._)("div",V8,[j8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,rt.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",R8,(0,rt.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",M8,[N8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,rt.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",H8,(0,rt.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Y8,[Z8,(0,s._)("div",K8,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,rt.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[B8,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,rt.zw)(l.itemCopy.city),9,Q8),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,rt.zw)(t.name),9,J8)))),128))],34),[[a.bM,l.itemCopy.city]]),G8]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",X8,(0,rt.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",t6,[e6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,rt.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",r6,(0,rt.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",a6,[s6,(0,s._)("div",o6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,rt.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,rt.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,rt.zw)(t.name),11,l6)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),i6]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",n6,(0,rt.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",w6,[d6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,rt.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",c6,(0,rt.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",u6,[p6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",m6,[g6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,rt.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",h6,(0,rt.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",f6,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",b6,[(0,s._)("label",x6,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",y6," # "+(0,rt.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",v6,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),k6],8,_6)])])])),_:1},8,["visible","onCancel"])])}const D6=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},S6=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},z6=(t,e)=>{t.isLoading=!0,t.errors={},T.create(e).then((e=>D6(t,e.data))).catch((e=>S6(t,e.response.data))).finally((()=>t.isLoading=!1))};var U6={components:{OrderItems:Z3,OrderAffectation:n8},props:{visible:{required:!0}},data(){return{confirmations:Ld,upsells:Ad,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=H4(this,this.itemCopy);if(!t)return!1;z6(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const P6=(0,p.Z)(U6,[["render",C6]]);var L6=P6;const q6={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},A6={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},$6=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),W6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),E6=[W6],T6=["disabled"],F6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),O6=[F6],I6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),V6=[I6],j6=["disabled"],R6=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),M6=[R6],N6={class:"tw-relative"},H6=["value"],Y6=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Z6=[Y6],K6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),B6={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Q6=["value"],J6={class:"tw-overflow-hidden tw-col-span-1"},G6={class:"tw-overflow-hidden tw-col-span-1"};function X6(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",q6,[(0,s._)("div",A6,[$6,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},E6),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[1]||(e[1]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,rt.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},O6,10,T6),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[2]||(e[2]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},V6)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},M6,8,j6),(0,s._)("div",N6,[(0,s._)("select",{onChange:e[4]||(e[4]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Z6,40,H6),K6])]),(0,s._)("div",B6,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[5]||(e[5]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[6]||(e[6]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Q6),(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,rt.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",J6,[(0,s.Wm)(n,{onFilter:e[8]||(e[8]=e=>t.$emit("filter")),onClear:e[9]||(e[9]=e=>t.$emit("clear")),filters:r.filters,onUpdate:e[10]||(e[10]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",G6,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const t7={class:"tw-mb-4"},e7={class:"tw-grid tw-grid-cols-12 tw-gap-4"},r7={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},a7={class:"tw-flex tw-items-center tw-justify-between"},s7={class:"tw-text-xl tw-font-bold tw-text-gray-900"},o7={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function l7(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",t7,[(0,s._)("div",e7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",r7,[(0,s._)("p",{class:(0,rt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,rt.zw)(t.name),3),(0,s._)("div",a7,[(0,s._)("span",s7,(0,rt.zw)(t.total),1),(0,s._)("span",o7,(0,rt.zw)(t.percent)+"%",1)])])])))),128))])])}var i7={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return Pd.find((e=>e.value==t))}}};const n7=(0,p.Z)(i7,[["render",l7]]);var w7=n7;const d7={class:"tw-mb-4"},c7={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},u7={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},p7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),m7=["value"],g7={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},h7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),f7=["value"],b7={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},x7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),y7=["value"],v7={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},_7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),k7=["value"],C7=(0,s._)("option",{value:"all",selected:""},"All",-1),D7=["value"],S7=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),z7=(0,s._)("span",null,"Clear",-1),U7=[S7,z7],P7=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1);function L7(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",d7,[(0,s._)("div",c7,[(0,s._)("div",u7,[p7,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,m7)]),(0,s._)("div",g7,[h7,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,f7)]),(0,s._)("div",b7,[x7,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,y7)]),(0,s._)("div",v7,[_7,(0,s._)("select",{value:r.filters.confirmation,onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[C7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,D7)))),128))],40,k7)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end gap-2"},[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},U7),P7])])])}var q7={props:{filters:{required:!0,default:{}}},data(){return{confirmations:Pd,deliveryStatus:$d,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const A7=(0,p.Z)(q7,[["render",L7]]);var $7=A7,W7={components:{IndexStatistics:w7,FiltersWrapper:$7},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}},methods:{showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")}}};const E7=(0,p.Z)(W7,[["render",X6]]);var T7=E7,F7={components:{IndexTable:E8,IndexFilters:T7,CreatePopup:L6},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null,reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,T.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null,reported_first:!1}},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const O7=(0,p.Z)(F7,[["render",k2]]);var I7=O7;const V7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},j7={class:"tw-px-3 tw-h-fit"},R7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},M7=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),N7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},H7=["disabled"],Y7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Z7=(0,s._)("span",null,"Get Order",-1),K7=[Y7,Z7],B7={key:0,class:"tw-p-5"},Q7={key:1,class:"tw-mt-5 tw-space-y-5"},J7={class:"tw-flex tw-items-center tw-justify-end"},G7={key:2},X7=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),t9=[X7];function e9(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",V7,[(0,s._)("section",j7,[(0,s._)("div",R7,[M7,(0,s._)("div",N7,[(0,s._)("button",{disabled:o.fetching,onClick:e[0]||(e[0]=(...t)=>l.getOrder&&l.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},K7,8,H7)])]),o.fetching?((0,s.wg)(),(0,s.iD)("div",B7,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!o.fetching&&o.order_exists?((0,s.wg)(),(0,s.iD)("div",Q7,[(0,s.Wm)(n,{order:o.order,onUpdate:e[1]||(e[1]=t=>o.order=t)},null,8,["order"]),o.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>o.doubles=o.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",J7,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.save&&l.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),o.fetching||o.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",G7,t9))])])}const r9=t=>{t.fetching=!0,T.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},a9=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),s9=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,T.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},o9={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},l9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),i9={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},n9={class:"tw-text-xl tw-font-bold tw-text-gray-600"},w9=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),d9={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},c9={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},u9={class:"tw-space-y-2 tw-px-5"},p9=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),m9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},g9={class:"tw-space-y-2 tw-px-5"},h9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),f9={class:"tw-flex tw-items-center tw-gap-2"},b9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},x9={class:"tw-space-y-2 tw-px-5"},y9=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),v9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},_9={class:"tw-space-y-2 tw-px-5"},k9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),C9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},D9={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},S9={class:""},z9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),U9={class:"tw-p-3 tw-pl-10 tw-space-y-2"},P9={class:"tw-font-bold tw-text-green-500"},L9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},q9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},A9={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},$9={key:0};function W9(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",o9,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[l9,(0,s.Uk)(" Edit ")]),(0,s._)("div",i9,[(0,s._)("span",n9,[w9,(0,s.Uk)(" ID: "+(0,rt.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,rt.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,rt.zw)(l.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",d9,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",c9,[(0,s._)("div",u9,[p9,(0,s._)("span",m9,(0,rt.zw)(r.order.fullname),1)]),(0,s._)("div",g9,[h9,(0,s._)("div",f9,[(0,s._)("span",b9,(0,rt.zw)(r.order.phone),1),(0,s.Wm)(at.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",x9,[y9,(0,s._)("span",v9,(0,rt.zw)(r.order.city),1)]),(0,s._)("div",_9,[k9,(0,s._)("span",C9,(0,rt.zw)(r.order.adresse),1)])]),(0,s._)("div",D9,[(0,s._)("div",S9,[z9,(0,s._)("ul",U9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",P9,(0,rt.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,rt.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",L9,(0,rt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",q9,(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",A9,[(0,s._)("span",null,(0,rt.zw)(o.currency),1),(0,s._)("span",null,(0,rt.zw)(l.price),1)])])])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",$9,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var E9={components:{UpdatePopup:S8},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return sl(this.order)},confirmation(){return Pd.find((t=>t.value==this.order.confirmation))}}};const T9=(0,p.Z)(E9,[["render",W9]]);var F9=T9,O9={components:{OrderCard:F9},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){r9(this)},getOrder(){s9(this)},save(){a9(this)}},mounted(){this.toConfirm()}};const I9=(0,p.Z)(O9,[["render",e9]]);var V9=I9;const j9={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},R9={class:"tw-px-3"},M9={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},N9={class:"tw-flex tw-items-center tw-gap-x-3"},H9=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Y9={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Z9=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function K9(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",j9,[(0,s._)("section",R9,[(0,s._)("div",M9,[(0,s._)("div",null,[(0,s._)("div",N9,[H9,(0,s._)("span",Y9,(0,rt.zw)(o.totalOrders)+" order",1)]),Z9]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,onClear:l.handleClearFilters,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","onClear","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var B9={components:{IndexTable:E8,IndexFilters:T7},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null}}},methods:{async paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,T.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null},this.handlePageChange(1)},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Q9=(0,p.Z)(B9,[["render",K9]]);var J9=Q9,G9={name:"orders",path:"/agent/orders",component:fa,meta:{module:"order"},children:[{name:"order/list",path:"",component:I7,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:V9,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:J9,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const X9=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),ttt={key:0},ett={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},rtt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},att={key:1},stt={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},ott=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),ltt=["src"];function itt(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[X9,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ttt,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ett,[l.orders.length>0?((0,s.wg)(),(0,s.iD)("div",rtt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",att,[(0,s._)("div",stt,[ott,(0,s._)("img",{src:o.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,ltt)])]))])):(0,s.kq)("",!0)])}var ntt=r(9875),wtt=r(1888),dtt=r(1334);const ctt={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},utt={class:"tw-w-full tw-whitespace-normal"},ptt=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),mtt={class:"tw-flex tw-items-center"},gtt={key:0},htt={key:1},ftt={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},btt=(0,s._)("span",{class:"tw-text-sm"},"x",-1),xtt={key:0},ytt={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},vtt=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),_tt={class:"tw-flex tw-items-center tw-text-gray-500"},ktt={class:"tw-flex tw-items-center tw-text-gray-500"};function Ctt(t,e,r,a,o,l){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(cs._,{class:(0,rt.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,rt.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[l.delivery?.bg,l.delivery?.text]])},(0,rt.zw)(r.order.delivery),3),(0,s.Wm)(ntt._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",ctt,(0,rt.zw)(r.order.city),1),(0,s._)("p",utt,(0,rt.zw)(r.order.adresse),1)]),ptt])),_:1}),(0,s.Wm)(wtt.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,rt.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(va.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",mtt,[(0,s._)("span",null,[(0,s.Uk)((0,rt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",gtt,"| "+(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",htt,"| "+(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",ftt,[btt,(0,s.Uk)(" "+(0,rt.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(va.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(l.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Wt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",xtt,[r.order.note?((0,s.wg)(),(0,s.iD)("div",ytt,[vtt,(0,s._)("p",null,(0,rt.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(Me.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",_tt,[(0,s.Wm)(ot.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,rt.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",ktt,[(0,s.Wm)(ot.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,rt.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Xt.J),(0,s.Wm)(dtt.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(at.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(Ke.C),r.order.phone?((0,s.wg)(),(0,s.j4)(at.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(at.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(at.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const Dtt={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},Stt={class:"tw-px-5 tw-pt-5"},ztt=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),Utt={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},Ptt=["disabled","onClick"],Ltt={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},qtt=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),Att=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function $tt(t,e,r,a,o,l){const i=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:l.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Dtt,[(0,s._)("div",Stt,[ztt,(0,s._)("div",Utt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:l.isDisabled(e),onClick:t=>l.handleChange(e),key:e.value,class:(0,rt.C_)([[l.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,rt.zw)(e.name),11,Ptt)))),128))])]),(0,s._)("div",Ltt,[(0,s.Wm)(at.T,{onClick:l.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[qtt])),_:1},8,["onClick"]),(0,s.Wm)(at.T,{onClick:l.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[Att])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:l.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const Wtt={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Ett=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Ttt=(0,s._)("br",null,null,-1),Ftt=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Ott={class:"tw-flex tw-justify-end tw-mt-2"};function Itt(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Wtt,[Ett,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),Ttt,Ftt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Ott,[(0,s.Wm)(at.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Vtt={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ma.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const jtt=(0,p.Z)(Vtt,[["render",Itt]]);var Rtt=jtt,Mtt={props:["visible","order"],components:{OrderReporting:Rtt},data:()=>({status:$d,disabled:Wd,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ma.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const Ntt=(0,p.Z)(Mtt,[["render",$tt]]);var Htt=Ntt,Ytt={components:{OrderCardDelivery:Htt},props:["order"],data:()=>({deliveryStatus:$d,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return sl(t)}}};const Ztt=(0,p.Z)(Ytt,[["render",Ctt]]);var Ktt=Ztt,Btt={components:{OrderCard:Ktt},data(){return{localUrl:n,deliveryStatus:$d,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ma.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Qtt=(0,p.Z)(Btt,[["render",itt]]);var Jtt=Qtt;const Gtt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Xtt={key:0},tet={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},eet={class:"mb-5 tw-flex"},ret={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},aet={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},set={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},oet=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),iet={class:"tw-relative"},net=["value"],wet={key:0,class:""},det={key:1},cet=(0,s._)("p",null,"No orders for now",-1),uet=[cet];function pet(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[Gtt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xtt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",tet,[(0,s._)("div",eet,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",ret,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",aet,[(0,s._)("div",set,[oet,(0,s._)("div",iet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,rt.zw)(t.name),9,net)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",wet,[(0,s.Wm)(w,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",det,uet))])):(0,s.kq)("",!0)])}const met={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},get={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},het={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},fet=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),bet={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},xet={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},yet={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},vet=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),_et=["value"],ket={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Cet={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Det={class:"tw-text-white"};function zet(t,e,r,o,l,i){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",met,[(0,s._)("table",get,[(0,s._)("thead",het,[(0,s._)("tr",null,[fet,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",bet,(0,rt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",xet,[(0,s._)("div",yet,[vet,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,_et)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",ket,[(0,s._)("div",Cet,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,rt.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Det,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Uet=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Pet={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Let={class:"tw-px-6 tw-py-4 tw-relative"},qet={key:0},Aet={class:"tw-px-6 tw-py-4"},$et={class:"tw-px-6 tw-py-4"},Wet={class:"tw-px-6 tw-py-4"},Eet={class:"tw-px-6 tw-py-4"},Tet={class:"tw-pb-2"},Fet={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Oet={key:0},Iet={key:1},Vet={class:"tw-px-6 tw-py-4 tw-relative"},jet={class:"tw-flex tw-items-center tw-justify-center"},Ret={class:"tw-flex tw-gap-1"},Met={key:0},Net={class:"tw-px-6 tw-py-4"},Het={class:"tw-px-6 tw-py-4"},Yet={class:"tw-px-6 tw-py-4"},Zet={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},Ket={class:"tw-px-6 tw-py-4"};function Bet(t,e,r,a,o,l){const i=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,rt.C_)([["reporter"==r.order.delivery&&"tw-relative",l.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[Uet,(0,s._)("th",Pet,(0,rt.zw)(r.order.id),1),(0,s._)("td",Let,[(0,s.Uk)((0,rt.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([l.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[l.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",qet," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",Aet,(0,rt.zw)(r.order.fullname),1),(0,s._)("td",$et,(0,rt.zw)(r.order.adresse),1),(0,s._)("td",Wet,(0,rt.zw)(r.order.phone),1),(0,s._)("td",Eet,[(0,s._)("div",Tet,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",Fet,(0,rt.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,rt.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Oet,"| "+(0,rt.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Iet,"| "+(0,rt.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Vet,[(0,s._)("div",jet,[((0,s.wg)(),(0,s.j4)(i,{class:(0,rt.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([l.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Ret,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",Met,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,rt.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Net,(0,rt.zw)(l.getPrice(r.order)),1),(0,s._)("td",Het,(0,rt.zw)(r.order.city),1),(0,s._)("td",Yet,[(0,s._)("div",Zet,(0,rt.zw)(r.order.note),1)]),(0,s._)("td",Ket,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const Qet={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Jet={key:1},Get={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Xet=["onClick"];function trt(t,e,r,a,o,l){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",Qet,(0,rt.zw)(l.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Jet,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,rt.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,rt.zw)(l.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,rt.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Get,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!o.disabled.includes(t.value)&&l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,rt.C_)(["tw-block tw-px-4 tw-py-2",[o.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,rt.zw)(t.name),3)],8,Xet)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[ee.L,l.close]])}var ert={props:["delivery","id","order"],components:{OrderReporting:Rtt},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:$d,disabled:Wd,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ma.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const rrt=(0,p.Z)(ert,[["render",trt]]);var art=rrt;const srt={key:0};function ort(t,e,r,a,o,l){return o.newOrder?((0,s.wg)(),(0,s.iD)("div",srt,[(0,s.Wm)(at.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var lrt={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const irt=(0,p.Z)(lrt,[["render",ort]]);var nrt=irt,wrt={props:["order","showNote"],components:{OrderDelivery:art,OrderActions:nrt},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return sl(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const drt=(0,p.Z)(wrt,[["render",Bet]]);var crt=drt,urt={props:["orders"],components:{OrderRow:crt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const prt=(0,p.Z)(urt,[["render",zet]]);var mrt=prt,grt={components:{OrdersTable:mrt},data(){return{localUrl:n,deliveryStatus:$d,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ma.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const hrt=(0,p.Z)(grt,[["render",pet]]);var frt=hrt,brt={name:"deliveries",path:"/deliveries",component:fa,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Jtt,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:frt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const xrt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),yrt={key:0},vrt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_rt={class:"mb-5 tw-flex"},krt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Crt={key:0,class:""};function Drt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[xrt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yrt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",vrt,[(0,s._)("div",_rt,[(0,s.Wm)(at.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",krt,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",Crt,[(0,s.Wm)(w,{columns:l.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class Srt{async inventoryStates(){return await W.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await W.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await W.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await W.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await W.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await W.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await W.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var zrt=new Srt;const Urt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Prt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Lrt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},qrt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Art={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},$rt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Wrt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Ert={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},Trt={class:"tw-px-6 tw-py-4"},Frt={class:"tw-px-6 tw-py-4"},Ort={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},Irt={class:"tw-px-6 tw-py-4"},Vrt={class:"tw-px-6 tw-py-4"},jrt=(0,s._)("br",null,null,-1),Rrt={class:"tw-px-6 tw-py-4"},Mrt={class:"mt-5 tw-flex tw-justify-between"},Nrt={class:"d-flex align-center"},Hrt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),Yrt={class:"d-flex align-center"},Zrt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Krt={class:"tw-text-white"};function Brt(t,e,r,a,o,l){const i=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Urt,[(0,s._)("table",Prt,[(0,s._)("thead",Lrt,[(0,s._)("tr",null,[qrt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Art,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[$rt,(0,s._)("th",Wrt,(0,rt.zw)(t.id),1),(0,s._)("td",Ert,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Trt,(0,rt.zw)(t.buying_price)+" DH ",1),(0,s._)("td",Frt,(0,rt.zw)(t.selling_price)+" DH ",1),(0,s._)("td",Ort,(0,rt.zw)(l.availableQuantity(t)),1),(0,s._)("td",Irt,(0,rt.zw)(t.total_quantity),1),(0,s._)("td",Vrt,[(0,s.Uk)((0,rt.zw)(t.updated_at?.split("T")[0])+" ",1),jrt,(0,s.Uk)(" "+(0,rt.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Rrt,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",Mrt,[(0,s._)("div",Nrt,[Hrt,(0,s.Wm)(pf.r,{"hide-details":!0,modelValue:o.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),items:o.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",Yrt,[(0,s._)("div",Zrt,(0,rt.zw)(l.prevRange+1)+" - "+(0,rt.zw)(o.currentPage==l.pageCount?r.states.length:l.nextRange)+" of "+(0,rt.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Krt,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Qrt(t,e,r,a,o,l){const i=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[2]||(e[2]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>o.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Jrt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Grt={class:"tw-p-5"},Xrt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},tat=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),eat={class:"tw-w-4 tw-p-4"},rat={class:"tw-w-4 tw-p-4"},aat={class:"tw-w-4 tw-p-4"},sat={class:"tw-w-4 tw-p-4"},oat={class:"tw-flex tw-items-center tw-gap-1"},lat={class:"tw-text-green-500"},iat={key:0},nat={class:"tw-text-red-400"},wat=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function dat(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Jrt,[(0,s.Wm)(at.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Grt,[(0,s._)("table",Xrt,[tat,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",eat,(0,rt.zw)(t.id),1),(0,s._)("td",rat,(0,rt.zw)(t.size),1),(0,s._)("td",aat,(0,rt.zw)(t.color),1),(0,s._)("td",sat,[(0,s._)("div",oat,[(0,s._)("span",lat,(0,rt.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,rt.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",iat,[(0,s.Uk)(" / "),(0,s._)("span",nat,(0,rt.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),wat])])}var cat={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const uat=(0,p.Z)(cat,[["render",dat]]);var pat=uat,mat={props:["rowIndex","state"],components:{InventoryStateDetails:pat},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const gat=(0,p.Z)(mat,[["render",Qrt]]);var hat=gat,fat={props:["columns","states"],components:{InventoryStateActions:hat},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const bat=(0,p.Z)(fat,[["render",Brt]]);var xat=bat,yat={components:{InventoryStateTable:xat},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await zrt.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const vat=(0,p.Z)(yat,[["render",Drt]]);var _at=vat;const kat=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),Cat={key:0},Dat={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Sat={class:"tw-w-full"},zat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Uat={class:"tw-relative"},Pat=["disabled"],Lat=["value"],qat={class:"tw-w-full"},Aat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),$at={class:"tw-relative"},Wat=["disabled"],Eat=["value"],Tat={class:"tw-w-full"},Fat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Oat={class:"tw-relative"},Iat=["value"],Vat={class:"tw-w-full"},jat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Rat={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Mat=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Nat={class:"tw-max-w-full"},Hat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Yat=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Zat={class:"tw-w-4 tw-p-4"},Kat={class:"tw-w-4 tw-p-4"},Bat={class:"tw-w-4 tw-p-4"},Qat={class:"tw-w-4 tw-p-4"},Jat={class:"tw-w-4 tw-p-4"},Gat={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Xat={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},tst=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),est=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function rst(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kat,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cat,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dat,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Sat,[zat,(0,s._)("div",Uat,[(0,s.wy)((0,s._)("select",{disabled:l.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>l.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.firstname+" "+t.lastname),9,Lat)))),128))],8,Pat),[[a.bM,l.delivery]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qat,[Aat,(0,s._)("div",$at,[(0,s.wy)((0,s._)("select",{disabled:l.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,Eat)))),128))],8,Wat),[[a.bM,l.product]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Tat,[Fat,(0,s._)("div",Oat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,Iat)))),128))],512),[[a.bM,l.variation]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Vat,[jat,(0,s._)("div",null,[(0,s.Wm)(lt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Rat,[(0,s.Wm)(at.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mat])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Nat,[(0,s._)("table",Hat,[Yat,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Zat,(0,rt.zw)(t.id),1),(0,s._)("td",Kat,(0,rt.zw)(t.size),1),(0,s._)("td",Bat,(0,rt.zw)(t.color),1),(0,s._)("td",Qat,(0,rt.zw)(t.quantity),1),(0,s._)("td",Jat,[(0,s._)("div",Gat,[(0,s.Wm)(at.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Xat,[(0,s.Wm)(at.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tst])),_:1}),(0,s.Wm)(at.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[est])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var ast={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,zrt.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await tt.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return zrt.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const sst=(0,p.Z)(ast,[["render",rst]]);var ost=sst;const lst=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),ist={key:0},nst={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},wst={class:"tw-w-full"},dst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),cst={class:"tw-relative"},ust=["value"],pst={class:"tw-w-full"},mst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),gst={class:"tw-relative"},hst=["value"],fst={class:"tw-w-full"},bst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),xst={class:"tw-w-full tw-h-full tw-flex tw-items-end"},yst=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),vst={class:"tw-max-w-full"},_st={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kst=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Cst={class:"tw-w-4 tw-p-4"},Dst={class:"tw-w-4 tw-p-4"},Sst={class:"tw-w-4 tw-p-4"},zst={class:"tw-w-4 tw-p-4"},Ust={class:"tw-w-4 tw-p-4"},Pst={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Lst={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},qst=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ast=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function $st(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[lst,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ist,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",nst,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",wst,[dst,(0,s._)("div",cst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.firstname+" "+t.lastname),9,ust)))),128))],512),[[a.bM,l.delivery]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",pst,[mst,(0,s._)("div",gst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.color+" / "+t.size+" / "+t.quantity),9,hst)))),128))],512),[[a.bM,l.variation]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",fst,[bst,(0,s._)("div",null,[(0,s.Wm)(lt.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>l.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",xst,[(0,s.Wm)(at.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yst])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(va.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",vst,[(0,s._)("table",_st,[kst,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Cst,(0,rt.zw)(t.id),1),(0,s._)("td",Dst,(0,rt.zw)(t.size),1),(0,s._)("td",Sst,(0,rt.zw)(t.color),1),(0,s._)("td",zst,(0,rt.zw)(t.quantity),1),(0,s._)("td",Ust,[(0,s._)("div",Pst,[(0,s.Wm)(at.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Lst,[(0,s.Wm)(at.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[qst])),_:1}),(0,s.Wm)(at.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ast])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Wst={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,zrt.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await tt.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ua.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return zrt.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const Est=(0,p.Z)(Wst,[["render",$st]]);var Tst=Est;const Fst=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Ost={key:0},Ist={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Vst={class:"mb-5 tw-flex"},jst={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Rst={key:0,class:""};function Mst(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[Fst,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ost,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ist,[(0,s._)("div",Vst,[(0,s.Wm)(at.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",jst,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Rst,[(0,s.Wm)(w,{columns:l.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const Nst={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Hst={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Yst={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Zst=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Kst={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Bst=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Qst={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Jst={class:"tw-px-6 tw-py-4"},Gst=(0,s._)("br",null,null,-1),Xst={class:"tw-px-6 tw-py-4"},tot={class:"tw-px-6 tw-py-4"},eot={class:"tw-px-6 tw-py-4"},rot={class:"tw-px-6 tw-py-4"},aot={class:"tw-px-6 tw-py-4"},sot={class:"tw-w-[200px] !tw-whitespace-normal"},oot={class:"tw-px-6 tw-py-4"},lot={class:"tw-px-6 tw-py-4"},iot={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},not={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},wot=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),dot=["value"],cot={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},uot={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},pot={class:"tw-text-white"};function mot(t,e,r,o,l,i){const n=(0,s.up)("router-link"),w=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Nst,[(0,s._)("table",Hst,[(0,s._)("thead",Yst,[(0,s._)("tr",null,[Zst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Kst,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Bst,(0,s._)("th",Qst,(0,rt.zw)(t.id),1),(0,s._)("td",Jst,[(0,s.Uk)((0,rt.zw)(t.created_at?.split("T")[0])+" ",1),Gst,(0,s.Uk)(" "+(0,rt.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Xst,(0,rt.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",tot,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",eot,(0,rt.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",rot,[(0,s._)("div",{class:(0,rt.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,rt.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",aot,[(0,s._)("div",sot,(0,rt.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",oot,(0,rt.zw)(t.delivery.city?.name),1),(0,s._)("td",lot,[(0,s.Wm)(w,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",iot,[(0,s._)("div",not,[wot,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,dot)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",cot,[(0,s._)("div",uot,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,rt.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",pot,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const got={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},hot=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),fot={class:"mt-3"},bot=(0,s._)("h2",{class:"mb-2"},"Received",-1),xot={class:"tw-mt-3"},yot=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),vot={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},_ot=(0,s._)("span",{class:"text-white"}," Cancel ",-1),kot=(0,s._)("span",{class:"text-white"}," Update ",-1);function Cot(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:e[0]||(e[0]=t=>l.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(at.T,{key:2,onClick:e[1]||(e[1]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(at.T,{key:3,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:l.confirmPopup,onCancel:e[6]||(e[6]=t=>l.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",got,[hot,(0,s._)("div",fot,[bot,(0,s.Wm)(Zi.G,{density:"compact","hide-details":!0,modelValue:l.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>l.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",xot,[yot,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,l.note]])]),(0,s._)("div",vot,[(0,s.Wm)(at.T,{onClick:e[5]||(e[5]=t=>l.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[_ot])),_:1}),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[kot])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:l.detailsPopup,onCancel:e[8]||(e[8]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(w,{key:0,onCancel:e[7]||(e[7]=t=>l.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const Dot={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Sot={class:"tw-p-5"},zot={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Uot=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Pot={class:"tw-w-4 tw-p-4"},Lot={class:"tw-w-4 tw-p-4"},qot={class:"tw-w-4 tw-p-4"},Aot={class:"tw-w-4 tw-p-4"};function $ot(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Dot,[(0,s.Wm)(at.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Sot,[(0,s._)("table",zot,[Uot,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Pot,(0,rt.zw)(t.id),1),(0,s._)("td",Lot,(0,rt.zw)(t.product_variation.size),1),(0,s._)("td",qot,(0,rt.zw)(t.product_variation.color),1),(0,s._)("td",Aot,(0,rt.zw)(t.quantity),1)])))),128))])])])])}var Wot={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Eot=(0,p.Z)(Wot,[["render",$ot]]);var Tot=Eot,Fot={props:["rowIndex","movement"],components:{MovementDetails:Tot},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,zrt["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,zrt.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){zrt.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const Oot=(0,p.Z)(Fot,[["render",Cot]]);var Iot=Oot,Vot={props:["columns","movements"],components:{InventoryMovementsActions:Iot},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const jot=(0,p.Z)(Vot,[["render",mot]]);var Rot=jot,Mot={components:{InventoryMovementsTable:Rot},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await zrt.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const Not=(0,p.Z)(Mot,[["render",Mst]]);var Hot=Not,Yot={name:"inventory/list",path:"/inventories",component:fa,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:_at,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:Hot,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:ost,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:Tst,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]};const Zot={class:"py-5 px-2 tw-border tw-h-[calc(100vh-135px)] tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Kot={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-h-full"},Bot={class:"lg:tw-col-span-8 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},Qot=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),Jot=(0,s._)("div",{class:"tw-flex tw-items-center tw-py-5"},[(0,s._)("hr",{class:"tw-flex-grow tw-border-t tw-border-gray-600 tw-w-[60px]"}),(0,s._)("span",{class:"tw-px-3 tw-text-gray-500"}," Or enter the code manually "),(0,s._)("hr",{class:"tw-flex-grow tw-border-t tw-border-gray-600 tw-w-[60px]"})],-1),Got={class:"tw-grid tw-grid-cols-8 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},Xot=(0,s._)("input",{id:"code",type:"text",class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,-1),tlt={id:"success-message",class:"tw-inline-flex tw-items-center"},elt=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),rlt=(0,s._)("div",{class:"tw-bg-orange-400 tw-rounded-xl lg:tw-col-span-4 tw-flex tw-items-center tw-justify-center"},null,-1);var alt={__name:"ScannerView",setup(t){const e=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)};return(t,r)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Zot,[(0,s._)("div",Kot,[(0,s._)("div",Bot,[Qot,(0,s.Wm)(a,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"mage:qr-code"}),Jot,(0,s._)("div",Got,[Xot,(0,s._)("button",{onClick:e,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",tlt,[(0,s.Wm)(a,{icon:"mdi:content-copy"})])])]),elt]),rlt])])}}};const slt=alt;var olt=slt,llt={name:"scanner",path:"/scanner",component:fa,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:olt,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",role:"admin"}}]};const ilt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},nlt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),wlt={key:0},dlt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),clt={key:0},ult={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},plt={class:"mb-5 tw-flex"},mlt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},glt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},hlt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},flt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),blt={class:"tw-relative"},xlt={class:""};function ylt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",ilt,[nlt,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",wlt,[(0,s.Wm)(at.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),dlt])),_:1})])):(0,s.kq)("",!0)]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",clt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ult,[(0,s._)("div",plt,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",mlt,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",glt,[(0,s._)("div",hlt,[flt,(0,s._)("div",blt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",xlt,[(0,s.Wm)(w,{columns:l.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class vlt{async create(t){return await W.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await W.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await W.getCookie(),A.get("api/shops")}async getShop(t){return await W.getCookie(),A.get("api/shops/"+t)}async delete(t){return await W.getCookie(),A["delete"]("api/shops/delete/"+t)}}var _lt=new vlt;const klt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Clt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Dlt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Slt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),zlt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Ult=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Plt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Llt={class:"tw-px-6 tw-py-4"},qlt={class:"tw-px-6 tw-py-4"},Alt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},$lt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Wlt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Elt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Tlt=["value"],Flt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Olt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Ilt={class:"tw-text-white"};function Vlt(t,e,r,o,l,i){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",klt,[(0,s._)("table",Clt,[(0,s._)("thead",Dlt,[(0,s._)("tr",null,[Slt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",zlt,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Ult,(0,s._)("th",Plt,(0,rt.zw)(t.id),1),(0,s._)("td",Llt,(0,rt.zw)(t.name),1),(0,s._)("td",qlt,(0,rt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Alt,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",$lt,[(0,s._)("div",Wlt,[Elt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,Tlt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",Flt,[(0,s._)("div",Olt,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,rt.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Ilt,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const jlt={class:"tw-flex tw-items-center tw-gap-1"};function Rlt(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",jlt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(at.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var Mlt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,_lt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),_lt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Nlt=(0,p.Z)(Mlt,[["render",Rlt]]);var Hlt=Nlt,Ylt={props:["columns","shops"],components:{ShopActions:Hlt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Zlt=(0,p.Z)(Ylt,[["render",Vlt]]);var Klt=Zlt,Blt={components:{ShopsTable:Klt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){_lt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Qlt=(0,p.Z)(Blt,[["render",ylt]]);var Jlt=Qlt;const Glt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Xlt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},tit={class:"tw-w-full"},eit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),rit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ait={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},sit=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),oit=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function lit(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[Glt,(0,s._)("div",Xlt,[(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",tit,[eit,(0,s.Wm)(lt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rit,(0,rt.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",ait,[(0,s.Wm)(at.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[sit])),_:1}),(0,s.Wm)(at.T,{onClick:l.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[oit])),_:1},8,["onClick","loading"])])])])}var iit={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;_lt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const nit=(0,p.Z)(iit,[["render",lit]]);var wit=nit;const dit=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),cit={key:0},uit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},pit={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},mit={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},git={class:"tw-w-full"},hit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),fit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bit={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},xit=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),yit=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function vit(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[dit,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cit,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",uit,[(0,s._)("div",pit,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",mit,(0,rt.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ya.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(va.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",git,[hit,(0,s.Wm)(lt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fit,(0,rt.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",bit,[(0,s.Wm)(at.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[xit])),_:1}),(0,s.Wm)(at.T,{onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yit])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var _it={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;_lt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){_lt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const kit=(0,p.Z)(_it,[["render",vit]]);var Cit=kit,Dit={name:"shops",path:"/shops",component:fa,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:Jlt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:wit,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:Cit,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const Sit={class:"mb-5 tw-flex tw-justify-between tw-items-center"},zit=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),Uit={key:0},Pit=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),Lit={key:0},qit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ait={class:"mb-5 tw-flex"},$it={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Wit={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Eit={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Tit=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Fit={class:"tw-relative"},Oit={class:""};function Iit(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",Sit,[zit,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",Uit,[(0,s.Wm)(at.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Pit])),_:1})])):(0,s.kq)("",!0)]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lit,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",qit,[(0,s._)("div",Ait,[(0,s.Wm)(at.T,{onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",$it,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Wit,[(0,s._)("div",Eit,[Tit,(0,s._)("div",Fit,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Oit,[(0,s.Wm)(w,{columns:l.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>l.showPopup=!1),visible:l.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Vit={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},jit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Rit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Mit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Nit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Hit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Yit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Zit={class:"tw-px-6 tw-py-4"},Kit={class:"tw-px-6 tw-py-4"},Bit={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Qit={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Jit={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Git=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Xit=["value"],tnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},ent={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},rnt={class:"tw-text-white"};function ant(t,e,r,o,l,i){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vit,[(0,s._)("table",jit,[(0,s._)("thead",Rit,[(0,s._)("tr",null,[Mit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Nit,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Hit,(0,s._)("th",Yit,(0,rt.zw)(t.id),1),(0,s._)("td",Zit,(0,rt.zw)(t.name),1),(0,s._)("td",Kit,(0,rt.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Bit,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",Qit,[(0,s._)("div",Jit,[Git,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,Xit)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",tnt,[(0,s._)("div",ent,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,rt.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",rnt,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const snt={class:"tw-flex tw-items-center tw-gap-1"};function ont(t,e,r,a,o,l){const i=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",snt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(at.T,{key:1,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:o.showUpdatePopup,onCancel:e[2]||(e[2]=t=>o.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const lnt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},int=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),nnt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},wnt={class:"tw-w-full tw-col-span-12"},dnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),cnt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},unt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},pnt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mnt=(0,s._)("span",{class:"text-white"}," Update ",-1);function gnt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lnt,[int,(0,s._)("div",nnt,[(0,s._)("div",wnt,[dnt,(0,s.Wm)(lt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cnt,(0,rt.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",unt,[(0,s.Wm)(at.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pnt])),_:1}),(0,s.Wm)(at.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mnt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var hnt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,xx.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const fnt=(0,p.Z)(hnt,[["render",gnt]]);var bnt=fnt,xnt={components:{UpdateWarehouse:bnt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,xx["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const ynt=(0,p.Z)(xnt,[["render",ont]]);var vnt=ynt,_nt={props:["columns","warehouses"],components:{WarehouseActions:vnt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const knt=(0,p.Z)(_nt,[["render",ant]]);var Cnt=knt;const Dnt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Snt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),znt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Unt={class:"tw-w-full tw-col-span-12"},Pnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Lnt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qnt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Ant=(0,s._)("span",{class:"text-white"}," Cancel ",-1),$nt=(0,s._)("span",{class:"text-white"}," Create ",-1);function Wnt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Dnt,[Snt,(0,s._)("div",znt,[(0,s._)("div",Unt,[Pnt,(0,s.Wm)(lt.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lnt,(0,rt.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",qnt,[(0,s.Wm)(at.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ant])),_:1}),(0,s.Wm)(at.T,{loading:o.isLoading,onClick:l.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$nt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Ent={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;xx.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Ut(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const Tnt=(0,p.Z)(Ent,[["render",Wnt]]);var Fnt=Tnt,Ont={components:{WarehousesTable:Cnt,AddWarehouse:Fnt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){xx.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Int=(0,p.Z)(Ont,[["render",Iit]]);var Vnt=Int,jnt={name:"warehouses",path:"/warehouses",component:fa,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:Vnt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const Rnt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Mnt={key:0},Nnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Hnt={class:"mb-5 tw-flex"},Ynt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Znt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Knt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Bnt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Qnt={class:"tw-relative"},Jnt={class:""};function Gnt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[Rnt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mnt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Nnt,[(0,s._)("div",Hnt,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Ynt,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Znt,[(0,s._)("div",Knt,[Bnt,(0,s._)("div",Qnt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Jnt,[(0,s.Wm)(w,{columns:l.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}class Xnt{async update(t,e){return await W.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await W.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await W.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await W.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await W.getCookie(),A.post("api/factorisations/update/fees/"+t,{fees:e})}async delete(t){return await W.getCookie(),A["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await W.getCookie(),A.post("api/v1/factorisation"+t,e)}}var twt=new Xnt;const ewt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},rwt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},awt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},swt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),owt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},lwt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},iwt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},nwt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),wwt=["value"],dwt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},cwt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},uwt={class:"tw-text-white"};function pwt(t,e,r,o,l,i){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ewt,[(0,s._)("table",rwt,[(0,s._)("thead",awt,[(0,s._)("tr",null,[swt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",owt,(0,rt.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",lwt,[(0,s._)("div",iwt,[nwt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,wwt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",dwt,[(0,s._)("div",cwt,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,rt.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",uwt,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const mwt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},gwt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),hwt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},fwt={class:"tw-px-6 tw-py-4"},bwt={class:"tw-px-6 tw-py-4"},xwt={class:"tw-px-6 tw-py-4"},ywt={class:"tw-px-6 tw-py-4"},vwt={class:"tw-px-6 tw-py-4"},_wt={class:"tw-px-6 tw-py-4"},kwt={class:"tw-px-6 tw-py-4"},Cwt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Dwt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Swt=["disabled"],zwt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Uwt={class:"tw-px-6 tw-py-4"},Pwt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Lwt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},qwt=["disabled"],Awt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),$wt={class:"tw-px-6 tw-py-4"},Wwt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Ewt(t,e,r,o,l,i){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",mwt,[gwt,(0,s._)("th",hwt,(0,rt.zw)(r.factorisation.id),1),(0,s._)("td",fwt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,rt.zw)(r.factorisation.factorisation_id),1)]),(0,s._)("td",bwt,(0,rt.zw)(i.deliveryName),1),(0,s._)("td",xwt,(0,rt.zw)(r.factorisation.commands_number),1),(0,s._)("td",ywt,(0,rt.zw)(r.factorisation.price),1),(0,s._)("td",vwt,(0,rt.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",_wt,(0,rt.zw)(r.factorisation.paid_at?.split("T")[0]),1),(0,s._)("td",kwt,[(0,s._)("div",Cwt,[(0,s._)("label",Dwt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Swt),[[a.e8,i.close]]),zwt]),l.isLoadingClose?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Uwt,[(0,s._)("div",Pwt,[(0,s._)("label",Lwt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,qwt),[[a.e8,i.paid]]),Awt]),l.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",$wt,(0,rt.zw)(r.factorisation.created_at.split("T")[0]),1),(0,s._)("td",Wwt,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])])}const Twt={class:"tw-flex tw-items-center tw-gap-1"};function Fwt(t,e,r,a,o,l){const i=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Twt,[(0,s.Wm)(at.T,{href:o.serverUrl+"api/export/factorisations/"+r.factorisation.factorisation_id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(at.T,{key:1,onClick:e[1]||(e[1]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(at.T,{key:2,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:o.showUpdatePopup,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:o.showUpdateCommentPopup,onCancel:e[4]||(e[4]=t=>o.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const Owt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Iwt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Vwt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},jwt={class:"tw-w-full tw-col-span-6"},Rwt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Mwt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nwt={class:"tw-w-full tw-col-span-6"},Hwt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Ywt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zwt={class:"tw-w-full tw-col-span-6"},Kwt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Bwt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qwt={class:"tw-w-full tw-col-span-6"},Jwt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Gwt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xwt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},tdt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),edt=(0,s._)("span",{class:"text-white"}," Update ",-1);function rdt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Owt,[Iwt,(0,s._)("div",Vwt,[(0,s._)("div",jwt,[Rwt,(0,s.Wm)(lt.hw,{error:!o.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("factorisation_id")),"hide-details":!0,modelValue:o.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Mwt,(0,rt.zw)(o.formStatus.factorisation_id.message),1)]),(0,s._)("div",Nwt,[Hwt,(0,s.Wm)(lt.hw,{error:!o.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:l.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ywt,(0,rt.zw)(o.formStatus.delivery_id.message),1)]),(0,s._)("div",Zwt,[Kwt,(0,s.Wm)(lt.hw,{error:!o.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bwt,(0,rt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Qwt,[Jwt,(0,s.Wm)(lt.hw,{error:!o.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Gwt,(0,rt.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Xwt,[(0,s.Wm)(at.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[tdt])),_:1}),(0,s.Wm)(at.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[edt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var adt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,twt.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Ut(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Pt(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Pt(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const sdt=(0,p.Z)(adt,[["render",rdt]]);var odt=sdt;const ldt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},idt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),ndt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},wdt={class:"tw-w-full tw-col-span-6"},ddt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),cdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},udt={class:"tw-w-full tw-col-span-6"},pdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),mdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gdt={class:"tw-w-full tw-col-span-12"},hdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),fdt=["error"],bdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xdt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ydt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),vdt=(0,s._)("span",{class:"text-white"}," Update ",-1);function _dt(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",ldt,[idt,(0,s._)("div",ndt,[(0,s._)("div",wdt,[ddt,(0,s.Wm)(lt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cdt,(0,rt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",udt,[pdt,(0,s.Wm)(lt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",mdt,(0,rt.zw)(l.formStatus.commands_number.message),1)]),(0,s._)("div",gdt,[hdt,(0,s.wy)((0,s._)("textarea",{error:!l.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,fdt),[[a.nr,l.Factorisation.comment]]),(0,s._)("div",bdt,(0,rt.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",xdt,[(0,s.Wm)(at.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ydt])),_:1}),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vdt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var kdt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,twt.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Ut(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Cdt=(0,p.Z)(kdt,[["render",_dt]]);var Ddt=Cdt,Sdt={components:{UpdateFactorisation:odt,UpdateComment:Ddt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1,showUpdateCommentPopup:!1,serverUrl:w}},methods:{handleResolved(t){t?(this.isLoading=!0,twt["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const zdt=(0,p.Z)(Sdt,[["render",Fwt]]);var Udt=zdt,Pdt={props:["factorisation"],components:{FactorisationActions:Udt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,twt.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,twt.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Ldt=(0,p.Z)(Pdt,[["render",Ewt]]);var qdt=Ldt,Adt={props:["columns","factorisations"],components:{FactorisationRow:qdt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const $dt=(0,p.Z)(Adt,[["render",pwt]]);var Wdt=$dt,Edt={components:{FactorisationsTable:Wdt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){twt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Tdt=(0,p.Z)(Edt,[["render",Gnt]]);var Fdt=Tdt;const Odt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Idt={class:"tw-px-3"},Vdt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},jdt={class:"tw-flex tw-items-center tw-gap-x-3"},Rdt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),Mdt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Ndt=(0,s.uE)('<button class="tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"><svg xmlns="http://www.w3.org/2000/svg" class="tw-w-5 tw-h-5" width="24" height="24" viewBox="0 0 24 24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.25a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5M9.75 12a2.25 2.25 0 1 1 4.5 0a2.25 2.25 0 0 1-4.5 0"></path><path d="M11.975 1.25c-.445 0-.816 0-1.12.02a2.823 2.823 0 0 0-.907.19a2.75 2.75 0 0 0-1.489 1.488c-.145.35-.184.72-.2 1.122a.868.868 0 0 1-.415.731a.868.868 0 0 1-.841-.005c-.356-.188-.696-.339-1.072-.389a2.75 2.75 0 0 0-2.033.545a2.83 2.83 0 0 0-.617.691c-.17.254-.356.575-.578.96l-.025.044c-.223.385-.408.706-.542.98c-.14.286-.25.568-.29.88a2.75 2.75 0 0 0 .544 2.033c.231.301.532.52.872.734a.868.868 0 0 1 .426.726a.868.868 0 0 1-.426.726c-.34.214-.64.433-.872.734a2.75 2.75 0 0 0-.545 2.033c.041.312.15.594.29.88c.135.274.32.595.543.98l.025.044c.222.385.408.706.578.96c.177.263.367.5.617.69a2.75 2.75 0 0 0 2.033.546c.376-.05.716-.2 1.072-.389a.867.867 0 0 1 .84-.005a.863.863 0 0 1 .417.731c.015.402.054.772.2 1.122a2.75 2.75 0 0 0 1.488 1.489c.29.12.59.167.907.188c.304.021.675.021 1.12.021h.05c.445 0 .816 0 1.12-.02c.318-.022.617-.069.907-.19a2.75 2.75 0 0 0 1.489-1.488c.145-.35.184-.72.2-1.122a.868.868 0 0 1 .415-.732a.868.868 0 0 1 .841.006c.356.188.696.339 1.072.388a2.75 2.75 0 0 0 2.033-.544c.25-.192.44-.428.617-.691c.17-.254.356-.575.578-.96l.025-.044c.223-.385.408-.706.542-.98c.14-.286.25-.569.29-.88a2.75 2.75 0 0 0-.544-2.033c-.231-.301-.532-.52-.872-.734a.868.868 0 0 1-.426-.726c0-.278.152-.554.426-.726c.34-.214.64-.433.872-.734a2.75 2.75 0 0 0 .545-2.033a2.826 2.826 0 0 0-.29-.88a17.9 17.9 0 0 0-.543-.98l-.025-.044a18.028 18.028 0 0 0-.578-.96a2.823 2.823 0 0 0-.617-.69a2.75 2.75 0 0 0-2.033-.546c-.376.05-.716.2-1.072.389a.868.868 0 0 1-.84.005a.868.868 0 0 1-.417-.731c-.015-.402-.054-.772-.2-1.122a2.75 2.75 0 0 0-1.488-1.489c-.29-.12-.59-.167-.907-.188c-.304-.021-.675-.021-1.12-.021zm-1.453 1.595c.077-.032.194-.061.435-.078c.247-.017.567-.017 1.043-.017s.796 0 1.043.017c.241.017.358.046.435.078c.307.127.55.37.677.677c.04.096.073.247.086.604c.03.792.439 1.555 1.165 1.974c.726.42 1.591.392 2.292.022c.316-.167.463-.214.567-.227a1.25 1.25 0 0 1 .924.247c.066.051.15.138.285.338c.139.206.299.483.537.895c.238.412.397.69.506.912c.107.217.14.333.15.416a1.25 1.25 0 0 1-.247.924c-.064.083-.178.187-.48.377c-.672.422-1.128 1.158-1.128 1.996c0 .838.456 1.574 1.128 1.996c.302.19.416.294.48.377c.202.263.29.595.247.924c-.01.083-.044.2-.15.416c-.109.223-.268.5-.506.912c-.238.412-.399.689-.537.895c-.135.2-.219.287-.285.338a1.25 1.25 0 0 1-.924.247c-.104-.013-.25-.06-.567-.227c-.7-.37-1.566-.398-2.292.021c-.726.42-1.135 1.183-1.165 1.975c-.013.357-.046.508-.086.604a1.25 1.25 0 0 1-.677.677c-.077.032-.194.061-.435.078c-.247.017-.567.017-1.043.017s-.796 0-1.043-.017c-.241-.017-.358-.046-.435-.078a1.25 1.25 0 0 1-.677-.677c-.04-.096-.073-.247-.086-.604c-.03-.792-.439-1.555-1.165-1.974c-.726-.42-1.591-.392-2.292-.022c-.316.167-.463.214-.567.227a1.25 1.25 0 0 1-.924-.247c-.066-.051-.15-.138-.285-.338a17.055 17.055 0 0 1-.537-.895c-.238-.412-.397-.69-.506-.912c-.107-.217-.14-.333-.15-.416a1.25 1.25 0 0 1 .247-.924c.064-.083.178-.187.48-.377c.672-.422 1.128-1.158 1.128-1.996c0-.838-.456-1.574-1.128-1.996c-.302-.19-.416-.294-.48-.377a1.25 1.25 0 0 1-.247-.924c.01-.083.044-.2.15-.416c.109-.223.268-.5.506-.912c.238-.412.399-.689.537-.895c.135-.2.219-.287.285-.338a1.25 1.25 0 0 1 .924-.247c.104.013.25.06.567.227c.7.37 1.566.398 2.292-.022c.726-.419 1.135-1.182 1.165-1.974c.013-.357.046-.508.086-.604c.127-.307.37-.55.677-.677"></path></g></svg><span>Settings</span></button>',1),Hdt=[Ndt],Ydt={key:0};function Zdt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("SettingsPopup");return(0,s.wg)(),(0,s.iD)("div",Odt,[(0,s._)("section",Idt,[(0,s._)("div",Vdt,[(0,s._)("div",null,[(0,s._)("div",jdt,[Rdt,(0,s._)("span",Mdt,(0,rt.zw)(o.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>o.settings_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Hdt)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),o.settings_popup?((0,s.wg)(),(0,s.iD)("div",Ydt,[(0,s.Wm)(w,{visible:o.settings_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.settings_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const Kdt={class:"tw-flex tw-flex-col tw-mt-5"},Bdt={class:"tw-overflow-x-auto"},Qdt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Jdt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Gdt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Xdt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},tct=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),ect=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Code ",-1),rct=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),act=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," NB Commands ",-1),sct=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Price ",-1),oct=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),lct=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),ict=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Close ",-1),nct=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid ",-1),wct={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},dct=(0,s._)("span",null,"Created",-1),cct=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),uct=[dct,cct],pct=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),mct={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},gct={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},hct=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),fct=[hct],bct={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xct={colspan:"11"},yct={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},vct=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),_ct=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),kct=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Cct=[_ct,kct],Dct={class:"tw-mt-6"};function Sct(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Kdt,[(0,s._)("div",Bdt,[(0,s._)("div",Qdt,[(0,s._)("div",Jdt,[(0,s._)("table",Gdt,[(0,s._)("thead",Xdt,[(0,s._)("tr",null,[tct,ect,rct,act,sct,(0,s.kq)("",!0),oct,lct,ict,nct,(0,s._)("th",wct,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},uct)]),pct])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",mct,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",gct,fct)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",bct,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",xct,[(0,s._)("div",yct,[vct,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Cct)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Dct,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const zct={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Uct={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Pct={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Lct={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},qct=["disabled"],Act=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),$ct=(0,s._)("span",null," previous ",-1),Wct=[Act,$ct],Ect=["disabled"],Tct=(0,s._)("span",null," Next ",-1),Fct=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Oct=[Tct,Fct];function Ict(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",zct,[(0,s._)("div",Uct,[(0,s.Uk)(" Page "),(0,s._)("span",Pct,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",Lct,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Wct,10,qct),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Oct,10,Ect)])])])}var Vct={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const jct=(0,p.Z)(Vct,[["render",Ict]]);var Rct=jct;const Mct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Nct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Hct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Yct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Kct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Qct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Gct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Xct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},tut={key:0},eut={key:0},rut={key:1},aut={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sut={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},out={key:0},lut={key:0},iut={key:1},nut={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wut={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dut={key:0},cut={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uut={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},put={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function mut(t,e,r,a,o,l){const i=(0,s.up)("PdfFactorisation"),n=(0,s.up)("CloseFactorisation"),w=(0,s.up)("PaidFactorisation"),d=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Mct,[(0,s._)("div",null,[(0,s._)("h2",Nct,(0,rt.zw)(r.item.id),1)])]),(0,s._)("td",Hct,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),(0,s._)("td",Yct,[(0,s._)("div",null,[(0,s._)("h2",Zct,[(0,s._)("span",null,(0,rt.zw)(r.item.delivery.firstname)+" "+(0,rt.zw)(r.item.delivery.lastname),1)])])]),(0,s._)("td",Kct,[(0,s._)("div",null,[(0,s._)("h2",Bct,[(0,s._)("span",null,(0,rt.zw)(r.item.delivery_order_count),1)])])]),(0,s._)("td",Qct,[(0,s._)("div",null,[(0,s._)("h2",Jct,[(0,s._)("span",null,(0,rt.zw)(r.item.delivery_order_price),1),(0,s.Uk)(" "+(0,rt.zw)(o.currency),1)])])]),(0,s._)("td",Gct,[(0,s._)("div",null,[(0,s._)("h2",Xct,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",tut,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",eut,(0,rt.zw)(o.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",rut," - "))])])]),(0,s._)("td",aut,[(0,s._)("div",null,[(0,s._)("h2",sut,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",out,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",lut,(0,rt.zw)(o.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",iut," - "))])])]),(0,s._)("td",nut,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(n,{item:r.item,key:r.item.id,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["item"]))])]),(0,s._)("td",wut,[r.item.close?((0,s.wg)(),(0,s.iD)("div",dut,[((0,s.wg)(),(0,s.j4)(w,{item:r.item,key:r.item.id,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)]),(0,s._)("td",cut,[(0,s._)("div",null,[(0,s._)("h2",uut,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",put,[(0,s._)("div",null,[(0,s.Wm)(d,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const gut={class:"tw-h-full"},hut={class:"tw-flex tw-items-center tw-gap-2"},fut={key:0},but={key:1},xut={key:2};function yut(t,e,r,a,o,l){const i=(0,s.up)("CommentFactorisation"),n=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateFees");return(0,s.wg)(),(0,s.iD)("div",gut,[(0,s._)("div",hut,[(0,s.Wm)(at.T,{target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=t=>o.CommentPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1}),(0,s.Wm)(at.T,{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(at.T,{onClick:e[2]||(e[2]=t=>o.DeletePopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",fut,[((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[5]||(e[5]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",but,[((0,s.wg)(),(0,s.j4)(n,{onUpdate:e[6]||(e[6]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[7]||(e[7]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",xut,[((0,s.wg)(),(0,s.j4)(w,{onUpdate:e[8]||(e[8]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[9]||(e[9]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0)])}const vut={key:0},_ut={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},kut=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Cut={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Dut={class:"tw-w-full tw-col-span-6"},Sut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),zut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uut={class:"tw-w-full tw-col-span-6"},Put=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Lut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qut={class:"tw-w-full tw-col-span-12"},Aut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),$ut=["error"],Wut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Eut={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Tut=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Fut=(0,s._)("span",{class:"text-white"}," Update ",-1);function Out(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",vut,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",_ut,[kut,(0,s._)("div",Cut,[(0,s._)("div",Dut,[Sut,(0,s.Wm)(lt.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:l.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zut,(0,rt.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Uut,[Put,(0,s.Wm)(lt.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:l.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>l.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Lut,(0,rt.zw)(l.formStatus.commands_number.message),1)]),(0,s._)("div",qut,[Aut,(0,s.wy)((0,s._)("textarea",{error:!l.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>l.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,$ut),[[a.nr,l.itemCopy.comment]]),(0,s._)("div",Wut,(0,rt.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",Eut,[(0,s.Wm)(at.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Tut])),_:1}),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fut])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Iut={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,twt.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Ut(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Vut=(0,p.Z)(Iut,[["render",Out]]);var jut=Vut;const Rut={key:0},Mut={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Nut=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Hut={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Yut={class:"tw-w-full tw-col-span-6"},Zut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Kut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},But={class:"tw-w-full tw-col-span-6"},Qut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Jut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gut={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Xut=(0,s._)("span",{class:"text-white"}," Cancel ",-1),tpt=(0,s._)("span",{class:"text-white"}," Update ",-1);function ept(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Rut,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Mut,[Nut,(0,s._)("div",Hut,[(0,s._)("div",Yut,[Zut,(0,s.Wm)(lt.hw,{error:!o.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("factorisation_id")),"hide-details":!0,modelValue:o.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Kut,(0,rt.zw)(o.formStatus.factorisation_id.message),1)]),(0,s._)("div",But,[Qut,(0,s.Wm)(lt.hw,{error:!o.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:l.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jut,(0,rt.zw)(o.formStatus.delivery_id.message),1)])]),(0,s._)("div",Gut,[(0,s.Wm)(at.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Xut])),_:1}),(0,s.Wm)(at.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[tpt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var rpt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,twt.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Ut(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const apt=(0,p.Z)(rpt,[["render",ept]]);var spt=apt;const opt={key:0},lpt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},ipt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),npt={class:"tw-w-full tw-col-span-6"},wpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),dpt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},cpt={class:"tw-w-full tw-col-span-6"},upt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),ppt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mpt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},gpt=["onClick"],hpt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),fpt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},bpt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),xpt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ypt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),vpt=(0,s._)("span",{class:"text-white"}," Update ",-1);function _pt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",opt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lpt,[ipt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",npt,[wpt,(0,s.Wm)(lt.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",dpt,(0,rt.zw)(o.formStatus.price.message),1)]),(0,s._)("div",cpt,[upt,(0,s.Wm)(lt.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",ppt,(0,rt.zw)(o.formStatus.commands_number.message),1),(0,s._)("div",mpt,[(0,s._)("button",{onClick:e=>l.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),hpt],8,gpt)])])])))),128)),(0,s._)("div",fpt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.addFees&&l.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),bpt])]),(0,s._)("div",xpt,[(0,s.Wm)(at.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ypt])),_:1}),(0,s.Wm)(at.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vpt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var kpt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,twt.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Cpt=(0,p.Z)(kpt,[["render",_pt]]);var Dpt=Cpt,Spt={components:{CommentFactorisation:jut,UpdateFactorisation:spt,UpdateFees:Dpt},props:{item:{required:!0}},data(){return{CommentPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,serverUrl:w}},computed:{},methods:{}};const zpt=(0,p.Z)(Spt,[["render",yut]]);var Upt=zpt;const Ppt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Lpt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},qpt=["disabled"],Apt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function $pt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",Ppt,[(0,s._)("label",Lpt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,qpt),[[a.e8,i.close]]),Apt]),l.isLoadingClose?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Wpt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,twt.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const Ept=(0,p.Z)(Wpt,[["render",$pt]]);var Tpt=Ept;const Fpt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Opt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Ipt=["disabled"],Vpt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function jpt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",Fpt,[(0,s._)("label",Opt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Ipt),[[a.e8,i.paid]]),Vpt]),l.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Rpt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,twt.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const Mpt=(0,p.Z)(Rpt,[["render",jpt]]);var Npt=Mpt;const Hpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"};function Ypt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("h2",Hpt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>l.download(r.item.id))},(0,rt.zw)(r.item.factorisation_id),1)])}var Zpt={props:{item:{required:!0}},methods:{download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Kpt=(0,p.Z)(Zpt,[["render",Ypt]]);var Bpt=Kpt,Qpt={components:{TableActions:Upt,CloseFactorisation:Tpt,PaidFactorisation:Npt,PdfFactorisation:Bpt},props:{item:{required:!0}},data(){return{moment:ve(),currency:c}},computed:{},methods:{}};const Jpt=(0,p.Z)(Qpt,[["render",mut]]);var Gpt=Jpt,Xpt={components:{TablePaginationNoNums:Rct,TableRow:Gpt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const tmt=(0,p.Z)(Xpt,[["render",Sct]]);var emt=tmt;const rmt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},amt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},smt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),omt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),lmt=[omt],imt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),nmt=[imt],wmt=["disabled"],dmt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),cmt=[dmt],umt={class:"tw-relative"},pmt=["value"],mmt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),gmt=[mmt],hmt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),fmt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},bmt=["value"],xmt={class:"tw-overflow-hidden tw-col-span-1"},ymt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),vmt=[ymt];function _mt(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rmt,[(0,s._)("div",amt,[smt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lmt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},nmt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},cmt,8,wmt),(0,s._)("div",umt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},gmt,40,pmt),hmt])]),(0,s._)("div",fmt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,bmt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,rt.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",xmt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},vmt,2)):(0,s.kq)("",!0)])}const kmt={class:"tw-mb-4"},Cmt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Dmt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Smt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),zmt=(0,s._)("span",null,"Clear",-1),Umt=[Smt,zmt],Pmt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Lmt=(0,s._)("span",null,"Filter",-1),qmt=[Pmt,Lmt];function Amt(t,e,r,a,o,l){(0,s.up)("SellerFilter");const i=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",kmt,[(0,s._)("div",Cmt,[(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Dmt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Umt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},qmt)])])])}const $mt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Wmt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),Emt=["value"],Tmt=(0,s._)("option",{value:"all"},"All",-1),Fmt=["value"];function Omt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",$mt,[Wmt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Tmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,Fmt)))),128))],40,Emt)])}var Imt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Vmt=(0,p.Z)(Imt,[["render",Omt]]);var jmt=Vmt;const Rmt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Mmt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),Nmt=["value"],Hmt=(0,s._)("option",{value:"all"},"All",-1),Ymt=["value"];function Zmt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Rmt,[Mmt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Hmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,rt.zw)(t.title),9,Ymt)))),128))],40,Nmt)])}var Kmt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const Bmt=(0,p.Z)(Kmt,[["render",Zmt]]);var Qmt=Bmt;const Jmt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Gmt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),Xmt=["value"],tgt=(0,s._)("option",{value:"all"},"All",-1),egt=["value"];function rgt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Jmt,[Gmt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[tgt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,rt.zw)(t.title),9,egt)))),128))],40,Xmt)])}var agt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const sgt=(0,p.Z)(agt,[["render",rgt]]);var ogt=sgt,lgt={components:{SellerFilter:jmt,CloseFilter:Qmt,PaidFilter:ogt},props:{filters:{required:!0,default:{}}},data(){return{}}};const igt=(0,p.Z)(lgt,[["render",Amt]]);var ngt=igt,wgt={components:{FiltersWrapper:ngt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const dgt=(0,p.Z)(wgt,[["render",_mt]]);var cgt=dgt;const ugt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},pgt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Factorisation Settings ",-1),mgt={class:"tw-bg-white tw-p-4"},ggt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},hgt={class:"md:tw-col-span-1 tw-col-span-2"},fgt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Interval Time",-1),bgt={class:"tw-relative"},xgt=(0,s._)("option",{value:null,disabled:""},"Choose an Interval",-1),ygt=(0,s._)("option",{value:"daily"},"Daily",-1),vgt=(0,s._)("option",{value:"weekly"},"Weekly",-1),_gt=(0,s._)("option",{value:"monthly"},"Monthly",-1),kgt=(0,s._)("option",{value:"yearly"},"Yearly",-1),Cgt=[xgt,ygt,vgt,_gt,kgt],Dgt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Sgt={class:"md:tw-col-span-1 tw-col-span-2"},zgt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Auto Close Date Starts",-1),Ugt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function Pgt(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ugt,[pgt,(0,s._)("div",mgt,[(0,s._)("div",ggt,[(0,s._)("div",hgt,[fgt,(0,s._)("div",bgt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.intervalTime=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},Cgt,512),[[a.bM,l.intervalTime]]),Dgt])]),(0,s._)("div",Sgt,[zgt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.closeDateStart=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,512),[[a.nr,l.closeDateStart]])])])]),(0,s._)("div",Ugt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var Lgt={props:{visible:{required:!0}},data(){return{isLoading:!1,closeDateStart:null,intervalTime:null}},computed:{},methods:{cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)}},mounted(){}};const qgt=(0,p.Z)(Lgt,[["render",Pgt]]);var Agt=qgt,$gt={components:{IndexTable:emt,IndexFilters:cgt,SettingsPopup:Agt},data(){return{fetching:!0,settings_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,twt.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,console.log(this.items),this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Wgt=(0,p.Z)($gt,[["render",Zdt]]);var Egt=Wgt,Tgt={name:"factorisations",path:"/factorisations",component:fa,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:Fdt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/newlist",path:"/newfactorisations",component:Egt,meta:{module:"newfactorisation",subModule:"factorisation/newlist",title:"Factorisations List",gate:"show_all_factorisations"}}]};const Fgt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Ogt={class:"tw-px-3"},Igt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Vgt={class:"tw-flex tw-items-center tw-gap-x-3"},jgt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Rgt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Mgt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),Ngt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),Hgt=[Ngt],Ygt={key:0};function Zgt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Fgt,[(0,s._)("section",Ogt,[(0,s._)("div",Igt,[(0,s._)("div",null,[(0,s._)("div",Vgt,[jgt,(0,s._)("span",Rgt,(0,rt.zw)(o.totalOrders)+" order",1)]),Mgt]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Hgt)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Ygt,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class Kgt{async create(t){return await W.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await W.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await W.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await W.getCookie(),A.post("api/ads"+t,e)}}var Bgt=new Kgt;const Qgt={class:"tw-flex tw-flex-col"},Jgt={class:"tw-overflow-x-auto"},Ggt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Xgt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},tht={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},eht={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},rht=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),aht={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},sht=(0,s._)("span",null,"Created",-1),oht=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),lht=[sht,oht],iht={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},nht=(0,s._)("span",null,"Ads For",-1),wht=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),dht=[nht,wht],cht=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),uht=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),pht=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),mht=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),ght=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),hht=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),fht={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},bht={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xht=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),yht=[xht],vht={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_ht={colspan:"8"},kht={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Cht=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Dht=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Sht=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),zht=[Dht,Sht],Uht={class:"tw-mt-6"};function Pht(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Qgt,[(0,s._)("div",Jgt,[(0,s._)("div",Ggt,[(0,s._)("div",Xgt,[(0,s._)("table",tht,[(0,s._)("thead",eht,[(0,s._)("tr",null,[rht,(0,s._)("th",aht,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},lht)]),(0,s._)("th",iht,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},dht)]),cht,uht,pht,mht,ght,hht])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",fht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",bht,yht)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",vht,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",_ht,[(0,s._)("div",kht,[Cht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},zht)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Uht,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Lht={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},qht={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Aht={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},$ht={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Wht=["disabled"],Eht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Tht=(0,s._)("span",null," previous ",-1),Fht=[Eht,Tht],Oht=["disabled"],Iht=(0,s._)("span",null," Next ",-1),Vht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),jht=[Iht,Vht];function Rht(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Lht,[(0,s._)("div",qht,[(0,s.Uk)(" Page "),(0,s._)("span",Aht,(0,rt.zw)(r.currentPage)+" of "+(0,rt.zw)(r.lastPage),1)]),(0,s._)("div",$ht,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,rt.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Fht,10,Wht),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,rt.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},jht,10,Oht)])])])}var Mht={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Nht=(0,p.Z)(Mht,[["render",Rht]]);var Hht=Nht;const Yht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Kht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Qht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Jht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Ght={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Xht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},tft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-capitalize"},rft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},sft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},lft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ift={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},nft={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function wft(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Yht,[(0,s._)("div",null,[(0,s._)("h2",Zht,(0,rt.zw)(r.item.id),1)])]),(0,s._)("td",Kht,[(0,s._)("div",null,[(0,s._)("h2",Bht,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Qht,[(0,s._)("div",null,[(0,s._)("h2",Jht,[(0,s._)("p",null,(0,rt.zw)(o.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Ght,[(0,s._)("div",null,[(0,s._)("h2",Xht,(0,rt.zw)(r.item.marketers.firstname)+" "+(0,rt.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",tft,[(0,s._)("div",null,[(0,s._)("h2",eft,(0,rt.zw)(r.item.source),1)])]),(0,s._)("td",rft,[(0,s._)("div",null,[(0,s._)("h2",aft,(0,rt.zw)(r.item.amount),1)])]),(0,s._)("td",sft,[(0,s._)("div",null,[(0,s._)("h2",oft,(0,rt.zw)(r.item.leads),1)])]),(0,s._)("td",lft,[(0,s._)("div",null,[(0,s._)("h2",ift,(0,rt.zw)(r.item.products.name),1)])]),(0,s._)("td",nft,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const dft={class:"tw-h-full"},cft={class:"tw-flex tw-items-center tw-gap-2"},uft={key:0};function pft(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",dft,[(0,s._)("div",cft,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",uft,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const mft={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},gft=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),hft={class:"tw-bg-white tw-p-4"},fft={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},bft={class:"tw-col-span-2 md:tw-col-span-1"},xft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),yft=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),vft=["value"],_ft={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},kft={class:"tw-col-span-2 md:tw-col-span-1"},Cft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),Dft={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Sft={class:"tw-col-span-2 md:tw-col-span-1"},zft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),Uft={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Pft={class:"tw-col-span-2 md:tw-col-span-1"},Lft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),qft=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Aft=["value"],$ft={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wft={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Eft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),Tft=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Fft=["value"],Oft={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ift={class:"md:tw-col-span-1 tw-col-span-2"},Vft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),jft={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Rft={class:"tw-col-span-2"},Mft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Nft={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Hft=["disabled"],Yft=(0,s._)("span",null,"Update",-1);function Zft(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",mft,[gft,(0,s._)("div",hft,[(0,s._)("div",fft,[(0,s._)("div",bft,[xft,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>l.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>l.items.source=t),class:(0,rt.C_)([[l.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[yft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,rt.zw)(t),9,vft)))),128))],34),[[a.bM,l.items.source]]),l.errors.source?((0,s.wg)(),(0,s.iD)("label",_ft,(0,rt.zw)(l.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",kft,[Cft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.items.amount=t),onInput:e[3]||(e[3]=t=>l.errors.amount=null),class:(0,rt.C_)([[l.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.amount]]),l.errors.amount?((0,s.wg)(),(0,s.iD)("label",Dft,(0,rt.zw)(l.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Sft,[zft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.items.leads=t),onInput:e[5]||(e[5]=t=>l.errors.leads=null),class:(0,rt.C_)([[l.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.leads]]),l.errors.leads?((0,s.wg)(),(0,s.iD)("label",Uft,(0,rt.zw)(l.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",Pft,[Lft,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>l.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>l.items.product_id=t),class:(0,rt.C_)([[l.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[qft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,Aft)))),128))],34),[[a.bM,l.items.product_id]]),l.errors.product_id?((0,s.wg)(),(0,s.iD)("label",$ft,(0,rt.zw)(l.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Wft,[Eft,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>l.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>l.items.marketer_id=t),class:(0,rt.C_)([[l.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Tft,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,Fft)))),128))],34),[[a.bM,l.items.marketer_id]]),l.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",Oft,(0,rt.zw)(l.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Ift,[Vft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.items.ads_at=t),onInput:e[11]||(e[11]=t=>l.errors.ads_at=null),class:(0,rt.C_)([[l.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.items.ads_at]]),(0,s._)("label",jft,(0,rt.zw)(l.errors.ads_at),1)]),(0,s._)("div",Rft,[Mft,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,l.items.note]])])])]),(0,s._)("div",Nft,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Yft],8,Hft)])])])),_:1},8,["visible","onCancel"])])}const Kft=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),Bft=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},Qft=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Jft=(t,e)=>{t.isLoading=!0,t.errors={},Bgt.update(e.id,e).then((e=>Bft(t,e.data))).catch((e=>Qft(t,e.response.data))).finally((()=>t.isLoading=!1))};var Gft={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,sources:["facebook","Google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=Kft(this,this.items);if(!t)return!1;Jft(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const Xft=(0,p.Z)(Gft,[["render",Zft]]);var tbt=Xft,ebt={components:{UpdatePopup:tbt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const rbt=(0,p.Z)(ebt,[["render",pft]]);var abt=rbt,sbt={components:{TableActions:abt},props:{item:{required:!0}},data(){return{moment:ve()}},computed:{},methods:{}};const obt=(0,p.Z)(sbt,[["render",wft]]);var lbt=obt,ibt={components:{TablePaginationNoNums:Hht,TableRow:lbt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const nbt=(0,p.Z)(ibt,[["render",Pht]]);var wbt=nbt;const dbt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},cbt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},ubt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),pbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),mbt=[pbt],gbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),hbt=[gbt],fbt=["disabled"],bbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),xbt=[bbt],ybt={class:"tw-relative"},vbt=["value"],_bt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),kbt=[_bt],Cbt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Dbt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Sbt=["value"],zbt={class:"tw-overflow-hidden tw-col-span-1"},Ubt={class:"tw-overflow-hidden tw-col-span-1"};function Pbt(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dbt,[(0,s._)("div",cbt,[ubt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},mbt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},hbt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},xbt,8,fbt),(0,s._)("div",ybt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},kbt,40,vbt),Cbt])]),(0,s._)("div",Dbt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Sbt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,rt.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",zbt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,rt.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Ubt,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Lbt={class:"tw-mb-4"},qbt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Abt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},$bt={class:"tw-flex tw-items-center tw-justify-between"},Wbt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Ebt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Tbt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Lbt,[(0,s._)("div",qbt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Abt,[(0,s._)("p",{class:(0,rt.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,rt.zw)(t.name),3),(0,s._)("div",$bt,[(0,s._)("span",Wbt,(0,rt.zw)(t.total),1),(0,s._)("span",Ebt,(0,rt.zw)(t.percent)+"%",1)])])])))),128))])])}var Fbt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return qd.find((e=>e.value==t))}}};const Obt=(0,p.Z)(Fbt,[["render",Tbt]]);var Ibt=Obt;const Vbt={class:"tw-mb-4"},jbt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Rbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Mbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Nbt=["value"],Hbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ybt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Zbt=["value"],Kbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Bbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),Qbt=["value"],Jbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Gbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),Xbt=["value"],txt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ext=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),rxt=(0,s._)("span",null,"Clear",-1),axt=[ext,rxt],sxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),oxt=(0,s._)("span",null,"Filter",-1),lxt=[sxt,oxt];function ixt(t,e,r,a,o,l){const i=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),w=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",Vbt,[(0,s._)("div",jbt,[(0,s._)("div",Rbt,[Mbt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Nbt)]),(0,s._)("div",Hbt,[Ybt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Zbt)]),(0,s._)("div",Kbt,[Bbt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Qbt)]),(0,s._)("div",Jbt,[Gbt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Xbt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",txt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},axt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},lxt)])])])}const nxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),dxt=["value"],cxt=(0,s._)("option",{value:"all"},"All",-1),uxt=["value"];function pxt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",nxt,[wxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,uxt)))),128))],40,dxt)])}var mxt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const gxt=(0,p.Z)(mxt,[["render",pxt]]);var hxt=gxt;const fxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),xxt=["value"],yxt=(0,s._)("option",{value:"all"},"All",-1),vxt=["value"];function _xt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",fxt,[bxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,vxt)))),128))],40,xxt)])}var kxt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ua.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const Cxt=(0,p.Z)(kxt,[["render",_xt]]);var Dxt=Cxt;const Sxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zxt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),Uxt=["value"],Pxt=(0,s._)("option",{value:"all"},"All",-1),Lxt=["value"];function qxt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Sxt,[zxt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Pxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,rt.zw)(t),9,Lxt)))),128))],40,Uxt)])}var Axt={props:{filters:{required:!0}},data(){return{sources:["facebook","Google","tiktok","snapchat"]}}};const $xt=(0,p.Z)(Axt,[["render",qxt]]);var Wxt=$xt,Ext={components:{MarketerFilter:hxt,ProductFilter:Dxt,SourceFilter:Wxt},props:{filters:{required:!0,default:{}}},data(){return{}}};const Txt=(0,p.Z)(Ext,[["render",ixt]]);var Fxt=Txt,Oxt={components:{IndexStatistics:Ibt,FiltersWrapper:Fxt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const Ixt=(0,p.Z)(Oxt,[["render",Pbt]]);var Vxt=Ixt;const jxt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Rxt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),Mxt={class:"tw-bg-white tw-p-4"},Nxt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Hxt={class:"tw-col-span-2 md:tw-col-span-1"},Yxt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),Zxt=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),Kxt=["value"],Bxt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qxt={class:"tw-col-span-2 md:tw-col-span-1"},Jxt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),Gxt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Xxt={class:"tw-col-span-2 md:tw-col-span-1"},tyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),eyt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ryt={class:"tw-col-span-2 md:tw-col-span-1"},ayt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),syt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),oyt=["value"],lyt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iyt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},nyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),wyt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),dyt=["value"],cyt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uyt={class:"md:tw-col-span-1 tw-col-span-2"},pyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),myt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gyt={class:"tw-col-span-2"},hyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),fyt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},byt=["disabled"],xyt=(0,s._)("span",null,"Create",-1);function yyt(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",jxt,[Rxt,(0,s._)("div",Mxt,[(0,s._)("div",Nxt,[(0,s._)("div",Hxt,[Yxt,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>l.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>l.items.source=t),class:(0,rt.C_)([[l.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Zxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,rt.zw)(t),9,Kxt)))),128))],34),[[a.bM,l.items.source]]),l.errors.source?((0,s.wg)(),(0,s.iD)("label",Bxt,(0,rt.zw)(l.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",Qxt,[Jxt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.items.amount=t),onInput:e[3]||(e[3]=t=>l.errors.amount=null),class:(0,rt.C_)([[l.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.amount]]),l.errors.amount?((0,s.wg)(),(0,s.iD)("label",Gxt,(0,rt.zw)(l.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Xxt,[tyt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.items.leads=t),onInput:e[5]||(e[5]=t=>l.errors.leads=null),class:(0,rt.C_)([[l.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.leads]]),l.errors.leads?((0,s.wg)(),(0,s.iD)("label",eyt,(0,rt.zw)(l.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",ryt,[ayt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>l.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>l.items.product_id=t),class:(0,rt.C_)([[l.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[syt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.name),9,oyt)))),128))],34),[[a.bM,l.items.product_id]]),l.errors.product_id?((0,s.wg)(),(0,s.iD)("label",lyt,(0,rt.zw)(l.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",iyt,[nyt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>l.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>l.items.marketer_id=t),class:(0,rt.C_)([[l.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[wyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,dyt)))),128))],34),[[a.bM,l.items.marketer_id]]),l.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",cyt,(0,rt.zw)(l.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",uyt,[pyt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.items.ads_at=t),onInput:e[11]||(e[11]=t=>l.errors.ads_at=null),class:(0,rt.C_)([[l.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.items.ads_at]]),(0,s._)("label",myt,(0,rt.zw)(l.errors.ads_at),1)]),(0,s._)("div",gyt,[hyt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,l.items.note]])])])]),(0,s._)("div",fyt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),xyt],8,byt)])])])),_:1},8,["visible","onCancel"])])}const vyt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},_yt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},kyt=(t,e)=>{t.isLoading=!0,t.errors={},Bgt.create(e).then((e=>vyt(t,e.data))).catch((e=>_yt(t,e.response.data))).finally((()=>t.isLoading=!1))};var Cyt={components:{},props:{visible:{required:!0}},data(){return{isLoading:!1,sources:["facebook","Google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:0,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=Kft(this,this.items);if(!t)return!1;kyt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ua.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const Dyt=(0,p.Z)(Cyt,[["render",yyt]]);var Syt=Dyt,zyt={components:{IndexTable:wbt,IndexFilters:Vxt,CreatePopup:Syt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Bgt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Uyt=(0,p.Z)(zyt,[["render",Zgt]]);var Pyt=Uyt,Lyt={name:"ads",path:"/ads",component:fa,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:Pyt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const qyt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Ayt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),$yt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),Wyt={key:0},Eyt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},Tyt={class:"tw-flex tw-items-center tw-gap-2"},Fyt=(0,s._)("h1",null,"Application's email",-1),Oyt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},Iyt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),Vyt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},jyt={class:"mb-5 tw-flex"},Ryt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Myt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Nyt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Hyt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Yyt={class:"tw-relative"},Zyt={class:""};function Kyt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SheetsTable"),d=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",qyt,[Ayt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),$yt])),_:1})):(0,s.kq)("",!0)])]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Wyt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Eyt,[(0,s._)("div",Tyt,[Fyt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(ot.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",Oyt,(0,rt.zw)(l.email),1),Iyt])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Vyt,[(0,s._)("div",jyt,[(0,s.Wm)(at.T,{onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Ryt,[(0,s.Wm)(te.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,rt.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Myt,[(0,s._)("div",Nyt,[Hyt,(0,s._)("div",Yyt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Zyt,[(0,s.Wm)(w,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(d,{onCancel:e[5]||(e[5]=t=>l.showPopup=!1),visible:l.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Byt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Qyt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Jyt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Gyt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Xyt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},tvt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},evt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},rvt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),avt=["value"],svt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},ovt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},lvt={class:"tw-text-white"};function ivt(t,e,r,o,l,i){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Byt,[(0,s._)("table",Qyt,[(0,s._)("thead",Jyt,[(0,s._)("tr",null,[Gyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Xyt,(0,rt.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",tvt,[(0,s._)("div",evt,[rvt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,rt.zw)(t),9,avt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",svt,[(0,s._)("div",ovt,(0,rt.zw)(i.prevRange+1)+" - "+(0,rt.zw)(l.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,rt.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(at.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",lvt,(0,rt.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const nvt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},wvt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),dvt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},cvt={class:"tw-px-6 tw-py-4"},uvt={class:"tw-px-6 tw-py-4"},pvt={class:"tw-px-6 tw-py-4"},mvt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},gvt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},hvt=["disabled"],fvt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),bvt={class:"tw-px-6 tw-py-4"},xvt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function yvt(t,e,r,o,l,i){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",nvt,[wvt,(0,s._)("th",dvt,(0,rt.zw)(r.sheet.id),1),(0,s._)("td",cvt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,rt.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,rt.zw)(r.sheet.name),1)])]),(0,s._)("td",uvt,[(0,s._)("div",null,(0,rt.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",pvt,[(0,s._)("div",mvt,[(0,s._)("label",gvt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,hvt),[[a.e8,i.autoFetch]]),fvt]),l.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",bvt,(0,rt.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",xvt,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const vvt={key:0};function _vt(t,e,r,a,o,l){const i=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),w=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",vvt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(at.T,{key:0,onClick:l.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:(0,rt.C_)([o.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(at.T,{key:1,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(at.T,{key:2,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:o.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>o.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:o.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>o.showSheetPopup=t),sheet:r.sheet,orders:o.orders,onCancel:e[5]||(e[5]=t=>o.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const kvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Cvt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),Dvt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Svt={class:"md:tw-col-span-6 tw-col-span-12"},zvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),Uvt={class:"md:tw-col-span-6 tw-col-span-12"},Pvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),Lvt={class:"md:tw-col-span-12 tw-col-span-12"},qvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),Avt={class:"md:tw-col-span-6 tw-col-span-12"},$vt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),Wvt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Evt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Tvt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Fvt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Ovt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Ivt(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",kvt,[Cvt,(0,s._)("div",Dvt,[(0,s._)("div",Svt,[zvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.name]])]),(0,s._)("div",Uvt,[Pvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.sheet_name]])]),(0,s._)("div",Lvt,[qvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.sheet_id]])]),(0,s._)("div",Avt,[$vt,(0,s._)("label",Wvt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.newSheet.auto_fetch]]),Evt])])]),(0,s._)("div",Tvt,[(0,s.Wm)(at.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fvt])),_:1}),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Ovt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Vvt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;da.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const jvt=(0,p.Z)(Vvt,[["render",Ivt]]);var Rvt=jvt;const Mvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Nvt={key:0},Hvt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Yvt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),Zvt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},Kvt={class:"tw-relative tw-overflow-x-auto"},Bvt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},Qvt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Jvt={class:"tw-px-6 tw-py-2"},Gvt={class:"tw-px-6 tw-py-2"},Xvt={class:"tw-px-6 tw-py-2"},t_t={class:"tw-px-6 tw-py-2"},e_t={class:"tw-px-6 tw-py-2"},r_t={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},a_t=(0,s._)("span",{class:"text-white"}," Cancel ",-1),s_t=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function o_t(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Mvt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Nvt,[(0,s._)("div",Hvt,[Yvt,(0,s._)("div",Zvt,(0,rt.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",Kvt,[(0,s._)("table",Bvt,[Qvt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Jvt,(0,rt.zw)(t["Full name"]),1),(0,s._)("td",Gvt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,rt.zw)(t),1)))),128))])]),(0,s._)("td",Xvt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,rt.zw)(t),1)))),128))])]),(0,s._)("td",t_t,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,rt.zw)(t),1)))),128))])]),(0,s._)("td",e_t,(0,rt.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",r_t,[(0,s.Wm)(at.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[a_t])),_:1}),(0,s.Wm)(at.T,{loading:o.isLoading,onClick:l.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[s_t])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var l_t={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,da.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const i_t=(0,p.Z)(l_t,[["render",o_t]]);var n_t=i_t,w_t={props:["sheet"],name:"sheetActions",components:{UpdateSheet:Rvt,SheetOrders:n_t},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,da["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,da.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const d_t=(0,p.Z)(w_t,[["render",_vt]]);var c_t=d_t,u_t={props:["sheet"],components:{SheetActions:c_t},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,da.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const p_t=(0,p.Z)(u_t,[["render",yvt]]);var m_t=p_t,g_t={props:["sheets"],components:{SheetRow:m_t},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const h_t=(0,p.Z)(g_t,[["render",ivt]]);var f_t=h_t;const b_t={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},x_t=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),y_t={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},v_t={class:"md:tw-col-span-6 tw-col-span-12"},__t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),k_t={class:"md:tw-col-span-6 tw-col-span-12"},C_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),D_t={class:"md:tw-col-span-12 tw-col-span-12"},S_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),z_t={class:"md:tw-col-span-6 tw-col-span-12"},U_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),P_t={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},L_t=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),q_t={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},A_t=(0,s._)("span",{class:"text-white"}," Cancel ",-1),$_t=(0,s._)("span",{class:"text-white"}," Save ",-1);function W_t(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",b_t,[x_t,(0,s._)("div",y_t,[(0,s._)("div",v_t,[__t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.name]])]),(0,s._)("div",k_t,[C_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.sheet_name]])]),(0,s._)("div",D_t,[S_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.sheet_id]])]),(0,s._)("div",z_t,[U_t,(0,s._)("label",P_t,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sheet.auto_fetch]]),L_t])])]),(0,s._)("div",q_t,[(0,s.Wm)(at.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[A_t])),_:1}),(0,s.Wm)(at.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$_t])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var E_t={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;da.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const T_t=(0,p.Z)(E_t,[["render",W_t]]);var F_t=T_t,O_t={components:{SheetsTable:f_t,AddSheet:F_t},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,da.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const I_t=(0,p.Z)(O_t,[["render",Kyt]]);var V_t=I_t,j_t={name:"sheets",path:"/sheets",component:fa,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:V_t,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const R_t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},M_t={class:"tw-px-3"},N_t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},H_t={class:"tw-flex tw-items-center tw-gap-x-3"},Y_t=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),Z_t={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},K_t=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),B_t={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Q_t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),J_t=(0,s._)("span",null,"Create",-1),G_t=[Q_t,J_t],X_t={key:1};function tkt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",R_t,[(0,s._)("section",M_t,[(0,s._)("div",N_t,[(0,s._)("div",null,[(0,s._)("div",H_t,[Y_t,(0,s._)("span",Z_t,(0,rt.zw)(o.totalOrders)+" order",1)]),K_t]),(0,s._)("div",B_t,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},G_t)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",X_t,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const ekt={class:"tw-mb-4"},rkt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},akt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},skt={class:"tw-flex tw-items-center tw-gap-2"},okt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},lkt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),ikt={class:"tw-flex tw-items-center tw-gap-2"},nkt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),wkt=(0,s._)("span",null," Clear Selection ",-1),dkt=[nkt,wkt],ckt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),ukt=(0,s._)("span",null," Actions ",-1),pkt=[ckt,ukt],mkt={key:0};function gkt(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",ekt,[(0,s._)("div",rkt,[(0,s._)("div",akt,[(0,s._)("div",skt,[(0,s._)("div",okt,(0,rt.zw)(r.selected.length),1),lkt]),(0,s._)("div",ikt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},dkt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},pkt)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",mkt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const hkt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},fkt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},bkt=(0,s._)("span",null,"Quick Actions",-1),xkt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},ykt={class:"tw-bg-white tw-p-4"},vkt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},_kt={class:"tw-col-span-2 md:tw-col-span-1"},kkt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Ckt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Dkt=(0,s._)("span",null,"Apply",-1);function Skt(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",hkt,[(0,s._)("div",fkt,[bkt,(0,s._)("span",xkt,(0,rt.zw)(r.selected.length),1)]),(0,s._)("div",ykt,[(0,s._)("div",vkt,[(0,s._)("div",_kt,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",kkt,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",Ckt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Dkt])])])])),_:1},8,["visible","closeable","onCancel"])])}const zkt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),Ukt={class:"tw-relative"},Pkt=["value"],Lkt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function qkt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[zkt,(0,s._)("div",Ukt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,rt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,rt.zw)(t.name),9,Pkt)))),128))],512),[[a.bM,i.vaction]]),Lkt]),(0,s.kq)("",!0)])}var Akt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const $kt=(0,p.Z)(Akt,[["render",qkt]]);var Wkt=$kt;const Ekt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),Tkt={class:"tw-relative"},Fkt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),Okt=["value"],Ikt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function Vkt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[Ekt,(0,s._)("div",Tkt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,rt.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Fkt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([t.text]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,Okt)))),128))],512),[[a.bM,i.vvalue]]),Ikt]),(0,s.kq)("",!0)])}var jkt={props:{value:{required:!0}},data(){return{statuses:$d}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const Rkt=(0,p.Z)(jkt,[["render",Vkt]]);var Mkt=Rkt,Nkt=(t,e)=>{t.isLoading=!0,qZ.execute(e).then((e=>Hkt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const Hkt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var Ykt={components:{BulkSelectAction:Wkt,BulkDeliveryAction:Mkt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};Nkt(this,t)}}};const Zkt=(0,p.Z)(Ykt,[["render",Skt]]);var Kkt=Zkt,Bkt={components:{BulkPopup:Kkt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const Qkt=(0,p.Z)(Bkt,[["render",gkt]]);var Jkt=Qkt,Gkt={components:{IndexTable:xX,IndexFilters:l1,CreatePopup:l2,BulkActions:Jkt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ni.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=ol(t.first_page_url),this.lase_page_url=ol(t.last_page_url),this.next_page_url=ol(t.next_page_url),this.prev_page_url=ol(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,tt.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const Xkt=(0,p.Z)(Gkt,[["render",tkt]]);var tCt=Xkt,eCt={path:"/followup",name:"followup",component:fa,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:tCt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const rCt={class:"tw-pb-40"},aCt={class:"tw-space-y-3"};function sCt(t,e,r,a,o,l){const i=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",rCt,[(0,s._)("div",aCt,[(0,s.Wm)(i),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])])}const oCt={class:"tw-bg-white tw-p-5"},lCt={class:"tw-flex tw-items-center tw-justify-between"},iCt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),nCt={class:"tw-relative tw-flex tw-items-center"},wCt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),dCt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},cCt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),uCt={key:0,class:""},pCt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},mCt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),gCt=[mCt],hCt={key:1,class:"tw-min-h-[50px]"},fCt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},bCt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},xCt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},yCt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},vCt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},_Ct={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},kCt={class:"tw-font-bold"},CCt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},DCt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},SCt={key:1},zCt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},UCt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function PCt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",oCt,[(0,s._)("div",lCt,[iCt,(0,s._)("div",nCt,[wCt,(0,s._)("label",dCt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>l.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.showAll]]),cCt])])]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",uCt,[(0,s._)("div",pCt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},gCt))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",hCt,[(0,s._)("div",fCt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",bCt,[(0,s._)("div",xCt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",vCt)):((0,s.wg)(),(0,s.iD)("div",_Ct)):((0,s.wg)(),(0,s.iD)("div",yCt)),(0,s._)("span",kCt,(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),1)]),(0,s._)("div",CCt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",SCt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",zCt," Online ")):((0,s.wg)(),(0,s.iD)("div",UCt,(0,rt.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",DCt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var LCt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ve()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?ve()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){tt.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,is.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const qCt=(0,p.Z)(LCt,[["render",PCt]]);var ACt=qCt;const $Ct={class:"tw-bg-white"},WCt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},ECt={class:"tw-p-5"};function TCt(t,e,r,a,o,l){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",$Ct,[(0,s._)("div",WCt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.active=1),class:(0,rt.C_)([[1==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.active=2),class:(0,rt.C_)([[2==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",ECt,[1==o.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==o.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const FCt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},OCt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),ICt=[OCt],VCt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function jCt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",FCt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},ICt))),64))])):((0,s.wg)(),(0,s.iD)("div",VCt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const RCt={class:"tw-flex tw-justify-between"},MCt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},NCt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},HCt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YCt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function ZCt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,rt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",RCt,[(0,s._)("div",null,[(0,s._)("div",MCt,[(0,s._)("p",NCt,(0,rt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,rt.j5)({background:r.color})},(0,rt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",HCt,[(0,s._)("span",YCt,(0,rt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,rt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,rt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var KCt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const BCt=(0,p.Z)(KCt,[["render",ZCt]]);var QCt=BCt,JCt={components:{DashboardCard:QCt},props:{statistics:{required:!0},fetching:{required:!0}}};const GCt=(0,p.Z)(JCt,[["render",jCt]]);var XCt=GCt;const tDt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},eDt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),rDt=[eDt],aDt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function sDt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",tDt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},rDt))),64))])):((0,s.wg)(),(0,s.iD)("div",aDt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var oDt={components:{DashboardCard:QCt},props:{statistics:{required:!0},fetching:{required:!0}}};const lDt=(0,p.Z)(oDt,[["render",sDt]]);var iDt=lDt,nDt={components:{ConfirmationTab:XCt,DeliveryTab:iDt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const wDt=(0,p.Z)(nDt,[["render",TCt]]);var dDt=wDt;const cDt={class:"tw-bg-white tw-p-5"},uDt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),pDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},mDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),hDt=(0,s._)("option",{value:"all",selected:""},"All",-1),fDt=["value"],bDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),yDt=(0,s._)("option",{value:"all",selected:""},"All",-1),vDt=["value"],_Dt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),CDt=(0,s._)("option",{value:"all",selected:""},"All",-1),DDt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),SDt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),zDt=[CDt,DDt,SDt],UDt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},PDt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),LDt=(0,s._)("span",null,"Clear",-1),qDt=[PDt,LDt],ADt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),$Dt=(0,s._)("span",null,"Filter",-1),WDt=[ADt,$Dt];function EDt(t,e,r,o,l,i){const n=(0,s.up)("DateFilter"),w=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",cDt,[uDt,(0,s._)("div",pDt,[(0,s.Wm)(n,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{from:l.filters.delivered_from,"onUpdate:from":e[4]||(e[4]=t=>l.filters.delivered_from=t),to:l.filters.delivered_to,"onUpdate:to":e[5]||(e[5]=t=>l.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[6]||(e[6]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",mDt,[gDt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,fDt)))),128))],512),[[a.bM,l.filters.confirmation]])]),(0,s.Wm)(d,{filters:l.filters,onUpdate:e[8]||(e[8]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",bDt,[xDt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,rt.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,rt.zw)(t.name),11,vDt)))),128))],512),[[a.bM,l.filters.delivery]])]),(0,s.Wm)(c,{filters:l.filters,onUpdate:e[10]||(e[10]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",_Dt,[kDt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},zDt,512),[[a.bM,l.filters.upsell]])]),(0,s._)("div",UDt,[(0,s._)("button",{onClick:e[12]||(e[12]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},qDt),(0,s._)("button",{onClick:e[13]||(e[13]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},WDt)])])])}const TDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},FDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),ODt=["value"],IDt=(0,s._)("option",{value:"all"},"All",-1),VDt=(0,s._)("option",{value:""},"No Delivery",-1),jDt=["value"];function RDt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",TDt,[FDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[IDt,VDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,jDt)))),128))],40,ODt)])}var MDt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const NDt=(0,p.Z)(MDt,[["render",RDt]]);var HDt=NDt;const YDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ZDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),KDt=["value"],BDt=(0,s._)("option",{value:"all"},"All",-1),QDt=(0,s._)("option",{value:""},"No Agent",-1),JDt=["value"];function GDt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",YDt,[ZDt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[BDt,QDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,JDt)))),128))],40,KDt)])}var XDt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const tSt=(0,p.Z)(XDt,[["render",GDt]]);var eSt=tSt;const rSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),sSt=["value"],oSt=(0,s._)("option",{value:"all"},"All",-1),lSt=["value"];function iSt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",rSt,[aSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,lSt)))),128))],40,sSt)])}var nSt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const wSt=(0,p.Z)(nSt,[["render",iSt]]);var dSt=wSt;const cSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uSt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},pSt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),mSt=[pSt],gSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hSt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},fSt=["value"],bSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xSt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ySt=["value"];function vSt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",cSt,[(0,s._)("label",uSt,(0,rt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},mSt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",gSt,[(0,s._)("label",hSt,(0,rt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,fSt)]),(0,s._)("div",bSt,[(0,s._)("label",xSt,(0,rt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ySt)])],64)):(0,s.kq)("",!0)],64)}var _St={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ve()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ve()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ve()().startOf("month").format("YYYY-MM-DD"),a=ve()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ve()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ve()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const kSt=(0,p.Z)(_St,[["render",vSt]]);var CSt=kSt,DSt={components:{AffectationFilter:HDt,AgentFilter:eSt,ProductFilter:dSt,DateFilter:CSt},props:{},data(){return{confirmations:Pd,deliveries:$d,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const SSt=(0,p.Z)(DSt,[["render",EDt]]);var zSt=SSt;const USt={key:0},PSt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function LSt(t,e,r,a,o,l){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",USt,[(0,s._)("div",PSt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const qSt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},ASt={class:"tw-flex tw-justify-between"},$St={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},WSt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ESt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},TSt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function FSt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qSt,[(0,s._)("div",ASt,[(0,s._)("div",null,[(0,s._)("div",$St,[(0,s._)("p",WSt,(0,rt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,rt.j5)({background:r.color})},(0,rt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ESt,[(0,s._)("span",TSt,(0,rt.zw)(l.format(r.value)),1)])]),(0,s._)("div",{style:(0,rt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,rt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var OSt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const ISt=(0,p.Z)(OSt,[["render",FSt]]);var VSt=ISt,jSt={components:{RevenueCard:VSt},props:{statistics:{required:!0},fetching:{required:!0}}};const RSt=(0,p.Z)(jSt,[["render",LSt]]);var MSt=RSt,NSt={components:{OnlineUsers:ACt,IndexStatistics:dDt,IndexFilters:zSt,IndexRevenue:MSt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,bp.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const HSt=(0,p.Z)(NSt,[["render",sCt]]);var YSt=HSt;function ZSt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])}const KSt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},BSt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),QSt=[BSt];function JSt(t,e,r,a,o,l){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",KSt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},QSt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const GSt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},XSt={class:"tw-flex tw-justify-between"},tzt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ezt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},rzt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},azt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function szt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GSt,[(0,s._)("div",XSt,[(0,s._)("div",null,[(0,s._)("div",tzt,[(0,s._)("p",ezt,(0,rt.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,rt.j5)({background:r.color})},(0,rt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",rzt,[(0,s._)("span",azt,(0,rt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,rt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,rt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var ozt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const lzt=(0,p.Z)(ozt,[["render",szt]]);var izt=lzt,nzt={components:{DashCard:izt},props:{statistics:{required:!0},fetching:{required:!0}}};const wzt=(0,p.Z)(nzt,[["render",JSt]]);var dzt=wzt;const czt={class:"tw-bg-white tw-p-5"},uzt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),pzt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},mzt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},gzt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),hzt=(0,s._)("span",null,"Clear",-1),fzt=[gzt,hzt],bzt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),xzt=(0,s._)("span",null,"Filter",-1),yzt=[bzt,xzt];function vzt(t,e,r,a,o,l){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",czt,[uzt,(0,s._)("div",pzt,[(0,s.Wm)(i,{from:o.filters.dropped_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",mzt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.clear&&l.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},fzt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.filter&&l.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},yzt)])])])}const _zt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kzt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Czt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),Dzt=[Czt],Szt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zzt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Uzt=["value"],Pzt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Lzt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},qzt=["value"];function Azt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",_zt,[(0,s._)("label",kzt,(0,rt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Dzt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Szt,[(0,s._)("label",zzt,(0,rt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Uzt)]),(0,s._)("div",Pzt,[(0,s._)("label",Lzt,(0,rt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,qzt)])],64)):(0,s.kq)("",!0)],64)}var $zt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ve()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ve()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ve()().startOf("month").format("YYYY-MM-DD"),a=ve()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ve()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ve()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const Wzt=(0,p.Z)($zt,[["render",Azt]]);var Ezt=Wzt,Tzt={components:{DateFilter:Ezt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={dropped_from:null,dropped_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const Fzt=(0,p.Z)(Tzt,[["render",vzt]]);var Ozt=Fzt,Izt={components:{IndexStatistics:dzt,IndexFilters:Ozt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,T.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const Vzt=(0,p.Z)(Izt,[["render",ZSt]]);var jzt=Vzt;const Rzt={class:"tw-pb-40"},Mzt={class:"tw-space-y-3"};function Nzt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",Rzt,[(0,s._)("div",Mzt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:o.analytics,fetching:o.fetching},null,8,["analytics","fetching"])])])}const Hzt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Yzt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Zzt=[Yzt],Kzt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function Bzt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",Hzt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Zzt))),64))])):((0,s.wg)(),(0,s.iD)("div",Kzt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const Qzt={class:"tw-flex tw-justify-between"},Jzt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Gzt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},Xzt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},tUt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function eUt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,rt.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",Qzt,[(0,s._)("div",null,[(0,s._)("div",Jzt,[(0,s._)("p",Gzt,(0,rt.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,rt.j5)({background:r.color})},(0,rt.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Xzt,[(0,s._)("span",tUt,(0,rt.zw)(r.value),1)])]),(0,s._)("div",{style:(0,rt.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,rt.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var rUt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const aUt=(0,p.Z)(rUt,[["render",eUt]]);var sUt=aUt,oUt={components:{DashboardCard:sUt},props:{analytics:{required:!0},fetching:{required:!0}}};const lUt=(0,p.Z)(oUt,[["render",Bzt]]);var iUt=lUt;const nUt={class:"tw-bg-white tw-p-5"},wUt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),dUt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},cUt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},uUt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),pUt=(0,s._)("span",null,"Clear",-1),mUt=[uUt,pUt],gUt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),hUt=(0,s._)("span",null,"Filter",-1),fUt=[gUt,hUt];function bUt(t,e,r,a,o,l){const i=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),w=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",nUt,[wUt,(0,s._)("div",dUt,[(0,s.Wm)(i,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[4]||(e[4]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(w,{filters:o.filters,onUpdate:e[5]||(e[5]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",cUt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>l.clear&&l.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},mUt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>l.filter&&l.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fUt)])])])}const xUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yUt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),vUt=["value"],_Ut=(0,s._)("option",{value:"all"},"All",-1),kUt=["value"];function CUt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",xUt,[yUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_Ut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.firstname)+" "+(0,rt.zw)(t.lastname),9,kUt)))),128))],40,vUt)])}var DUt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const SUt=(0,p.Z)(DUt,[["render",CUt]]);var zUt=SUt;const UUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PUt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),LUt=["value"],qUt=(0,s._)("option",{value:"all"},"All",-1),AUt=["value"];function $Ut(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",UUt,[PUt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,rt.zw)(t.name),9,AUt)))),128))],40,LUt)])}var WUt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const EUt=(0,p.Z)(WUt,[["render",$Ut]]);var TUt=EUt;const FUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},OUt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},IUt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),VUt=[IUt],jUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RUt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},MUt=["value"],NUt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},HUt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},YUt=["value"];function ZUt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",FUt,[(0,s._)("label",OUt,(0,rt.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},VUt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",jUt,[(0,s._)("label",RUt,(0,rt.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,MUt)]),(0,s._)("div",NUt,[(0,s._)("label",HUt,(0,rt.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,YUt)])],64)):(0,s.kq)("",!0)],64)}var KUt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=ve()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=ve()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=ve()().startOf("month").format("YYYY-MM-DD"),a=ve()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=ve()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=ve()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const BUt=(0,p.Z)(KUt,[["render",ZUt]]);var QUt=BUt,JUt={components:{SellerFilter:zUt,ProductFilter:TUt,DateFilter:QUt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const GUt=(0,p.Z)(JUt,[["render",bUt]]);var XUt=GUt,tPt={components:{IndexAnalytics:iUt,IndexFilters:XUt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,bp.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const ePt=(0,p.Z)(tPt,[["render",Nzt]]);var rPt=ePt;const aPt={class:"tw-p-5"},sPt={key:0},oPt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var lPt={__name:"ProductPerformanceByConfirmation",setup(t){const e=(0,fe.iH)([]),r=(0,fe.iH)(!0),a=["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"],o=(0,s.Fl)((()=>r.value?null:e.value.map(l))),l=t=>{const e={confirmer:0,annuler:0,noAnswer:0,new:0,double:0,others:0};return Object.keys(t.confirmation_counts).forEach((r=>{const s=t.confirmation_counts[r];r?r in e?e[r]+=s:a.includes(r)?e.noAnswer+=s:e.others+=s:e.new+=s})),e},i=async()=>{r.value=!0,await yr.productPerformanceByConfirmation().then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.data.sort(((t,e)=>{const r=t=>Object.values(t).reduce(((t,e)=>t+e),0),a=r(t.confirmation_counts),s=r(e.confirmation_counts);return s-a})))})),r.value=!1};i();var n=(0,s.Fl)((()=>r.value?null:{series:[{name:"New",group:"actual",data:o.value.map((t=>t.new))},{name:"Confirmed",group:"actual",data:o.value.map((t=>t.confirmer))},{name:"Cancelled",group:"actual",data:o.value.map((t=>t.annuler))},{name:"No Answer",group:"actual",data:o.value.map((t=>t.noAnswer))},{name:"Double",group:"actual",data:o.value.map((t=>t.double))},{name:"Others",group:"actual",data:o.value.map((t=>t.others))}],chart:{type:"bar",height:350,stacked:!0},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:()=>""},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:e.value.map((t=>t.ref)),labels:{}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"}}));return(t,e)=>{const a=(0,s.up)("apexchart"),o=(0,s.up)("Loading");return(0,s.wg)(),(0,s.iD)("div",aPt,[r.value?((0,s.wg)(),(0,s.iD)("div",oPt,[(0,s.Wm)(o)])):((0,s.wg)(),(0,s.iD)("div",sPt,[(0,s.Wm)(a,{height:500,series:(0,fe.SU)(n).series,chart:(0,fe.SU)(n).chart,options:(0,fe.SU)(n)},null,8,["series","chart","options"])]))])}}};const iPt=lPt;var nPt=iPt;const wPt={class:"tw-p-5"},dPt={key:0},cPt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var uPt={__name:"ProductPerformanceByDelivery",setup(t){const e=(0,fe.iH)([]),r=(0,fe.iH)(!0),a=["expidier","transfer"],o=(0,s.Fl)((()=>r.value?null:e.value.map(l))),l=t=>{const e={noStatus:0,livrer:0,dispatch:0,shipped:0,annuler:0,retourner:0,others:0};return Object.keys(t.confirmation_counts).forEach((r=>{const s=t.confirmation_counts[r];r?r in e?e[r]+=s:a.includes(r)?e.shipped+=s:e.others+=s:e.noStatus+=s})),e},i=async()=>{r.value=!0,await yr.productPerformanceByDelivery().then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.data.sort(((t,e)=>{const r=t=>Object.values(t).reduce(((t,e)=>t+e),0),a=r(t.confirmation_counts),s=r(e.confirmation_counts);return s-a})))})),r.value=!1};i();var n=(0,s.Fl)((()=>r.value?null:{series:[{name:"Delivered",group:"actual",data:o.value.map((t=>t.livrer))},{name:"Shipped",group:"actual",data:o.value.map((t=>t.shipped))},{name:"Dispatched",group:"actual",data:o.value.map((t=>t.dispatch))},{name:"Cancelled",group:"actual",data:o.value.map((t=>t.annuler))},{name:"Returned",group:"actual",data:o.value.map((t=>t.retourner))},{name:"Others",group:"actual",data:o.value.map((t=>t.others))},{name:"No Status",group:"actual",data:o.value.map((t=>t.noStatus))}],chart:{type:"bar",height:350,stacked:!0},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:()=>""},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:e.value.map((t=>t.ref)),labels:{}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"}}));return(t,e)=>{const a=(0,s.up)("apexchart"),o=(0,s.up)("Loading");return(0,s.wg)(),(0,s.iD)("div",wPt,[r.value?((0,s.wg)(),(0,s.iD)("div",cPt,[(0,s.Wm)(o)])):((0,s.wg)(),(0,s.iD)("div",dPt,[(0,s.Wm)(a,{height:500,series:(0,fe.SU)(n).series,chart:(0,fe.SU)(n).chart,options:(0,fe.SU)(n)},null,8,["series","chart","options"])]))])}}};const pPt=uPt;var mPt=pPt;const gPt={class:"tw-grid tw-grid-cols-12 tw-gap-2"},hPt={class:"tw-col-span-12 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},fPt={class:"tw-col-span-12 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"};var bPt={__name:"DashboardChartsView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gPt,[(0,s._)("div",hPt,[(0,s.Wm)((0,fe.SU)(nPt))]),(0,s._)("div",fPt,[(0,s.Wm)((0,fe.SU)(mPt))])])]))}};const xPt=bPt;var yPt=xPt,vPt={name:"dashboards",path:"/dashboards",component:fa,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:YSt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:rPt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:jzt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}},{name:"dashboards/admin/charts",path:"admin/charts",component:yPt,meta:{module:"dashboards",subModule:"admin/charts",title:"Charts",role:"admin"}}]};class _Pt{async paginate(t="",e){return await W.getCookie(),A.post("api/sourcings"+t,e)}async create(t){return await W.getCookie(),A.post("api/sourcings/new",t)}async update(t,e){return await W.getCookie(),A.post("api/sourcings/"+t,e)}async get(t){return await W.getCookie(),A.get("api/sourcings/"+t)}async history(t){return await W.getCookie(),A.get("api/sourcings/"+t+"/history")}async delete(t){return await W.getCookie(),A["delete"]("api/sourcings/"+t)}}var kPt=new _Pt;const CPt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],DPt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],SPt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zPt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),UPt=(0,s._)("option",{value:"all"},"All",-1),PPt=["value"];var LPt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",SPt,[zPt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,fe.SU)(e).setFilter("quotation_status",t.target.value)),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[UPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(CPt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,rt.zw)(t.name),9,PPt)))),128))],32)]))}};const qPt=LPt;var APt=qPt;const $Pt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WPt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),EPt=(0,s._)("option",{value:"all"},"All",-1),TPt=["value"];var FPt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",$Pt,[WPt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,fe.SU)(e).setFilter("sourcing_status",t.target.value)),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[EPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(DPt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,rt.zw)(t.name),9,TPt)))),128))],32)]))}};const OPt=FPt;var IPt=OPt;const VPt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},jPt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},RPt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},MPt={class:"tw-col-span-12 tw-flex tw-justify-end"},NPt=(0,s._)("span",null,"Filter",-1),HPt=[NPt];var YPt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,fe.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",VPt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",jPt,[(0,s.Wm)((0,fe.SU)(APt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",RPt,[(0,s.Wm)((0,fe.SU)(IPt))])):(0,s.kq)("",!0),(0,s._)("div",MPt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,fe.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},HPt)])])]))}};const ZPt=YPt;var KPt=ZPt;const BPt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},QPt=["value"],JPt=["value"],GPt=["value","onKeyup"];var XPt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=(0,fe.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),o=(0,fe.iH)("all"),l=(0,fe.iH)(""),i=t=>{e("update:search-by-field",t.target.value)},n=t=>{e("update:search",t.target.value)},w=()=>{e("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",BPt,[(0,s._)("select",{onChange:i,value:o.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,rt.zw)(t.name),9,JPt)))),128))],40,QPt),(0,s._)("input",{type:"text",placeholder:"Search",value:l.value,onInput:n,onKeyup:(0,a.D2)(w,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,GPt),(0,s._)("button",{onClick:w,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const tLt=XPt;var eLt=tLt;const rLt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},aLt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},sLt={class:"tw-relative tw-h-[40px]"},oLt=["value"],lLt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},iLt={key:0},nLt={class:"tw-overflow-hidden tw-col-span-1"};var wLt={__name:"IndexOptions",setup(t){const e=(0,fe.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rLt,[(0,s._)("div",aLt,[(0,s._)("button",{class:(0,rt.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),(0,s._)("button",{title:"Requests created today",class:(0,rt.C_)([[!1],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:!1}," Today "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,rt.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(o,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",sLt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,rt.zw)(t),9,oLt))),64))],32),(0,s._)("div",lLt,[(0,s.Wm)(o,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,fe.SU)(eLt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",iLt,[(0,s._)("div",{class:(0,rt.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",nLt,[(0,s.Wm)((0,fe.SU)(KPt))])],2)])):(0,s.kq)("",!0)])}}};const dLt=wLt;var cLt=dLt;const uLt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},pLt=["colspan"],mLt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},gLt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),hLt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),fLt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),bLt=[hLt,fLt];var xLt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",uLt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",mLt,[gLt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},bLt)))),128))])],8,pLt)])]))}};const yLt=xLt;var vLt=yLt;const _Lt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},kLt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},CLt=(0,s._)("span",null,"Sourcing History",-1),DLt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},SLt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},zLt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},ULt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},PLt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),LLt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},qLt={class:"tw-text-gray-500"},ALt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},$Lt=["onMouseenter","onMouseleave"],WLt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},ELt={class:"tw-flex tw-flex-col tw-gap-4"},TLt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},FLt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},OLt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},ILt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},VLt={key:1,class:"tw-w-full"},jLt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),RLt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var MLt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a={product_name:"Product name",product_url:"Product URL",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note:"Note",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},o={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},quotation_status:CPt.reduce(((t,e)=>(t[e.value]=e.name,t)),{}),sourcing_status:DPt.reduce(((t,e)=>(t[e.value]=e.name,t)),{})},l=(0,fe.Vh)(r,"visible"),i=(0,fe.Vh)(r,"sourcing"),n=(0,fe.iH)(!0),w=(0,fe.iH)([!0]),d=async()=>{n.value=!0,await kPt.history(i.value.id).then((t=>{"SUCCESS"==t.data.code&&(console.log(t.data),w.value=t.data.history,w.value.reverse())})),n.value=!1};return d(),(t,r)=>{const i=(0,s.up)("icon"),d=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:(0,fe.SU)(l),onCancel:r[1]||(r[1]=t=>e("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",_Lt,[(0,s._)("div",kLt,[CLt,(0,s._)("button",{onClick:r[0]||(r[0]=t=>e("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(i,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",DLt,[(0,s.Wm)(d)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",SLt,[w.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",zLt,"There is no history for this sourcing yet.")),w.value.length?((0,s.wg)(),(0,s.iD)("ol",ULt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[PLt,(0,s._)("div",LLt,[(0,s._)("p",qLt,[(0,s.Uk)(" by "),(0,s._)("span",ALt,(0,rt.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,rt.zw)(t.isHovering?(0,fe.SU)(ve())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,fe.SU)(ve())(t.created_at).fromNow()),41,$Lt)]),(0,s._)("div",WLt,[(0,s._)("div",ELt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",VLt,[jLt,(0,s._)("div",RLt,(0,rt.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",TLt,[(0,s.Uk)("Changed "),(0,s._)("span",FLt,(0,rt.zw)(a[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",OLt,(0,rt.zw)(t.field in o?o[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",ILt,(0,rt.zw)(t.field in o?o[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const NLt=MLt;var HLt=NLt;const YLt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var ZLt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,fe.qj)({history:!1}),a=(0,fe.Vh)(e,"item");return(t,e)=>{const o=(0,s.up)("icon"),l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",YLt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:0,to:{name:"sourcings.show",params:{id:(0,fe.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(l,{key:1,to:{name:"sourcings.show",params:{id:(0,fe.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(o,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,fe.SU)(HLt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:(0,fe.SU)(a)},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const KLt=ZLt;var BLt=KLt;const QLt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},JLt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},GLt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},XLt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},aqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},sqt={class:"tw-px-4"},oqt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},lqt={class:"tw-px-4"},iqt=["admin"];var nqt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),o=(0,fe.Vh)(e,"item"),l=(0,fe.iH)(CPt.find((t=>t.value==o.value.quotation_status))),n=(0,fe.iH)(DPt.find((t=>t.value==o.value.sourcing_status)));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",QLt,(0,rt.zw)((0,fe.SU)(o).id),1),(0,s._)("td",JLt,(0,rt.zw)((0,fe.SU)(ve())((0,fe.SU)(o).created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",GLt,(0,rt.zw)((0,fe.SU)(o).product_name),1),(0,s._)("td",XLt,[(0,s._)("p",{class:(0,rt.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===(0,fe.SU)(o).shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===(0,fe.SU)(o).shipping_method})},(0,rt.zw)("air-freight"===(0,fe.SU)(o).shipping_method?"By Air":"ocean-freight"===(0,fe.SU)(o).shipping_method?"By Ocean":(0,fe.SU)(o).shipping_method),3)]),(0,s._)("td",tqt,(0,rt.zw)((0,fe.SU)(c))+(0,rt.zw)((0,fe.SU)(o).total_cost),1),(0,s._)("td",eqt,(0,rt.zw)((0,fe.SU)(o).estimated_quantity),1),(0,s._)("td",rqt,(0,rt.zw)((0,fe.SU)(o).destination_country),1),(0,s._)("td",aqt,[(0,s._)("div",sqt,[(0,s._)("div",{class:(0,rt.C_)([l.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,rt.zw)(l.value.name),3)])]),(0,s._)("td",oqt,[(0,s._)("div",lqt,[(0,s._)("div",{class:(0,rt.C_)([n.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,rt.zw)(n.value.name),3)])]),(0,s._)("td",{admin:(0,fe.SU)(a)},[(0,s._)("div",null,[(0,s.Wm)((0,fe.SU)(BLt),{item:(0,fe.SU)(o)},null,8,["item"])])],8,iqt)]))}};const wqt=nqt;var dqt=wqt;const cqt={class:"tw-overflow-x-auto"},uqt={class:"tw-inline-block tw-min-w-full tw-align-middle"},pqt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},mqt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},gqt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},hqt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},fqt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},bqt=["colspan"],xqt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),yqt=[xqt];var vqt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),o=(0,fe.Vh)(e,"loading"),l=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"Total",name:"total_cost",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"Total",name:"total_cost",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=(0,fe.iH)("admin"==a.value.role?l:n),d=(0,fe.Vh)(e,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cqt,[(0,s._)("div",uqt,[(0,s._)("div",pqt,[(0,s._)("table",mqt,[(0,s._)("thead",gqt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,rt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,rt.zw)(t.name),1)],2)))),128))])]),(0,fe.SU)(o)?((0,s.wg)(),(0,s.j4)((0,fe.SU)(vLt),{key:1,columns:w.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,fe.SU)(d).length?((0,s.wg)(),(0,s.iD)("tbody",hqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(d),(t=>((0,s.wg)(),(0,s.j4)((0,fe.SU)(dqt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,fe.SU)(d).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",fqt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:w.value.length},yqt,8,bqt)])]))],64))])])])])]))}};const _qt=vqt;var kqt=_qt;const Cqt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Dqt={class:"tw-px-3"},Sqt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},zqt={class:"tw-flex tw-items-center tw-gap-x-3"},Uqt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),Pqt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Lqt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),qqt={key:0},Aqt=(0,s._)("span",null,"Request new product",-1),$qt={class:"tw-mt-5"};var Wqt={__name:"IndexSourcingView",setup(t){const e=(0,fe.iH)([]),r=(0,fe.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,fe.iH)(!1),o=async()=>{a.value=!0,await kPt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},l=t=>{r.current_page=t,r.page=t,o()};return(0,s.JJ)("options",{options:r,getData:o,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),o(),(t,o)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Cqt,[(0,s._)("section",Dqt,[(0,s._)("div",Sqt,[(0,s._)("div",null,[(0,s._)("div",zqt,[Uqt,(0,s._)("span",Pqt,(0,rt.zw)(r.total)+" request",1)]),Lqt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",qqt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[Aqt])),_:1},8,["to"])])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,fe.SU)(cLt))]),(0,s._)("div",null,[(0,s.Wm)((0,fe.SU)(kqt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",$qt,[(0,s.Wm)((0,fe.SU)(Li),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:l},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const Eqt=Wqt;var Tqt=Eqt;const Fqt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},Oqt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),Iqt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),Vqt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},jqt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},Rqt={class:"tw-relative tw-z-40"},Mqt=["disabled","value"],Nqt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Hqt={key:0,class:""},Yqt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},Zqt={class:"tw-space-y-1 tw-py-1"},Kqt=["onClick"],Bqt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},Qqt={class:"tw-relative tw-z-30"},Jqt=["disabled","value"],Gqt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Xqt={key:0,class:""},tAt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},eAt={class:"tw-space-y-1 tw-py-1"},rAt=["onClick"],aAt={class:"tw-p-5"},sAt={class:"tw-grid tw-grid-cols-5"},oAt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},lAt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),iAt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},nAt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),wAt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},dAt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),cAt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},uAt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),pAt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},mAt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var gAt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,h.yj)(),o=(0,fe.Vh)(e,"sourcing"),l=(0,s.f3)("sourcing"),i=(0,fe.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,fe.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,s.Fl)((()=>CPt.find((t=>t.value==o.value.quotation_status)))),d=(0,s.Fl)((()=>DPt.find((t=>t.value==o.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,o.value[t]==e.value)return!1;n[t]=!0,await kPt.update(o.value.id,{...o.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&l.updateSourcing(t.data.sourcing)})),n[t]=!1};return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Fqt,[(0,s._)("p",null,[Oqt,(0,s.Uk)(" "+(0,rt.zw)((0,fe.SU)(r).params.id),1)]),(0,s._)("p",null,[Iqt,(0,s.Uk)(" "+(0,rt.zw)((0,fe.SU)(ve())((0,fe.SU)(o).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",Vqt,[(0,s._)("div",null,[(0,s._)("label",jqt,[(0,s.Uk)(" Quotation Status "),n.quotation_status?((0,s.wg)(),(0,s.j4)(l,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Rqt,[(0,s._)("input",{class:(0,rt.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.quotation_status,onClick:e[0]||(e[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:(0,fe.SU)(w).name,readonly:"",required:""},null,8,Mqt),Nqt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",Hqt,[(0,s._)("div",Yqt,[(0,s._)("div",Zqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(CPt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,rt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,rt.zw)(t.name),11,Kqt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ee.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",Bqt,[(0,s.Uk)(" Sourcing Status "),n.sourcing_status?((0,s.wg)(),(0,s.j4)(l,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Qqt,[(0,s._)("input",{class:(0,rt.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.sourcing_status,onClick:e[1]||(e[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:(0,fe.SU)(d).name,readonly:"",required:""},null,8,Jqt),Gqt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",Xqt,[(0,s._)("div",tAt,[(0,s._)("div",eAt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(DPt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,rt.C_)(["tw-w-full tw-p-2",[t.class]])},(0,rt.zw)(t.name),11,rAt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[ee.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",aAt,[(0,s._)("div",sAt,[(0,s._)("div",oAt,[(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(l,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),lAt]),(0,s._)("div",iAt,[(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=2&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=2&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(l,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),nAt]),(0,s._)("div",wAt,[(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=3&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=3&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(l,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),dAt]),(0,s._)("div",cAt,[(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=4&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=4&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(l,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),uAt]),(0,s._)("div",pAt,[(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=5&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,rt.C_)([[(0,fe.SU)(d).step>=5&&"confirmed"==(0,fe.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(l,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),mAt])])])])}}};const hAt=gAt;var fAt=hAt;const bAt={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},xAt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},yAt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),vAt={class:"tw-p-5 tw-space-y-4"},_At=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),kAt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),CAt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),DAt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),SAt=[kAt,CAt,DAt],zAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},UAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),PAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price",-1),qAt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},AAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),$At={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WAt=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),EAt={class:"tw-flex tw-items-center tw-justify-between"},TAt=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),FAt={class:"tw-text-lg tw-font-bold"},OAt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},IAt=["disabled"],VAt=(0,s._)("span",null,"Update quotation",-1);var jAt={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,o=(0,s.f3)("sourcing"),l=(0,fe.iH)(!1),i=(0,fe.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(i.sourcing.estimated_quantity??0)*(i.sourcing.cost_per_unit??0)+(i.sourcing.additional_fees??0))),w=()=>{e("update:visible",!1)},d=async()=>{l.value=!0;const t="pending"==i.sourcing.quotation_status?"quoting":i.sourcing.quotation_status;await kPt.update(i.sourcing.id,{...i.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),_n("Quotation sent"),w())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)i.errors[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(0,s.YP)((()=>r.visible),(()=>{i.sourcing=ll(r.sourcing)})),(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(o,{visible:r.visible,onCancel:w},{default:(0,s.w5)((()=>[(0,s._)("div",bAt,[(0,s._)("div",xAt,[yAt,(0,s._)("div",vAt,[(0,s._)("div",null,[_At,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>i.errors.shipping_method=null),class:(0,rt.C_)([[i.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},SAt,34),[[a.bM,i.sourcing.shipping_method,void 0,{number:!0}]]),i.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",zAt,(0,rt.zw)(i.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[UAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>i.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,rt.C_)([[i.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,i.sourcing.estimated_quantity,void 0,{number:!0}]]),i.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",PAt,(0,rt.zw)(i.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[LAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.cost_per_unit=t),onInput:e[5]||(e[5]=t=>i.errors.cost_per_unit=null),type:"number",class:(0,rt.C_)([[i.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,i.sourcing.cost_per_unit,void 0,{number:!0}]]),i.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",qAt,(0,rt.zw)(i.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[AAt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.additional_fees=t),onInput:e[7]||(e[7]=t=>i.errors.additional_fees=null),type:"number",class:(0,rt.C_)([[i.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,i.sourcing.additional_fees,void 0,{number:!0}]]),i.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",$At,(0,rt.zw)(i.errors.additional_fees),1)):(0,s.kq)("",!0)]),WAt,(0,s._)("div",EAt,[TAt,(0,s._)("span",FAt,(0,rt.zw)((0,fe.SU)(n))+" "+(0,rt.zw)((0,fe.SU)(c)),1)])]),(0,s._)("div",OAt,[(0,s._)("button",{onClick:w,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),VAt],8,IAt)])])])])),_:1},8,["visible"])}}};const RAt=jAt;var MAt=RAt;const NAt={class:"tw-p-5"},HAt={class:"tw-space-y-4"},YAt={class:"tw-flex tw-items-center tw-justify-between"},ZAt=(0,s._)("span",null,"Destination Country:",-1),KAt={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},BAt={class:"tw-flex tw-items-center tw-justify-between"},QAt=(0,s._)("span",null,"Shipping Method:",-1),JAt={key:0,class:"tw-font-black tw-text-neutral-800"},GAt={key:1,class:"tw-font-black tw-text-neutral-800"},XAt={class:"tw-flex tw-items-center tw-justify-between"},t$t=(0,s._)("span",null,"Quantity:",-1),e$t={class:"tw-font-black tw-text-neutral-800"},r$t={class:"tw-flex tw-items-center tw-justify-between"},a$t=(0,s._)("span",null,"Unit Price:",-1),s$t={class:"tw-font-black tw-text-neutral-800"},o$t={class:"tw-flex tw-items-center tw-justify-between tw-"},l$t=(0,s._)("span",null,"Additional Fees:",-1),i$t={class:"tw-font-black tw-text-neutral-800"},n$t=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),w$t={class:"tw-flex tw-items-center tw-justify-between"},d$t=(0,s._)("span",null,"Total:",-1),c$t={class:"tw-font-black tw-text-neutral-800"},u$t={class:"tw-space-y-2 mt-5"},p$t=(0,s._)("span",null,"Edit",-1);var m$t={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,fe.Vh)(e,"sourcing"),a=(0,fe.iH)(!1);return(t,e)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",NAt,[(0,s._)("div",null,[(0,s._)("ul",HAt,[(0,s._)("li",YAt,[ZAt,(0,s._)("span",KAt,(0,rt.zw)((0,fe.SU)(r).destination_country),1)]),(0,s._)("li",BAt,[QAt,"air-freight"==(0,fe.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",JAt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,fe.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",GAt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",XAt,[t$t,(0,s._)("span",e$t,(0,rt.zw)((0,fe.SU)(r).estimated_quantity),1)]),(0,s._)("li",r$t,[a$t,(0,s._)("span",s$t,(0,rt.zw)((0,fe.SU)(r).cost_per_unit)+" "+(0,rt.zw)((0,fe.SU)(c)),1)]),(0,s._)("li",o$t,[l$t,(0,s._)("span",i$t,(0,rt.zw)((0,fe.SU)(r).additional_fees)+" "+(0,rt.zw)((0,fe.SU)(c)),1)]),n$t,(0,s._)("li",w$t,[d$t,(0,s._)("span",c$t,(0,rt.zw)((0,fe.SU)(r).total_cost)+" "+(0,rt.zw)((0,fe.SU)(c)),1)])])]),(0,s._)("div",u$t,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>a.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(o,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),p$t]),(0,s.kq)("",!0)]),(0,s.Wm)((0,fe.SU)(MAt),{sourcing:(0,fe.SU)(r),visible:a.value,"onUpdate:visible":e[1]||(e[1]=t=>a.value=t)},null,8,["sourcing","visible"])])}}};const g$t=m$t;var h$t=g$t;const f$t={class:"tw-p-5"},b$t={class:"tw-grid tw-grid-cols-12 tw-gap-5"},x$t={class:"md:tw-col-span-6 tw-col-span-12"},y$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),v$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_$t={class:"md:tw-col-span-6 tw-col-span-12"},k$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),C$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D$t={class:"md:tw-col-span-6 tw-col-span-12"},S$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),z$t={class:"tw-relative"},U$t=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),P$t=(0,s._)("option",{value:"air-freight"},"Air freight",-1),L$t=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),q$t=[U$t,P$t,L$t],A$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W$t={class:"md:tw-col-span-6 tw-col-span-12"},E$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),T$t={class:"tw-relative"},F$t=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),O$t=[F$t],I$t=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),V$t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},j$t={class:"tw-col-span-12"},R$t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),M$t={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},N$t=["disabled"],H$t=(0,s._)("span",null,"Update",-1);var Y$t={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=t,r=(0,fe.qj)({}),o=(0,fe.iH)(!1),l=(0,s.f3)("sourcing"),i=(0,fe.qj)({sourcing:{}}),n=async()=>{o.value=!0,await kPt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(l.updateSourcing(t.data.sourcing),_n("Updated success"))}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)r[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(0,s.YP)((()=>e.sourcing),(()=>{i.sourcing=ll(e.sourcing)}),{deep:!0}),i.sourcing=ll(e.sourcing),(t,e)=>((0,s.wg)(),(0,s.iD)("div",f$t,[(0,s._)("div",b$t,[(0,s._)("div",x$t,[y$t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.product_name=t),onInput:e[1]||(e[1]=t=>r.product_name=null),class:(0,rt.C_)([[r.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),r.product_name?((0,s.wg)(),(0,s.iD)("label",v$t,(0,rt.zw)(r.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",_$t,[k$t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.product_url=t),onInput:e[3]||(e[3]=t=>r.product_url=null),class:(0,rt.C_)([[r.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]]),r.product_url?((0,s.wg)(),(0,s.iD)("label",C$t,(0,rt.zw)(r.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",D$t,[S$t,(0,s._)("div",z$t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.shipping_method=t),onChange:e[5]||(e[5]=t=>r.shipping_method=null),class:(0,rt.C_)([[r.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},q$t,34),[[a.bM,i.sourcing.shipping_method]]),A$t]),r.shipping_method?((0,s.wg)(),(0,s.iD)("label",$$t,(0,rt.zw)(r.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",W$t,[E$t,(0,s._)("div",T$t,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.destination_country=t),onChange:e[7]||(e[7]=t=>r.destination_country=null),class:(0,rt.C_)([[r.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},O$t,34),[[a.bM,i.sourcing.destination_country]]),I$t]),r.destination_country?((0,s.wg)(),(0,s.iD)("label",V$t,(0,rt.zw)(r.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",j$t,[R$t,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.sourcing.note=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request"},null,512),[[a.nr,i.sourcing.note]])]),(0,s._)("div",M$t,[(0,s._)("button",{disabled:o.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),H$t],8,N$t)])])]))}};const Z$t=Y$t;var K$t=Z$t;const B$t={class:"tw-w-full"},Q$t={class:"tw-w-full"},J$t=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),G$t={class:"tw-pt-2"},X$t=["href"],tWt={class:"tw-pt-2"};var eWt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,fe.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",B$t,[(0,s._)("table",Q$t,[J$t,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",G$t,[(0,s._)("a",{href:(0,fe.SU)(r).product_url,class:"tw-truncate tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,rt.zw)((0,fe.SU)(r).product_name),9,X$t)]),(0,s._)("td",tWt,(0,rt.zw)((0,fe.SU)(r).estimated_quantity),1)])])])]))}};const rWt=eWt;var aWt=rWt;const sWt={class:"tw-relative"},oWt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},lWt={class:"tw-px-3"},iWt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},nWt={class:"tw-flex tw-items-center tw-gap-x-5"},wWt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},dWt={class:"tw-flex tw-items-center tw-gap-2"},cWt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},uWt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},pWt={class:"tw-space-y-4 lg:tw-col-span-8"},mWt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},gWt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},hWt=(0,s._)("span",null,"Note",-1),fWt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},bWt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},xWt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},yWt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},vWt={class:"lg:tw-col-span-4"},_Wt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var kWt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,h.yj)(),a=(0,fe.Vh)(e,"sourcing"),o=((0,fe.Vh)(e,"loading"),(0,s.Fl)((()=>CPt.find((t=>t.value==a.value.quotation_status))))),l=(0,s.Fl)((()=>DPt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",sWt,[(0,s._)("div",oWt,[(0,s._)("section",lWt,[(0,s._)("div",iWt,[(0,s._)("div",null,[(0,s._)("div",nWt,[(0,s._)("h2",wWt," Quotation: #"+(0,rt.zw)((0,fe.SU)(r).params.id),1),(0,s._)("div",dWt,[(0,s._)("div",{class:(0,rt.C_)([(0,fe.SU)(o).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,rt.zw)((0,fe.SU)(o).name),3),(0,s._)("div",{class:(0,rt.C_)([(0,fe.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,rt.zw)((0,fe.SU)(l).name),3)])]),(0,s._)("p",cWt,(0,rt.zw)((0,fe.SU)(ve())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",uWt,[(0,s._)("div",pWt,[(0,fe.SU)(a).note?((0,s.wg)(),(0,s.iD)("div",mWt,[(0,s._)("div",gWt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),hWt]),(0,s._)("div",fWt,[(0,s._)("h1",null,(0,rt.zw)((0,fe.SU)(a).note),1)])])):(0,s.kq)("",!0),(0,s._)("div",bWt,[(0,s.Wm)((0,fe.SU)(fAt),{sourcing:(0,fe.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",xWt,[(0,s.Wm)((0,fe.SU)(aWt),{sourcing:(0,fe.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",yWt,[(0,s.Wm)((0,fe.SU)(K$t),{sourcing:(0,fe.SU)(a)},null,8,["sourcing"])])]),(0,s._)("div",vWt,[(0,s._)("div",_Wt,[(0,s.Wm)((0,fe.SU)(h$t),{sourcing:(0,fe.SU)(a)},null,8,["sourcing"])])])])])}}};const CWt=kWt;var DWt=CWt;const SWt={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var zWt={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,h.yj)(),a=(0,h.tv)(),o=r.params.id,l=(0,fe.iH)(!0),n=(0,fe.iH)(null),w=e.getters["user/user"],d=async()=>{l.value=!0,await kPt.get(o).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),l.value=!1},c=t=>{n.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.value?((0,s.wg)(),(0,s.iD)("div",SWt,[(0,s.Wm)(r)])):(0,s.kq)("",!0),l.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["admin"==(0,fe.SU)(w).role?((0,s.wg)(),(0,s.j4)((0,fe.SU)(DWt),{key:0,sourcing:n.value,loading:l.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const UWt=zWt;var PWt=UWt;const LWt={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},qWt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},AWt={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},$Wt=["src"],WWt={class:"tw-col-span-8"},EWt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),TWt={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},FWt={class:"md:tw-col-span-6 tw-col-span-12"},OWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),IWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VWt={class:"md:tw-col-span-6 tw-col-span-12"},jWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),RWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},MWt={class:"md:tw-col-span-6 tw-col-span-12"},NWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),HWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YWt={class:"md:tw-col-span-6 tw-col-span-12"},ZWt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),KWt={class:"tw-relative"},BWt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),QWt=[BWt],JWt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),GWt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},XWt={class:"tw-col-span-12"},tEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),eEt={class:"md:tw-col-span-6 tw-col-span-12"},rEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),aEt={class:"tw-relative"},sEt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),oEt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),lEt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),iEt=[sEt,oEt,lEt],nEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dEt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},cEt=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),uEt=["disabled"],pEt=(0,s._)("span",null,"Add to sourcing",-1);var mEt={__name:"CreateSourcingView",setup(t){const e=(0,fe.qj)({}),r=(0,fe.iH)(!1),o=(0,fe.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),l=async()=>{r.value=!0,await kPt.create(o).then((t=>{"SUCCESS"==t.data.code&&(_n("Your sourcing has been added"),Object.keys(o).forEach((t=>o[t]=null)),o.destination_country="lebanon",o.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",LWt,[(0,s._)("div",qWt,[(0,s._)("div",AWt,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,$Wt)]),(0,s._)("div",WWt,[EWt,(0,s._)("div",TWt,[(0,s._)("div",FWt,[OWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>o.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,rt.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,o.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",IWt,(0,rt.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",VWt,[jWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>o.product_url=t),onInput:i[3]||(i[3]=t=>e.product_url=null),class:(0,rt.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,o.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",RWt,(0,rt.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",MWt,[NWt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>o.estimated_quantity=t),onInput:i[5]||(i[5]=t=>e.estimated_quantity=null),class:(0,rt.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,o.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",HWt,(0,rt.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",YWt,[ZWt,(0,s._)("div",KWt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[6]||(i[6]=t=>o.destination_country=t),onChange:i[7]||(i[7]=t=>e.destination_country=null),class:(0,rt.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},QWt,34),[[a.bM,o.destination_country]]),JWt]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",GWt,(0,rt.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",XWt,[tEt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>o.note=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,o.note]])]),(0,s._)("div",eEt,[rEt,(0,s._)("div",aEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>o.shipping_method=t),onChange:i[10]||(i[10]=t=>e.shipping_method=null),class:(0,rt.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},iEt,34),[[a.bM,o.shipping_method]]),nEt]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",wEt,(0,rt.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",dEt,[cEt,(0,s._)("button",{disabled:r.value,onClick:l,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),pEt],8,uEt)])])])])]))}};const gEt=mEt;var hEt=gEt,fEt={name:"sourcings",path:"/sourcings",component:fa,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:Tqt,meta:{module:"sourcing",title:"Sourcing",role:["admin"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:hEt,meta:{module:"sourcing",title:"New Sourcing",role:["admin"]}},{name:"sourcings.show",path:":id",component:PWt,meta:{module:"sourcing",title:"Sourcing",role:["admin"]}}]},bEt=r(3636);const xEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var yEt={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>G.getters["user/roles"])),a=(0,fe.iH)(null),o=(0,fe.iH)(!1),l=(0,fe.iH)([{id:null,name:"Choose Role"},...r.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),i=t=>{l.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(G.getters["user/fetchedRoles"])return!1;o.value=!0,await tt.roles().then((t=>{"SUCCESS"==t.data.code&&(G.dispatch("user/setRoles",t.data.data.roles),G.dispatch("user/setFetchedRoles",!0),i(r.value))})),o.value=!1},w=t=>{console.log(t),e("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[xEt,(0,s.Wm)((0,fe.SU)(bEt.Z),{loading:o.value,"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>w(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:l.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const vEt=yEt;var _Et=vEt;const kEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var CEt={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>G.getters["user/users"])),a=(0,fe.iH)(null),o=(0,fe.iH)([{id:null,name:"Choose User"},...r.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),l=t=>{e("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[kEt,(0,s.Wm)((0,fe.SU)(bEt.Z),{class:"tw-min-w-[200px]","append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>l(t)),clearable:!1,placeholder:"Choose User",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:o.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const DEt=CEt;var SEt=DEt;const zEt=(0,s._)("span",null,"Make announcement",-1),UEt=[zEt],PEt={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},LEt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},qEt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),AEt={class:"tw-p-5 tw-space-y-4"},$Et=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),WEt={class:"tw-grid tw-grid-cols-4 tw-gap-2"},EEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),TEt={class:"tw-grid tw-grid-cols-3 tw-gap-2"},FEt={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},OEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),IEt={class:"tw-grid tw-grid-cols-2 tw-gap-2"},VEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),jEt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},REt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},MEt=["disabled"],NEt=["disabled"],HEt=(0,s._)("span",null,"Send",-1);var YEt={__name:"AddAlertForm",setup(t){const e=(0,fe.iH)(!1),r=(0,fe.iH)(!1),o=(0,s.f3)("alerts"),l=(0,fe.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0});(0,s.YP)((()=>l.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>l.value.type),(()=>{l.value.target=null}));const i=(0,fe.iH)({}),n=async()=>(i.value.content="",i.value.target="","global"==l.value.type||l.value.target?""==l.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await Gr.create(l.value).then((t=>{"SUCCESS"==t.data.code&&(e.value=!1,o.data.value.unshift(t.data.alert),_n("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,o)=>{const w=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:o[0]||(o[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},UEt),(0,s.Wm)(d,{visible:e.value,onCancel:o[15]||(o[15]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",PEt,[(0,s._)("div",LEt,[qEt,(0,s._)("div",AEt,[(0,s._)("div",null,[$Et,(0,s._)("div",WEt,[(0,s._)("button",{onClick:o[1]||(o[1]=t=>l.value.variant="success"),class:(0,rt.C_)([["success"==l.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:o[2]||(o[2]=t=>l.value.variant="info"),class:(0,rt.C_)([["info"==l.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:o[3]||(o[3]=t=>l.value.variant="danger"),class:(0,rt.C_)([["danger"==l.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:o[4]||(o[4]=t=>l.value.variant="warning"),class:(0,rt.C_)([["warning"==l.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[EEt,(0,s._)("div",TEt,[(0,s._)("button",{onClick:o[5]||(o[5]=t=>l.value.type="global"),class:(0,rt.C_)([["global"==l.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:o[6]||(o[6]=t=>l.value.type="role"),class:(0,rt.C_)([["role"==l.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:o[7]||(o[7]=t=>l.value.type="user"),class:(0,rt.C_)([["user"==l.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==l.value.type?((0,s.wg)(),(0,s.j4)((0,fe.SU)(_Et),{key:0,target:l.value.target,"onUpdate:target":o[8]||(o[8]=t=>l.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==l.value.type?((0,s.wg)(),(0,s.j4)((0,fe.SU)(SEt),{key:1,target:l.value.target,"onUpdate:target":o[9]||(o[9]=t=>l.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",FEt,(0,rt.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=l.value.type]]),(0,s._)("div",null,[OEt,(0,s._)("div",IEt,[(0,s._)("button",{onClick:o[10]||(o[10]=t=>l.value.closeable=!0),class:(0,rt.C_)([[1==l.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:o[11]||(o[11]=t=>l.value.closeable=!1),class:(0,rt.C_)([[0==l.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[VEt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":o[12]||(o[12]=t=>l.value.content=t),onInput:o[13]||(o[13]=t=>i.value.content=null),class:(0,rt.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,l.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",jEt,(0,rt.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",REt,[(0,s._)("button",{onClick:o[14]||(o[14]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,MEt),(0,s._)("button",{onClick:n,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),HEt],8,NEt)])])])])),_:1},8,["visible"])])}}};const ZEt=YEt;var KEt=ZEt;const BEt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},QEt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},JEt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),GEt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),XEt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},tTt=["disabled"],eTt=(0,s._)("span",null,"Confirm",-1);var rTt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,fe.Vh)(e,"item"),a=(0,s.f3)("alerts"),o=(0,fe.iH)({delete:!1}),l=(0,fe.iH)({delete:!1}),i=async()=>{l.value.delete=!0,await Gr["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(_n("Deleted successfully."),o.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),l.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",BEt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:o.value.delete,onCancel:e[2]||(e[2]=t=>o.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",QEt,[JEt,GEt,(0,s._)("div",XEt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:l.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,rt.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),eTt],8,tTt)])])])),_:1},8,["visible"])])}}};const aTt=rTt;var sTt=aTt;const oTt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lTt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iTt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nTt={class:"tw-w-[70px] tw-truncate"},wTt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dTt={class:"tw-w-[80px] tw-truncate"},cTt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uTt={class:"tw-w-[100px] tw-truncate"},pTt={class:"tw-p-2"};var mTt={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",oTt,(0,rt.zw)(t.item.id),1),(0,s._)("td",lTt,(0,rt.zw)((0,fe.SU)(ve())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",iTt,[(0,s._)("p",nTt,(0,rt.zw)(t.item.type),1)]),(0,s._)("td",wTt,[(0,s._)("p",dTt,(0,rt.zw)(t.item.to),1)]),(0,s._)("td",cTt,[(0,s._)("p",uTt,(0,rt.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",pTt,[(0,s.Wm)((0,fe.SU)(sTt),{item:t.item},null,8,["item"])])])]))}};const gTt=mTt;var hTt=gTt;const fTt={class:"tw-overflow-x-auto"},bTt={class:"tw-inline-block tw-min-w-full tw-align-middle"},xTt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},yTt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},vTt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},_Tt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},kTt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},CTt=["colspan"],DTt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),STt=[DTt];var zTt={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,fe.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],o=(0,fe.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fTt,[(0,s._)("div",bTt,[(0,s._)("div",xTt,[(0,s._)("table",yTt,[(0,s._)("thead",vTt,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,rt.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,rt.zw)(t.name),1)],2))),64))])]),(0,fe.SU)(r)?((0,s.wg)(),(0,s.j4)((0,fe.SU)(vLt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,fe.SU)(o).length?((0,s.wg)(),(0,s.iD)("tbody",_Tt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,fe.SU)(o),(t=>((0,s.wg)(),(0,s.j4)((0,fe.SU)(hTt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,fe.SU)(o).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",kTt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},STt,8,CTt)])]))],64))])])])])]))}};const UTt=zTt;var PTt=UTt;const LTt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},qTt={class:"tw-px-3"},ATt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},$Tt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),WTt={class:"tw-mt-5"};var ETt={__name:"IndexView",setup(t){const e=(0,fe.iH)(!1),r=(0,fe.iH)({}),a=(0,fe.iH)({}),o=async()=>{e.value=!0,await Gr.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return o(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",LTt,[(0,s._)("section",qTt,[(0,s._)("div",ATt,[$Tt,(0,s._)("div",null,[(0,s.Wm)((0,fe.SU)(KEt))])]),(0,s._)("div",WTt,[(0,s.Wm)((0,fe.SU)(PTt),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const TTt=ETt;var FTt=TTt,OTt={name:"alerts",path:"/alerts",component:fa,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:FTt,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};const ITt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),VTt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},jTt={class:"tw-flex tw-items-center tw-flex-col"},RTt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),MTt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},NTt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function HTt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[ITt,(0,s._)("div",VTt,[(0,s._)("div",jTt,[RTt,(0,s._)("div",MTt,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),NTt])])])}var YTt={};const ZTt=(0,p.Z)(YTt,[["render",HTt]]);var KTt=ZTt;const BTt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function QTt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",BTt,[(0,s._)("div",null,[(0,s.Wm)(at.T,{onClick:l.sendRequest,loading:o.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const JTt="api/NewNotification",GTt="get";var XTt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},tFt={data(){return{isLoading:!1,test:XTt}},methods:{async sendRequest(){switch(this.isLoading=!0,await W.getCookie(),GTt){case"get":A.get(JTt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(JTt,XTt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](JTt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const eFt=(0,p.Z)(tFt,[["render",QTt]]);var rFt=eFt;const aFt=[Nt,Lyt,Yi,Ow,vPt,wC,gU,d2,G9,brt,Yot,Dit,jnt,Tgt,j_t,eCt,fEt,OTt,llt,{name:"default",path:"/test",component:fa,children:[{name:"test",path:"",component:rFt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:fa,meta:{title:"Not Found"},children:[{name:"404",path:"",component:KTt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],sFt=(0,h.p7)({history:(0,h.PO)("/"),routes:aFt});sFt.beforeEach(((t,e)=>et(t,e,sFt)));var oFt=sFt,lFt=(r(9773),r(8957));const iFt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var nFt=(0,lFt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:iFt}}});const wFt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var dFt=wFt;const cFt={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var uFt=cFt;const pFt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",o=!0;const l=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(l.includes(r)&&(o=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":o=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":o=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":o=!1,document.getElementById("app").innerHTML="";break;default:break}return o&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var mFt=pFt,gFt=r(7025),hFt=r(407),fFt=r.n(hFt),bFt={install(t){t.config.globalProperties.$frontend=t=>n+t,t.config.globalProperties.$backend=t=>w+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const xFt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),yFt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},vFt=xFt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),_Ft=[vFt];function kFt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",yFt,_Ft)}var CFt={};const DFt=(0,p.Z)(CFt,[["render",kFt],["__scopeId","data-v-ff4afcd0"]]);var SFt=DFt;const zFt={class:"tw-flex tw-justify-center tw-items-center"},UFt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),PFt=[UFt];function LFt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",zFt,PFt)}var qFt={};const AFt=(0,p.Z)(qFt,[["render",LFt]]);var $Ft=AFt;const WFt={key:0},EFt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},TFt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},FFt=["innerHTML"],OFt={key:1,class:"tw-text-lg tw-text-gray-700"},IFt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function VFt(t,e,r,a,o,l){return r.visible?((0,s.wg)(),(0,s.iD)("div",WFt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",EFt,[(0,s._)("div",TFt,[(0,s._)("div",{class:(0,rt.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",l.currentType.class])},[(0,s.Wm)(ot.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,rt.zw)(l.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,rt.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,FFt)):((0,s.wg)(),(0,s.iD)("div",OFt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(Ke.C),(0,s._)("div",IFt,[(0,s.Wm)(at.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>l.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(at.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>l.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>l.resolve(!1)),class:(0,rt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var jFt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const RFt=(0,p.Z)(jFt,[["render",VFt]]);var MFt=RFt;const NFt={key:0},HFt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function YFt(t,e,r,o,l,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",NFt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",HFt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,rt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var ZFt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const KFt=(0,p.Z)(ZFt,[["render",YFt]]);var BFt=KFt,QFt=r(2340),JFt=r(5781),GFt=r.n(JFt);const XFt={key:0},tOt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function eOt(t,e,r,o,l,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",XFt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",tOt,[(0,s.Wm)(Wt.Z5,null,{default:(0,s.w5)((()=>[l.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,rt.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var rOt={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const aOt=(0,p.Z)(rOt,[["render",eOt]]);var sOt=aOt,oOt=r(6088),lOt=(0,a.ri)(g).use(oFt).use(G).use(nFt).use(dFt).use(uFt).use(mFt).use(bFt).use(gFt.Z).use(fFt()).component("LoadingAnimation",SFt).component("Loading",$Ft).component("Popup",MFt).component("PopupFull",BFt).component("VueDatePicker",QFt.Z).component("downloadCsv",GFt()).component("popupNew",sOt).component("icon",oOt.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,o){if(!a){var l=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],o=t[d][2];for(var i=!0,n=0;n<a.length;n++)(!1&o||l>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,o<l&&(l=o));if(i){t.splice(d--,1);var w=s();void 0!==w&&(e=w)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,s,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,l=a[0],i=a[1],n=a[2],w=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(n)var d=n(r)}for(e&&e(a);w<l.length;w++)o=l[w],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(7230)}));a=r.O(a)})();
//# sourceMappingURL=app.fe5d65e1.js.map