(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":6956,"./oc-lnc.js":6956,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id=6700},8464:function(t,e,r){"use strict";r.d(e,{Z:function(){return SCt}});var a=r(9242),s=r(3396),o=r(7718);function l(t,e,r,a,l,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(o.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var i=r(7139);const n="https://vldo.shop/",d="https://api.vldo.shop/",w="1.0.1",c="$";var u={name:"App",data:()=>({theme:"light",version:w}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},p=r(89);const m=(0,p.Z)(u,[["render",l],["__scopeId","data-v-4a3ad42f"]]);var g=m,h=r(2483);let f={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var y={name:"user",namespaced:!0,state:f,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},v={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let b={products:[],fetched:!1};var x={name:"product",namespaced:!0,state:b,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let _={fetched:!1,sales:[],count:0};var k={name:"sale",namespaced:!0,state:_,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let C={orders:[],order:null,all_orders:[],fetched:!1};var D={name:"order",namespaced:!0,state:C,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let S={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var z={name:"inventory",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},U=r(6943);const P=U.Z.create({baseURL:d}),L=U.Z.create({baseURL:d});L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},P.defaults.withCredentials=!0,P.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var A=P,$=r(680),q={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):A.get("sanctum/csrf-cookie")}};class W{async statistics(){return await q.getCookie(),A.post("api/v1/agent/statistics")}async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/agent/orders"+t,e)}async counts(){return await q.getCookie(),A.get("api/v1/agent/orders/counts")}async update(t,e){return await q.getCookie(),A.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await q.getCookie(),A.get("api/orders/toconfirmate")}async getOrder(){return await q.getCookie(),A.get("api/orders/add")}async create(t){return await q.getCookie(),A.post("api/v1/agent/orders/create",t)}}var E=new W;let T={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var O={name:"agent",namespaced:!0,state:T,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),E.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const I=localStorage.getItem("cities");let V={fetched:!1,cities:I?JSON.parse(I):[]};var F={name:"city",namespaced:!0,state:V,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let j={shops:[]};var R={name:"shop",namespaced:!0,state:j,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let N={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var M={name:"notification",namespaced:!0,state:N,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let H={fetched:!1,warehouses:[]};var Y={name:"warehouse",namespaced:!0,state:H,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Z={fetched:!1,factorisations:[]};var K={name:"factorisation",namespaced:!0,state:Z,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let B={fetched:!1,sheets:[]};var Q={name:"sheet",namespaced:!0,state:B,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}},G=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:y,product:x,alert:v,sale:k,order:D,inventory:z,city:F,agent:O,shop:R,notification:M,warehouse:Y,factorisation:K,sheet:Q}});class J{async login(t){return await q.getCookie(),A.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await q.getCookie(),A.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await q.getCookie(),A.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await q.getCookie(),A.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await q.getCookie(),A.get("api/user")}async profile(){return await q.getCookie(),A.get("api/users/profile")}async logout(){return await q.getCookie(),A.get("api/auth/logout")}async clear(){return await q.getCookie(),A.get("api/auth/clear")}async permession(){return await q.getCookie(),A.get("api/auth/permission")}async roles(){return await q.getCookie(),A.get("api/auth/roles")}async all(){return await q.getCookie(),A.get("api/users")}async updateStatus({id:t,status:e}){return await q.getCookie(),A.post("api/users/status/"+t,{status:e})}async delete(t){return await q.getCookie(),A["delete"]("api/users/delete/"+t)}async getUser(t){return await q.getCookie(),A.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await q.getCookie(),A.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await q.getCookie(),A.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await q.getCookie(),A["delete"]("api/roles/delete/"+t)}async getRole(t){return await q.getCookie(),A.get("api/roles/"+t)}async agents(){return await q.getCookie(),A.get("api/agents")}async deliveries(){return await q.getCookie(),A.get("api/delevries")}async allDeliveries(){return await q.getCookie(),A.get("api/deliveries")}async cities(){return await q.getCookie(),A.get("api/cities")}}var X=new J;function tt(t,e,r){if(document.title=t.meta?.title+" | Vldo Shop",!G.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(X.online().catch(SCt.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=G.getters["user/permissions"];return"all"===a||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"})}var et=r(2268),rt=r(7312),at=r(3369),st=r(3289),ot=r(165);const lt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},it={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},nt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},dt={class:"px-md-10 tw-w-full"},wt={class:"tw-w-[150px]"},ct=["src"],ut={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},pt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},mt=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),gt=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),ht={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},ft={class:"mt-5"},yt=(0,s._)("p",{class:"mb-1"},"Email",-1),vt=(0,s._)("p",{class:"mb-1"},"Password",-1),bt={class:"mt-5"},xt=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),_t={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},kt=["src"];function Ct(t,e,r,o,l,i){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",lt,[(0,s.Wm)(n),(0,s._)("div",it,[(0,s._)("div",nt,[(0,s.Wm)(at.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",dt,[(0,s._)("div",wt,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"assets/img/logo.png"},null,8,ct)]),(0,s._)("div",ut,[(0,s._)("div",pt,[mt,gt,l.error.active?((0,s.wg)(),(0,s.iD)("p",ht,(0,et.zw)(l.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",ft,[(0,s._)("div",null,[yt,(0,s.Wm)(ot.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=t=>l.email=t),error:!l.emailStatus.valid,"error-messages":l.emailStatus.valid?"":l.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>l.emailFocus=!1),onFocus:e[3]||(e[3]=t=>l.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:l.emailFocus?l.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[vt,(0,s.Wm)(ot.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),error:!l.passwordStatus.valid,"error-messages":l.passwordStatus.valid?"":l.passwordStatus.message,type:l.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>l.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>l.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(st.t,{onClick:e[4]||(e[4]=t=>l.showPassword=!l.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:l.passwordFocus?l.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(l.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",bt,[(0,s.Wm)(rt.T,{disabled:l.isLoading||!l.cookiesCleared,loading:l.isLoading||!l.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[xt])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",_t,[(0,s._)("img",{src:l.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,kt)])])])}function Dt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function St(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function zt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Ut(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function Pt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function Lt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function At(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var $t=r(7771),qt=r(8952);const Wt={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Et={class:"tw-text-sm"};function Tt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(qt.V,null,{default:(0,s.w5)((()=>[l.state.active?((0,s.wg)(),(0,s.iD)("div",Wt,[(0,s.Wm)($t.w,{closable:"",density:"compact",variant:"flat",type:l.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Et,(0,et.zw)(l.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Ot={computed:{state(){return this.$store.getters["alert/alert"]}}};const It=(0,p.Z)(Ot,[["render",Tt]]);var Vt=It,Ft={components:{Alert:Vt},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=Dt(this.email),this.passwordStatus=St(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},X.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){X.clear().then((()=>{this.cookiesCleared=!0}))}};const jt=(0,p.Z)(Ft,[["render",Ct]]);var Rt=jt,Nt={name:"login",path:"/login",component:Rt,meta:{title:"Login"}},Mt=r(4454),Ht=r(3140);function Yt(t,e,r,a,o,l){const i=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),d=(0,s.up)("Alert"),w=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoggedIn?((0,s.wg)(),(0,s.j4)(Mt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:o.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:l.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(d),(0,s.Wm)(Ht.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(at.K,{fluid:"",class:"py-6 px-6"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1}),o.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>l.scrollToTop&&l.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Zt=r(6439),Kt=r(9156);const Bt={class:"tw-flex tw-items-center tw-gap-2"};function Qt(t,e,r,o,l,i){const n=(0,s.up)("Notification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Zt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Bt,[(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Kt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var Gt=r(652),Jt=r(4075),Xt=r(8694),te=r(8793);const ee={class:"tw-relative"},re=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),ae={key:0,class:"!tw-duration-100"},se={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},oe={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},le={class:"d-flex flex-column justify-center"},ie={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},ne={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},de=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),we={class:"d-flex tw-items-center tw-gap-2"},ce=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ue(t,e,r,a,o,l){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ee,[(0,s.Wm)(rt.T,{onClick:l.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Gt.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),re])),_:1},8,["onClick"]),(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("div",se,[(0,s._)("div",oe,[(0,s.Wm)(Gt.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{eager:"",src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",le,[(0,s._)("div",ie,(0,et.zw)(l.user.firstname)+" "+(0,et.zw)(l.user.lastname),1),(0,s._)("div",ne,(0,et.zw)(l.user.role),1)])]),(0,s.Wm)(Jt.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>l.closeMenu&&l.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(rt.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),de])),_:1})]),(0,s.Wm)(Jt.J),(0,s._)("div",we,[(0,s.Wm)(rt.T,{onClick:l.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:(0,et.C_)([{"tw-animate-pulse":o.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),ce])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,l.closeMenu]])}var pe={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,X.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const me=(0,p.Z)(pe,[["render",ue]]);var ge=me;function he(t,e,r,a,o,l){const i=(0,s.up)("AdminNotification"),n=(0,s.up)("UserNotification");return(0,s.wg)(),(0,s.iD)("div",null,["admin"==l.user.role?((0,s.wg)(),(0,s.j4)(i,{key:0})):(0,s.kq)("",!0),["agente","delivery"].includes(l.user.role)?((0,s.wg)(),(0,s.j4)(n,{key:1})):(0,s.kq)("",!0)])}const fe={class:"tw-relative"},ye={key:0,class:"tw-absolute tw-border-2 tw-border-solid tw-border-white tw-top-1 tw-right-1 tw-w-3 tw-h-3 tw-rounded-full tw-bg-red-500"},ve={key:0,class:"!tw-duration-100"},be={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[230px] tw-min-h-[50px]"},xe=(0,s._)("p",{class:"tw-p-2 tw-text-sm"},"Notifications",-1),_e={key:0},ke={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Ce={key:1},De=(0,s._)("p",{class:""},"Stock Alert",-1),Se=(0,s._)("p",{class:""},"Delivery Reported",-1),ze=(0,s._)("p",{class:""},"Confirmation Reported",-1);function Ue(t,e,r,a,o,l){const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",fe,[(0,s.Wm)(rt.T,{onClick:l.toggleMenu,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{width:"22",height:"22",src:o.localUrl+"assets/img/icons/notification-bing.svg"},null,8,["src"]),l.stockAlert.length||l.reportedDeliveries.length||l.reportedConfirmations.length?((0,s.wg)(),(0,s.iD)("div",ye)):(0,s.kq)("",!0)])),_:1},8,["onClick"]),(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",be,[xe,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_e,[(0,s._)("div",ke,[(0,s.Wm)(st.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s.Wm)(i,{to:"/notifications/stock",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-outline")])),_:1}),(0,s._)("div",null,[De,(0,s._)("p",{class:(0,et.C_)([[l.stockAlert.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(l.stockAlert.length)+" "+(0,et.zw)(l.stockAlert.length>1?"products":"product"),3)])])),_:1}),(0,s.Wm)(i,{to:"/sales",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Se,(0,s._)("p",{class:(0,et.C_)([[l.reportedDeliveries.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(l.reportedDeliveries.length)+" today",3)])])),_:1}),(0,s.Wm)(i,{to:"/sales",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[ze,(0,s._)("p",{class:(0,et.C_)([[l.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(l.reportedConfirmations.length)+" today",3)])])),_:1})])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,l.closeMenu]])}class Pe{async all(){return await q.getCookie(),A.get("api/notifications")}async agente(){return await q.getCookie(),A.get("api/notifications/agente")}async delivery(){return await q.getCookie(),A.get("api/notifications/delivery")}}var Le=new Pe,Ae={data(){return{localUrl:n,isActive:!1,isLoaded:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},getNotifications(){Le.all().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},computed:{user(){return this.$store.getters["user/user"]},notifications(){return this.$store.getters["notification/notifications"]},stockAlert(){return this.notifications["productStockAlert"]||[]},reportedConfirmations(){return this.notifications["reportedOrderAgente"]||[]},reportedDeliveries(){return this.notifications["reportedOrderDelivery"]||[]}},mounted(){this.getNotifications()}};const $e=(0,p.Z)(Ae,[["render",Ue]]);var qe=$e;const We={class:"tw-relative"},Ee={key:0,class:"tw-absolute tw-border-2 tw-border-solid tw-border-white tw-top-1 tw-right-1 tw-w-3 tw-h-3 tw-rounded-full tw-bg-red-500"},Te={key:0,class:"!tw-duration-100"},Oe={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[230px] tw-min-h-[50px]"},Ie=(0,s._)("p",{class:"tw-p-2 tw-text-sm"},"Notifications",-1),Ve={key:0},Fe={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},je={key:1},Re=(0,s._)("p",{class:""},"Confirmation Reported",-1),Ne=(0,s._)("p",{class:""},"Delivery Reported",-1);function Me(t,e,r,a,o,l){const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",We,[(0,s.Wm)(rt.T,{onClick:l.toggleMenu,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.f,{width:"22",height:"22",src:o.localUrl+"assets/img/icons/notification-bing.svg"},null,8,["src"]),l.reportedDeliveries.length||l.reportedConfirmations.length?((0,s.wg)(),(0,s.iD)("div",Ee)):(0,s.kq)("",!0)])),_:1},8,["onClick"]),(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",Te,[(0,s._)("div",Oe,[Ie,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ve,[(0,s._)("div",Fe,[(0,s.Wm)(st.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",je,["agente"==l.user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/orders",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Re,(0,s._)("p",{class:(0,et.C_)([[l.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(l.reportedConfirmations.length)+" today",3)])])),_:1})):(0,s.kq)("",!0),"delivery"==l.user.role?((0,s.wg)(),(0,s.j4)(i,{key:1,to:"/deliveries",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Ne,(0,s._)("p",{class:(0,et.C_)([[l.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,et.zw)(l.reportedConfirmations.length)+" today",3)])])),_:1})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,l.closeMenu]])}var He={data(){return{localUrl:n,isActive:!1,isLoaded:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},getAgenteNotifications(){Le.agente().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},getDeliveryNotifications(){Le.delivery().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},computed:{user(){return this.$store.getters["user/user"]},notifications(){return this.$store.getters["notification/notifications"]},stockAlert(){return this.notifications["productStockAlert"]||[]},reportedConfirmations(){return this.notifications["reportedOrderAgente"]||[]},reportedDeliveries(){return this.notifications["reportedOrderDelivery"]||[]}},mounted(){"agente"==this.user.role&&this.getAgenteNotifications(),"delivery"==this.user.role&&this.getDeliveryNotifications()}};const Ye=(0,p.Z)(He,[["render",Me]]);var Ze=Ye,Ke={components:{AdminNotification:qe,UserNotification:Ze},computed:{user(){return this.$store.getters["user/user"]}}};const Be=(0,p.Z)(Ke,[["render",he]]);var Qe=Be,Ge={emits:["toggleSidebar"],components:{HeaderMenu:ge,Notification:Qe},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const Je=(0,p.Z)(Ge,[["render",Qt]]);var Xe=Je,tr=r(9457),er=r(2329),rr=r(9657);function ar(t,e,r,a,o,l){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(rr.V,{modelValue:o.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>o.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(tr.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(Xt.f,{width:"140",src:o.localUrl+"assets/img/logo.png"},null,8,["src"])])])),_:1}),(0,s.Wm)(er.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const sr=[4,6,7],or=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Dashboard",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Dashboard Analytics",subModule:"dashboard/analytics",gate:"access_to_analytics",to:"/analytics"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_ads",to:"/ads"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:12,title:"Settings",module:"settings",gate:"access_to_account",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Account",subModule:"settings/account",gate:"access_to_account",to:"/settings/account"},{id:1,title:"Blacklist",subModule:"settings/blacklist",gate:"access_to_account",to:"/settings/blacklist"}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var lr=r(9234),ir=r(2127);const nr={key:0},dr={class:"d-flex align-center"},wr={class:"tw-rounded-md tw-bg-gray-50"},cr={class:"tw-h-full py-2"},ur={key:1},pr={key:2},mr={key:3};function gr(t,e,r,a,o,l){const i=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),d=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&"all"!=r.link.gate||o.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nr,[(0,s.Wm)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",dr,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,icon:r.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(Xt.f,{key:1,src:o.localUrl+r.link.icon.value,"max-width":"18",class:(0,et.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(ir.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,et.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(lr.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(st.t,{key:2,class:(0,et.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",wr,[(0,s.Wm)(er.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(tr.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",cr,[(0,s.Wm)(st.t,{size:"x-small",class:"mr-2",color:l.isSublinkActive(t)?"primary-color":"secondary-color",icon:l.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,et.C_)(["tw-text-sm",{"text-primary-color":l.isSublinkActive(t)}])},(0,et.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",ur,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",pr,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(d)])):(0,s.kq)("",!0)])}const hr={key:0},fr={class:"d-flex align-center"},yr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},vr={key:1,class:"tw-text-xs"},br={class:"tw-rounded-md tw-bg-gray-50"},xr={class:"tw-h-full py-2"};function _r(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:o.link.hasChildren?"":o.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",fr,["icon"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,icon:o.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(Xt.f,{key:1,src:o.localUrl+o.link.icon.value,"max-width":"18",class:(0,et.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(ir.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,et.zw)(o.link.title)},null,8,["class","textContent"]),(0,s._)("div",yr,[(o.isLoaded,(0,s.kq)("",!0)),(o.isLoaded,(0,s.wg)(),(0,s.iD)("p",vr,(0,et.zw)(l.count),1))]),(0,s.Wm)(lr.C),o.link.hasChildren?((0,s.wg)(),(0,s.j4)(st.t,{key:2,class:(0,et.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),o.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",br,[(0,s.Wm)(er.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(tr.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",xr,[(0,s.Wm)(st.t,{size:"x-small",class:"mr-2",color:l.isSublinkActive(t)?"primary-color":"secondary-color",icon:l.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,et.C_)(["tw-text-sm",{"text-primary-color":l.isSublinkActive(t)}])},(0,et.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var kr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Cr=(0,p.Z)(kr,[["render",_r],["__scopeId","data-v-419eeb7c"]]);var Dr=Cr;const Sr={key:0},zr={class:"d-flex align-center"},Ur={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Pr={key:1,class:"tw-text-xs"};function Lr(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Sr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",zr,[(0,s.Wm)(st.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(ir.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,et.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(lr.C),(0,s._)("div",Ur,[l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.fetched?((0,s.wg)(),(0,s.iD)("p",Pr,(0,et.zw)(1==r.id?l.orders.length-l.deliveredOrders.length:l.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class Ar{async delivery(){return await q.getCookie(),A.get("api/dashboard/delivery")}async agente(){return await q.getCookie(),A.get("api/dashboard/agente")}}var $r=new Ar,qr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,$r.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Wr=(0,p.Z)(qr,[["render",Lr],["__scopeId","data-v-69fa82e9"]]);var Er=Wr;const Tr={key:0},Or={class:"d-flex align-center"},Ir={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Vr={key:1,class:"tw-text-xs"},Fr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},jr={key:1,class:"tw-text-xs"};function Rr(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Tr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(tr.l,{class:(0,et.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Or,[(0,s.Wm)(st.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(ir.V,{class:(0,et.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,et.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(lr.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Ir,[l.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.state.fetched?((0,s.wg)(),(0,s.iD)("p",Vr,(0,et.zw)(4==r.id?l.state.totalNotConfirmed:l.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Fr,[l.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.state.fetched?((0,s.wg)(),(0,s.iD)("p",jr,(0,et.zw)(l.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Nr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Mr=(0,p.Z)(Nr,[["render",Rr],["__scopeId","data-v-26146d6f"]]);var Hr=Mr,Yr={props:["link"],components:{SidebarSales:Dr,SidebarDelivery:Er,SidebarAgente:Hr},data(){return{localUrl:n,disabled_links:sr,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Zr=(0,p.Z)(Yr,[["render",gr],["__scopeId","data-v-35ca0437"]]);var Kr=Zr,Br={components:{SidebarItem:Kr},props:["active"],data(){return{localUrl:n,drawer:!0,links:or}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Qr=(0,p.Z)(Br,[["render",ar]]);var Gr=Qr,Jr=r(4410),Xr=r.n(Jr),ta=r(6027);class ea{async all(){return await q.getCookie(),A.get("api/sheets")}async create(t){await q.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return A.post("api/sheets",e)}async update(t,e){await q.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return A.post("api/sheets/"+t,r)}async delete(t){return await q.getCookie(),A["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await q.getCookie(),A.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await q.getCookie(),A.get("api/sync/"+t)}async sync_all(){return await q.getCookie(),A.get("api/sync")}async auto(){return await q.getCookie(),A.post("api/sync")}async saveOrders(t){return await q.getCookie(),A.get("api/sync/"+t+"/save")}}var ra=new ea;class aa{async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/products"+t,e)}async create(t){await q.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("ref",t.reference),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),e.append("status",1),L.post("api/products/new",e)}async update(t,e){await q.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("ref",e.reference),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),r.append("status",1),L.post("api/products/update/"+t,r)}async all(){return await q.getCookie(),A.get("api/products")}async allForOrder(){return await q.getCookie(),A.get("api/products/for-order")}async getProduct(t){return await q.getCookie(),A.get("api/products/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/products/delete/"+t)}async stockAlert(){return await q.getCookie(),A.get("api/product/stockAlert")}}var sa=new aa;class oa{async all(){return await q.getCookie(),A.get("api/sales")}async delete(t){return await q.getCookie(),A.get("api/sales/delete/"+t)}async update(t,e){return await q.getCookie(),A.post("api/orders/update/"+t,e)}async create(t){return await q.getCookie(),A.post("api/sales/new",t)}async getNewOrders(t){return await q.getCookie(),A.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await q.getCookie(),A.get("api/orders")}async agenteConfirmedOrders(){return await q.getCookie(),A.get("api/orders/confirmer")}async agenteAddOrder(){return await q.getCookie(),A.get("api/orders/add")}async agenteGetOrder(){return await q.getCookie(),A.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await q.getCookie(),A.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await q.getCookie(),A.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await q.getCookie(),A.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await q.getCookie(),A.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await q.getCookie(),A.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await q.getCookie(),A.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await q.getCookie(),A.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await q.getCookie(),A.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await q.getCookie(),A.get("api/orders/history/show/"+t)}async itemHistory(t){return await q.getCookie(),A.get("api/orders/item/history/show/"+t)}async resetSale(t){return await q.getCookie(),A.post("api/sales/reset",{ids:t})}async scanSale(t){return await q.getCookie(),A.post("api/sales/scan",t)}async availableOrders(){return await q.getCookie(),A.get("api/orders/count")}}var la=new oa,ia={components:{AppHeader:Xe,AppSidebar:Gr,Alert:Vt},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return X.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},subscribe(){console.log(Xr());const t=new ta.Z({broadcaster:"pusher",key:"ABCDEFG",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0,cluster:"mt1"});window.Echo=t,t.channel("notification").listenToAll((t=>{console.log(t)})),this.subscribed=!0},sync_sheets(){"admin"==this.user.role?ra.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):ra.auto()},getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return la.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const na=(0,p.Z)(ia,[["render",Yt]]);var da=na;const wa={key:0};function ca(t,e,r,a,o,l){return o.exists?((0,s.wg)(),(0,s.iD)("div",wa,[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.dashboard)))])):(0,s.kq)("",!0)}var ua=r(6824),pa=r(8521);const ma={key:0},ga={key:1},ha=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),fa={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},ya={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},va={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},ba=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),xa=["disabled"],_a={key:0,class:"tw-flex tw-items-center tw-gap-2"},ka={key:1},Ca=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Da={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Sa(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),d=(0,s.up)("FilterTabs"),w=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ma,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ga,[ha,(0,s._)("div",fa,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",ya,[(0,s._)("div",va,[ba,(0,s._)("button",{disabled:o.updating,onClick:e[0]||(e[0]=(...t)=>l.updateSales&&l.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[o.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_a,[(0,s.Wm)(st.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),o.updating?((0,s.wg)(),(0,s.iD)("div",ka,[Ca,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,xa)])]),(0,s._)("div",Da,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(pa.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":l.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var za=r(4286);const Ua={class:"tw-flex tw-items-center"},Pa={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},La={class:"tw-text-lg tw-font-bold"},Aa={class:"tw-text-sm"};function $a(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(za.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ua,[(0,s._)("div",{class:(0,et.C_)([l.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(st.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",Pa,[(0,s._)("p",La,(0,et.zw)(r.dash.value),1),(0,s.Wm)(lr.C),(0,s._)("p",Aa,(0,et.zw)(r.dash.title),1)])])])),_:1})}var qa={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Wa=(0,p.Z)(qa,[["render",$a]]);var Ea=Wa;const Ta={key:0,class:""},Oa={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ia=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Va=[Ia],Fa={key:1,class:"tw-min-h-[50px]"},ja={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ra={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},Na={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},Ma={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},Ha={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},Ya=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),Za={key:1},Ka={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Ba=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Qa={key:1,class:"tw-flex tw-items-center tw-gap-2"},Ga=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function Ja(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ta,[(0,s._)("div",Oa,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Va))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Fa,[(0,s._)("div",ja,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Ra,[(0,s._)("div",Na,(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),1),(0,s._)("div",Ma,[t.last_action?((0,s.wg)(),(0,s.iD)("div",Za,[1==l.isOnline(l.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",Ka,[Ba,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Qa,[Ga,(0,s.Uk)(" "+(0,et.zw)(l.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",Ha,[Ya,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var Xa=r(8777),ts={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Xa.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const es=(0,p.Z)(ts,[["render",Ja]]);var rs=es,as=r(1489),ss=r(3144),os=r(9870),ls=r(6161),is=r(4722);function ns(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(as._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ss.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(os.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(ls.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(is.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const ds={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},cs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},us={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ps={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ms={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},gs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},hs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function fs(t,e,r,a,o,l){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ds,[(0,s._)("div",ws,[(0,s.Wm)(i,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",cs,[(0,s.Wm)(i,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",us,[(0,s.Wm)(i,{dash:l.shippedSales},null,8,["dash"])]),(0,s._)("div",ps,[(0,s.Wm)(i,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",ms,[(0,s.Wm)(i,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",gs,[(0,s.Wm)(i,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",hs,[(0,s.Wm)(i,{dash:l.transferSales},null,8,["dash"])])])])}const ys={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},vs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},bs={class:"tw-text-xl tw-font-bold"},xs={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},_s={class:"tw-text-sm"},ks={class:"rounded-circle tw-w-fit tw-mr-3"};function Cs(t,e,r,a,o,l){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(za.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",ys,[(0,s._)("div",vs,[(0,s._)("p",bs,(0,et.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,et.zw)(r.symbol),1),(0,s._)("span",xs,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",_s,(0,et.zw)(r.dash.title),1)])]),(0,s._)("div",ks,[(0,s.Wm)(st.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Ds={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Ss=(0,p.Z)(Ds,[["render",Cs]]);var zs=Ss,Us={components:{DashItemTwo:zs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Ps=(0,p.Z)(Us,[["render",fs]]);var Ls=Ps;const As={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},$s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Os={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Is={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Vs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Fs(t,e,r,a,o,l){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",As,[(0,s._)("div",$s,[(0,s.Wm)(i,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",qs,[(0,s.Wm)(i,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ws,[(0,s.Wm)(i,{dash:l.newSales},null,8,["dash"])]),(0,s._)("div",Es,[(0,s.Wm)(i,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(i,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",Os,[(0,s.Wm)(i,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",Is,[(0,s.Wm)(i,{dash:l.doubledSales},null,8,["dash"])]),(0,s._)("div",Vs,[(0,s.Wm)(i,{dash:l.wrongNumberSales},null,8,["dash"])])])])}var js={components:{DashItemTwo:zs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Rs=(0,p.Z)(js,[["render",Fs]]);var Ns=Rs,Ms={components:{DeliveryTab:Ls,ConfirmationTab:Ns},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const Hs=(0,p.Z)(Ms,[["render",ns]]);var Ys=Hs;const Zs={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},Ks={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Bs={class:"tw-relative"},Qs={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Gs={class:"tw-relative"},Js={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Xs=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),to={class:"tw-relative"},eo=(0,s._)("option",{value:"all"},"Select",-1),ro=["value"],ao={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},so=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),oo={class:"tw-relative"},lo=(0,s._)("option",{value:"all"},"Select",-1),io=["value"],no={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},wo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),co={class:"tw-relative"},uo=(0,s._)("option",{value:"all"},"Select",-1),po=["value"],mo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},go=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),ho={class:"tw-relative"},fo=(0,s._)("option",{value:"all"},"Select",-1),yo=["value"],vo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),xo={class:"tw-relative"},_o=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),ko={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Co=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),Do={class:"tw-relative"},So=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),zo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Uo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Po={class:"tw-relative"},Lo=(0,s._)("option",{value:"all"},"Select",-1),Ao=(0,s._)("option",{value:"oui"},"Oui",-1),$o=(0,s._)("option",{value:"non"},"Non",-1),qo=[Lo,Ao,$o];function Wo(t,e,r,o,l,i){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",Zs,[(0,s._)("div",Ks,[(0,s._)("div",Bs,[(0,s.Wm)(n,{name:"Created Date",filter:l.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",Qs,[(0,s._)("div",Gs,[(0,s.Wm)(n,{name:"Dropped Date",filter:l.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",Js,[Xs,(0,s._)("div",to,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[eo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,ro)))),128))],512),[[a.bM,l.agentFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",ao,[so,(0,s._)("div",oo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[lo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,io)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",no,[wo,(0,s._)("div",co,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[uo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,po)))),128))],512),[[a.bM,l.cityFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",mo,[go,(0,s._)("div",ho,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[fo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,yo)))),128))],512),[[a.bM,l.productFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",vo,[bo,(0,s._)("div",xo,[_o,(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",ko,[Co,(0,s._)("div",Do,[So,(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",zo,[Uo,(0,s._)("div",Po,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},qo,512),[[a.bM,l.upsellFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Eo={class:"tw-text-sm tw-text-neutral-600"},To=["onClick"];function Oo(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Eo,(0,et.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,To)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Io=r(1271),Vo=r(2292),Fo=r(1745),jo=r(4253),Ro=r(4819),No=r(2143),Mo={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Vo.Z)(new Date),(0,Fo.Z)(new Date)]},{label:"Last month",range:[(0,Vo.Z)((0,jo.Z)(new Date,1)),(0,Fo.Z)((0,jo.Z)(new Date,1))]},{label:"This year",range:[(0,Ro.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Ho=(0,p.Z)(Mo,[["render",Oo]]);var Yo=Ho,Zo={components:{DateFilter:Yo},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire vers",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non vers",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){X.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),sa.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),X.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),X.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Ko=(0,p.Z)(Zo,[["render",Wo]]);var Bo=Ko;const Qo=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},Go=t=>t?t.split("api/")[1]:null;var Jo={components:{DashItem:Ea,UsersTable:rs,TabSwitcher:Ys,FilterTabs:Bo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,o=this.filters.dateFilter[0],l=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((d=>{if("all"!==t&&parseInt(d.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(d.affectation)!=parseInt(e))return!1;if("all"!==s&&d.upsell!=s)return!1;if("all"!==r&&!d.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&d.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const w=new Date(d.created_at),c=w.getDate(),u=w.getMonth(),p=w.getFullYear();if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(d.dropped_at),g=m.getDate(),h=m.getMonth(),f=w.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire vers",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non vers",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=Qo(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=Qo(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=Qo(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const Xo=(0,p.Z)(Jo,[["render",Sa]]);var tl=Xo;const el=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),rl={key:0},al={key:1},sl={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ol={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},ll={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},il={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},nl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},dl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},wl={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},cl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function ul(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[el,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rl,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",al,[(0,s._)("div",sl,[(0,s._)("div",ol,[(0,s._)("div",ll,[(0,s.Wm)(n,{dash:l.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",il,[(0,s.Wm)(n,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",nl,[(0,s.Wm)(n,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",dl,[(0,s.Wm)(n,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",wl,[(0,s.Wm)(n,{dash:l.shippedSales},null,8,["dash"])]),(0,s._)("div",cl,[(0,s.Wm)(n,{dash:l.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var pl={components:{DashItemTwo:zs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,$r.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const ml=(0,p.Z)(pl,[["render",ul]]);var gl=ml;const hl=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),fl={key:0},yl={key:1},vl={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},bl={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},xl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},_l={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},kl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Cl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Dl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Sl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},zl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Ul(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[hl,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fl,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",yl,[(0,s._)("div",vl,[(0,s._)("div",bl,[(0,s._)("div",xl,[(0,s.Wm)(n,{dash:l.earningsDash,symbol:o.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",_l,[(0,s.Wm)(n,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",kl,[(0,s.Wm)(n,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",Cl,[(0,s.Wm)(n,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",Dl,[(0,s.Wm)(n,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",Sl,[(0,s.Wm)(n,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",zl,[(0,s.Wm)(n,{dash:l.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Pl={components:{DashItemTwo:zs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,$r.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Ll=(0,p.Z)(Pl,[["render",Ul]]);var Al=Ll;const $l=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),ql=[$l];function Wl(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,ql)}var El={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const Tl=(0,p.Z)(El,[["render",Wl]]);var Ol=Tl;const Il={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Vl=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Fl=[Vl];function jl(t,e,r,a,o,l){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Il,[o.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Fl))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const Rl={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Nl={class:"tw-flex tw-justify-between"},Ml={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Hl={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},Yl={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Zl={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Kl(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Rl,[(0,s._)("div",Nl,[(0,s._)("div",null,[(0,s._)("div",Ml,[(0,s._)("p",Hl,(0,et.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Yl,[(0,s._)("span",Zl,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var Bl={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const Ql=(0,p.Z)(Bl,[["render",Kl]]);var Gl=Ql;class Jl{async statistics(){return await q.getCookie(),A.post("api/v1/followup/statistics")}async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/followup/orders"+t,e)}async update(t,e){return await q.getCookie(),A.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await q.getCookie(),A.post("api/v1/followup/orders/create",t)}}var Xl=new Jl,ti={components:{DashCard:Gl},data(){return{fetching:!0,dashes:[]}},mounted(){Xl.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const ei=(0,p.Z)(ti,[["render",jl]]);var ri=ei,ai={components:{admin:tl,delivery:gl,agente:Al,default:Ol,"follow-up":ri},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;default:this.exists=!0;break}}},created(){this.check()}};const si=(0,p.Z)(ai,[["render",ca]]);var oi=si;const li=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Notifications")])],-1),ii={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ni={class:"!tw-capitalize"};function di(t,e,r,a,o,l){(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[li,(0,s.kq)("",!0),((0,s.wg)(),(0,s.iD)("div",ii,[(0,s.Wm)(as._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ss.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(os.L,{class:"!tw-capitalize !tw-text-neutral-600",key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s._)("span",ni,(0,et.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(ls.Oo,{class:"tw-mt-5",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(is.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component)))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})]))])}const wi={key:0};function ci(t,e,r,a,o,l){const i=(0,s.up)("SalesTable");return l.fetched?((0,s.wg)(),(0,s.iD)("div",wi,[((0,s.wg)(),(0,s.j4)(i,{key:l.sales.length,columns:o.columns,sales:l.sales},null,8,["columns","sales"]))])):(0,s.kq)("",!0)}const ui={class:"tw-grid tw-grid-cols-12 tw-mb-5"},pi={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},mi=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),gi=["value"],hi={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},fi={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},yi={scope:"col",class:"tw-p-4"},vi={class:"tw-flex tw-items-center"},bi=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),xi={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},_i={class:"tw-w-4 tw-p-4 tw-relative"},ki={class:"tw-flex tw-items-center"},Ci=["onChange","checked"],Di=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),Si={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},zi={class:"tw-px-6 tw-py-4 tw-relative"},Ui={key:0},Pi={class:"tw-px-6 tw-py-4"},Li=["title"],Ai={class:"tw-px-6 tw-py-4 tw-relative"},$i={class:"tw-pb-2"},qi={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Wi={key:0},Ei={key:1},Ti={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},Oi={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},Ii={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},Vi={class:"tw-px-6 tw-py-4"},Fi={class:"tw-px-6 tw-py-4 tw-relative"},ji={class:"tw-flex tw-items-center tw-justify-center"},Ri={class:"tw-flex tw-gap-1"},Ni={key:0},Mi={class:"tw-px-6 tw-py-4"},Hi={class:"tw-px-6 tw-py-4 tw-relative"},Yi={class:"tw-flex tw-items-center tw-justify-center"},Zi={class:"tw-flex tw-gap-1"},Ki={key:0},Bi={class:"tw-px-6 tw-py-4"},Qi={class:"tw-px-6 tw-py-4"},Gi={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Ji={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},Xi={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},tn={class:"tw-flex tw-flex-wrap tw-gap-2"},en={class:"tw-text-white"};function rn(t,e,r,o,l,i){const n=(0,s.up)("SaleConfirmation"),d=(0,s.up)("SaleAffectation"),w=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",ui,[(0,s._)("div",pi,[mi,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,gi)))),128))],512),[[a.bM,l.paginationLimit]])])]),(0,s._)("div",hi,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",fi,[(0,s._)("tr",null,[(0,s._)("th",yi,[(0,s._)("div",vi,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>l.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,l.isAllSelected]]),bi])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,et.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",xi,(0,et.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,et.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",_i,[(0,s._)("div",ki,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,Ci),Di])]),(0,s._)("td",Si,(0,et.zw)(t.id),1),(0,s._)("td",zi,[(0,s.Uk)((0,et.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",Ui," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",Pi,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,et.zw)(t.city),9,Li)]),(0,s._)("td",Ai,[(0,s._)("div",$i,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",qi,(0,et.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,et.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Wi,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Ei,"| "+(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",Ti,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",Oi," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Ii," delivery "))])])]),(0,s._)("td",Vi,(0,et.zw)(t.fullname),1),(0,s._)("td",Fi,[(0,s._)("div",ji,[((0,s.wg)(),(0,s.j4)(n,{class:(0,et.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Ri,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",Ni,[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,et.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Mi,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(d,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",Hi,[(0,s._)("div",Yi,[((0,s.wg)(),(0,s.j4)(w,{class:(0,et.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Zi,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",Ki,[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,et.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Bi,(0,et.zw)(i.getPrice(t)),1),(0,s._)("td",Qi,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",Gi,[(0,s._)("div",Ji,[(0,s._)("div",Xi,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,et.zw)(r.sales.length)+" items ",1),(0,s._)("div",tn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",en,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const an={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},sn=["onClick"],on={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},ln=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),nn={class:"tw-flex tw-justify-end tw-mt-2"};function dn(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),d=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,et.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,et.zw)(i.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",an,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,et.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,et.zw)(t.name),3)],8,sn)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.showPopup=!1),visible:l.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",on,[ln,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",nn,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(d,{order:r.sale,visible:l.showPopupReporter,onCancel:e[3]||(e[3]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[te.L,i.close]])}const wn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:15,value:"banned",name:"Banned",text:"tw-text-yellow-500 tw-font-semibold",textLight:"tw-text-yellow-500 tw-font-semibold",bg:"tw-bg-black",bgLight:"tw-bg-black",ring:"tw-ring-black/50"}],cn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],un=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],pn=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],mn=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:16,value:"returned",name:"Returned",text:"tw-text-rose-500",bg:"tw-bg-rose-500/10",ring:"tw-ring-rose-300"}],gn=[null,"expidier","paid","transfer","dispatch"],hn={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},fn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),yn=(0,s._)("br",null,null,-1),vn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),bn={class:"tw-flex tw-justify-end tw-mt-2"};function xn(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",hn,[fn,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),yn,vn,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",bn,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var _n={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,la.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const kn=(0,p.Z)(_n,[["render",xn]]);var Cn=kn,Dn={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:Cn},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:wn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,la.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,la.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const Sn=(0,p.Z)(Dn,[["render",dn]]);var zn=Sn;const Un={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Pn=["onClick"],Ln={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},An={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function $n(t,e,r,a,o,l){return l.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,et.zw)(l.selected.firstname)+" "+(0,et.zw)(l.selected.lastname)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Un,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",Ln,(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),1)],8,Pn)))),128))])],2)])),[[te.L,l.close]]):((0,s.wg)(),(0,s.iD)("div",An,[(0,s.Wm)(st.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var qn={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){la.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const Wn=(0,p.Z)(qn,[["render",$n]]);var En=Wn;const Tn={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},On=["onClick"];function In(t,e,r,a,o,l){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,et.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,et.zw)(l.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Tn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,et.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,et.zw)(t.name),3)],8,On)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[te.L,l.close]])}const Vn={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Fn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),jn=(0,s._)("br",null,null,-1),Rn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Nn={class:"tw-flex tw-justify-end tw-mt-2"};function Mn(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Vn,[Fn,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),jn,Rn,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Nn,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Hn={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,la.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const Yn=(0,p.Z)(Hn,[["render",Mn]]);var Zn=Yn,Kn={props:["delivery","id","sale"],components:{SaleDeliveryReporting:Zn},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:mn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,la.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Bn=(0,p.Z)(Kn,[["render",In]]);var Qn=Bn;const Gn={key:0};function Jn(t,e,r,a,o,l){const i=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),d=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",Gn,[(0,s.Wm)(rt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=t=>o.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.showHistoryPopup,onCancel:e[4]||(e[4]=t=>o.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[o.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>o.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{visible:o.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>o.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var Xn=r(7103),td=r(795),ed=r(2773);const rd={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},ad={key:0,class:"tw-w-full tw-h-full"},sd={key:1,class:"tw-p-5"},od={class:"d-flextw-flex-col justify-space-between flex-grow-1"},ld={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},id={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},nd={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},dd={class:"d-flextw-flex-col justify-space-between flex-grow-1"},wd={class:"tw-flex tw-flex-col tw-my-2"},cd=(0,s._)("div",null," New Order Created ",-1),ud={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function pd(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",rd,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ad,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(rt.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",sd,[(0,s.Wm)(td.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(ed.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",od,[(0,s._)("div",ld,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Xn.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",id,(0,et.zw)(t.users.firstname)+" "+(0,et.zw)(t.users.lastname),1),(0,s._)("div",nd,[(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(ed.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",dd,[(0,s._)("div",wd,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),cd]),(0,s._)("div",ud,[(0,s._)("span",null,(0,et.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var md={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,la.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const gd=(0,p.Z)(md,[["render",pd]]);var hd=gd;const fd={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},yd={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},vd=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),bd={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},xd={class:"md:tw-col-span-6 tw-col-span-12"},_d=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),kd={class:"md:tw-col-span-6 tw-col-span-12"},Cd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),Dd={class:"md:tw-col-span-6 tw-col-span-12"},Sd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),zd=["value"],Ud=["value"],Pd={class:"md:tw-col-span-6 tw-col-span-12"},Ld=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),Ad={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},$d=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),qd={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},Wd={class:"tw-col-span-12"},Ed=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),Td={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},Od={class:"tw-col-span-12 md:tw-col-span-4"},Id=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),Vd={class:"tw-col-span-12 md:tw-col-span-8"},Fd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),jd={class:"md:tw-col-span-6 tw-col-span-12"},Rd=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),Nd={class:"md:tw-col-span-6 tw-col-span-12"},Md=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),Hd=["value"],Yd={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},Zd={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Kd={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Bd=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Qd={class:"tw-flex tw-flex-col tw-justify-center"},Gd=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),Jd={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},Xd={key:2,class:"md:tw-col-span-12 tw-col-span-12"},tw={class:"tw-max-w-full tw-overflow-auto"},ew={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},rw={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},aw={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},sw=["src"],ow={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},lw=["onUpdate:modelValue"],iw=(0,s._)("option",{value:0},"Select",-1),nw=["value"],dw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},ww=["disabled","onUpdate:modelValue"],cw=(0,s._)("option",{value:0},"Select",-1),uw=["value"],pw={key:0},mw={key:1},gw={key:2},hw={key:3},fw=["value"],yw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},vw={class:"md:tw-col-span-6 tw-col-span-12"},bw=["onUpdate:modelValue"],xw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_w={key:0},kw={key:1,class:"md:tw-col-span-6 tw-col-span-12"},Cw=["onUpdate:modelValue"],Dw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Sw={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},zw=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),Uw={class:"md:tw-col-span-12 tw-col-span-12"},Pw={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},Lw=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),Aw={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},$w=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),qw={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},Ww=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),Ew={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},Tw=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),Ow={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},Iw={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Vw=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Fw=(0,s._)("span",{class:"text-white"}," Update ",-1);function jw(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("AddOrderConfirmation"),w=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fd,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",yd,[vd,(0,s._)("div",bd,[(0,s._)("div",xd,[_d,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",kd,[Cd,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",Dd,[Sd,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:l.sale.city},(0,et.zw)(l.sale.city),9,zd),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,Ud)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",Pd,[Ld,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",Ad,[$d,(0,s.Wm)(d,{order:l.sale,id:l.sale.id,confirmation:l.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>l.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>l.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",qd,[(0,s._)("div",Wd,[Ed,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>l.sale.note=t)},null,512),[[a.nr,l.sale.note]])])]),"reporter"==l.sale.confirmation&&l.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",Td,[(0,s._)("div",Od,[Id,(0,s._)("div",null,(0,et.zw)(l.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",Vd,[Fd,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>l.sale.reported_agente_note=t)},null,512),[[a.nr,l.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",jd,[Rd,(0,s.Wm)(w,{"product-ids":i.product_ids,items:l.items,"onUpdate:items":e[8]||(e[8]=t=>l.items=t),order:l.sale,confirmation:l.sale.confirmation,affectation:l.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>l.sale.affectation=t),id:l.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",Nd,[Md,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,et.zw)(t.name),9,Hd)))),128))],512),[[a.bM,l.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",Yd,[(0,s._)("div",Zd,[(0,s._)("label",Kd,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),Bd]),(0,s._)("label",Qd,[(0,s._)("span",{class:(0,et.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,et.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),Gd,l.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Jd," No Order items ")),l.items.length?((0,s.wg)(),(0,s.iD)("div",Xd,[(0,s._)("div",tw,[((0,s.wg)(),(0,s.iD)("table",{key:l.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ew,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",rw,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",aw,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:l.serverUrl+"storage/"+i.product_images[e]},null,8,sw)):(0,s.kq)("",!0)])])),(0,s._)("th",ow,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[iw,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,nw)))),128))],8,lw),[[a.bM,t.product.id]])])])]),(0,s._)("th",dw,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[cw,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",mw,(0,et.zw)(t.size)+" / "+(0,et.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",gw,(0,et.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",hw,(0,et.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",pw,"-"))],8,uw)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,fw))],8,ww)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",yw,[(0,s._)("div",vw,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,bw),[[a.nr,t.quantity]])])]),(0,s._)("th",xw,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",_w," - ")):((0,s.wg)(),(0,s.iD)("div",kw,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,Cw),[[a.nr,t.price]])]))])]),(0,s._)("th",Dw,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",Sw,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),zw])),_:1},8,["onClick"])])]),(0,s._)("div",Uw,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",Pw,[Lw,(0,s._)("div",Aw,[$w,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>l.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])])]),(0,s._)("div",qw,[Ww,(0,s._)("div",Ew,[Tw,(0,s._)("div",Ow,(0,et.zw)(l.currency)+" "+(0,et.zw)(i.total_price),1)])])]),(0,s._)("div",Iw,[(0,s.Wm)(rt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Vw])),_:1},8,["onClick"]),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fw])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Rw={class:"tw-relative"},Nw=["value"],Mw={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Hw=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),Yw={class:"tw-flex tw-justify-end tw-mt-2"};function Zw(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),d=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",Rw,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,et.zw)(t.name),11,Nw)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.showPopup=!1),visible:l.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Mw,[Hw,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Yw,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(d,{order:r.order,onConfirm:i.handleReportedDate,visible:l.showPopupReporter,onCancel:e[3]||(e[3]=t=>l.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[te.L,i.close]])}const Kw={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Bw=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Qw=(0,s._)("br",null,null,-1),Gw=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Jw={class:"tw-flex tw-justify-end tw-mt-2"};function Xw(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Kw,[Bw,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),Qw,Gw,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Jw,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var tc={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}}};const ec=(0,p.Z)(tc,[["render",Xw]]);var rc=ec,ac={props:["confirmation","id","order"],components:{AddOrderReporting:rc},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:wn,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,la.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,la.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const sc=(0,p.Z)(ac,[["render",Zw]]);var oc=sc;const lc={class:"tw-relative"},ic=["disabled"],nc=["value"],dc={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function wc(t,e,r,o,l,i){return l.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",lc,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.firstname+" "+t.lastname),9,nc)))),128))],8,ic),[[a.bM,i.affectationValue]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[te.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",dc,[(0,s.Wm)(st.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var cc={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const uc=(0,p.Z)(cc,[["render",wc]]);var pc=uc;const mc=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),gc={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},hc={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},fc=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),yc={class:"tw-px-6 tw-py-4"},vc={class:"tw-px-6 tw-py-4"},bc={class:"tw-px-6 tw-py-4"},xc={class:"tw-px-6 tw-py-4"},_c={class:"tw-max-w-[250px] tw-text-sm"},kc={key:0},Cc=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),Dc=[Cc];function Sc(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[mc,(0,s._)("div",null,[(0,s._)("div",gc,[(0,s._)("table",hc,[fc,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",yc,(0,et.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",vc,(0,et.zw)(t.quantity),1),(0,s._)("td",bc,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",xc,[(0,s._)("p",_c,(0,et.zw)(t.note),1)])])))),128)),0==l.offers.length?((0,s.wg)(),(0,s.iD)("tr",kc,Dc)):(0,s.kq)("",!0)])])])])])}var zc={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const Uc=(0,p.Z)(zc,[["render",Sc]]);var Pc=Uc,Lc={components:{AddOrderConfirmation:oc,AddOrderAffectation:pc,ProductOffers:Pc},props:["visible","order"],data(){return{upsells:pn,serverUrl:d,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,la.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const Ac=(0,p.Z)(Lc,[["render",jw]]);var $c=Ac,qc={props:["sale"],name:"saleActions",components:{SaleHistory:hd,UpdateSale:$c},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const Wc=(0,p.Z)(qc,[["render",Jn]]);var Ec=Wc,Tc={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:zn,SaleAffectation:En,SaleDelivery:Qn,SaleActions:Ec},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return Qo(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const Oc=(0,p.Z)(Tc,[["render",rn]]);var Ic=Oc,Vc={components:{SalesTable:Ic},data(){return{columns:[{prop:"id",name:"#"},{prop:"city",name:"City"},{prop:"date",name:"Date"},{prop:"client",name:"Client"},{prop:"product",name:"Product"},{prop:"upsell",name:"Upsell"},{prop:"confirmation",name:"Confirmation"},{prop:"affectation",name:"Affected"},{prop:"delivery",name:"Delivery"},{prop:"quantity",name:"Qty"},{prop:"price",name:"Price"},{prop:"actions",name:"Actions"}]}},computed:{sales(){return this.$store.getters["notification/notifications"]["reportedOrderAgente"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Fc=(0,p.Z)(Vc,[["render",ci]]);var jc=Fc;const Rc={key:0};function Nc(t,e,r,a,o,l){const i=(0,s.up)("SalesTable");return l.fetched?((0,s.wg)(),(0,s.iD)("div",Rc,[((0,s.wg)(),(0,s.j4)(i,{key:l.sales.length,columns:o.columns,sales:l.sales},null,8,["columns","sales"]))])):(0,s.kq)("",!0)}var Mc={components:{SalesTable:Ic},data(){return{columns:[{prop:"id",name:"#"},{prop:"city",name:"City"},{prop:"date",name:"Date"},{prop:"client",name:"Client"},{prop:"product",name:"Product"},{prop:"upsell",name:"Upsell"},{prop:"confirmation",name:"Confirmation"},{prop:"affectation",name:"Affected"},{prop:"delivery",name:"Delivery"},{prop:"quantity",name:"Qty"},{prop:"price",name:"Price"},{prop:"actions",name:"Actions"}]}},computed:{sales(){return this.$store.getters["notification/notifications"]["reportedOrderDelivery"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Hc=(0,p.Z)(Mc,[["render",Nc]]);var Yc=Hc;function Zc(t,e,r,a,o,l){const i=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{columns:o.columns,products:l.products},null,8,["columns","products"])])}const Kc={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Bc={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Qc={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Gc=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Jc={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Xc=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),tu={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},eu={class:"tw-px-6 tw-py-4"},ru={class:"tw-px-6 tw-py-4"},au={class:"tw-px-6 tw-py-4"},su={class:"tw-px-6 tw-py-4"},ou={class:"tw-px-6 tw-py-4"},lu={class:"tw-px-6 tw-py-4"},iu={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},nu={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},du={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},wu=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),cu=["value"],uu={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},pu={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},mu={class:"tw-text-white"};function gu(t,e,r,o,l,i){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Kc,[(0,s._)("table",Bc,[(0,s._)("thead",Qc,[(0,s._)("tr",null,[Gc,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Jc,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Xc,(0,s._)("th",tu,(0,et.zw)(t.id),1),(0,s._)("td",eu,(0,et.zw)(t.ref),1),(0,s._)("td",ru,(0,et.zw)(t.name),1),(0,s._)("td",au,(0,et.zw)(t.buying_price)+" "+(0,et.zw)(l.currency),1),(0,s._)("td",su,(0,et.zw)(t.selling_price)+" "+(0,et.zw)(l.currency),1),(0,s._)("td",ou,(0,et.zw)(i.calculQty(t.variations)),1),(0,s._)("td",lu,(0,et.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",iu,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",nu,[(0,s._)("div",du,[wu,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,cu)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",uu,[(0,s._)("div",pu,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,et.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",mu,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const hu={class:"tw-flex tw-items-center tw-gap-1"};function fu(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",hu,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var yu={props:["rowIndex","product"],name:"productActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,sa["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),sa.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const vu=(0,p.Z)(yu,[["render",fu]]);var bu=vu,xu={props:["columns","products"],components:{ProductActions:bu},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const _u=(0,p.Z)(xu,[["render",gu]]);var ku=_u,Cu={components:{ProductsTable:ku},data(){return{columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["notification/notifications"]["productStockAlert"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Du=(0,p.Z)(Cu,[["render",Zc]]);var Su=Du,zu={components:{StockAlertView:Su,ReportedDelivery:Yc,ReportedConfirmation:jc},data(){return{tab:1,fullTabs:[{id:1,name:"Stock Alert",component:"StockAlertView",permissions:["admin"]},{id:2,name:"Deliveries",component:"ReportedDelivery",permissions:["admin..","delivery"]},{id:3,name:"Confirmations",component:"ReportedConfirmation",permissions:["admin..","agente"]}]}},computed:{tabs(){return this.fullTabs.filter((t=>t.permissions.includes(this.user.role)))},tabName(){return this.$route.params.tab},user(){return this.$store.getters["user/user"]}},watch:{tabName(){this.handleChange()}},methods:{handleChange(){switch(this.tabName){case"stock":this.tab=1;break;case"delivery":this.tab=2;break;case"confirmation":this.tab=3;break;default:this.tab=this.tabs[0].id||1;break}}},mounted(){this.handleChange()}};const Uu=(0,p.Z)(zu,[["render",di]]);var Pu=Uu,Lu={path:"/",name:"home",component:da,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:oi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications/:tab",name:"notifications",component:Pu,meta:{module:"notification",title:"Notifications",gate:"all"}}]},Au=r(3104);const $u=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),qu={key:0},Wu={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Eu={class:"tw-w-full"},Tu=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),Ou={class:"tw-w-full"},Iu=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),Vu={class:"tw-w-full"},Fu=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),ju={class:"tw-w-full"},Ru=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),Nu={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Mu=(0,s._)("span",null,"Update Password: ",-1),Hu={class:"tw-w-full"},Yu=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),Zu={class:"tw-w-full"},Ku=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),Bu={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Qu=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Gu=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Ju(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[$u,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qu,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",Wu,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Eu,[Tu,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ou,[Iu,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vu,[Fu,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ju,[Ru,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Nu,[Mu,(0,s.Wm)(Au.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Hu,[Yu,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Zu,[Ku,(0,s.Wm)(ot.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Bu,[(0,s.Wm)(rt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Qu])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Gu])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var Xu={data(){return{serverUrl:d,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,X.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=zt(this.firstname),this.formStatus["lastname"]=zt(this.lastname),this.formStatus["phone"]=zt(this.phone),this.formStatus["password"]=St(this.password),this.formStatus["confirmPassword"]=Pt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return X.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const tp=(0,p.Z)(Xu,[["render",Ju]]);var ep=tp,rp=r(4870);class ap{async all(t){return await q.getCookie(),A.get("api/blacklist",{params:t})}async create(t){return await q.getCookie(),A.post("api/blacklist",t)}async delete(t){return await q.getCookie(),A["delete"]("api/blacklist/"+t)}}var sp=new ap;const op=[{name:"Client",key:"fullname"},{name:"Phone",key:"phone"},{name:"Address",key:"adresse"},{name:"City",key:"city"}],lp=(t,e="success")=>{console.log(G),G.dispatch("alert/toggleAlert",{type:e,title:t})},ip=(0,s._)("span",null,"New",-1),np={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},dp={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},wp=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add new keyword ",-1),cp={class:"tw-p-5 tw-my-2"},up={class:""},pp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Field",-1),mp={class:"tw-relative"},gp=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a field ",-1),hp=["value"],fp=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),yp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vp={class:"tw-mt-5"},bp=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Keyword",-1),xp={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_p={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},kp=["disabled"],Cp=(0,s._)("span",null,"Add",-1);var Dp={__name:"BlacklistAdd",setup(t){const e=(0,s.f3)("blacklist"),r=(0,rp.iH)(!1),o=(0,rp.iH)(!1),l=(0,rp.qj)({}),i=(0,rp.qj)({blacklist:{field:"no-value-selected",value:""}}),n=()=>{r.value=!1},d=()=>{i.blacklist={field:"no-value-selected",value:""},r.value=!0},w=async()=>{o.value=!0,await sp.create(i.blacklist).then((t=>{"SUCCESS"==t.data.code&&(e.addItem(t.data.blacklist),r.value=!1,lp("Blacklist added successfully"))}),(t=>{if(500==t.response?.status&&"ERROR"==t.response?.data?.code&&lp(t?.response?.data?.message,"danger"),422==t?.response?.status)for(let e in t?.response?.data?.errors)l[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(t,e)=>{const c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:d,type:"button",class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-white tw-bg-orange-400 hover:tw-bg-orange-500 tw-duration-200 focus:tw-ring-4 focus:tw-ring-orange-300 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-me-2 tw-mb-2 dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 focus:tw-outline-none dark:focus:tw-ring-orange-800"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),ip]),(0,s.Wm)(c,{visible:r.value,closeable:!0,onCancel:n},{default:(0,s.w5)((()=>[(0,s._)("div",np,[(0,s._)("div",dp,[wp,(0,s._)("div",cp,[(0,s._)("div",up,[pp,(0,s._)("div",mp,[(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>l.field=null),"onUpdate:modelValue":e[1]||(e[1]=t=>i.blacklist.field=t),class:(0,et.C_)([[l.field&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[gp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,rp.SU)(op),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.name]),value:t.key,key:t.key},(0,et.zw)(t.name),11,hp)))),128))],34),[[a.bM,i.blacklist.field]]),fp]),l.field?((0,s.wg)(),(0,s.iD)("label",yp,(0,et.zw)(l.field),1)):(0,s.kq)("",!0)]),(0,s._)("div",vp,[bp,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.blacklist.value=t),onInput:e[3]||(e[3]=t=>l.value=null),type:"text",class:(0,et.C_)([[l.value&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a keyword to be banned",required:""},null,34),[[a.nr,i.blacklist.value]]),l.value?((0,s.wg)(),(0,s.iD)("label",xp,(0,et.zw)(l.value),1)):(0,s.kq)("",!0)])]),(0,s._)("div",_p,[(0,s._)("button",{onClick:n,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:w,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Cp],8,kp)])])])])),_:1},8,["visible"])])}}};const Sp=Dp;var zp=Sp;const Up={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Pp={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Lp={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Ap={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},$p=["disabled"],qp=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Wp=(0,s._)("span",null," previous ",-1),Ep=[qp,Wp],Tp=["disabled"],Op=(0,s._)("span",null," Next ",-1),Ip=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Vp=[Op,Ip];function Fp(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Up,[(0,s._)("div",Pp,[(0,s.Uk)(" Page "),(0,s._)("span",Lp,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",Ap,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ep,10,$p),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Vp,10,Tp)])])])}var jp={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Rp=(0,p.Z)(jp,[["render",Fp]]);var Np=Rp;const Mp={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},Hp=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete this ?",-1),Yp={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},Zp=["disabled"],Kp=["disabled"];var Bp={__name:"BlacklistTableActionsDelete",props:["item"],setup(t){const e=t,r=(0,rp.iH)(!1),a=(0,rp.iH)(!1),o=(0,s.f3)("blacklist"),l=async()=>{a.value=!0,await sp["delete"](e.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.deleteItem(e.item.id),lp("Deleted Successfully"),r.value=!1)}),(t=>{console.log(t),lp("Something went wrong","danger")})),a.value=!1};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),(0,s.Wm)(o,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",Mp,[Hp,(0,s._)("div",Yp,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,Zp),(0,s._)("button",{onClick:l,disabled:a.value,type:"button",class:(0,et.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,et.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,Kp)])])])),_:1},8,["visible","closeable"])])}}};const Qp=Bp;var Gp=Qp;const Jp={class:"tw-px-4"},Xp={class:"tw-flex tw-items-center tw-justify-end tw-gap-2"};var tm={__name:"BlacklistTableActions",props:["item"],setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("div",Jp,[(0,s._)("div",Xp,[(0,s.Wm)((0,rp.SU)(Gp),{item:e.item},null,8,["item"])])]))}};const em=tm;var rm=em,am=r(6797),sm=r.n(am);const om=(0,s._)("td",{class:"tw-px-4 tw-py-2"},null,-1),lm={class:"tw-px-4 tw-py-2 tw-truncate"},im={class:"tw-px-4 tw-py-2 tw-truncate"},nm={class:"tw-px-4 tw-py-2"};var dm={__name:"BlacklistTableRow",props:["item"],setup(t){const e=t,r=(0,rp.Vh)(e,"item"),a=(0,s.Fl)((()=>op.find((t=>t.key==r.value.field))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[om,(0,s._)("td",lm,[(0,s._)("p",null,(0,et.zw)((0,rp.SU)(a).name),1)]),(0,s._)("td",im,[(0,s._)("p",null,(0,et.zw)((0,rp.SU)(r).value),1)]),(0,s._)("td",nm,[(0,s._)("p",null,(0,et.zw)((0,rp.SU)(sm())((0,rp.SU)(r).created_at).format("DD[/]MM[/]YY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,rp.SU)(rm),{item:(0,rp.SU)(r)},null,8,["item"])])]))}};const wm=dm;var cm=wm;const um={class:""},pm={class:"tw-overflow-x-auto tw-bg-white"},mm={class:"tw-inline-block tw-min-w-full tw-align-middle"},gm={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},hm={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},fm=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"rtl:tw-text-right tw-px-2 tw-w-5 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("div",{class:"tw-max-w-[25px]"},[(0,s._)("div",{class:"tw-inline-flex tw-items-center"},[(0,s._)("label",{class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},[(0,s._)("input",{type:"checkbox",class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"}),(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])])])])])]),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Field "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Keyword "),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4 tw-w-[100px]"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),ym={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vm={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},bm=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),xm=[bm],_m={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},km={colspan:"11"},Cm={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Dm=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Sm=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),zm=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Um=[Sm,zm],Pm={class:"tw-mt-6"};var Lm={__name:"BlacklistTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,rp.Vh)(r,"options"),o=(0,rp.Vh)(r,"data"),l=(0,rp.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",um,[(0,s._)("div",pm,[(0,s._)("div",mm,[(0,s._)("div",gm,[(0,s._)("table",hm,[fm,!(0,rp.SU)(l)&&(0,rp.SU)(o).length>0?((0,s.wg)(),(0,s.iD)("tbody",ym,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,rp.SU)(o),(t=>((0,s.wg)(),(0,s.j4)((0,rp.SU)(cm),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,rp.SU)(l)||0!=(0,rp.SU)(o).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",vm,xm)),(0,rp.SU)(l)?((0,s.wg)(),(0,s.iD)("tbody",_m,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",km,[(0,s._)("div",Cm,[Dm,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Um))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",Pm,[(0,s.Wm)((0,rp.SU)(Np),{from:(0,rp.SU)(a).from,to:(0,rp.SU)(a).to,"last-page":(0,rp.SU)(a).last_page,"per-page":(0,rp.SU)(a).per_page,total:(0,rp.SU)(a).total,"current-page":(0,rp.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const Am=Lm;var $m=Am;const qm={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},Wm={class:"mb-5 tw-flex tw-w-full tw-justify-between"},Em=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Blacklist ",-1),Tm=(0,s._)("div",{class:"tw-mt-5"},null,-1);var Om={__name:"SettingsBlacklistView",setup(t){const e=(0,rp.qj)({}),r=(0,rp.iH)([]),a=(0,rp.iH)(!1),o=async()=>{a.value=!0,await sp.all(e).then((t=>{r.value=t.data.data,delete t.data.data,Object.assign(e,t.data)})),a.value=!1},l=t=>{r.value=r.value.filter((e=>e.id!=t))},i=t=>{e.page=t,o()},n=t=>{r.value.unshift(t)};return(0,s.JJ)("blacklist",{getData:o,deleteItem:l,addItem:n}),o(),(t,o)=>((0,s.wg)(),(0,s.iD)("div",qm,[(0,s._)("div",Wm,[Em,(0,s.Wm)((0,rp.SU)(zp))]),Tm,(0,s.Wm)((0,rp.SU)($m),{onPageChange:i,data:r.value,loading:a.value,options:e},null,8,["data","loading","options"])]))}};const Im=Om;var Vm=Im,Fm={name:"settings",path:"/settings",component:da,meta:{module:"user"},children:[{path:"account",name:"settings/account",component:ep,meta:{module:"settings",title:"Account",gate:"all"}},{path:"blacklist",name:"settings/blacklist",component:Vm,meta:{module:"settings",title:"Blacklist",gate:"all"}}]};const jm={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Rm=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Nm={key:0},Mm=(0,s._)("span",{class:"text-white"}," Add Product ",-1),Hm={key:0},Ym={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Zm={class:"mb-5 tw-flex"},Km={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Bm={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Qm={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Gm=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Jm={class:"tw-relative"},Xm={class:""};function tg(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",jm,[Rm,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Nm,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Mm])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hm,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",Ym,[(0,s._)("div",Zm,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Km,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Bm,[(0,s._)("div",Qm,[Gm,(0,s._)("div",Jm,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Xm,[(0,s.Wm)(d,{columns:l.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}var eg={components:{ProductsTable:ku},data(){return{localUrl:n,confirmations:wn,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const rg=(0,p.Z)(eg,[["render",tg]]);var ag=rg;const sg={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},og={class:"tw-px-3"},lg={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},ig={class:"tw-flex tw-items-center tw-gap-x-3"},ng=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),dg={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},wg=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),cg={key:0};function ug(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",sg,[(0,s._)("section",og,[(0,s._)("div",lg,[(0,s._)("div",null,[(0,s._)("div",ig,[ng,(0,s._)("span",dg,(0,et.zw)(o.totalProducts)+" products",1)]),wg])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateProducts,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[3]||(e[3]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",cg,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const pg={class:"tw-flex tw-flex-col"},mg={class:"tw-overflow-x-auto"},gg={class:"tw-inline-block tw-min-w-full tw-align-middle"},hg={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},fg={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},yg={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},vg={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},bg={class:"tw-max-w-[25px]"},xg={class:"tw-inline-flex tw-items-center"},_g={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},kg=["checked"],Cg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Dg=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Sg=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),zg=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),Ug=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),Pg=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),Lg=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),Ag=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),$g=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),qg={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Wg=(0,s._)("span",null,"Created",-1),Eg=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Tg=[Wg,Eg],Og=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),Ig={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Vg={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Fg=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No product is found ! ")])],-1),jg=[Fg],Rg={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ng={colspan:"11"},Mg={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Hg=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Yg=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Zg=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Kg=[Yg,Zg],Bg={class:"tw-mt-6"};function Qg(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pg,[(0,s._)("div",mg,[(0,s._)("div",gg,[(0,s._)("div",hg,[(0,s._)("table",fg,[(0,s._)("thead",yg,[(0,s._)("tr",null,[(0,s._)("th",vg,[(0,s._)("div",bg,[(0,s._)("div",xg,[(0,s._)("label",_g,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,kg),Cg])])])]),Dg,Sg,zg,Ug,Pg,Lg,Ag,$g,(0,s._)("th",qg,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Tg)]),Og])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Ig,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,o)=>((0,s.wg)(),(0,s.j4)(i,{onRefresh:e[2]||(e[2]=e=>t.$emit("pageChange",1)),selected:l.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>l.selectedOrders=t),onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:o,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Vg,jg)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Rg,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Ng,[(0,s._)("div",Mg,[Hg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Kg)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Bg,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Gg={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Jg={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Xg={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},th={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},eh=["disabled"],rh=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),ah=(0,s._)("span",null," previous ",-1),sh=[rh,ah],oh=["disabled"],lh=(0,s._)("span",null," Next ",-1),ih=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),nh=[lh,ih];function dh(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Gg,[(0,s._)("div",Jg,[(0,s.Uk)(" Page "),(0,s._)("span",Xg,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",th,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},sh,10,eh),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},nh,10,oh)])])])}var wh={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const ch=(0,p.Z)(wh,[["render",dh]]);var uh=ch;const ph={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mh={class:"tw-max-w-[25px]"},gh={class:"tw-inline-flex tw-items-center"},hh={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},fh=["checked","id"],yh=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),vh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bh={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},xh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_h={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"},kh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ch={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},Dh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Sh={class:"tw-flex tw-items-center tw-gap-1"},zh={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},Uh={class:"tw-text-blue-700"},Ph={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},Lh={class:"tw-text-green-700"},Ah={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$h={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},qh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Wh={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Eh={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Th={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Oh={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},Ih={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Vh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Fh={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},jh={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Rh={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},Nh={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Mh(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,et.C_)(["hover:tw-bg-gray-50",[l.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",ph,[(0,s._)("div",mh,[(0,s._)("div",gh,[(0,s._)("label",hh,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,fh),yh])])])]),(0,s._)("td",vh,[(0,s._)("div",null,[(0,s._)("h2",bh,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",xh,[(0,s._)("div",null,[(0,s._)("h2",_h,(0,et.zw)(r.item.ref),1)])]),(0,s._)("td",kh,[(0,s._)("div",null,[(0,s._)("h2",Ch,(0,et.zw)(r.item.name),1)])]),(0,s._)("td",Dh,[(0,s._)("div",Sh,[(0,s._)("div",zh,[(0,s._)("span",Uh,(0,et.zw)(r.item.buying_price),1),(0,s.Wm)(st.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",Ph,[(0,s.Wm)(st.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",Lh,(0,et.zw)(r.item.selling_price),1)])])]),(0,s._)("td",Ah,[(0,s._)("div",null,[(0,s._)("h2",$h,(0,et.zw)(l.quantityTotal),1)])]),(0,s._)("td",qh,[(0,s._)("div",Wh,[(0,s._)("h2",Eh,(0,et.zw)(l.deliveredQuantity),1)])]),(0,s._)("td",Th,[(0,s._)("div",Oh,[(0,s._)("h2",Ih,(0,et.zw)(l.shippedQuantity),1)])]),(0,s._)("td",Vh,[(0,s._)("div",{class:(0,et.C_)([{"tw-text-red-500 !tw-font-bold":l.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Fh,(0,et.zw)(l.availableQuantity),1)],2)]),(0,s._)("td",jh,[(0,s._)("div",null,[(0,s._)("h2",Rh,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",Nh,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item,onRefresh:e[2]||(e[2]=e=>t.$emit("refresh"))},null,8,["item"])])])],2)}const Hh={class:"tw-h-full"},Yh={class:"tw-flex tw-items-center tw-gap-2"};function Zh(t,e,r,a,o,l){const i=(0,s.up)("router-link"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Hh,[(0,s._)("div",Yh,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/products/update/"+r.item.id,class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var Kh={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1,showPopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,sa["delete"](this.item.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"}),this.$emit("refresh"))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Bh=(0,p.Z)(Kh,[["render",Zh]]);var Qh=Bh,Gh={components:{TableActions:Qh},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:sm(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Jh=(0,p.Z)(Gh,[["render",Mh]]);var Xh=Jh,tf={components:{TablePaginationNoNums:uh,TableRow:Xh},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const ef=(0,p.Z)(tf,[["render",Qg]]);var rf=ef;const af={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},sf={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},of=["disabled"],lf=["disabled"],nf=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),df=[nf],wf={class:"tw-relative"},cf=["value"],uf=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),pf=[uf],mf=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gf={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},hf=["value"],ff={class:"tw-overflow-hidden tw-col-span-1"},yf={class:"tw-overflow-hidden tw-col-span-1"},vf={class:"tw-overflow-hidden tw-col-span-1"};function bf(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",af,[(0,s._)("div",sf,[(0,s._)("button",{class:(0,et.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,of),(0,s.kq)("",!0),(0,s.kq)("",!0),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},df,8,lf),(0,s.kq)("",!0),(0,s._)("div",wf,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},pf,40,cf),mf])]),(0,s._)("div",gf,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,hf),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",ff,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,et.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",yf,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",vf,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const xf={class:"tw-mb-4"},_f={class:"tw-grid tw-grid-cols-12 tw-gap-4"},kf={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Cf={class:"tw-flex tw-items-center tw-justify-between"},Df={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Sf={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function zf(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",xf,[(0,s._)("div",_f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",kf,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",Cf,[(0,s._)("span",Df,(0,et.zw)(t.total),1),(0,s._)("span",Sf,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var Uf={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return wn.find((e=>e.value==t))}}};const Pf=(0,p.Z)(Uf,[["render",zf]]);var Lf=Pf;const Af={class:"tw-mb-4"},$f={class:"tw-flex tw-items-center tw-gap-2"},qf=["disabled"],Wf=(0,s._)("span",null,"Select Filtered",-1),Ef={class:"tw-flex tw-justify-end"},Tf=["disabled"];function Of(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Af,[(0,s._)("div",$f,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Wf],8,qf)]),(0,s._)("div",Ef,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,et.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Tf)])])}class If{async statistics(t){return await q.getCookie(),A.post("api/v1/admin/statistics",t)}async analytics(t){return await q.getCookie(),A.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await q.getCookie(),A.post("api/v1/admin/orders"+t,e)}async update(t,e){return await q.getCookie(),A.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await q.getCookie(),A.post("api/v1/admin/orders/create",t)}async export(t={}){return await q.getCookie(),A.post("api/v1/admin/orders/export",t)}}var Vf=new If,Ff={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vf["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const jf=(0,p.Z)(Ff,[["render",Of]]);var Rf=jf;const Nf={class:"tw-mb-4"},Mf={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Hf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Yf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Zf=["value"],Kf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Bf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Qf=["value"],Gf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Jf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),Xf=["value"],ty={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ey=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),ry=["value"],ay={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sy=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),oy=["value"],ly=(0,s._)("option",{value:"all",selected:""},"All",-1),iy=["value"],ny={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dy=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),wy=["value"],cy=(0,s._)("option",{value:"all",selected:""},"All",-1),uy=["value"],py={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},my=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),gy=["value"],hy=(0,s._)("option",{value:"all",selected:""},"All",-1),fy=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),yy=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),vy=[hy,fy,yy],by={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},xy=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_y=(0,s._)("span",null,"Clear",-1),ky=[xy,_y],Cy=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Dy=(0,s._)("span",null,"Filter",-1),Sy=[Cy,Dy];function zy(t,e,r,a,o,l){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",Nf,[(0,s._)("div",Mf,[(0,s.kq)("",!0),(0,s._)("div",Hf,[Yf,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Zf)]),(0,s._)("div",Kf,[Bf,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Qf)]),(0,s._)("div",Gf,[Jf,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Xf)]),(0,s._)("div",ty,[ey,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ry)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",ay,[sy,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ly,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,et.zw)(t.name),11,iy)))),128))],40,oy)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",ny,[dy,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cy,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,et.zw)(t.name),11,uy)))),128))],40,wy)]),(0,s._)("div",py,[my,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},vy,40,gy)]),(0,s._)("div",by,[(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ky),(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Sy)])])])}const Uy={class:"tw-text-sm tw-text-neutral-600"},Py=["onClick"];function Ly(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Uy,(0,et.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,Py)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Ay={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Vo.Z)(new Date),(0,Fo.Z)(new Date)]},{label:"Last month",range:[(0,Vo.Z)((0,jo.Z)(new Date,1)),(0,Fo.Z)((0,jo.Z)(new Date,1))]},{label:"This year",range:[(0,Ro.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const $y=(0,p.Z)(Ay,[["render",Ly]]);var qy=$y;const Wy={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ey=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Ty=["value"],Oy=(0,s._)("option",{value:"all"},"All",-1),Iy=(0,s._)("option",{value:""},"No Delivery",-1),Vy=["value"];function Fy(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Wy,[Ey,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Oy,Iy,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Vy)))),128))],40,Ty)])}var jy={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Ry=(0,p.Z)(jy,[["render",Fy]]);var Ny=Ry;const My={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Hy=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Yy=["value"],Zy=(0,s._)("option",{value:"all"},"All",-1),Ky=(0,s._)("option",{value:""},"No Agent",-1),By=["value"];function Qy(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",My,[Hy,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Zy,Ky,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,By)))),128))],40,Yy)])}var Gy={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Jy=(0,p.Z)(Gy,[["render",Qy]]);var Xy=Jy;const tv={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ev=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),rv=["value"],av=(0,s._)("option",{value:"all"},"All",-1),sv=["value"];function ov(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",tv,[ev,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[av,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,sv)))),128))],40,rv)])}var lv={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const iv=(0,p.Z)(lv,[["render",ov]]);var nv=iv,dv={components:{DateFilter:qy,AffectationFilter:Ny,AgentFilter:Xy,ProductFilter:nv},props:{filters:{required:!0,default:{}}},data(){return{confirmations:wn,deliveries:mn,dateFilter:["",""]}}};const wv=(0,p.Z)(dv,[["render",zy]]);var cv=wv,uv={components:{IndexStatistics:Lf,FiltersWrapper:cv,IndexExport:Rf},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=sm()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const pv=(0,p.Z)(uv,[["render",bf]]);var mv=pv;const gv={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hv=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),fv={class:"tw-bg-white tw-p-4"},yv={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},vv={class:"tw-col-span-2 md:tw-col-span-1"},bv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),xv={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_v={class:"tw-col-span-2 md:tw-col-span-1"},kv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Cv={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Dv={class:"tw-col-span-2 md:tw-col-span-1"},Sv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),zv={class:"tw-relative"},Uv=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Pv=["value"],Lv=["value"],Av=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$v={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qv={class:"tw-col-span-2 md:tw-col-span-1"},Wv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),Ev={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Tv={class:"tw-col-span-2"},Ov=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Iv={class:"tw-relative"},Vv=["value"],Fv=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jv={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Rv={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Nv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Mv={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Hv={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Yv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Zv={class:"tw-col-span-2"},Kv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Bv={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Qv={class:"md:tw-col-span-1 tw-col-span-2"},Gv={class:"md:tw-col-span-1 tw-col-span-2"},Jv=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Xv={class:"tw-relative"},tb=["value"],eb=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rb={class:"tw-col-span-2"},ab={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sb={key:0,class:"tw-text-red-400 tw-text-xs"},ob={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},lb=["disabled"],ib=(0,s._)("span",null,"Create",-1);function nb(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",gv,[hv,(0,s._)("div",fv,[(0,s._)("div",yv,[(0,s._)("div",vv,[bv,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",xv,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",_v,[kv,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",Cv,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Dv,[Sv,(0,s._)("div",zv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Uv,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,Pv),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,Lv)))),128))],34),[[a.bM,l.itemCopy.city]]),Av]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",$v,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",qv,[Wv,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",Ev,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",Tv,[Ov,(0,s._)("div",Iv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,et.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,Vv)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),Fv]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",jv,(0,et.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Rv,[Nv,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,et.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",Mv,(0,et.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Hv,[Yv,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Zv,[Kv,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",Bv,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Qv,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",Gv,[Jv,(0,s._)("div",Xv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,tb)))),128))],512),[[a.bM,l.itemCopy.upsell]]),eb])]),(0,s._)("div",rb,[(0,s._)("label",ab,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",sb," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",ob,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ib],8,lb)])])])),_:1},8,["visible","onCancel"])])}const db=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!wb(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),wb=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},cb=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},ub=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},pb=(t,e)=>{t.isLoading=!0,t.errors={},Vf.create(e).then((e=>cb(t,e.data))).catch((e=>ub(t,e.response.data))).finally((()=>t.isLoading=!1))},mb={key:0},gb=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),hb={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},fb=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),yb=(0,s._)("span",null,"Add Item",-1),vb=[fb,yb],bb={key:1,class:"md:tw-col-span-12 tw-col-span-12"},xb={class:"tw-max-w-full tw-overflow-auto"},_b={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},kb={class:"tw-bg-gray-50"},Cb={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Db={key:0},Sb={colspan:"6"},zb={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Ub=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Pb=(0,s._)("span",null,"Add Item",-1),Lb=[Ub,Pb],Ab=(0,s._)("td",{colspan:"4"},null,-1),$b=(0,s._)("td",null,null,-1),qb={colspan:"1",class:"tw-p-2"},Wb={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Eb={key:1},Tb={colspan:"6"},Ob={class:"tw-scale-75 tw-p-5"};function Ib(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mb,[gb,(0,s._)("div",hb,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},vb)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",bb,[(0,s._)("div",xb,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",_b,[(0,s._)("tr",kb,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Cb,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Db,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Sb,[(0,s._)("div",zb,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Lb)])])]),(0,s._)("tr",null,[Ab,$b,(0,s._)("td",qb,[(0,s._)("div",Wb,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Eb,[(0,s._)("tr",null,[(0,s._)("td",Tb,[(0,s._)("div",Ob,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const Vb=(0,s._)("td",null,null,-1),Fb={class:"tw-p-2"},jb={class:"tw-relative"},Rb=["value"],Nb=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Mb=["value"],Hb=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Yb={class:"tw-p-2"},Zb={key:0,class:"tw-relative"},Kb=["value"],Bb=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Qb=["value"],Gb={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},Jb=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Xb=[Jb],tx={class:"tw-p-2"},ex=["value"],rx={class:"tw-p-2"},ax=["value"],sx={class:"tw-flex tw-justify-center"};function ox(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[Vb,(0,s._)("td",null,[(0,s._)("div",Fb,[(0,s._)("div",jb,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Nb,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,Mb)))),128))],40,Rb),Hb])])]),(0,s._)("td",null,[(0,s._)("div",Yb,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Zb,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Bb,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,Qb)))),128))],40,Kb)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Gb,Xb)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",tx,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,ex)])]),(0,s._)("td",null,[(0,s._)("div",rx,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,ax)])]),(0,s._)("td",null,[(0,s._)("div",sx,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var lx={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const ix=(0,p.Z)(lx,[["render",ox]]);var nx=ix,dx={components:{ItemRow:nx},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const wx=(0,p.Z)(dx,[["render",Ib]]);var cx=wx;const ux=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),px={key:0,class:"tw-relative"},mx=["value","disabled"],gx=(0,s._)("option",{value:""},"Choose a Delivery",-1),hx=["value"],fx=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),yx={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vx={key:2,class:"tw-relative"},bx={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},xx=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),_x=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function kx(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[ux,o.fetched?((0,s.wg)(),(0,s.iD)("div",px,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,et.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[gx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,hx)))),128))],42,mx),fx])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",yx,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vx,[(0,s._)("div",bx,[(0,s.Wm)(i)]),xx,_x]))])}var Cx={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Dx=(0,p.Z)(Cx,[["render",kx]]);var Sx=Dx,zx={components:{OrderItems:cx,OrderAffectation:Sx},props:{visible:{required:!0}},data(){return{confirmations:wn,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=db(this,this.itemCopy);if(!t)return!1;pb(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Ux=(0,p.Z)(zx,[["render",nb]]);var Px=Ux,Lx={components:{IndexTable:rf,IndexFilters:mv,CreatePopup:Px},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,sa.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const Ax=(0,p.Z)(Lx,[["render",ug]]);var $x=Ax,qx=r(240),Wx=r(4842);const Ex=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new product")],-1),Tx={key:0},Ox={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ix={class:"tw-w-full"},Vx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Fx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jx={class:"tw-w-full"},Rx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Nx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mx={class:"tw-w-full"},Hx={class:"mb-1 text-body-2 tw-text-zinc-700"},Yx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zx={class:"mb-1 text-body-2 tw-text-zinc-700"},Kx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Bx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Qx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gx={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Jx=(0,s._)("span",null,"Add Variants: ",-1),Xx={class:"tw-h-fit tw-mb-"},t_=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),e_={class:"tw-relative"},r_=(0,s._)("option",{value:0},"Select",-1),a_=["value"],s_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},o_={key:0},l_={class:"md:tw-col-span-3 tw-col-span-12"},i_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),n_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},d_={class:"md:tw-col-span-3 tw-col-span-12"},w_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),c_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},u_={key:1},p_={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},m_={class:"md:tw-col-span-3 tw-col-span-12"},g_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),h_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},f_={class:"md:tw-col-span-3 tw-col-span-12"},y_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),v_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},b_={class:"md:tw-col-span-3 tw-col-span-12"},x_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),__=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),k_={class:"md:tw-col-span-3 tw-col-span-12"},C_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),D_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},S_={class:"tw-col-span-12 tw-flex tw-justify-end"},z_=["disabled"],U_=(0,s._)("span",{class:"tw-text-white"},"Add",-1),P_={class:""},L_={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},A_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),$_={class:"mb-1 text-body-2 tw-text-zinc-700"},q_={key:1,class:"tw-max-w-full tw-overflow-x-auto"},W_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},E_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},T_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},O_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},I_={class:"tw-px-6 tw-py-2"},V_={class:"tw-px-6 tw-py-2"},F_={class:"tw-px-6 tw-py-2"},j_={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},R_={class:"tw-w-full"},N_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),M_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},H_={class:"tw-w-full"},Y_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Z_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},K_=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),B_={class:"tw-mt-2"},Q_=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),G_={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},J_={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},X_={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},tk={class:"tw-w-max tw-relative"},ek=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),rk={class:"md:tw-col-span-6 tw-col-span-12"},ak={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},sk=(0,s._)("span",null,"No image available",-1),ok=[sk],lk={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},ik=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),nk=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function dk(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("VariantActions"),w=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Ex,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Tx,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ox,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ix,[Vx,(0,s.Wm)(ot.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:l.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Fx,(0,et.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",jx,[Rx,(0,s.Wm)(ot.hw,{error:!l.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:l.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>l.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Nx,(0,et.zw)(l.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Mx,[(0,s._)("div",Hx," Buying Price ("+(0,et.zw)(l.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!l.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:l.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>l.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Yx,(0,et.zw)(l.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Zx," Selling Price ("+(0,et.zw)(l.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!l.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:l.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>l.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Kx,(0,et.zw)(l.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Bx,(0,s.Wm)(Wx.z,{error:!l.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:l.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>l.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Qx,(0,et.zw)(l.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Gx,[Jx,(0,s.Wm)(Au.G,{modelValue:l.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>l.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Xx,[t_,(0,s._)("div",e_,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[r_,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,a_)))),128))],544),[[a.bM,l.warehouse]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",s_,(0,et.zw)(l.formStatus.warehouse.message),1)]),l.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",o_,[(0,s._)("div",l_,[i_,(0,s.Wm)(ot.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",n_,(0,et.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",d_,[w_,(0,s.Wm)(ot.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",c_,(0,et.zw)(l.formStatus.stockAlert.message),1)])])),l.addVariants?((0,s.wg)(),(0,s.iD)("div",u_,[(0,s._)("div",p_,[(0,s._)("div",m_,[g_,(0,s.Wm)(ot.hw,{error:!l.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[18]||(e[18]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",h_,(0,et.zw)(l.formStatus.size.message),1)]),(0,s._)("div",f_,[y_,(0,s.Wm)(ot.hw,{error:!l.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[20]||(e[20]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",v_,(0,et.zw)(l.formStatus.color.message),1)]),(0,s._)("div",b_,[x_,(0,s.Wm)(ot.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),__]),(0,s._)("div",k_,[C_,(0,s.Wm)(ot.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",D_,(0,et.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",S_,[(0,s._)("button",{disabled:!l.quantity,class:(0,et.C_)([{"bg-primary-color":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(st.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),U_],10,z_)])]),(0,s._)("div",P_,[(0,s._)("div",L_,[A_,(0,s._)("div",$_," Quantity Total: "+(0,et.zw)(i.qtyTotal),1)]),0==l.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":l.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!l.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,et.zw)(l.formStatus.variants.valid?"No Variants yet":l.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",q_,[(0,s._)("table",W_,[(0,s._)("thead",E_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",T_,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",O_,(0,et.zw)(t.size),1),(0,s._)("td",I_,(0,et.zw)(t.color),1),(0,s._)("td",V_,(0,et.zw)(t.quantity),1),(0,s._)("td",F_,(0,et.zw)(t.stockAlert),1),(0,s._)("td",j_,[(0,s._)("div",null,[(0,s.Wm)(d,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",R_,[N_,(0,s.Wm)(ot.hw,{error:!l.formStatus.link_store.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:l.product.link_store,"onUpdate:modelValue":e[27]||(e[27]=t=>l.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",M_,(0,et.zw)(l.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",H_,[Y_,(0,s.Wm)(ot.hw,{error:!l.formStatus.link_video.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:l.product.link_video,"onUpdate:modelValue":e[29]||(e[29]=t=>l.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Z_,(0,et.zw)(l.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[K_,(0,s._)("div",B_,[(0,s.Wm)(qx.r,{modelValue:l.selectedDeliveries,"onUpdate:modelValue":e[30]||(e[30]=t=>l.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{offers:l.offers,"onUpdate:offers":e[31]||(e[31]=t=>l.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Q_,(0,s._)("div",G_,[(0,s._)("div",J_,[(0,s._)("label",X_,[(0,s._)("div",tk,[(0,s.Wm)(st.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),ek]),(0,s._)("input",{onChange:e[32]||(e[32]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",rk,[(0,s._)("div",ak,[(0,s._)("img",{class:(0,et.C_)([{"tw-hidden":!l.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!!l.image},"bg-gray-300 h-48 flex items-center justify-center"])},ok,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",lk,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ik])),_:1}),(0,s.Wm)(rt.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[nk])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function wk(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(d,{visible:o.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:l.update,variant:r.variant,onCancel:l.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const ck={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},uk={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},pk={class:"tw-col-span-12"},mk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),gk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hk={class:"tw-col-span-12"},fk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),yk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vk={class:"tw-col-span-12"},bk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),xk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},_k={class:"tw-col-span-12"},kk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Ck={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Dk={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},Sk=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),zk=[Sk],Uk=["disabled"],Pk=(0,s._)("span",{class:"tw-text-white"},"Save",-1),Lk=[Pk];function Ak(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",ck,[(0,s._)("div",uk,[(0,s._)("div",pk,[mk,(0,s.Wm)(ot.hw,{error:!o.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[1]||(e[1]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",gk,(0,et.zw)(o.formStatus.size.message),1)]),(0,s._)("div",hk,[fk,(0,s.Wm)(ot.hw,{error:!o.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[3]||(e[3]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",yk,(0,et.zw)(o.formStatus.color.message),1)]),(0,s._)("div",vk,[bk,(0,s.Wm)(ot.hw,{onChange:l.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",xk,(0,et.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",_k,[kk,(0,s.Wm)(ot.hw,{onChange:l.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>l.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Ck,(0,et.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Dk,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},zk),(0,s._)("button",{disabled:!o.quantity,class:(0,et.C_)([{"tw-bg-orange-500":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>l.updateVariant&&l.updateVariant(...t))},Lk,10,Uk)])])])}var $k={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const qk=(0,p.Z)($k,[["render",Ak]]);var Wk=qk,Ek={components:{UpdateProductVariant:Wk},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const Tk=(0,p.Z)(Ek,[["render",wk]]);var Ok=Tk;class Ik{async create(t){return await q.getCookie(),A.post("api/warehouses/new",{name:t.name})}async update(t,e){return await q.getCookie(),A.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await q.getCookie(),A.get("api/warehouses")}async getWarehouse(t){return await q.getCookie(),A.get("api/warehouses/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/warehouses/delete/"+t)}}var Vk=new Ik;const Fk=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),jk={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Rk={class:"md:tw-col-span-3 tw-col-span-12"},Nk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Mk={class:"md:tw-col-span-3 tw-col-span-12"},Hk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Yk={class:"md:tw-col-span-5 tw-col-span-12"},Zk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Kk={class:"md:tw-col-span-1 tw-col-span-12"},Bk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),Qk={class:"tw-mt-2"},Gk={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},Jk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Xk=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),tC={class:"tw-px-6 tw-py-4"},eC={class:"tw-px-6 tw-py-4"},rC={class:"tw-px-6 tw-py-4"},aC={class:"tw-max-w-[250px] tw-text-sm"},sC={class:"tw-px-6 tw-py-4"},oC={key:0},lC=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),iC=[lC];function nC(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Fk,(0,s._)("div",jk,[(0,s._)("div",Rk,[Nk,(0,s.Wm)(ot.hw,{type:"number","hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Mk,[Hk,(0,s.Wm)(ot.hw,{type:"number","hide-details":!0,modelValue:o.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Yk,[Zk,(0,s.Wm)(ot.hw,{type:"text","hide-details":!0,modelValue:o.note,"onUpdate:modelValue":e[2]||(e[2]=t=>o.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Kk,[Bk,(0,s.Wm)(rt.T,{onClick:l.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",Qk,[(0,s._)("div",Gk,[(0,s._)("table",Jk,[Xk,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",tC,(0,et.zw)(t.quantity),1),(0,s._)("td",eC,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",rC,[(0,s._)("p",aC,(0,et.zw)(t.note),1)]),(0,s._)("td",sC,[(0,s.Wm)(rt.T,{onClick:e=>l.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",oC,iC)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"])])}var dC={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const wC=(0,p.Z)(dC,[["render",nC]]);var cC=wC,uC={components:{VariantActions:Ok,ProductOffers:cC},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,link_video:"",link_store:"",description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert}];t.variants=e}sa.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",buyingPrice:0,link_video:"",link_store:"",sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.product.name,"Product name"),this.formStatus.reference=zt(this.product.reference,"Reference"),this.formStatus.buyingPrice=zt(this.product.buyingPrice,"Buying price"),this.formStatus.quantity=zt(this.quantity,"Quantity"),this.formStatus.sellingPrice=zt(this.product.sellingPrice,"Selling price"),this.formStatus.description=zt(this.product.description,"Description"),this.formStatus.link_store=zt(this.product.link_store,"Link store"),this.formStatus.link_video=zt(this.product.link_video,"Link video"),this.formStatus.variants=Lt(this.variants),this.addVariants||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.link_video.valid&&this.formStatus.link_store.valid&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid)return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,Vk.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses()}};const pC=(0,p.Z)(uC,[["render",dk]]);var mC=pC;const gC=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),hC={key:0},fC={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},yC={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},vC={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},bC={class:"tw-w-full"},xC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),_C={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kC={class:"tw-w-full"},CC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),DC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},SC={class:"tw-w-full"},zC={class:"mb-1 text-body-2 tw-text-zinc-700"},UC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},PC={class:"mb-1 text-body-2 tw-text-zinc-700"},LC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},AC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),$C={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qC={class:"tw-h-fit tw-mb-"},WC=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),EC={class:"tw-relative"},TC=(0,s._)("option",{value:0},"Select",-1),OC=["value"],IC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},VC={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},FC={class:"md:tw-col-span-3 tw-col-span-12"},jC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),RC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},NC={class:"md:tw-col-span-3 tw-col-span-12"},MC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),HC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},YC={class:"md:tw-col-span-3 tw-col-span-12"},ZC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),KC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},BC={class:"md:tw-col-span-3 tw-col-span-12"},QC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),GC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},JC={class:"tw-col-span-12 tw-flex tw-justify-end"},XC=["disabled"],tD=(0,s._)("span",{class:"tw-text-white"},"Add",-1),eD={class:""},rD={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},aD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),sD={class:"mb-1 text-body-2 tw-text-zinc-700"},oD={key:1,class:"tw-max-w-full tw-overflow-x-auto"},lD={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},iD={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},nD={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},dD={class:"tw-px-6 tw-py-2 tw-capitalize"},wD={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},cD={class:"tw-px-6 tw-py-2"},uD={class:"tw-px-6 tw-py-2"},pD={class:"tw-flex tw-flex-col"},mD={key:0,class:"tw-text-xs tw-text-green-500"},gD={class:"tw-px-6 tw-py-2"},hD={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},fD={class:"tw-w-full"},yD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),vD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bD={class:"tw-w-full"},xD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),_D={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kD=(0,s._)("h1",null,"Deliveries",-1),CD={class:"tw-mt-2"},DD=(0,s._)("h1",null,"Image",-1),SD={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},zD={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},UD={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},PD={class:"tw-w-max tw-relative"},LD=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),AD={class:"md:tw-col-span-6 tw-col-span-12"},$D={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},qD=["src"],WD=(0,s._)("span",null,"No image available",-1),ED=[WD],TD={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},OD=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),ID=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function VD(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("UpdateVariantActions"),w=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[gC,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hC,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",fC,[(0,s._)("div",yC,[(0,s.Uk)(" Product ID: "),(0,s._)("span",vC,(0,et.zw)(i.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",bC,[xC,(0,s.Wm)(ot.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:l.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_C,(0,et.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kC,[CC,(0,s.Wm)(ot.hw,{error:!l.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>l.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",DC,(0,et.zw)(l.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",SC,[(0,s._)("div",zC," Buying Price ("+(0,et.zw)(l.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!l.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:l.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>l.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",UC,(0,et.zw)(l.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",PC," Selling Price ("+(0,et.zw)(l.currency)+") ",1),(0,s.Wm)(ot.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!l.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:l.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>l.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",LC,(0,et.zw)(l.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[AC,(0,s.Wm)(Wx.z,{error:!l.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:l.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>l.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",$C,(0,et.zw)(l.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",qC,[WC,(0,s._)("div",EC,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.warehouse=t),onChange:e[11]||(e[11]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[TC,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,OC)))),128))],544),[[a.bM,l.warehouse]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",IC,(0,et.zw)(l.formStatus.warehouse.message),1)]),(0,s._)("div",null,[(0,s._)("div",VC,[(0,s._)("div",FC,[jC,(0,s.Wm)(ot.hw,{error:!l.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>i.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[13]||(e[13]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",RC,(0,et.zw)(l.formStatus.size.message),1)]),(0,s._)("div",NC,[MC,(0,s.Wm)(ot.hw,{error:!l.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[15]||(e[15]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",HC,(0,et.zw)(l.formStatus.color.message),1)]),(0,s._)("div",YC,[ZC,(0,s.Wm)(ot.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",KC,(0,et.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",BC,[QC,(0,s.Wm)(ot.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",GC,(0,et.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",JC,[(0,s._)("button",{disabled:!l.quantity,class:(0,et.C_)([{"bg-primary-color":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(st.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),tD],10,XC)])]),(0,s._)("div",eD,[(0,s._)("div",rD,[aD,(0,s._)("div",sD," Quantity Total: "+(0,et.zw)(i.qtyTotal),1)]),0==l.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":l.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!l.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,et.zw)(l.formStatus.variants.valid?"No Variants yet":l.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",oD,[(0,s._)("table",lD,[(0,s._)("thead",iD,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["warehouse","size","color","qty","Stock Alert","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",nD,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",dD,(0,et.zw)(t.warehouse.name),1),(0,s._)("td",wD,(0,et.zw)(t.size),1),(0,s._)("td",cD,(0,et.zw)(t.color),1),(0,s._)("td",uD,[(0,s._)("div",pD,[(0,s._)("span",null,(0,et.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",mD,(0,et.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",gD,(0,et.zw)(t.stockAlert),1),(0,s._)("td",hD,[(0,s._)("div",null,[(0,s.Wm)(d,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])])),_:1})])),_:1}),(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fD,[yD,(0,s.Wm)(ot.hw,{error:!l.formStatus.link_store.valid,onKeyup:e[21]||(e[21]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:l.product.link_store,"onUpdate:modelValue":e[22]||(e[22]=t=>l.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",vD,(0,et.zw)(l.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",bD,[xD,(0,s.Wm)(ot.hw,{error:!l.formStatus.link_video.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:l.product.link_video,"onUpdate:modelValue":e[24]||(e[24]=t=>l.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_D,(0,et.zw)(l.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[kD,(0,s._)("div",CD,[(0,s.Wm)(qx.r,{modelValue:l.selectedDeliveries,"onUpdate:modelValue":e[25]||(e[25]=t=>l.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{offers:l.offers,"onUpdate:offers":e[26]||(e[26]=t=>l.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[DD,(0,s._)("div",SD,[(0,s._)("div",zD,[(0,s._)("label",UD,[(0,s._)("div",PD,[(0,s.Wm)(st.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),LD]),(0,s._)("input",{onChange:e[27]||(e[27]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",AD,[(0,s._)("div",$D,[(0,s._)("img",{class:(0,et.C_)([{"tw-hidden":!l.image},"w-full h-full tw-object-contain"]),ref:"image",src:l.serverUrl+"storage/"+l.image,id:"image-preview",alt:"Image Preview"},null,10,qD),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!!l.image},"bg-gray-300 h-48 flex items-center justify-center"])},ED,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",TD,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[OD])),_:1}),(0,s.Wm)(rt.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[ID])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const FD={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},jD={class:"tw-w-full"},RD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),ND={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},MD=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),HD=[MD],YD=["disabled"],ZD=(0,s._)("span",{class:"tw-text-white"},"Add",-1),KD=[ZD];function BD(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(d,{visible:o.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:l.update,variant:r.variant,onCancel:l.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(d,{visible:o.visibleAdd,onCancel:l.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",FD,[(0,s._)("div",jD,[RD,(0,s.Wm)(ot.hw,{"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",ND,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.cancelAdd&&l.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},HD),(0,s._)("button",{disabled:!o.quantity||0==o.quantity,class:(0,et.C_)([{"!tw-bg-green-500":0!=o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>l.addQuantity&&l.addQuantity(...t))},KD,10,YD)])])])),_:1},8,["visible","onCancel"])])}var QD={components:{UpdateProductVariant:Wk},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const GD=(0,p.Z)(QD,[["render",BD]]);var JD=GD,XD={components:{UpdateVariantActions:JD,ProductOffers:cC},data(){return{currency:c,serverUrl:d,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),sa.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=zt(this.product.name,"Product name"),this.formStatus.buyingPrice=zt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=zt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=zt(this.product.link_store,"Link store"),this.formStatus.link_video=zt(this.product.link_video,"Link video"),this.formStatus.description=zt(this.product.description,"Description"),this.formStatus.variants=Lt(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return Vk.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return sa.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,name:o,description:l,link_video:i,link_store:n,deliveries:d,image:w,offers:c}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=o,this.product.reference=s,this.product.link_video=i,this.product.link_store=n,this.product.description=l,this.image=w,this.offers=c,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=d.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const tS=(0,p.Z)(XD,[["render",VD]]);var eS=tS;const rS={class:"tw-pb-14"},aS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),sS={key:0},oS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},lS={class:"tw-grid tw-grid-cols-12 tw-gap-2"},iS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},nS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),dS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},wS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},cS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),uS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},pS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},mS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),gS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},hS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},fS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),yS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},vS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},bS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),xS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},_S={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},kS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),CS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},DS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},SS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),zS=["href"],US={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},PS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),LS=["href"],AS={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},$S=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),qS={class:"tw-text-neutral-800 tw-font-medium"},WS={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},ES={key:3,class:"tw-border bg-white tw-w-full tw-rounded-md"},TS={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},OS={key:5,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},IS={class:"tw-max-w-full tw-overflow-auto"},VS={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},FS={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},jS={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},RS={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},NS={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},MS={class:"tw-px-6 tw-py-2"},HS={class:"tw-px-6 tw-py-2"},YS={class:"tw-flex tw-flex-col"},ZS={class:"tw-px-6 tw-py-2"},KS={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},BS=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),QS=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),GS=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),JS={class:"tw-px-6 tw-py-2"},XS={class:"tw-flex tw-flex-col tw-font-medium"},tz=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function ez(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",rS,[aS,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",sS,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",oS,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",lS,[(0,s._)("div",iS,[nS,(0,s._)("p",dS,(0,et.zw)(o.product.name),1)]),(0,s._)("div",wS,[cS,(0,s._)("p",uS,(0,et.zw)(o.product.ref),1)]),(0,s._)("div",pS,[mS,(0,s._)("p",gS,(0,et.zw)(o.product.buying_price)+" "+(0,et.zw)(o.currency),1)]),(0,s._)("div",hS,[fS,(0,s._)("p",yS,(0,et.zw)(o.product.selling_price)+" "+(0,et.zw)(o.currency),1)]),(0,s._)("div",vS,[bS,(0,s._)("p",xS,(0,et.zw)(l.qtyTotalDelivered),1)]),(0,s._)("div",_S,[kS,(0,s._)("p",CS,(0,et.zw)(l.qtyTotalSent),1)]),(0,s._)("div",DS,[SS,(0,s._)("a",{target:"_blank",href:o.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,et.zw)(o.product.link_store),9,zS)]),(0,s._)("div",US,[PS,(0,s._)("a",{target:"_blank",href:o.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,et.zw)(o.product.link_video),9,LS)]),(0,s._)("div",AS,[$S,(0,s._)("p",qS,(0,et.zw)(o.product.description),1)])])])])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",WS,"Tracking")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ES,[(0,s.Wm)(n,{product:o.product},null,8,["product"])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",TS,"Variations")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",OS,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",IS,[(0,s._)("table",VS,[(0,s._)("thead",FS,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",jS,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",RS,(0,et.zw)(t.id),1),(0,s._)("th",NS,(0,et.zw)(t.size),1),(0,s._)("td",MS,(0,et.zw)(t.color),1),(0,s._)("td",HS,[(0,s._)("div",YS,[(0,s._)("span",null,"Initial: "+(0,et.zw)(t.quantity),1)])]),(0,s._)("td",ZS,(0,et.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",KS,[BS,QS,GS,(0,s._)("td",JS,[(0,s._)("div",XS,[(0,s._)("span",null,"Total: "+(0,et.zw)(l.qtyTotal),1)])]),tz])])])])])])])):(0,s.kq)("",!0)])}const rz={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},az=["onClick"];function sz(t,e,r,a,o,l){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(as._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",rz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>o.tab=t.id,class:(0,et.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==o.tab}])},(0,et.zw)(t.name),11,az)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(ls.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(is.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const oz={class:"tw-mt-5"},lz={class:"tw-max-w-full tw-overflow-auto"},iz={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},nz={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},dz={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function wz(t,e,r,a,o,l){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",oz,[(0,s._)("div",lz,[(0,s._)("table",iz,[(0,s._)("thead",nz,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",dz,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.j4)(i,{item:t,key:t.id,source:r.source},null,8,["item","source"])))),128))])])])])}const cz={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},uz={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},pz={class:"tw-flex tw-items-start tw-h-full"},mz={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},gz={class:"tw-px-6 tw-py-2"},hz={key:0},fz={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},yz={key:0,class:"tw-h-fit tw-py-2"},vz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),bz={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},xz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),_z={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},kz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Cz={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Dz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Sz={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},zz={key:1},Uz={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Pz={key:0,class:"tw-h-fit tw-py-2"},Lz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Az={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},$z=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),qz={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Wz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Ez={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Tz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Oz={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Iz={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Vz(t,e,r,a,o,l){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",cz,[(0,s._)("th",uz,[(0,s._)("div",pz,(0,et.zw)(r.item.id),1)]),(0,s._)("th",mz,(0,et.zw)(r.item.name),1),(0,s._)("td",gz,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",hz,[(0,s._)("div",fz,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,et.zw)(l.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",yz,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[vz,(0,s._)("td",bz,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[xz,(0,s._)("td",_z,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[kz,(0,s._)("td",Cz,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Dz,(0,s._)("td",Sz,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",zz,[(0,s._)("div",Uz,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,et.zw)(l.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",Pz,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Lz,(0,s._)("td",Az,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[$z,(0,s._)("td",qz,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Wz,(0,s._)("td",Ez,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Tz,(0,s._)("td",Oz,(0,et.zw)(l.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Iz,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Fz(t,e,r,a,o,l){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:o.visible,onCancel:l.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const jz={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Rz={class:"tw-p-5"},Nz={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Mz=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Hz(t,e,r,a,o,l){const i=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",jz,[(0,s.Wm)(rt.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Rz,[(0,s._)("table",Nz,[Mz,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,type:r.type},null,8,["item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Yz={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Zz={class:"tw-w-4 tw-px-2 tw-py-1"},Kz={class:"tw-w-4 tw-px-2 tw-py-1"},Bz={class:"tw-w-4 tw-px-2 tw-py-1"},Qz={class:"tw-w-4 tw-px-2 tw-py-1"},Gz={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Jz={key:0,class:"tw-h-fit tw-py-2"},Xz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),tU={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},eU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),rU={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},aU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),sU={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},oU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),lU={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function iU(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",Yz,[(0,s._)("td",Zz,(0,et.zw)(r.item.id),1),(0,s._)("td",Kz,(0,et.zw)(r.item.size),1),(0,s._)("td",Bz,(0,et.zw)(r.item.color),1),(0,s._)("td",Qz,[(0,s._)("div",null,[(0,s._)("div",Gz,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,et.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",Jz,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Xz,(0,s._)("td",tU,(0,et.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[eU,(0,s._)("td",rU,(0,et.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[aU,(0,s._)("td",sU,(0,et.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[oU,(0,s._)("td",lU,(0,et.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var nU={props:["type","item"],data(){return{showDetails:!1}}};const dU=(0,p.Z)(nU,[["render",iU]]);var wU=dU,cU={props:["visible","source","type"],components:{ProductVariantDetailsRow:wU},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const uU=(0,p.Z)(cU,[["render",Hz]]);var pU=uU,mU={props:["product","source","type"],components:{ProductVariantDetails:pU},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const gU=(0,p.Z)(mU,[["render",Fz]]);var hU=gU,fU={components:{ShowProductVariantActions:hU},props:["source","item"],data(){return{showDetails:!1}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const yU=(0,p.Z)(fU,[["render",Vz]]);var vU=yU,bU={props:["product","source"],components:{ProductTrackingRow:vU},computed:{items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const xU=(0,p.Z)(bU,[["render",wz]]);var _U=xU,kU={components:{ProductTrackingTable:_U},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const CU=(0,p.Z)(kU,[["render",sz]]);var DU=CU,SU={components:{ProductTracking:DU},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;sa.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const zU=(0,p.Z)(SU,[["render",ez]]);var UU=zU,PU={name:"products",path:"/products",component:da,meta:{module:"product"},children:[{name:"product/list",path:"",component:ag,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:$x,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:mC,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/update",path:"update/:id",component:eS,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:UU,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const LU={class:"mb-5 tw-flex tw-justify-between tw-items-center"},AU=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),$U={key:0},qU=(0,s._)("span",{class:"text-white"}," Add User ",-1),WU={key:0},EU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},TU={class:"mb-5 tw-flex"},OU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},IU={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},VU={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},FU=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),jU={class:"tw-relative"},RU=["value"],NU={class:""};function MU(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",LU,[AU,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",$U,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),qU])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",WU,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",EU,[(0,s._)("div",TU,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",OU,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",IU,[(0,s._)("div",VU,[FU,(0,s._)("div",jU,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,et.zw)(t),9,RU)))),128))],512),[[a.bM,l.role]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",NU,[(0,s.Wm)(d,{users:i.filteredUsers,columns:l.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const HU={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},YU={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ZU={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},KU=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),BU={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},QU=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),GU={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},JU={class:"tw-px-6 tw-py-4"},XU={class:"tw-px-6 tw-py-4"},tP={class:"tw-px-6 tw-py-4"},eP={class:"tw-px-6 tw-py-4"},rP={class:"tw-px-6 tw-py-4"},aP={key:0,class:"tw-text-red-500"},sP={key:1},oP={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},lP=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),iP={key:1,class:"tw-text-neutral-700"},nP={class:"tw-px-6 tw-py-4"},dP={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},wP={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},cP={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},uP=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),pP=["value"],mP={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},gP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},hP={class:"tw-text-white"};function fP(t,e,r,o,l,i){const n=(0,s.up)("RoleName"),d=(0,s.up)("UserStatus"),w=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HU,[(0,s._)("table",YU,[(0,s._)("thead",ZU,[(0,s._)("tr",null,[KU,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",BU,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[QU,(0,s._)("th",GU,(0,et.zw)(e.id),1),(0,s._)("td",JU,(0,et.zw)(e.firstname)+" "+(0,et.zw)(e.lastname),1),(0,s._)("td",XU,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",tP,(0,et.zw)(e.email),1),(0,s._)("td",eP,(0,et.zw)(e.phone),1),(0,s._)("td",rP,[e.last_action?((0,s.wg)(),(0,s.iD)("div",sP,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",oP,[lP,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",iP,(0,et.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",aP," Never Connected "))]),(0,s._)("td",nP,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(d,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",dP,[(0,s.Wm)(w,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",wP,[(0,s._)("div",cP,[uP,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,pP)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",mP,[(0,s._)("div",gP,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,et.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",hP,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function yP(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var vP={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,X["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),X.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const bP=(0,p.Z)(vP,[["render",yP]]);var xP=bP;const _P={key:0,class:"tw-flex tw-items-center"};function kP(t,e,r,a,o,l){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",_P,[(0,s.Wm)(Au.G,{disabled:o.isLoading,loading:o.isLoading,onChange:l.handleChange,color:"primary-color",flat:!0,modelValue:o.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>o.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var CP={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,X.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const DP=(0,p.Z)(CP,[["render",kP]]);var SP=DP;const zP={class:"tw-flex tw-items-center tw-h-full"};function UP(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",zP,[(0,s._)("div",{class:(0,et.C_)([l.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,et.C_)([l.current.text,"tw-text-sm tw-uppercase"])},(0,et.zw)(r.role),3)],2)])}var PP={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const LP=(0,p.Z)(PP,[["render",UP]]);var AP=LP,$P={props:["columns","users"],components:{UserActions:xP,UserStatus:SP,RoleName:AP},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Xa.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const qP=(0,p.Z)($P,[["render",fP]]);var WP=qP,EP={components:{UsersTable:WP},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const TP=(0,p.Z)(EP,[["render",MU]]);var OP=TP,IP=r(988);const VP=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),FP={key:0},jP={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},RP={class:"tw-w-full"},NP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),MP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},HP={class:"tw-w-full"},YP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),ZP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},KP={class:"tw-w-full"},BP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),QP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},GP={class:"tw-w-full"},JP=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),XP={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),eL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),rL=["value"],aL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),sL=["value"],oL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),lL=(0,s._)("span",{class:"text-white"},"Add",-1),iL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),nL={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},dL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),wL={class:"tw-w-full"},cL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),uL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pL={class:"tw-w-full"},mL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),gL={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},hL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),fL={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},yL=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),vL=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function bL(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[VP,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",FP,[(0,s.Wm)(n)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",jP,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",RP,[NP,(0,s.Wm)(ot.hw,{error:!l.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:l.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",MP,(0,et.zw)(l.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",HP,[YP,(0,s.Wm)(ot.hw,{error:!l.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:l.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>l.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ZP,(0,et.zw)(l.formStatus.lastname.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",KP,[BP,(0,s.Wm)(ot.hw,{error:!l.formStatus.email.valid,"hide-details":!0,onKeyup:e[4]||(e[4]=t=>i.resetError("email")),modelValue:l.user.email,"onUpdate:modelValue":e[5]||(e[5]=t=>l.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",QP,(0,et.zw)(l.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",GP,[JP,(0,s.Wm)(ot.hw,{error:!l.formStatus.phone.valid,"hide-details":!0,onKeyup:e[6]||(e[6]=t=>i.resetError("phone")),modelValue:l.user.phone,"onUpdate:modelValue":e[7]||(e[7]=t=>l.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",XP,(0,et.zw)(l.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Au.G,{modelValue:l.isHavingAllProducts,"onUpdate:modelValue":e[8]||(e[8]=t=>l.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),tL,(0,s._)("div",null,[(0,s.Wm)(IP.f,{disabled:l.isHavingAllProducts,modelValue:l.selectedProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>l.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[eL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,rL)))),128))],512),[[a.bM,l.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[aL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,sL)))),128))],512),[[a.bM,l.deliveryCity]]),oL,(0,s.Wm)(ot.hw,{"hide-details":!0,modelValue:l.deliveryCityFee,"onUpdate:modelValue":e[12]||(e[12]=t=>l.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(rt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[lL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[iL,(0,s.Wm)(qx.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:l.role,"onUpdate:modelValue":e[13]||(e[13]=t=>l.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nL,[dL,(0,s.Wm)(Au.G,{modelValue:l.user.status,"onUpdate:modelValue":e[14]||(e[14]=t=>l.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",wL,[cL,(0,s.Wm)(ot.hw,{error:!l.formStatus.password.valid,"hide-details":!0,onKeyup:e[15]||(e[15]=t=>i.resetError("password")),modelValue:l.user.password,"onUpdate:modelValue":e[16]||(e[16]=t=>l.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",uL,(0,et.zw)(l.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",pL,[mL,(0,s.Wm)(ot.hw,{error:!l.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[17]||(e[17]=t=>i.resetError("confirmPassword")),modelValue:l.user.confirmPassword,"onUpdate:modelValue":e[18]||(e[18]=t=>l.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",gL,(0,et.zw)(l.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[hL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,et.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,et.zw)(t.fee)+" "+(0,et.zw)(l.currency),1),(0,s._)("div",null,[(0,s.Wm)(st.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",fL,[(0,s.Wm)(rt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yL])),_:1}),(0,s.Wm)(rt.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vL])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var xL={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};X.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=Dt(this.user.email),this.formStatus.firstname=zt(this.user.firstname),this.formStatus.lastname=zt(this.user.lastname),this.formStatus.phone=zt(this.user.phone),this.formStatus.password=St(this.user.password),this.formStatus.confirmPassword=Pt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,o=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&o&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):X.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):sa.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const _L=(0,p.Z)(xL,[["render",bL]]);var kL=_L;const CL=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),DL={key:0},SL={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},zL={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},UL={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},PL={class:"tw-w-full"},LL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),AL={class:"tw-w-full"},$L=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),qL={class:"tw-w-full"},WL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),EL={class:"tw-w-full"},TL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),OL={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},IL=(0,s._)("span",null,"Update Password: ",-1),VL={class:"tw-w-full"},FL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),jL={class:"tw-w-full"},RL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),NL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),ML={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},HL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),YL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),ZL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),KL=["value"],BL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),QL=["value"],GL=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),JL=(0,s._)("span",{class:"text-white"},"Add",-1),XL=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),tA={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},eA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),rA=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function aA(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[CL,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DL,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",SL,[(0,s._)("div",zL,[(0,s.Uk)(" User ID: "),(0,s._)("span",UL,(0,et.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",PL,[LL,(0,s.Wm)(ot.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",AL,[$L,(0,s.Wm)(ot.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qL,[WL,(0,s.Wm)(ot.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",EL,[TL,(0,s.Wm)(ot.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",OL,[IL,(0,s.Wm)(Au.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",VL,[FL,(0,s.Wm)(ot.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",jL,[RL,(0,s.Wm)(ot.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[NL,(0,s.Wm)(qx.r,{class:"text-capitalize","error-messages":l.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:l.role,"onUpdate:modelValue":e[7]||(e[7]=t=>l.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ML,[HL,(0,s.Wm)(Au.G,{modelValue:l.status,"onUpdate:modelValue":e[8]||(e[8]=t=>l.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Au.G,{modelValue:l.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>l.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),YL,(0,s._)("div",null,[(0,s.Wm)(IP.f,{disabled:l.isHavingAllProducts,modelValue:l.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>l.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ZL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,KL)))),128))],512),[[a.bM,l.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[BL,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,QL)))),128))],512),[[a.bM,l.deliveryCity]]),GL,(0,s.Wm)(ot.hw,{"hide-details":!0,modelValue:l.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>l.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(rt.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[JL])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(pa.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[XL,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,et.zw)(l.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,et.zw)(t.fee)+" DH ",1),(0,s._)("div",null,[(0,s.Wm)(st.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",tA,[(0,s.Wm)(rt.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[eA])),_:1}),(0,s.Wm)(rt.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[rA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var sA={data(){return{serverUrl:d,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,X.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=Dt(this.email),this.formStatus["firstname"]=zt(this.firstname),this.formStatus["lastname"]=zt(this.lastname),this.formStatus["phone"]=zt(this.phone),this.formStatus["password"]=St(this.password),this.formStatus["confirmPassword"]=Pt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,o=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&o&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return X.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:parseInt(e.fee)}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return sa.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return X.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const oA=(0,p.Z)(sA,[["render",aA]]);var lA=oA;const iA=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),nA={key:0},dA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},wA={class:"md:tw-w-1/2 tw-w-full"},cA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),uA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pA={class:"mb-3 text-body-2 tw-text-zinc-700"},mA={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},gA={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},hA=["onClick"],fA={key:0},yA={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},vA=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),bA=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function xA(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[iA,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nA,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",dA,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",wA,[cA,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",uA,(0,et.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",pA,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",mA,(0,et.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",gA,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>l.handleClick(t),class:(0,et.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,et.zw)(t),1)],10,hA)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",fA,(0,et.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",yA,[(0,s.Wm)(rt.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[vA])),_:1}),(0,s.Wm)(rt.T,{onClick:l.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[bA])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var _A={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,X.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){0==this.roles.length?await this.getRoles():this.isFormReady=!0,this.permissions=this.$store.getters["user/permissions"]}};const kA=(0,p.Z)(_A,[["render",xA]]);var CA=kA;const DA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},SA=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),zA={key:0},UA=(0,s._)("span",{class:"text-white"}," Add Role ",-1),PA={key:0},LA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},AA={class:"mb-5 tw-flex"},$A={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},qA={class:""};function WA(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",DA,[SA,t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",zA,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),UA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",PA,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",LA,[(0,s._)("div",AA,[(0,s.Wm)(rt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",$A,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",qA,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:l.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const EA={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},TA={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},OA={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},IA=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),VA={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},FA=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),jA={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},RA={class:"tw-px-6 tw-py-4 tw-uppercase"},NA={class:"tw-px-6 tw-py-4"},MA={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},HA={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},YA={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ZA=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),KA=["value"],BA={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},QA={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},GA={class:"tw-text-white"};function JA(t,e,r,o,l,i){const n=(0,s.up)("RolePermissions"),d=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",EA,[(0,s._)("table",TA,[(0,s._)("thead",OA,[(0,s._)("tr",null,[IA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",VA,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[FA,(0,s._)("th",jA,(0,et.zw)(t.id),1),(0,s._)("td",RA,(0,et.zw)(t.name),1),(0,s._)("td",NA,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",MA,[(0,s.Wm)(d,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",HA,[(0,s._)("div",YA,[ZA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,KA)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",BA,[(0,s._)("div",QA,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,et.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",GA,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const XA={key:0},t$={class:"tw-flex tw-flex-wrap tw-gap-2"};function e$(t,e,r,a,o,l){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",XA,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:o.isLoadingDelete,visible:o.showPopupDelete,onResolved:l.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:o.isLoadingShow,visible:o.showPopupShow,onResolved:l.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",t$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,et.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var r$={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,X.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),X.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const a$=(0,p.Z)(r$,[["render",e$]]);var s$=a$;const o$={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},l$=["title"];function i$(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",o$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,et.zw)(t.name),9,l$)))),128))])}var n$={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const d$=(0,p.Z)(n$,[["render",i$]]);var w$=d$,c$={props:["columns","roles"],components:{RoleActions:s$,RolePermissions:w$},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const u$=(0,p.Z)(c$,[["render",JA]]);var p$=u$,m$={components:{RolesTable:p$},data(){return{localUrl:n,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const g$=(0,p.Z)(m$,[["render",WA]]);var h$=g$;const f$=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),y$={key:0},v$={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},b$={class:"md:tw-w-1/2 tw-w-full"},x$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),_$={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},k$={class:"mb-3 text-body-2 tw-text-zinc-700"},C$={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},D$={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},S$=["onClick"],z$={key:0},U$={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},P$=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),L$=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function A$(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[f$,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",y$,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",v$,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",b$,[x$,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_$,(0,et.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",k$,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",C$,(0,et.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",D$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>l.handleClick(t),class:(0,et.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,et.zw)(t),11,S$)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",z$,(0,et.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",U$,[(0,s.Wm)(rt.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[P$])),_:1}),(0,s.Wm)(rt.T,{onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[L$])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var $$={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,X.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){X.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){X.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const q$=(0,p.Z)($$,[["render",A$]]);var W$=q$,E$={name:"users",path:"/users",component:da,meta:{module:"user"},children:[{name:"user/list",path:"",component:OP,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:kL,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:lA,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:CA,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:h$,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:W$,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const T$={class:"mb-5 tw-flex tw-justify-between tw-items-center"},O$=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),I$={key:0},V$=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),F$={key:0},j$={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},R$={class:"mb-5 tw-flex"},N$={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},M$={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},H$={class:""};function Y$(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("SalesAnalytics"),w=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",T$,[O$,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",I$,[(0,s.Wm)(rt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),V$])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",F$,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",j$,[(0,s.Wm)(d,{sales:i.sales},null,8,["sales"]),(0,s._)("div",R$,[(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",N$,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,l.search]])]),(0,s._)("div",M$,[(0,s.Wm)(st.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,l.searchId]])]),(0,s.Wm)(lr.C),(0,s.Wm)(rt.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:l.isButtonDisabled,loading:l.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(rt.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":l.showFilters}])},[(0,s.Wm)(w,{sales:i.sales,search:l.search,"search-id":l.searchId,filtered:l.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>l.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",H$,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":l.selected,key:l.filteredSales.length,sales:l.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>l.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>l.showPopup=!1),visible:l.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>l.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const Z$={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},K$={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},B$=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),Q$={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},G$={class:"md:tw-col-span-6 tw-col-span-12"},J$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),X$={class:"md:tw-col-span-6 tw-col-span-12"},tq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),eq={class:"md:tw-col-span-6 tw-col-span-12"},rq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),aq=["value"],sq={class:"md:tw-col-span-6 tw-col-span-12"},oq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),lq={class:"md:tw-col-span-12 tw-col-span-12"},iq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),nq={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},dq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),wq=(0,s._)("option",{value:0}," Select ",-1),cq=["value"],uq={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},pq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),mq=(0,s._)("option",{value:0}," Select ",-1),gq=["value"],hq={class:"md:tw-col-span-6 tw-col-span-12"},fq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),yq=(0,s._)("option",{value:0}," Select ",-1),vq=["value"],bq={class:"md:tw-col-span-6 tw-col-span-12"},xq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),_q={class:"md:tw-col-span-6 tw-col-span-12"},kq={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Cq={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Dq=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Sq={class:"tw-flex tw-flex-col tw-justify-center"},zq={class:"md:tw-col-span-6 tw-col-span-12"},Uq={key:0,class:"md:tw-col-span-12 tw-col-span-12"},Pq={class:"tw-max-w-full tw-overflow-auto"},Lq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Aq={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},$q={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},qq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Wq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Eq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Tq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Oq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Iq={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Vq=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Fq=(0,s._)("span",{class:"text-white"}," Save ",-1);function jq(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Z$,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",K$,[B$,(0,s._)("div",Q$,[(0,s._)("div",G$,[J$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",X$,[tq,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",eq,[rq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,aq)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",sq,[oq,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",lq,[iq,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>l.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])]),(0,s._)("div",nq,[dq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[wq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,cq)))),128))],512),[[a.bM,l.warehouse_id]])]),(0,s._)("div",uq,[pq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[mq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,gq)))),128))],512),[[a.bM,l.product_id]])]),(0,s._)("div",hq,[fq,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[yq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.size)+" / "+(0,et.zw)(t.color),9,vq)))),128))],512),[[a.bM,l.product_variation_id]])]),(0,s._)("div",bq,[xq,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>l.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.quantity]])]),(0,s._)("div",_q,[(0,s._)("div",kq,[(0,s._)("label",Cq,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),Dq]),(0,s._)("label",Sq,[(0,s._)("span",{class:(0,et.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,et.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",zq,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),l.items.length?((0,s.wg)(),(0,s.iD)("div",Uq,[(0,s._)("div",Pq,[(0,s._)("table",Lq,[(0,s._)("thead",Aq,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",$q,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",qq,(0,et.zw)(t.product.name),1),(0,s._)("th",Wq,(0,et.zw)(t.product_variation.size)+" / "+(0,et.zw)(t.product_variation.color),1),(0,s._)("th",Eq,(0,et.zw)(t.quantity),1),(0,s._)("th",Tq,(0,et.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",Oq,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",Iq,[(0,s.Wm)(rt.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Vq])),_:1}),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fq])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var Rq={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};la.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){sa.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const Nq=(0,p.Z)(Rq,[["render",jq]]);var Mq=Nq;const Hq={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Yq={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Zq=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),Kq={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Bq={class:"md:tw-col-span-6 tw-col-span-12"},Qq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),Gq={class:"md:tw-col-span-6 tw-col-span-12"},Jq=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),Xq={class:"md:tw-col-span-6 tw-col-span-12"},tW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),eW=["value"],rW=["value"],aW={class:"md:tw-col-span-6 tw-col-span-12"},sW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),oW={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},lW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),iW={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},nW={class:"tw-col-span-12"},dW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),wW={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},cW={class:"tw-col-span-12 md:tw-col-span-4"},uW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),pW={class:"tw-col-span-12 md:tw-col-span-8"},mW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),gW={class:"md:tw-col-span-6 tw-col-span-12"},hW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),fW={class:"md:tw-col-span-6 tw-col-span-12"},yW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),vW=["value"],bW={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},xW={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},_W={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},kW=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),CW={class:"tw-flex tw-flex-col tw-justify-center"},DW=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),SW={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},zW={key:2,class:"md:tw-col-span-12 tw-col-span-12"},UW={class:"tw-max-w-full tw-overflow-auto"},PW={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},LW={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},AW={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},$W=["src"],qW={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},WW=["onUpdate:modelValue"],EW=(0,s._)("option",{value:0},"Select",-1),TW=["value"],OW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},IW=["disabled","onUpdate:modelValue"],VW=(0,s._)("option",{value:0},"Select",-1),FW=["value"],jW={key:0},RW={key:1},NW={key:2},MW={key:3},HW=["value"],YW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},ZW={class:"md:tw-col-span-6 tw-col-span-12"},KW=["onUpdate:modelValue"],BW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},QW={key:0},GW={key:1,class:"md:tw-col-span-6 tw-col-span-12"},JW=["onUpdate:modelValue"],XW={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},tE={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},eE=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),rE={class:"md:tw-col-span-12 tw-col-span-12"},aE={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},sE=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),oE={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},lE=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),iE={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},nE=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),dE={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},wE=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),cE={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},uE={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},pE=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mE=(0,s._)("span",{class:"text-white"}," Create ",-1);function gE(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("AddOrderConfirmation"),w=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hq,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",Yq,[Zq,(0,s._)("div",Kq,[(0,s._)("div",Bq,[Qq,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",Gq,[Jq,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",Xq,[tW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:l.sale.city},(0,et.zw)(l.sale.city),9,eW),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,rW)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",aW,[sW,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",oW,[lW,(0,s.Wm)(d,{order:l.sale,id:l.sale.id,confirmation:l.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>l.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>l.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",iW,[(0,s._)("div",nW,[dW,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>l.sale.note=t)},null,512),[[a.nr,l.sale.note]])])]),"reporter"==l.sale.confirmation&&l.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",wW,[(0,s._)("div",cW,[uW,(0,s._)("div",null,(0,et.zw)(l.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",pW,[mW,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>l.sale.reported_agente_note=t)},null,512),[[a.nr,l.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",gW,[hW,(0,s.Wm)(w,{"product-ids":i.product_ids,items:l.items,"onUpdate:items":e[8]||(e[8]=t=>l.items=t),order:l.sale,confirmation:l.sale.confirmation,affectation:l.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>l.sale.affectation=t),id:l.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",fW,[yW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,et.zw)(t.name),9,vW)))),128))],512),[[a.bM,l.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",bW,[(0,s._)("div",xW,[(0,s._)("label",_W,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),kW]),(0,s._)("label",CW,[(0,s._)("span",{class:(0,et.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,et.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),DW,l.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",SW," No Order items ")),l.items.length?((0,s.wg)(),(0,s.iD)("div",zW,[(0,s._)("div",UW,[((0,s.wg)(),(0,s.iD)("table",{key:l.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",PW,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",LW,(0,et.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",AW,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:l.serverUrl+"storage/"+i.product_images[e]},null,8,$W)):(0,s.kq)("",!0)])])),(0,s._)("th",qW,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[EW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,TW)))),128))],8,WW),[[a.bM,t.product.id]])])])]),(0,s._)("th",OW,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[VW,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",RW,(0,et.zw)(t.size)+" / "+(0,et.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",NW,(0,et.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",MW,(0,et.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",jW,"-"))],8,FW)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,HW))],8,IW)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",YW,[(0,s._)("div",ZW,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,KW),[[a.nr,t.quantity]])])]),(0,s._)("th",BW,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",QW," - ")):((0,s.wg)(),(0,s.iD)("div",GW,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,JW),[[a.nr,t.price]])]))])]),(0,s._)("th",XW,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",tE,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),eE])),_:1},8,["onClick"])])]),(0,s._)("div",rE,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",aE,[sE,(0,s._)("div",oE,[lE,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>l.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])])]),(0,s._)("div",iE,[nE,(0,s._)("div",dE,[wE,(0,s._)("div",cE,(0,et.zw)(l.currency)+" "+(0,et.zw)(i.total_price),1)])])]),(0,s._)("div",uE,[(0,s.Wm)(rt.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pE])),_:1},8,["onClick"]),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mE])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var hE={components:{AddOrderConfirmation:oc,AddOrderAffectation:pc,ProductOffers:Pc},props:["visible","order"],data(){return{upsells:pn,serverUrl:d,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,la.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const fE=(0,p.Z)(hE,[["render",gE]]);var yE=fE;const vE={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},bE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_E={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},kE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},CE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},DE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},SE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},zE={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function UE(t,e,r,a,o,l){const i=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),d=(0,s.up)("ConfirmationFilter"),w=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),m=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vE,[(0,s._)("div",bE,[(0,s.Wm)(i,{filter:o.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",xE,[(0,s.Wm)(n,{filter:o.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",_E,[(0,s.Wm)(d,{filter:o.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>o.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",kE,[(0,s.Wm)(w,{filter:o.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>o.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",CE,[(0,s.Wm)(c,{filter:o.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>o.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",DE,[(0,s.Wm)(u,{filter:o.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>o.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",SE,[(0,s.Wm)(p,{filter:o.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>o.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",zE,[(0,s.Wm)(m,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const PE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),LE=["onClick"];function AE(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[PE,(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,LE)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var $E={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Vo.Z)(new Date),(0,Fo.Z)(new Date)]},{label:"Last month",range:[(0,Vo.Z)((0,jo.Z)(new Date,1)),(0,Fo.Z)((0,jo.Z)(new Date,1))]},{label:"This year",range:[(0,Ro.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const qE=(0,p.Z)($E,[["render",AE]]);var WE=qE;const EE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),TE={class:"tw-relative"},OE=(0,s._)("option",{value:"all"},"Select",-1),IE=(0,s._)("option",{value:"oui"},"Oui",-1),VE=(0,s._)("option",{value:"non"},"Non",-1),FE=[OE,IE,VE];function jE(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[EE,(0,s._)("div",TE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},FE,512),[[a.bM,l.value]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var RE={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const NE=(0,p.Z)(RE,[["render",jE]]);var ME=NE;const HE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),YE={class:"tw-relative"},ZE=["value"];function KE(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[HE,(0,s._)("div",YE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,et.zw)(t.value?t.name:"Select"),9,ZE)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var BE={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:mn}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const QE=(0,p.Z)(BE,[["render",KE]]);var GE=QE;const JE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),XE={class:"tw-relative"},tT=(0,s._)("option",{value:"all"}," Select ",-1),eT=["value"];function rT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[JE,(0,s._)("div",XE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[tT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,et.zw)(t.name),9,eT)))),128))],512),[[a.bM,l.confirmationFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var aT={props:["filter"],data(){return{confirmationFilter:"all",confirmations:wn}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const sT=(0,p.Z)(aT,[["render",rT]]);var oT=sT;const lT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affect",-1),iT={class:"tw-relative"},nT=(0,s._)("option",{value:"all"},"Select",-1),dT=(0,s._)("option",{value:null},"Without delivery",-1),wT=["value"];function cT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[lT,(0,s._)("div",iT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[nT,dT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,wT)))),128))],512),[[a.bM,l.affectationFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var uT={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const pT=(0,p.Z)(uT,[["render",cT]]);var mT=pT;const gT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),hT={class:"tw-relative"},fT=(0,s._)("option",{value:"all"},"Select",-1),yT=(0,s._)("option",{value:null},"Without agente",-1),vT=["value"];function bT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[gT,(0,s._)("div",hT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[fT,yT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,vT)))),128))],512),[[a.bM,l.agenteFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var xT={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const _T=(0,p.Z)(xT,[["render",bT]]);var kT=_T;const CT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),DT={key:0},ST={key:1,class:"tw-relative"},zT=(0,s._)("option",{value:"all"},"Select",-1),UT=["value"];function PT(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[CT,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DT,[(0,s._)("div",null,[(0,s.Wm)(st.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",ST,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[zT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,UT)))),128))],512),[[a.bM,l.productFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var LT={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const AT=(0,p.Z)(LT,[["render",PT]]);var $T=AT;function qT(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:o,deliveryFilter:l,agenteFilter:i,dateFilter:n,productFilter:d}){const w=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==o&&t.upsell!=o)return!1;if("all"!==l&&t.delivery!=l)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==d&&!t.items.some((t=>t.product_id==d)))return!1;const p=n.getDate(),m=n.getMonth(),g=n.getFullYear();if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(g<r||g===r&&m<e||g===r&&m===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(g>r||g===r&&m>e||g===r&&m===e&&p>t)return!1}return!0}))}function WT(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function ET(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function TT(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function OT(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const IT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),VT={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},FT={class:"tw-relative tw-w-full"},jT=(0,s._)("option",{value:"all"},"All Sales",-1),RT=(0,s._)("option",{value:"selected"},"Selected Sales",-1),NT=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),MT=[jT,RT,NT];function HT(t,e,r,o,l,i){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[IT,(0,s._)("div",VT,[(0,s._)("div",FT,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},MT,512),[[a.bM,l.selection]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(rt.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var YT={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const ZT=(0,p.Z)(YT,[["render",HT]]);var KT=ZT,BT={components:{DateFilter:WE,UpsellFilter:ME,DeliveryFilter:GE,ConfirmationFilter:oT,AffectationFilter:mT,AgenteFilter:kT,ProductFilter:$T,ExcelExport:KT},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return qT(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const QT=(0,p.Z)(BT,[["render",UE]]);var GT=QT;const JT={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},XT={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},tO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},eO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},rO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},aO={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function sO(t,e,r,a,o,l){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",JT,[(0,s._)("div",XT,[(0,s._)("div",tO,[(0,s.Wm)(i,{dash:l.newSales},null,8,["dash"])]),(0,s._)("div",eO,[(0,s.Wm)(i,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",rO,[(0,s.Wm)(i,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",aO,[(0,s.Wm)(i,{dash:l.shippedSales},null,8,["dash"])])])])])}const oO={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},lO={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},iO={class:"tw-text-xl tw-font-bold"},nO={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},dO={class:"tw-text-sm"},wO={class:"rounded-circle tw-w-fit tw-mr-3"};function cO(t,e,r,a,o,l){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(za.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",oO,[(0,s._)("div",lO,[(0,s._)("p",iO,(0,et.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,et.zw)(r.symbol),1),(0,s._)("span",nO,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",dO,(0,et.zw)(r.dash.title),1)])]),(0,s._)("div",wO,[(0,s.Wm)(st.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var uO={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const pO=(0,p.Z)(uO,[["render",cO]]);var mO=pO,gO={components:{DashItem:mO},props:["sales"],computed:{newSales(){return WT(this.sales)},confirmedSales(){return ET(this.sales)},deliveredSales(){return TT(this.sales)},shippedSales(){return OT(this.sales)}}};const hO=(0,p.Z)(gO,[["render",sO]]);var fO=hO,yO={components:{SalesTable:Ic,AddSale:Mq,SalesAnalytics:fO,IndexFilter:GT,NewAddSale:yE},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await X.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await X.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return X.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&la.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const vO=(0,p.Z)(yO,[["render",Y$]]);var bO=vO;const xO={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},_O={class:"tw-px-3"},kO={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},CO={class:"tw-flex tw-items-center tw-gap-x-3"},DO=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),SO={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},zO=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),UO={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},PO=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),LO=(0,s._)("span",null,"Create",-1),AO=[PO,LO],$O={class:"tw-overflow-hidden tw-col-span-1"},qO={key:0};function WO(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",xO,[(0,s._)("section",_O,[(0,s._)("div",kO,[(0,s._)("div",null,[(0,s._)("div",CO,[DO,(0,s._)("span",SO,(0,et.zw)(o.totalOrders)+" order",1)]),zO]),(0,s._)("div",UO,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},AO)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",$O,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",qO,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const EO={class:"tw-flex tw-flex-col"},TO={class:"tw-overflow-x-auto"},OO={class:"tw-inline-block tw-min-w-full tw-align-middle"},IO={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},VO={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},FO={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},jO={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},RO={class:"tw-max-w-[25px]"},NO={class:"tw-inline-flex tw-items-center"},MO={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},HO=["checked"],YO=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),ZO=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),KO={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},BO=(0,s._)("span",null,"Created",-1),QO=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),GO=[BO,QO],JO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),XO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),tI=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),eI=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),rI=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),aI=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),sI=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),oI=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),lI={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},iI={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},nI=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),dI=[nI],wI={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},cI={colspan:"11"},uI={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},pI=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),mI=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),gI=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),hI=[mI,gI],fI={class:"tw-mt-6"};function yI(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",EO,[(0,s._)("div",TO,[(0,s._)("div",OO,[(0,s._)("div",IO,[(0,s._)("table",VO,[(0,s._)("thead",FO,[(0,s._)("tr",null,[(0,s._)("th",jO,[(0,s._)("div",RO,[(0,s._)("div",NO,[(0,s._)("label",MO,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,HO),YO])])])]),ZO,(0,s._)("th",KO,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},GO)]),JO,XO,tI,eI,rI,aI,sI,oI])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",lI,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",iI,dI)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",wI,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",cI,[(0,s._)("div",uI,[pI,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},hI)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",fI,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const vI={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},bI={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},xI={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},_I={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},kI=["disabled"],CI=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),DI=(0,s._)("span",null," previous ",-1),SI=[CI,DI],zI=["disabled"],UI=(0,s._)("span",null," Next ",-1),PI=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),LI=[UI,PI];function AI(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vI,[(0,s._)("div",bI,[(0,s.Uk)(" Page "),(0,s._)("span",xI,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",_I,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},SI,10,kI),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},LI,10,zI)])])])}var $I={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const qI=(0,p.Z)($I,[["render",AI]]);var WI=qI;const EI={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},TI={class:"tw-max-w-[25px]"},OI={class:"tw-inline-flex tw-items-center"},II={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},VI=["checked","id"],FI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),jI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},NI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},MI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},HI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},YI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},ZI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},KI={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},BI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QI={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},GI={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},JI={class:"tw-space-y-1"},XI={class:"tw-font-bold tw-text-green-500"},tV={class:"tw-block tw-max-w-[150px] tw-truncate"},eV={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rV={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},aV={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sV={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},oV={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lV={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function iV(t,e,r,a,o,l){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,et.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",EI,[(0,s._)("div",TI,[(0,s._)("div",OI,[(0,s._)("label",II,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,VI),FI])])])]),(0,s._)("td",jI,[(0,s._)("div",null,[(0,s._)("h2",RI,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",NI,[(0,s._)("div",null,[(0,s._)("h2",MI,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",HI,[(0,s._)("div",null,[(0,s._)("h2",YI,(0,et.zw)(r.item.fullname),1)])]),(0,s._)("td",ZI,[(0,s._)("div",null,[(0,s._)("h2",KI,(0,et.zw)(r.item.city),1)])]),(0,s._)("td",BI,[(0,s._)("div",null,[(0,s._)("h2",QI,(0,et.zw)(r.item.phone),1)])]),(0,s._)("td",GI,[(0,s._)("div",null,[(0,s._)("ul",JI,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",XI,(0,et.zw)(t.quantity)+" x ",1),(0,s._)("span",tV,(0,et.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",eV,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",rV,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",aV,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(l.confirmation.name),3)])]),(0,s._)("td",sV,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",oV,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",lV,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const nV={class:"tw-h-full"},dV={class:"tw-flex tw-items-center tw-gap-2"},wV=["href"],cV={key:0},uV={key:1},pV={key:2};function mV(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup"),d=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",nV,[(0,s._)("div",dV,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,wV),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",cV,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[4]||(e[4]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.history?((0,s.wg)(),(0,s.iD)("div",uV,[(0,s.Wm)(n,{visible:o.history,"onUpdate:visible":e[5]||(e[5]=t=>o.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.historyItem?((0,s.wg)(),(0,s.iD)("div",pV,[(0,s.Wm)(d,{visible:o.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>o.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const gV={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hV=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),fV={class:"tw-bg-white tw-p-4"},yV={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},vV={class:"tw-col-span-2 md:tw-col-span-1"},bV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),xV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_V={class:"tw-col-span-2 md:tw-col-span-1"},kV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),CV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DV={class:"tw-col-span-2 md:tw-col-span-1"},SV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),zV={class:"tw-relative"},UV=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),PV=["value"],LV=["value"],AV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$V={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qV={class:"tw-col-span-2 md:tw-col-span-1"},WV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),EV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TV={class:"tw-col-span-2"},OV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),IV={class:"tw-relative"},VV=["value"],FV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RV={key:0,class:"md:tw-col-span-1 tw-col-span-2"},NV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),MV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HV={key:1,class:"md:tw-col-span-1 tw-col-span-2"},YV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),ZV={class:"tw-col-span-2"},KV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),BV={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QV={class:"md:tw-col-span-1 tw-col-span-2"},GV={class:"tw-col-span-1"},JV=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),XV={class:"tw-relative"},tF=["value"],eF=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rF={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},aF={class:"md:tw-col-span-1 tw-col-span-2"},sF=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),oF={class:"tw-relative"},lF=["value"],iF=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),nF={class:"tw-col-span-2"},dF={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},wF={key:0,class:"tw-text-red-400 tw-text-xs"},cF={key:2,class:"tw-col-span-2"},uF={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},pF=["disabled"],mF=(0,s._)("span",null,"Update",-1);function gF(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",gV,[hV,(0,s._)("div",fV,[(0,s._)("div",yV,[(0,s._)("div",vV,[bV,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",xV,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",_V,[kV,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",CV,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",DV,[SV,(0,s._)("div",zV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[UV,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,PV),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,LV)))),128))],34),[[a.bM,l.itemCopy.city]]),AV]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",$V,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",qV,[WV,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",EV,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",TV,[OV,(0,s._)("div",IV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,et.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,VV)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),FV]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",jV,(0,et.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",RV,[NV,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,et.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",MV,(0,et.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",HV,[YV,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",ZV,[KV,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",BV,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",QV,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",GV,[JV,(0,s._)("div",XV,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>l.errors.delivery=null),class:(0,et.C_)([[l.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,tF)))),128))],34),[[a.bM,l.itemCopy.delivery]]),eF]),l.errors.delivery?((0,s.wg)(),(0,s.iD)("label",rF,(0,et.zw)(l.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",aF,[sF,(0,s._)("div",oF,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,lF)))),128))],512),[[a.bM,l.itemCopy.upsell]]),iF])]),(0,s._)("div",nF,[(0,s._)("label",dF,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",wF," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",cF,[(0,s.Wm)(w,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",uF,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mF],8,pF)])])])),_:1},8,["visible","onCancel"])])}const hF=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!fF(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),fF=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},yF=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},vF=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},bF=(t,e)=>{t.isLoading=!0,t.errors={},Vf.update(e.id,e).then((e=>yF(t,e.data))).catch((e=>vF(t,e.response.data))).finally((()=>t.isLoading=!1))},xF={key:0},_F=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),kF={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},CF=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),DF=(0,s._)("span",null,"Add Item",-1),SF=[CF,DF],zF={key:1,class:"md:tw-col-span-12 tw-col-span-12"},UF={class:"tw-max-w-full tw-overflow-auto"},PF={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},LF={class:"tw-bg-gray-50"},AF={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},$F={key:0},qF={colspan:"6"},WF={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},EF=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),TF=(0,s._)("span",null,"Add Item",-1),OF=[EF,TF],IF=(0,s._)("td",{colspan:"4"},null,-1),VF=(0,s._)("td",null,null,-1),FF={colspan:"1",class:"tw-p-2"},jF={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},RF={key:1},NF={colspan:"6"},MF={class:"tw-scale-75 tw-p-5"};function HF(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xF,[_F,(0,s._)("div",kF,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SF)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",zF,[(0,s._)("div",UF,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",PF,[(0,s._)("tr",LF,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",AF,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",$F,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",qF,[(0,s._)("div",WF,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},OF)])])]),(0,s._)("tr",null,[IF,VF,(0,s._)("td",FF,[(0,s._)("div",jF,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",RF,[(0,s._)("tr",null,[(0,s._)("td",NF,[(0,s._)("div",MF,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const YF=(0,s._)("td",null,null,-1),ZF={class:"tw-p-2"},KF={class:"tw-relative"},BF=["value"],QF=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),GF=["value"],JF=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),XF={class:"tw-p-2"},tj={key:0,class:"tw-relative"},ej=["value"],rj=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),aj=["value"],sj={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},oj=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),lj=[oj],ij={class:"tw-p-2"},nj=["value"],dj={class:"tw-p-2"},wj=["value"],cj={class:"tw-flex tw-justify-center"};function uj(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[YF,(0,s._)("td",null,[(0,s._)("div",ZF,[(0,s._)("div",KF,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[QF,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,GF)))),128))],40,BF),JF])])]),(0,s._)("td",null,[(0,s._)("div",XF,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",tj,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[rj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,aj)))),128))],40,ej)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",sj,lj)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",ij,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,nj)])]),(0,s._)("td",null,[(0,s._)("div",dj,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,wj)])]),(0,s._)("td",null,[(0,s._)("div",cj,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var pj={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const mj=(0,p.Z)(pj,[["render",uj]]);var gj=mj,hj={components:{ItemRow:gj},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const fj=(0,p.Z)(hj,[["render",HF]]);var yj=fj;const vj=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),bj={key:0,class:"tw-relative"},xj=["value","disabled"],_j=(0,s._)("option",{value:""},"Choose a Delivery",-1),kj=["value"],Cj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Dj={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Sj={key:2,class:"tw-relative"},zj={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Uj=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Pj=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Lj(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[vj,o.fetched?((0,s.wg)(),(0,s.iD)("div",bj,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,et.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[_j,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,kj)))),128))],42,xj),Cj])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Dj,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sj,[(0,s._)("div",zj,[(0,s.Wm)(i)]),Uj,Pj]))])}var Aj={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const $j=(0,p.Z)(Aj,[["render",Lj]]);var qj=$j;const Wj={key:0},Ej=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),Tj={class:"md:tw-col-span-12 tw-col-span-12"},Oj={class:"tw-max-w-full tw-overflow-auto"},Ij={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vj=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Fj={class:"tw-px-3 tw-py-2"},jj={class:"tw-px-3 tw-py-2"},Rj={class:"tw-px-3 tw-py-2"},Nj={class:"tw-px-3 tw-py-2"},Mj={class:"tw-max-w-[250px] tw-text-sm"};function Hj(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",Wj,[Ej,(0,s._)("div",Tj,[(0,s._)("div",Oj,[(0,s._)("table",Ij,[Vj,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Fj,(0,et.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",jj,(0,et.zw)(t.quantity),1),(0,s._)("td",Rj,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",Nj,[(0,s._)("p",Mj,(0,et.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var Yj={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Zj=(0,p.Z)(Yj,[["render",Hj]]);var Kj=Zj,Bj={components:{OrderItems:yj,OrderAffectation:qj,ProductOffersTable:Kj},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:wn,deliveryStatus:mn,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=hF(this,this.itemCopy);if(!t)return!1;bF(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Qj=(0,p.Z)(Bj,[["render",gF]]);var Gj=Qj;const Jj={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Xj=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),tR={class:"tw-bg-white tw-p-4"},eR={key:0},rR={key:1,class:"tw-p-5"},aR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},sR={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},oR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},lR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},iR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},nR={class:"tw-flex tw-flex-col tw-my-2"},dR=(0,s._)("div",null,"New Order Created",-1),wR={class:"tw-flex tw-flex-col"},cR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},uR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},pR={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function mR(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Jj,[Xj,(0,s._)("div",tR,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",eR,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",rR,[(0,s.Wm)(td.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(ed.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",aR,[(0,s._)("div",sR,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Xn.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",oR,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,et.zw)(t.users.firstname)+" "+(0,et.zw)(t.users.lastname),1)]),(0,s._)("div",lR,[(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(ed.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",iR,[(0,s._)("div",nR,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),dR]),(0,s._)("div",wR,[(0,s._)("div",cR,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,et.zw)(r.item.created_by.firstname)+" "+(0,et.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",uR,[(0,s._)("span",null,(0,et.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",pR,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var gR={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,la.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const hR=(0,p.Z)(gR,[["render",mR]]);var fR=hR;const yR={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},vR=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),bR={class:"tw-bg-white tw-p-4"},xR={key:0},_R={key:1,class:"tw-p-5"},kR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},CR={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},DR={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},SR={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},zR={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},UR={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},PR={class:"d-flextw-flex-col justify-space-between flex-grow-1"},LR={class:"tw-flex tw-flex-col tw-my-2"},AR=(0,s._)("div",null,"No Changes Happend Yet",-1),$R={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},qR={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function WR(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",yR,[vR,(0,s._)("div",bR,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xR,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",_R,[(0,s.Wm)(td.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(ed.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",kR,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",CR,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Xn.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",DR,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Xn.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",SR,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(st.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Xn.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",zR,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,et.zw)(t.users.firstname)+" "+(0,et.zw)(t.users.lastname),1)]),(0,s._)("div",UR,[(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(ed.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",PR,[(0,s._)("div",LR,[(0,s.Wm)(Xn.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),AR]),(0,s._)("div",$R,[(0,s._)("span",null,(0,et.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,et.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",qR,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var ER={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,la.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const TR=(0,p.Z)(ER,[["render",WR]]);var OR=TR,IR={components:{UpdatePopup:Gj,HistoryPopup:fR,HistoryItemPopup:OR},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const VR=(0,p.Z)(IR,[["render",mV]]);var FR=VR;const jR={key:0},RR={key:0,class:"tw-relative tw-inline-block tw-text-left"},NR={key:0},MR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),HR=[MR],YR={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},ZR={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},KR=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),BR=[KR],QR={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},GR={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},JR={class:"tw-py-1",role:"none"},XR=["onClick"],tN={key:1},eN={class:"tw-p-2 tw-scale-75"};function rN(t,e,r,a,o,l){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",jR,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",RR,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[l.selected.id?((0,s.wg)(),(0,s.iD)("div",NR,HR)):(0,s.kq)("",!0),(0,s._)("p",YR,(0,et.zw)(l.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",ZR,BR)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",QR,(0,et.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(qt.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",GR,[(0,s._)("div",JR,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>l.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,et.zw)(t.name),1)],8,XR)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,l.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",tN,[(0,s._)("div",eN,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var aN={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};bF(this,e,!1)}}};const sN=(0,p.Z)(aN,[["render",rN]]);var oN=sN,lN={components:{TableActions:FR,TableRowAffectation:oN},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:sm()}},computed:{confirmation(){return wn.find((t=>t.value==this.item.confirmation))},deliveryState(){return mn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const iN=(0,p.Z)(lN,[["render",iV]]);var nN=iN,dN={components:{TablePaginationNoNums:WI,TableRow:nN},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const wN=(0,p.Z)(dN,[["render",yI]]);var cN=wN;const uN={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},pN={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},mN=["disabled"],gN=["disabled"],hN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),fN=[hN],yN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),vN=[yN],bN=["disabled"],xN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),_N=[xN],kN=["disabled"],CN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),DN=[CN],SN=["disabled"],zN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),UN=[zN],PN={class:"tw-relative"},LN=["value"],AN=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),$N=[AN],qN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),WN={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},EN=["value"],TN=(0,s.uE)('<option value="all">All</option><option value="id">ID</option><option value="fullname">Fullname</option><option value="phone">Phone</option><option value="adresse">Address</option><option value="city">City</option><option value="note">Note</option>',7),ON=[TN],IN=["value"],VN={class:"tw-overflow-hidden tw-col-span-1"},FN={class:"tw-overflow-hidden tw-col-span-1"},jN={class:"tw-overflow-hidden tw-col-span-1"};function RN(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",uN,[(0,s._)("div",pN,[(0,s._)("button",{class:(0,et.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,mN),(0,s._)("button",{title:"Orders Created Today",class:(0,et.C_)([[l.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:l.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,gN),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,et.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},fN,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,et.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},vN,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,et.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},_N,10,bN),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},DN,8,kN),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>l.showExport=!l.showExport),class:(0,et.C_)([[l.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},UN,10,SN),(0,s._)("div",PN,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},$N,40,LN),qN])]),(0,s._)("div",WN,[(0,s._)("select",{value:r.searchByField,onInput:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),class:"tw-block !tw-w-fit tw-px-2 tw-py-1.5 tw-border-r-0 tw-rounded-r-none tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},ON,40,EN),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-rounded-l-none tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,IN),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",VN,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,et.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",FN,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jN,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const NN={class:"tw-mb-4"},MN={class:"tw-grid tw-grid-cols-12 tw-gap-4"},HN={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},YN={class:"tw-flex tw-items-center tw-justify-between"},ZN={class:"tw-text-xl tw-font-bold tw-text-gray-900"},KN={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function BN(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",NN,[(0,s._)("div",MN,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",HN,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",YN,[(0,s._)("span",ZN,(0,et.zw)(t.total),1),(0,s._)("span",KN,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var QN={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return wn.find((e=>e.value==t))}}};const GN=(0,p.Z)(QN,[["render",BN]]);var JN=GN;const XN={class:"tw-mb-4"},tM={class:"tw-flex tw-items-center tw-gap-2"},eM=["disabled"],rM=(0,s._)("span",null,"Select Filtered",-1),aM={class:"tw-flex tw-justify-end"},sM=["disabled"];function oM(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",XN,[(0,s._)("div",tM,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rM],8,eM)]),(0,s._)("div",aM,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,et.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,sM)])])}var lM={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vf["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const iM=(0,p.Z)(lM,[["render",oM]]);var nM=iM;const dM={class:"tw-mb-4"},wM={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},cM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),pM=["value"],mM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),hM=["value"],fM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),vM=["value"],bM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),_M=["value"],kM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),DM=["value"],SM=(0,s._)("option",{value:"all",selected:""},"All",-1),zM=["value"],UM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),LM=["value"],AM=(0,s._)("option",{value:"all",selected:""},"All",-1),$M=["value"],qM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),EM=["value"],TM=(0,s._)("option",{value:"all",selected:""},"All",-1),OM=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),IM=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),VM=[TM,OM,IM],FM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered From",-1),RM=["value"],NM={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MM=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered To",-1),HM=["value"],YM={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ZM=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),KM=(0,s._)("span",null,"Clear",-1),BM=[ZM,KM],QM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),GM=(0,s._)("span",null,"Filter",-1),JM=[QM,GM];function XM(t,e,r,a,o,l){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",dM,[(0,s._)("div",wM,[(0,s.kq)("",!0),(0,s._)("div",cM,[uM,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,pM)]),(0,s._)("div",mM,[gM,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,hM)]),(0,s._)("div",fM,[yM,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,vM)]),(0,s._)("div",bM,[xM,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,_M)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",kM,[CM,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[SM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,et.zw)(t.name),11,zM)))),128))],40,DM)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",UM,[PM,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[AM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,et.zw)(t.name),11,$M)))),128))],40,LM)]),(0,s._)("div",qM,[WM,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},VM,40,EM)]),(0,s._)("div",FM,[jM,(0,s._)("input",{value:r.filters.delivered_from,type:"date",onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,delivered_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,RM)]),(0,s._)("div",NM,[MM,(0,s._)("input",{value:r.filters.delivered_to,type:"date",onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,delivered_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,HM)]),(0,s._)("div",YM,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},BM),(0,s._)("button",{onClick:e[14]||(e[14]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},JM)])])])}const tH={class:"tw-text-sm tw-text-neutral-600"},eH=["onClick"];function rH(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",tH,(0,et.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,et.zw)(t),9,eH)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var aH={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,Vo.Z)(new Date),(0,Fo.Z)(new Date)]},{label:"Last month",range:[(0,Vo.Z)((0,jo.Z)(new Date,1)),(0,Fo.Z)((0,jo.Z)(new Date,1))]},{label:"This year",range:[(0,Ro.Z)(new Date),(0,No.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const sH=(0,p.Z)(aH,[["render",rH]]);var oH=sH;const lH={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},iH=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),nH=["value"],dH=(0,s._)("option",{value:"all"},"All",-1),wH=(0,s._)("option",{value:""},"No Delivery",-1),cH=["value"];function uH(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",lH,[iH,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[dH,wH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,cH)))),128))],40,nH)])}var pH={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const mH=(0,p.Z)(pH,[["render",uH]]);var gH=mH;const hH={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fH=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),yH=["value"],vH=(0,s._)("option",{value:"all"},"All",-1),bH=(0,s._)("option",{value:""},"No Agent",-1),xH=["value"];function _H(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",hH,[fH,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[vH,bH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,xH)))),128))],40,yH)])}var kH={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const CH=(0,p.Z)(kH,[["render",_H]]);var DH=CH;const SH={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zH=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),UH=["value"],PH=(0,s._)("option",{value:"all"},"All",-1),LH=["value"];function AH(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",SH,[zH,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[PH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,LH)))),128))],40,UH)])}var $H={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const qH=(0,p.Z)($H,[["render",AH]]);var WH=qH,EH={components:{DateFilter:oH,AffectationFilter:gH,AgentFilter:DH,ProductFilter:WH},props:{filters:{required:!0,default:{}}},data(){return{confirmations:wn,deliveries:mn,dateFilter:["",""]}}};const TH=(0,p.Z)(EH,[["render",XM]]);var OH=TH,IH={components:{IndexStatistics:JN,FiltersWrapper:OH,IndexExport:nM},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=sm()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const VH=(0,p.Z)(IH,[["render",RN]]);var FH=VH;const jH={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},RH=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),NH={class:"tw-bg-white tw-p-4"},MH={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},HH={class:"tw-col-span-2 md:tw-col-span-1"},YH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),ZH={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},KH={class:"tw-col-span-2 md:tw-col-span-1"},BH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),QH={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},GH={class:"tw-col-span-2 md:tw-col-span-1"},JH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),XH={class:"tw-relative"},tY=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),eY=["value"],rY=["value"],aY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),sY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},oY={class:"tw-col-span-2 md:tw-col-span-1"},lY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),iY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nY={class:"tw-col-span-2"},dY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),wY={class:"tw-relative"},cY=["value"],uY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),pY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mY={key:0,class:"md:tw-col-span-1 tw-col-span-2"},gY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),hY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fY={key:1,class:"md:tw-col-span-1 tw-col-span-2"},yY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),vY={class:"tw-col-span-2"},bY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),xY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Y={class:"md:tw-col-span-1 tw-col-span-2"},kY={class:"md:tw-col-span-1 tw-col-span-2"},CY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),DY={class:"tw-relative"},SY=["value"],zY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),UY={class:"tw-col-span-2"},PY={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},LY={key:0,class:"tw-text-red-400 tw-text-xs"},AY={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},$Y=["disabled"],qY=(0,s._)("span",null,"Create",-1);function WY(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",jH,[RH,(0,s._)("div",NH,[(0,s._)("div",MH,[(0,s._)("div",HH,[YH,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",ZH,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",KH,[BH,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",QH,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",GH,[JH,(0,s._)("div",XH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[tY,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,eY),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,rY)))),128))],34),[[a.bM,l.itemCopy.city]]),aY]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",sY,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",oY,[lY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",iY,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",nY,[dY,(0,s._)("div",wY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,et.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,cY)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),uY]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",pY,(0,et.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",mY,[gY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,et.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",hY,(0,et.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",fY,[yY,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",vY,[bY,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",xY,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",_Y,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",kY,[CY,(0,s._)("div",DY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,SY)))),128))],512),[[a.bM,l.itemCopy.upsell]]),zY])]),(0,s._)("div",UY,[(0,s._)("label",PY,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",LY," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",AY,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qY],8,$Y)])])])),_:1},8,["visible","onCancel"])])}const EY=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},TY=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},OY=(t,e)=>{t.isLoading=!0,t.errors={},Vf.create(e).then((e=>EY(t,e.data))).catch((e=>TY(t,e.response.data))).finally((()=>t.isLoading=!1))};var IY={components:{OrderItems:yj,OrderAffectation:qj},props:{visible:{required:!0}},data(){return{confirmations:wn,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=hF(this,this.itemCopy);if(!t)return!1;OY(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const VY=(0,p.Z)(IY,[["render",WY]]);var FY=VY;const jY={class:"tw-mb-4"},RY={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},NY={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},MY={class:"tw-flex tw-items-center tw-gap-2"},HY={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},YY=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),ZY={class:"tw-flex tw-items-center tw-gap-2"},KY=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),BY=(0,s._)("span",null," Clear Selection ",-1),QY=[KY,BY],GY=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),JY=(0,s._)("span",null," Actions ",-1),XY=[GY,JY],tZ={key:0};function eZ(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",jY,[(0,s._)("div",RY,[(0,s._)("div",NY,[(0,s._)("div",MY,[(0,s._)("div",HY,(0,et.zw)(r.selected.length),1),YY]),(0,s._)("div",ZY,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},QY),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},XY)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",tZ,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const rZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},aZ={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},sZ=(0,s._)("span",null,"Quick Actions",-1),oZ={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},lZ={class:"tw-bg-white tw-p-4"},iZ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},nZ={class:"tw-col-span-2 md:tw-col-span-1"},dZ={key:0,class:"tw-col-span-2 md:tw-col-span-1"},wZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},cZ=(0,s._)("span",null,"Apply",-1);function uZ(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",rZ,[(0,s._)("div",aZ,[sZ,(0,s._)("span",oZ,(0,et.zw)(r.selected.length),1)]),(0,s._)("div",lZ,[(0,s._)("div",iZ,[(0,s._)("div",nZ,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",dZ,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",wZ,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),cZ])])])])),_:1},8,["visible","closeable","onCancel"])])}const pZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),mZ={class:"tw-relative"},gZ=["value"],hZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function fZ(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[pZ,(0,s._)("div",mZ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,gZ)))),128))],512),[[a.bM,i.vaction]]),hZ]),(0,s.kq)("",!0)])}var yZ={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const vZ=(0,p.Z)(yZ,[["render",fZ]]);var bZ=vZ;const xZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),_Z={class:"tw-relative"},kZ=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),CZ=["value"],DZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function SZ(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[xZ,(0,s._)("div",_Z,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[kZ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,CZ)))),128))],512),[[a.bM,i.vvalue]]),DZ]),(0,s.kq)("",!0)])}var zZ={props:{value:{required:!0}},data(){return{statuses:mn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const UZ=(0,p.Z)(zZ,[["render",SZ]]);var PZ=UZ;class LZ{async execute(t){return await q.getCookie(),A.post("api/v1/bulk/execute",t)}}var AZ=new LZ,$Z=(t,e)=>{t.isLoading=!0,AZ.execute(e).then((e=>qZ(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const qZ=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var WZ={components:{BulkSelectAction:bZ,BulkDeliveryAction:PZ},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};$Z(this,t)}}};const EZ=(0,p.Z)(WZ,[["render",uZ]]);var TZ=EZ,OZ={components:{BulkPopup:TZ},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const IZ=(0,p.Z)(OZ,[["render",eZ]]);var VZ=IZ,FZ={components:{IndexTable:cN,IndexFilters:FH,CreatePopup:FY,BulkActions:VZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Vf.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const jZ=(0,p.Z)(FZ,[["render",WO]]);var RZ=jZ;const NZ={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},MZ={class:"tw-px-3"},HZ={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},YZ={class:"tw-flex tw-items-center tw-gap-x-3"},ZZ=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),KZ={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},BZ=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),QZ={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},GZ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),JZ=(0,s._)("span",null,"Create",-1),XZ=[GZ,JZ],tK={class:"tw-overflow-hidden tw-col-span-1"},eK={key:0};function rK(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",NZ,[(0,s._)("section",MZ,[(0,s._)("div",HZ,[(0,s._)("div",null,[(0,s._)("div",YZ,[ZZ,(0,s._)("span",KZ,(0,et.zw)(o.totalOrders)+" order",1)]),BZ]),(0,s._)("div",QZ,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},XZ)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tK,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",eK,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var aK={components:{IndexTable:cN,IndexFilters:FH,CreatePopup:FY,BulkActions:VZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Vf.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const sK=(0,p.Z)(aK,[["render",rK]]);var oK=sK;const lK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},iK={class:"tw-px-3"},nK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dK={class:"tw-flex tw-items-center tw-gap-x-3"},wK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),cK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},uK=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),pK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},mK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),gK=(0,s._)("span",null,"Create",-1),hK=[mK,gK],fK={class:"tw-overflow-hidden tw-col-span-1"},yK={key:0};function vK(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",lK,[(0,s._)("section",iK,[(0,s._)("div",nK,[(0,s._)("div",null,[(0,s._)("div",dK,[wK,(0,s._)("span",cK,(0,et.zw)(o.totalOrders)+" order",1)]),uK]),(0,s._)("div",pK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},hK)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",fK,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",yK,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var bK={components:{IndexTable:cN,IndexFilters:FH,CreatePopup:FY,BulkActions:VZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Vf.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const xK=(0,p.Z)(bK,[["render",vK]]);var _K=xK;const kK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},CK={class:"tw-px-3"},DK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},SK={class:"tw-flex tw-items-center tw-gap-x-3"},zK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),UK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},PK=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),LK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},AK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),$K=(0,s._)("span",null,"Create",-1),qK=[AK,$K],WK={class:"tw-overflow-hidden tw-col-span-1"},EK={key:0};function TK(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",kK,[(0,s._)("section",CK,[(0,s._)("div",DK,[(0,s._)("div",null,[(0,s._)("div",SK,[zK,(0,s._)("span",UK,(0,et.zw)(o.totalOrders)+" order",1)]),PK]),(0,s._)("div",LK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},qK)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,et.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",WK,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[4]||(e[4]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",EK,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const OK={class:"tw-flex tw-flex-col"},IK={class:"tw-overflow-x-auto"},VK={class:"tw-inline-block tw-min-w-full tw-align-middle"},FK={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},jK={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},RK={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},NK={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},MK={class:"tw-max-w-[25px]"},HK={class:"tw-inline-flex tw-items-center"},YK={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},ZK=["checked"],KK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),BK=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),QK={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},GK=(0,s._)("span",null,"Created",-1),JK=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),XK=[GK,JK],tB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),eB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),rB=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),aB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),sB=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Reconfirmation ",-1),oB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),lB=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),iB=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),nB={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},dB={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},wB=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),cB=[wB],uB={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},pB={colspan:"11"},mB={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},gB=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),hB=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),fB=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),yB=[hB,fB],vB={class:"tw-mt-6"};function bB(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",OK,[(0,s._)("div",IK,[(0,s._)("div",VK,[(0,s._)("div",FK,[(0,s._)("table",jK,[(0,s._)("thead",RK,[(0,s._)("tr",null,[(0,s._)("th",NK,[(0,s._)("div",MK,[(0,s._)("div",HK,[(0,s._)("label",YK,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,ZK),KK])])])]),BK,(0,s._)("th",QK,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},XK)]),tB,eB,rB,aB,sB,oB,lB,iB])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",nB,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",dB,cB)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",uB,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",pB,[(0,s._)("div",mB,[gB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},yB)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",vB,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const xB={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},_B={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},kB={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},CB={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},DB=["disabled"],SB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),zB=(0,s._)("span",null," previous ",-1),UB=[SB,zB],PB=["disabled"],LB=(0,s._)("span",null," Next ",-1),AB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),$B=[LB,AB];function qB(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xB,[(0,s._)("div",_B,[(0,s.Uk)(" Page "),(0,s._)("span",kB,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",CB,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},UB,10,DB),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},$B,10,PB)])])])}var WB={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const EB=(0,p.Z)(WB,[["render",qB]]);var TB=EB;const OB={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},IB={class:"tw-max-w-[25px]"},VB={class:"tw-inline-flex tw-items-center"},FB={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},jB=["checked","id"],RB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),NB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},MB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},HB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},YB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},ZB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},KB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},BB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QB={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},GB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},JB={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},XB={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tQ={class:"tw-space-y-1"},eQ={class:"tw-font-bold tw-text-green-500"},rQ={class:"tw-block tw-max-w-[150px] tw-truncate"},aQ={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},sQ={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},oQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},iQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nQ={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function dQ(t,e,r,a,o,l){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,et.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.followup_confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",OB,[(0,s._)("div",IB,[(0,s._)("div",VB,[(0,s._)("label",FB,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,jB),RB])])])]),(0,s._)("td",NB,[(0,s._)("div",null,[(0,s._)("h2",MB,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",HB,[(0,s._)("div",null,[(0,s._)("h2",YB,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",ZB,[(0,s._)("div",null,[(0,s._)("h2",KB,(0,et.zw)(r.item.fullname),1)])]),(0,s._)("td",BB,[(0,s._)("div",null,[(0,s._)("h2",QB,(0,et.zw)(r.item.city),1)])]),(0,s._)("td",GB,[(0,s._)("div",null,[(0,s._)("h2",JB,(0,et.zw)(r.item.phone),1)])]),(0,s._)("td",XB,[(0,s._)("div",null,[(0,s._)("ul",tQ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",eQ,(0,et.zw)(t.quantity)+" x ",1),(0,s._)("span",rQ,(0,et.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",aQ,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",sQ,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",oQ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(l.confirmation.name),3)])]),(0,s._)("td",lQ,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",iQ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",nQ,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const wQ={class:"tw-h-full"},cQ={class:"tw-flex tw-items-center tw-gap-2"},uQ=["href"],pQ={key:0};function mQ(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",wQ,[(0,s._)("div",cQ,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,uQ),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",pQ,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[2]||(e[2]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const gQ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},hQ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),fQ={class:"tw-bg-white tw-p-4"},yQ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},vQ={class:"tw-col-span-2 md:tw-col-span-1"},bQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),xQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Q={class:"tw-col-span-2 md:tw-col-span-1"},kQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),CQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DQ={class:"tw-col-span-2 md:tw-col-span-1"},SQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),zQ={class:"tw-relative"},UQ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),PQ=["value"],LQ=["value"],AQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$Q={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qQ={class:"tw-col-span-2 md:tw-col-span-1"},WQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),EQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TQ={class:"tw-col-span-2"},OQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),IQ={class:"tw-relative"},VQ=["value"],FQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RQ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},NQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),MQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HQ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},YQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),ZQ={class:"tw-col-span-2"},KQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),BQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},QQ={class:"md:tw-col-span-1 tw-col-span-2"},GQ={class:"md:tw-col-span-1 tw-col-span-2"},JQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),XQ={class:"tw-relative"},tG=["value"],eG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rG={class:"tw-col-span-2"},aG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sG={key:0,class:"tw-text-red-400 tw-text-xs"},oG={key:3,class:"tw-col-span-2"},lG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},iG=["disabled"],nG=(0,s._)("span",null,"Update",-1);function dG(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",gQ,[hQ,(0,s._)("div",fQ,[(0,s._)("div",yQ,[(0,s._)("div",vQ,[bQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",xQ,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",_Q,[kQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",CQ,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",DQ,[SQ,(0,s._)("div",zQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[UQ,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,PQ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,LQ)))),128))],34),[[a.bM,l.itemCopy.city]]),AQ]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",$Q,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",qQ,[WQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",EQ,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",TQ,[OQ,(0,s._)("div",IQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.followup_confirmation=null),class:(0,et.C_)([[l.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,VQ)))),128))],34),[[a.bM,l.itemCopy.followup_confirmation]]),FQ]),l.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",jQ,(0,et.zw)(l.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",RQ,[NQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>l.errors.followup_reported_date=null),class:(0,et.C_)([[l.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.followup_reported_date]]),l.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",MQ,(0,et.zw)(l.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",HQ,[YQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",ZQ,[KQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",BQ,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",QQ,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",GQ,[JQ,(0,s._)("div",XQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,tG)))),128))],512),[[a.bM,l.itemCopy.upsell]]),eG])]),(0,s._)("div",rG,[(0,s._)("label",aG,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",sG," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",oG,[(0,s.Wm)(w,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",lG,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),nG],8,iG)])])])),_:1},8,["visible","onCancel"])])}const wG=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!cG(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),cG=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},uG=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},pG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},mG=(t,e)=>{t.isLoading=!0,t.errors={},Vf.update(e.id,e).then((e=>uG(t,e.data))).catch((e=>pG(t,e.response.data))).finally((()=>t.isLoading=!1))},gG={key:0},hG=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),fG={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},yG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),vG=(0,s._)("span",null,"Add Item",-1),bG=[yG,vG],xG={key:1,class:"md:tw-col-span-12 tw-col-span-12"},_G={class:"tw-max-w-full tw-overflow-auto"},kG={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},CG={class:"tw-bg-gray-50"},DG={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},SG={key:0},zG={colspan:"6"},UG={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},PG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),LG=(0,s._)("span",null,"Add Item",-1),AG=[PG,LG],$G=(0,s._)("td",{colspan:"4"},null,-1),qG=(0,s._)("td",null,null,-1),WG={colspan:"1",class:"tw-p-2"},EG={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},TG={key:1},OG={colspan:"6"},IG={class:"tw-scale-75 tw-p-5"};function VG(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gG,[hG,(0,s._)("div",fG,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},bG)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",xG,[(0,s._)("div",_G,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",kG,[(0,s._)("tr",CG,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",DG,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",SG,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",zG,[(0,s._)("div",UG,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},AG)])])]),(0,s._)("tr",null,[$G,qG,(0,s._)("td",WG,[(0,s._)("div",EG,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",TG,[(0,s._)("tr",null,[(0,s._)("td",OG,[(0,s._)("div",IG,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const FG=(0,s._)("td",null,null,-1),jG={class:"tw-p-2"},RG={class:"tw-relative"},NG=["value"],MG=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),HG=["value"],YG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ZG={class:"tw-p-2"},KG={key:0,class:"tw-relative"},BG=["value"],QG=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),GG=["value"],JG={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},XG=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),tJ=[XG],eJ={class:"tw-p-2"},rJ=["value"],aJ={class:"tw-p-2"},sJ=["value"],oJ={class:"tw-flex tw-justify-center"};function lJ(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[FG,(0,s._)("td",null,[(0,s._)("div",jG,[(0,s._)("div",RG,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[MG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,HG)))),128))],40,NG),YG])])]),(0,s._)("td",null,[(0,s._)("div",ZG,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",KG,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[QG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,GG)))),128))],40,BG)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",JG,tJ)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",eJ,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,rJ)])]),(0,s._)("td",null,[(0,s._)("div",aJ,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,sJ)])]),(0,s._)("td",null,[(0,s._)("div",oJ,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var iJ={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const nJ=(0,p.Z)(iJ,[["render",lJ]]);var dJ=nJ,wJ={components:{ItemRow:dJ},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const cJ=(0,p.Z)(wJ,[["render",VG]]);var uJ=cJ;const pJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),mJ={key:0,class:"tw-relative"},gJ=["value","disabled"],hJ=(0,s._)("option",{value:""},"Choose a Delivery",-1),fJ=["value"],yJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),vJ={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bJ={key:2,class:"tw-relative"},xJ={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},_J=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),kJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function CJ(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[pJ,o.fetched?((0,s.wg)(),(0,s.iD)("div",mJ,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,et.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[hJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,fJ)))),128))],42,gJ),yJ])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",vJ,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bJ,[(0,s._)("div",xJ,[(0,s.Wm)(i)]),_J,kJ]))])}var DJ={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const SJ=(0,p.Z)(DJ,[["render",CJ]]);var zJ=SJ;const UJ={key:0},PJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),LJ={class:"md:tw-col-span-12 tw-col-span-12"},AJ={class:"tw-max-w-full tw-overflow-auto"},$J={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},qJ=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),WJ={class:"tw-px-3 tw-py-2"},EJ={class:"tw-px-3 tw-py-2"},TJ={class:"tw-px-3 tw-py-2"},OJ={class:"tw-px-3 tw-py-2"},IJ={class:"tw-max-w-[250px] tw-text-sm"};function VJ(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",UJ,[PJ,(0,s._)("div",LJ,[(0,s._)("div",AJ,[(0,s._)("table",$J,[qJ,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",WJ,(0,et.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",EJ,(0,et.zw)(t.quantity),1),(0,s._)("td",TJ,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",OJ,[(0,s._)("p",IJ,(0,et.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var FJ={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const jJ=(0,p.Z)(FJ,[["render",VJ]]);var RJ=jJ,NJ={components:{OrderItems:uJ,OrderAffectation:zJ,ProductOffersTable:RJ},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:un,deliveryStatus:mn,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=wG(this,this.itemCopy);if(!t)return!1;mG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const MJ=(0,p.Z)(NJ,[["render",dG]]);var HJ=MJ,YJ={components:{UpdatePopup:HJ},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const ZJ=(0,p.Z)(YJ,[["render",mQ]]);var KJ=ZJ;const BJ={key:0},QJ={key:0,class:"tw-relative tw-inline-block tw-text-left"},GJ={key:0},JJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),XJ=[JJ],tX={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},eX={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},rX=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),aX=[rX],sX={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},oX={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},lX={class:"tw-py-1",role:"none"},iX=["onClick"],nX={key:1},dX={class:"tw-p-2 tw-scale-75"};function wX(t,e,r,a,o,l){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",BJ,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",QJ,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[l.selected.id?((0,s.wg)(),(0,s.iD)("div",GJ,XJ)):(0,s.kq)("",!0),(0,s._)("p",tX,(0,et.zw)(l.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",eX,aX)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",sX,(0,et.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(qt.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",oX,[(0,s._)("div",lX,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>l.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,et.zw)(t.name),1)],8,iX)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[te.L,l.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",nX,[(0,s._)("div",dX,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var cX={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};mG(this,e,!1)}}};const uX=(0,p.Z)(cX,[["render",wX]]);var pX=uX,mX={components:{TableActions:KJ,TableRowAffectation:pX},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:sm()}},computed:{confirmation(){return un.find((t=>t.value==this.item.followup_confirmation))},deliveryState(){return mn.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const gX=(0,p.Z)(mX,[["render",dQ]]);var hX=gX,fX={components:{TablePaginationNoNums:TB,TableRow:hX},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const yX=(0,p.Z)(fX,[["render",bB]]);var vX=yX;const bX={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},xX={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},_X=["disabled"],kX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),CX=[kX],DX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),SX=[DX],zX=["disabled"],UX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),PX=[UX],LX={class:"tw-relative"},AX=["value"],$X=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),qX=[$X],WX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),EX={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},TX=["value"],OX={class:"tw-overflow-hidden tw-col-span-1"},IX={class:"tw-overflow-hidden tw-col-span-1"};function VX(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",bX,[(0,s._)("div",xX,[(0,s._)("button",{class:(0,et.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,_X),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,et.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},CX,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,et.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},SX,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},PX,8,zX),(0,s.kq)("",!0),(0,s._)("div",LX,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},qX,40,AX),WX])]),(0,s._)("div",EX,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,TX),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",OX,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,et.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",IX,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const FX={class:"tw-mb-4"},jX={class:"tw-grid tw-grid-cols-12 tw-gap-4"},RX={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},NX={class:"tw-flex tw-items-center tw-justify-between"},MX={class:"tw-text-xl tw-font-bold tw-text-gray-900"},HX={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function YX(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",FX,[(0,s._)("div",jX,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",RX,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",NX,[(0,s._)("span",MX,(0,et.zw)(t.total),1),(0,s._)("span",HX,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var ZX={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return wn.find((e=>e.value==t))}}};const KX=(0,p.Z)(ZX,[["render",YX]]);var BX=KX;const QX={class:"tw-mb-4"},GX={class:"tw-flex tw-items-center tw-gap-2"},JX=["disabled"],XX=(0,s._)("span",null,"Select Filtered",-1),t0={class:"tw-flex tw-justify-end"},e0=["disabled"];function r0(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",QX,[(0,s._)("div",GX,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XX],8,JX)]),(0,s._)("div",t0,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,et.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,e0)])])}var a0={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Vf["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const s0=(0,p.Z)(a0,[["render",r0]]);var o0=s0;const l0={class:"tw-mb-4"},i0={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},n0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},d0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),w0=["value"],c0=(0,s._)("option",{value:"all",selected:""},"All",-1),u0=["value"],p0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},m0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),g0=["value"],h0=(0,s._)("option",{value:"all",selected:""},"All",-1),f0=["value"],y0={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},v0=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),b0=(0,s._)("span",null,"Clear",-1),x0=[v0,b0],_0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),k0=(0,s._)("span",null,"Filter",-1),C0=[_0,k0];function D0(t,e,r,a,o,l){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",l0,[(0,s._)("div",i0,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",n0,[d0,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[c0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,et.zw)(t.name),11,u0)))),128))],40,w0)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",p0,[m0,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[h0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,et.zw)(t.name),11,f0)))),128))],40,g0)]),(0,s.kq)("",!0),(0,s._)("div",y0,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},x0),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},C0)])])])}const S0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},z0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),U0=["value"],P0=(0,s._)("option",{value:"all"},"All",-1),L0=(0,s._)("option",{value:""},"No Delivery",-1),A0=["value"];function $0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",S0,[z0,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[P0,L0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,A0)))),128))],40,U0)])}var q0={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const W0=(0,p.Z)(q0,[["render",$0]]);var E0=W0;const T0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},O0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),I0=["value"],V0=(0,s._)("option",{value:"all"},"All",-1),F0=(0,s._)("option",{value:""},"No Agent",-1),j0=["value"];function R0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",T0,[O0,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[V0,F0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,j0)))),128))],40,I0)])}var N0={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const M0=(0,p.Z)(N0,[["render",R0]]);var H0=M0;const Y0={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Z0=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),K0=["value"],B0=(0,s._)("option",{value:"all"},"All",-1),Q0=["value"];function G0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Y0,[Z0,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[B0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,Q0)))),128))],40,K0)])}var J0={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const X0=(0,p.Z)(J0,[["render",G0]]);var t1=X0,e1={components:{AffectationFilter:E0,AgentFilter:H0,ProductFilter:t1},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:un,deliveries:mn,dateFilter:["",""]}}};const r1=(0,p.Z)(e1,[["render",D0]]);var a1=r1,s1={components:{IndexStatistics:BX,FiltersWrapper:a1,IndexExport:o0},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=sm()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const o1=(0,p.Z)(s1,[["render",VX]]);var l1=o1;const i1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},n1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),d1={class:"tw-bg-white tw-p-4"},w1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},c1={class:"tw-col-span-2 md:tw-col-span-1"},u1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),p1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},m1={class:"tw-col-span-2 md:tw-col-span-1"},g1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),h1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},f1={class:"tw-col-span-2 md:tw-col-span-1"},y1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),v1={class:"tw-relative"},b1=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),x1=["value"],_1=["value"],k1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),C1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D1={class:"tw-col-span-2 md:tw-col-span-1"},S1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),z1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U1={class:"tw-col-span-2"},P1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),L1={class:"tw-relative"},A1=["value"],$1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),q1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},W1={key:0,class:"md:tw-col-span-1 tw-col-span-2"},E1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),T1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},O1={key:1,class:"md:tw-col-span-1 tw-col-span-2"},I1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),V1={class:"tw-col-span-2"},F1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),j1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R1={class:"md:tw-col-span-1 tw-col-span-2"},N1={class:"md:tw-col-span-1 tw-col-span-2"},M1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),H1={class:"tw-relative"},Y1=["value"],Z1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),K1={class:"tw-col-span-2"},B1={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Q1={key:0,class:"tw-text-red-400 tw-text-xs"},G1={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},J1=["disabled"],X1=(0,s._)("span",null,"Create",-1);function t2(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",i1,[n1,(0,s._)("div",d1,[(0,s._)("div",w1,[(0,s._)("div",c1,[u1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",p1,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",m1,[g1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",h1,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",f1,[y1,(0,s._)("div",v1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[b1,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,x1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,_1)))),128))],34),[[a.bM,l.itemCopy.city]]),k1]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",C1,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",D1,[S1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",z1,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",U1,[P1,(0,s._)("div",L1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.followup_confirmation=null),class:(0,et.C_)([[l.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,A1)))),128))],34),[[a.bM,l.itemCopy.followup_confirmation]]),$1]),l.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",q1,(0,et.zw)(l.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",W1,[E1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>l.errors.followup_reported_date=null),class:(0,et.C_)([[l.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.followup_reported_date]]),l.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",T1,(0,et.zw)(l.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",O1,[I1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",V1,[F1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",j1,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",R1,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",N1,[M1,(0,s._)("div",H1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,Y1)))),128))],512),[[a.bM,l.itemCopy.upsell]]),Z1])]),(0,s._)("div",K1,[(0,s._)("label",B1,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",Q1," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",G1,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),X1],8,J1)])])])),_:1},8,["visible","onCancel"])])}const e2=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},r2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},a2=(t,e)=>{t.isLoading=!0,t.errors={},Xl.create(e).then((e=>e2(t,e.data))).catch((e=>r2(t,e.response.data))).finally((()=>t.isLoading=!1))};var s2={components:{OrderItems:uJ,OrderAffectation:zJ},props:{visible:{required:!0}},data(){return{followup_confirmations:un,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=wG(this,this.itemCopy);if(!t)return!1;a2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const o2=(0,p.Z)(s2,[["render",t2]]);var l2=o2,i2={components:{IndexTable:vX,IndexFilters:l1,CreatePopup:l2,BulkActions:VZ},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Xl.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const n2=(0,p.Z)(i2,[["render",TK]]);var d2=n2,w2={name:"sales",path:"/sales",component:da,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:bO,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:RZ,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:oK,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:_K,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:d2,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const c2={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},u2={class:"tw-px-3"},p2={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},m2={class:"tw-flex tw-items-center tw-gap-x-3"},g2=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),h2={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},f2=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),y2={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},v2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),b2=(0,s._)("span",null,"Create",-1),x2=[v2,b2],_2={key:0};function k2(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",c2,[(0,s._)("section",u2,[(0,s._)("div",p2,[(0,s._)("div",null,[(0,s._)("div",m2,[g2,(0,s._)("span",h2,(0,et.zw)(o.totalOrders)+" order",1)]),f2]),(0,s._)("div",y2,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},x2)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",_2,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const C2={class:"tw-flex tw-flex-col"},D2={class:"tw-overflow-x-auto"},S2={class:"tw-inline-block tw-min-w-full tw-align-middle"},z2={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},U2={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},P2={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},L2=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),A2={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},$2=(0,s._)("span",null,"Created",-1),q2=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),W2=[$2,q2],E2=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),T2=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),O2=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),I2=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),V2=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),F2=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),j2={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},R2={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},N2=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),M2=[N2],H2={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Y2={colspan:"8"},Z2={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},K2=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),B2=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Q2=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),G2=[B2,Q2],J2={class:"tw-mt-6"};function X2(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",C2,[(0,s._)("div",D2,[(0,s._)("div",S2,[(0,s._)("div",z2,[(0,s._)("table",U2,[(0,s._)("thead",P2,[(0,s._)("tr",null,[L2,(0,s._)("th",A2,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},W2)]),E2,T2,O2,I2,V2,F2])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",j2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",R2,M2)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",H2,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Y2,[(0,s._)("div",Z2,[K2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},G2)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",J2,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const t5={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},e5={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},r5={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},a5={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},s5=["disabled"],o5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),l5=(0,s._)("span",null," previous ",-1),i5=[o5,l5],n5=["disabled"],d5=(0,s._)("span",null," Next ",-1),w5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),c5=[d5,w5];function u5(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",t5,[(0,s._)("div",e5,[(0,s.Uk)(" Page "),(0,s._)("span",r5,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",a5,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},i5,10,s5),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},c5,10,n5)])])])}var p5={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const m5=(0,p.Z)(p5,[["render",u5]]);var g5=m5;const h5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},f5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},y5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},b5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},x5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},_5={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},k5={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},C5={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},D5={class:"tw-space-y-1"},S5={class:"tw-font-bold tw-text-green-500"},z5={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},U5={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},P5={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},L5={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},A5=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),$5={key:1},q5={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function W5(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",h5,[(0,s._)("div",null,[(0,s._)("h2",f5,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",y5,[(0,s._)("div",null,[(0,s._)("h2",v5,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",b5,[(0,s._)("div",null,[(0,s._)("h2",x5,(0,et.zw)(r.item.fullname),1)])]),(0,s._)("td",_5,[(0,s._)("div",null,[(0,s._)("h2",k5,(0,et.zw)(r.item.phone),1)])]),(0,s._)("td",C5,[(0,s._)("div",null,[(0,s._)("ul",D5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",S5,(0,et.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,et.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",z5,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",U5,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",P5,[(0,s._)("span",{class:(0,et.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(l.confirmation.name),3)]),(0,s._)("td",L5,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[A5,(0,s._)("span",null,(0,et.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",$5,[(0,s._)("span",{class:(0,et.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",q5,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const E5={class:"tw-h-full"},T5={class:"tw-flex tw-items-center tw-gap-2"},O5=["href"],I5={key:0};function V5(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",E5,[(0,s._)("div",T5,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,O5),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",I5,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const F5={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},j5=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),R5={class:"tw-bg-white tw-p-4"},N5={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},M5={class:"tw-col-span-2 md:tw-col-span-1"},H5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Y5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Z5={class:"tw-col-span-2 md:tw-col-span-1"},K5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),B5={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Q5={class:"tw-col-span-2 md:tw-col-span-1"},G5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),J5={class:"tw-relative"},X5=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),t4=["value"],e4=["value"],r4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),a4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s4={class:"tw-col-span-2 md:tw-col-span-1"},o4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),l4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i4={class:"tw-col-span-2"},n4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),d4={class:"tw-relative"},w4=["value"],c4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),u4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p4={key:0,class:"md:tw-col-span-1 tw-col-span-2"},m4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),g4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h4={key:1,class:"md:tw-col-span-1 tw-col-span-2"},f4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),y4={class:"tw-col-span-2"},v4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),b4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},x4={class:"md:tw-col-span-1 tw-col-span-2"},_4={class:"md:tw-col-span-1 tw-col-span-2"},k4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),C4={class:"tw-relative"},D4=["value"],S4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),z4={class:"tw-col-span-2"},U4={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},P4={key:0,class:"tw-text-red-400 tw-text-xs"},L4={key:2,class:"tw-col-span-2"},A4={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},$4={class:"tw-space-y-2 tw-px-5"},q4=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),W4=["href"],E4={class:"tw-space-y-2 tw-px-5"},T4=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),O4=["href"],I4={key:3,class:"tw-col-span-2"},V4={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},F4=["disabled"],j4=(0,s._)("span",null,"Update",-1);function R4(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",F5,[j5,(0,s._)("div",R5,[(0,s._)("div",N5,[(0,s._)("div",M5,[H5,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Y5,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Z5,[K5,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",B5,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Q5,[G5,(0,s._)("div",J5,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[X5,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,t4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,e4)))),128))],34),[[a.bM,l.itemCopy.city]]),r4]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",a4,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",s4,[o4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",l4,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",i4,[n4,(0,s._)("div",d4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,et.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,w4)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),c4]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",u4,(0,et.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",p4,[m4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,et.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",g4,(0,et.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",h4,[f4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",y4,[v4,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",b4,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",x4,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",_4,[k4,(0,s._)("div",C4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,D4)))),128))],512),[[a.bM,l.itemCopy.upsell]]),S4])]),(0,s._)("div",z4,[(0,s._)("label",U4,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",P4," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",L4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.product,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",A4,[(0,s._)("div",$4,[q4,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:e.video},(0,et.zw)(t.truncateText(e.video,30)),9,W4)]),(0,s._)("div",E4,[T4,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:e.store},(0,et.zw)(t.truncateText(e.store,30)),9,O4)])])])))),128))])):(0,s.kq)("",!0),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",I4,[(0,s.Wm)(w,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",V4,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),j4],8,F4)])])])),_:1},8,["visible","onCancel"])])}const N4=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!M4(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),M4=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},H4=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},Y4=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Z4=(t,e)=>{t.isLoading=!0,t.errors={},E.update(e.id,e).then((e=>H4(t,e.data))).catch((e=>Y4(t,e.response.data))).finally((()=>t.isLoading=!1))},K4={key:0},B4=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Q4={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},G4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),J4=(0,s._)("span",null,"Add Item",-1),X4=[G4,J4],t3={key:1,class:"md:tw-col-span-12 tw-col-span-12"},e3={class:"tw-max-w-full tw-overflow-auto"},r3={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},a3={class:"tw-bg-gray-50"},s3={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},o3={key:0},l3={colspan:"6"},i3={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},n3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),d3=(0,s._)("span",null,"Add Item",-1),w3=[n3,d3],c3=(0,s._)("td",{colspan:"4"},null,-1),u3=(0,s._)("td",null,null,-1),p3={colspan:"1",class:"tw-p-2"},m3={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},g3={key:1},h3={colspan:"6"},f3={class:"tw-scale-75 tw-p-5"};function y3(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",K4,[B4,(0,s._)("div",Q4,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},X4)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",t3,[(0,s._)("div",e3,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",r3,[(0,s._)("tr",a3,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,et.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",s3,(0,et.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",o3,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",l3,[(0,s._)("div",i3,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},w3)])])]),(0,s._)("tr",null,[c3,u3,(0,s._)("td",p3,[(0,s._)("div",m3,[(0,s._)("p",null,(0,et.zw)(o.currency)+" "+(0,et.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",g3,[(0,s._)("tr",null,[(0,s._)("td",h3,[(0,s._)("div",f3,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const v3=(0,s._)("td",null,null,-1),b3={class:"tw-p-2"},x3={class:"tw-relative"},_3=["value"],k3=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),C3=["value"],D3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),S3={class:"tw-p-2"},z3={key:0,class:"tw-relative"},U3=["value"],P3=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),L3=["value"],A3={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},$3=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),q3=[$3],W3={class:"tw-p-2"},E3=["value"],T3={class:"tw-p-2"},O3=["value"],I3={class:"tw-flex tw-justify-center"};function V3(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[v3,(0,s._)("td",null,[(0,s._)("div",b3,[(0,s._)("div",x3,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[k3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,C3)))),128))],40,_3),D3])])]),(0,s._)("td",null,[(0,s._)("div",S3,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",z3,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[P3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.color)+" "+(0,et.zw)(t.size),9,L3)))),128))],40,U3)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",A3,q3)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",W3,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,E3)])]),(0,s._)("td",null,[(0,s._)("div",T3,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,O3)])]),(0,s._)("td",null,[(0,s._)("div",I3,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var F3={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const j3=(0,p.Z)(F3,[["render",V3]]);var R3=j3,N3={components:{ItemRow:R3},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Qo(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const M3=(0,p.Z)(N3,[["render",y3]]);var H3=M3;const Y3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Z3={key:0,class:"tw-relative"},K3=["value","disabled"],B3=(0,s._)("option",{value:""},"Choose a Delivery",-1),Q3=["value"],G3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J3={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X3={key:2,class:"tw-relative"},t6={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},e6=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),r6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function a6(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Y3,o.fetched?((0,s.wg)(),(0,s.iD)("div",Z3,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,et.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[B3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,Q3)))),128))],42,K3),G3])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",J3,(0,et.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",X3,[(0,s._)("div",t6,[(0,s.Wm)(i)]),e6,r6]))])}var s6={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const o6=(0,p.Z)(s6,[["render",a6]]);var l6=o6;const i6={key:0},n6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),d6={class:"md:tw-col-span-12 tw-col-span-12"},w6={class:"tw-max-w-full tw-overflow-auto"},c6={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},u6=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),p6={class:"tw-px-3 tw-py-2"},m6={class:"tw-px-3 tw-py-2"},g6={class:"tw-px-3 tw-py-2"},h6={class:"tw-px-3 tw-py-2"},f6={class:"tw-max-w-[250px] tw-text-sm"};function y6(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",i6,[n6,(0,s._)("div",d6,[(0,s._)("div",w6,[(0,s._)("table",c6,[u6,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",p6,(0,et.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",m6,(0,et.zw)(t.quantity),1),(0,s._)("td",g6,(0,et.zw)(t.price)+" "+(0,et.zw)(o.currency),1),(0,s._)("td",h6,[(0,s._)("p",f6,(0,et.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var v6={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const b6=(0,p.Z)(v6,[["render",y6]]);var x6=b6,_6={components:{OrderItems:H3,OrderAffectation:l6,ProductOffersTable:x6},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:wn,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=N4(this,this.itemCopy);if(!t)return!1;Z4(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const k6=(0,p.Z)(_6,[["render",R4]]);var C6=k6,D6={components:{UpdatePopup:C6},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const S6=(0,p.Z)(D6,[["render",V5]]);var z6=S6,U6={components:{TableActions:z6},props:{item:{required:!0}},data(){return{moment:sm()}},computed:{confirmation(){return wn.find((t=>t.value==this.item.confirmation))},deliveryState(){return mn.find((t=>t.value==this.item.delivery))}},methods:{}};const P6=(0,p.Z)(U6,[["render",W5]]);var L6=P6,A6={components:{TablePaginationNoNums:g5,TableRow:L6},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const $6=(0,p.Z)(A6,[["render",X2]]);var q6=$6;const W6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},E6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),T6={class:"tw-bg-white tw-p-4"},O6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},I6={class:"tw-col-span-2 md:tw-col-span-1"},V6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),F6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},j6={class:"tw-col-span-2 md:tw-col-span-1"},R6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),N6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M6={class:"tw-col-span-2 md:tw-col-span-1"},H6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Y6={class:"tw-relative"},Z6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),K6=["value"],B6=["value"],Q6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),G6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},J6={class:"tw-col-span-2 md:tw-col-span-1"},X6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),t8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e8={class:"tw-col-span-2"},r8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),a8={class:"tw-relative"},s8=["value"],o8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),l8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i8={key:0,class:"md:tw-col-span-1 tw-col-span-2"},n8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),d8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w8={key:1,class:"md:tw-col-span-1 tw-col-span-2"},c8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),u8={class:"tw-col-span-2"},p8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),m8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g8={class:"md:tw-col-span-1 tw-col-span-2"},h8={class:"tw-col-span-2"},f8={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},y8={key:0,class:"tw-text-red-400 tw-text-xs"},v8={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},b8=["disabled"],x8=(0,s._)("span",null,"Create",-1);function _8(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",W6,[E6,(0,s._)("div",T6,[(0,s._)("div",O6,[(0,s._)("div",I6,[V6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,et.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",F6,(0,et.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",j6,[R6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,et.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",N6,(0,et.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",M6,[H6,(0,s._)("div",Y6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,et.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Z6,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,et.zw)(l.itemCopy.city),9,K6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,et.zw)(t.name),9,B6)))),128))],34),[[a.bM,l.itemCopy.city]]),Q6]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",G6,(0,et.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",J6,[X6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,et.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",t8,(0,et.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",e8,[r8,(0,s._)("div",a8,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,et.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,et.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,et.zw)(t.name),11,s8)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),o8]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",l8,(0,et.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",i8,[n8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,et.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",d8,(0,et.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",w8,[c8,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",u8,[p8,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,et.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",m8,(0,et.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",g8,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",h8,[(0,s._)("label",f8,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",y8," # "+(0,et.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",v8,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),x8],8,b8)])])])),_:1},8,["visible","onCancel"])])}const k8=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},C8=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},D8=(t,e)=>{t.isLoading=!0,t.errors={},E.create(e).then((e=>k8(t,e.data))).catch((e=>C8(t,e.response.data))).finally((()=>t.isLoading=!1))};var S8={components:{OrderItems:H3,OrderAffectation:l6},props:{visible:{required:!0}},data(){return{confirmations:cn,upsells:pn,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=N4(this,this.itemCopy);if(!t)return!1;D8(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const z8=(0,p.Z)(S8,[["render",_8]]);var U8=z8;const P8={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},L8={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},A8=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),$8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),q8=[$8],W8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),E8=[W8],T8=["disabled"],O8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),I8=[O8],V8={class:"tw-relative"},F8=["value"],j8=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),R8=[j8],N8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),M8={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},H8=["value"],Y8={class:"tw-overflow-hidden tw-col-span-1"},Z8={class:"tw-overflow-hidden tw-col-span-1"};function K8(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",P8,[(0,s._)("div",L8,[A8,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},q8),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},E8)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},I8,8,T8),(0,s._)("div",V8,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},R8,40,F8),N8])]),(0,s._)("div",M8,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,H8),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Y8,[(0,s.Wm)(n,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),onClear:e[8]||(e[8]=e=>t.$emit("clear")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Z8,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const B8={class:"tw-mb-4"},Q8={class:"tw-grid tw-grid-cols-12 tw-gap-4"},G8={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},J8={class:"tw-flex tw-items-center tw-justify-between"},X8={class:"tw-text-xl tw-font-bold tw-text-gray-900"},t7={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function e7(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",B8,[(0,s._)("div",Q8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",G8,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",J8,[(0,s._)("span",X8,(0,et.zw)(t.total),1),(0,s._)("span",t7,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var r7={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return wn.find((e=>e.value==t))}}};const a7=(0,p.Z)(r7,[["render",e7]]);var s7=a7;const o7={class:"tw-mb-4"},l7={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},i7={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},n7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),d7=["value"],w7={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},c7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),u7=["value"],p7={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},m7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),g7=["value"],h7={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},f7=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),y7=["value"],v7=(0,s._)("option",{value:"all",selected:""},"All",-1),b7=["value"],x7=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_7=(0,s._)("span",null,"Clear",-1),k7=[x7,_7],C7=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1);function D7(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",o7,[(0,s._)("div",l7,[(0,s._)("div",i7,[n7,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,d7)]),(0,s._)("div",w7,[c7,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,u7)]),(0,s._)("div",p7,[m7,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,g7)]),(0,s._)("div",h7,[f7,(0,s._)("select",{value:r.filters.confirmation,onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[v7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,b7)))),128))],40,y7)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end gap-2"},[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},k7),C7])])])}var S7={props:{filters:{required:!0,default:{}}},data(){return{confirmations:wn,deliveryStatus:mn,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const z7=(0,p.Z)(S7,[["render",D7]]);var U7=z7,P7={components:{IndexStatistics:s7,FiltersWrapper:U7},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const L7=(0,p.Z)(P7,[["render",K8]]);var A7=L7,$7={components:{IndexTable:q6,IndexFilters:A7,CreatePopup:U8},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null}},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const q7=(0,p.Z)($7,[["render",k2]]);var W7=q7;const E7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},T7={class:"tw-px-3 tw-h-fit"},O7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},I7=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),V7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},F7=["disabled"],j7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),R7=(0,s._)("span",null,"Get Order",-1),N7=[j7,R7],M7={key:0,class:"tw-p-5"},H7={key:1,class:"tw-mt-5 tw-space-y-5"},Y7={class:"tw-flex tw-items-center tw-justify-end"},Z7={key:2},K7=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),B7=[K7];function Q7(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",E7,[(0,s._)("section",T7,[(0,s._)("div",O7,[I7,(0,s._)("div",V7,[(0,s._)("button",{disabled:o.fetching,onClick:e[0]||(e[0]=(...t)=>l.getOrder&&l.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},N7,8,F7)])]),o.fetching?((0,s.wg)(),(0,s.iD)("div",M7,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!o.fetching&&o.order_exists?((0,s.wg)(),(0,s.iD)("div",H7,[(0,s.Wm)(n,{order:o.order,onUpdate:e[1]||(e[1]=t=>o.order=t)},null,8,["order"]),o.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>o.doubles=o.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",Y7,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.save&&l.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),o.fetching||o.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Z7,B7))])])}const G7=t=>{t.fetching=!0,E.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},J7=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),X7=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,E.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},t9={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},e9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),r9={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},a9={class:"tw-text-xl tw-font-bold tw-text-gray-600"},s9=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),o9={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},l9={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},i9={class:"tw-space-y-2 tw-px-5"},n9=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),d9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},w9={class:"tw-space-y-2 tw-px-5"},c9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),u9={class:"tw-flex tw-items-center tw-gap-2"},p9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},m9={class:"tw-space-y-2 tw-px-5"},g9=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),h9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},f9={class:"tw-space-y-2 tw-px-5"},y9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),v9={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},b9={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},x9={class:""},_9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),k9={class:"tw-p-3 tw-pl-10 tw-space-y-2"},C9={class:"tw-font-bold tw-text-green-500"},D9={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},S9={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},z9={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},U9={key:0};function P9(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",t9,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[e9,(0,s.Uk)(" Edit ")]),(0,s._)("div",r9,[(0,s._)("span",a9,[s9,(0,s.Uk)(" ID: "+(0,et.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,et.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,et.zw)(l.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",o9,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",l9,[(0,s._)("div",i9,[n9,(0,s._)("span",d9,(0,et.zw)(r.order.fullname),1)]),(0,s._)("div",w9,[c9,(0,s._)("div",u9,[(0,s._)("span",p9,(0,et.zw)(r.order.phone),1),(0,s.Wm)(rt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",m9,[g9,(0,s._)("span",h9,(0,et.zw)(r.order.city),1)]),(0,s._)("div",f9,[y9,(0,s._)("span",v9,(0,et.zw)(r.order.adresse),1)])]),(0,s._)("div",b9,[(0,s._)("div",x9,[_9,(0,s._)("ul",k9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",C9,(0,et.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,et.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",D9,(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",S9,(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",z9,[(0,s._)("span",null,(0,et.zw)(o.currency),1),(0,s._)("span",null,(0,et.zw)(l.price),1)])])])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",U9,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var L9={components:{UpdatePopup:C6},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return Qo(this.order)},confirmation(){return wn.find((t=>t.value==this.order.confirmation))}}};const A9=(0,p.Z)(L9,[["render",P9]]);var $9=A9,q9={components:{OrderCard:$9},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){G7(this)},getOrder(){X7(this)},save(){J7(this)}},mounted(){this.toConfirm()}};const W9=(0,p.Z)(q9,[["render",Q7]]);var E9=W9;const T9={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},O9={class:"tw-px-3"},I9={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},V9={class:"tw-flex tw-items-center tw-gap-x-3"},F9=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),j9={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},R9=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function N9(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",T9,[(0,s._)("section",O9,[(0,s._)("div",I9,[(0,s._)("div",null,[(0,s._)("div",V9,[F9,(0,s._)("span",j9,(0,et.zw)(o.totalOrders)+" order",1)]),R9]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,onClear:l.handleClearFilters,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","onClear","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var M9={components:{IndexTable:q6,IndexFilters:A7},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null},this.handlePageChange(1)},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const H9=(0,p.Z)(M9,[["render",N9]]);var Y9=H9,Z9={name:"orders",path:"/agent/orders",component:da,meta:{module:"order"},children:[{name:"order/list",path:"",component:W7,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:E9,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Y9,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const K9=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),B9={key:0},Q9={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},G9={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},J9={key:1},X9={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},ttt=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),ett=["src"];function rtt(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[K9,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",B9,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Q9,[l.orders.length>0?((0,s.wg)(),(0,s.iD)("div",G9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",J9,[(0,s._)("div",X9,[ttt,(0,s._)("img",{src:o.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,ett)])]))])):(0,s.kq)("",!0)])}var att=r(9875),stt=r(1888),ott=r(1334);const ltt={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},itt={class:"tw-w-full tw-whitespace-normal"},ntt=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),dtt={class:"tw-flex tw-items-center"},wtt={key:0},ctt={key:1},utt={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},ptt=(0,s._)("span",{class:"tw-text-sm"},"x",-1),mtt={key:0},gtt={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},htt=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),ftt={class:"tw-flex tw-items-center tw-text-gray-500"},ytt={class:"tw-flex tw-items-center tw-text-gray-500"};function vtt(t,e,r,a,o,l){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(as._,{class:(0,et.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,et.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[l.delivery?.bg,l.delivery?.text]])},(0,et.zw)(r.order.delivery),3),(0,s.Wm)(att._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",ltt,(0,et.zw)(r.order.city),1),(0,s._)("p",itt,(0,et.zw)(r.order.adresse),1)]),ntt])),_:1}),(0,s.Wm)(stt.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,et.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(st.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(pa.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",dtt,[(0,s._)("span",null,[(0,s.Uk)((0,et.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",wtt,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",ctt,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",utt,[ptt,(0,s.Uk)(" "+(0,et.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(pa.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(l.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(qt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",mtt,[r.order.note?((0,s.wg)(),(0,s.iD)("div",gtt,[htt,(0,s._)("p",null,(0,et.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(er.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",ftt,[(0,s.Wm)(st.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,et.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",ytt,[(0,s.Wm)(st.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,et.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Jt.J),(0,s.Wm)(ott.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(rt.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(lr.C),r.order.phone?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const btt={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},xtt={class:"tw-px-5 tw-pt-5"},_tt=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),ktt={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},Ctt=["disabled","onClick"],Dtt={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},Stt=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),ztt=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function Utt(t,e,r,a,o,l){const i=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:l.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",btt,[(0,s._)("div",xtt,[_tt,(0,s._)("div",ktt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:l.isDisabled(e),onClick:t=>l.handleChange(e),key:e.value,class:(0,et.C_)([[l.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,et.zw)(e.name),11,Ctt)))),128))])]),(0,s._)("div",Dtt,[(0,s.Wm)(rt.T,{onClick:l.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[Stt])),_:1},8,["onClick"]),(0,s.Wm)(rt.T,{onClick:l.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[ztt])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:l.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const Ptt={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Ltt=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Att=(0,s._)("br",null,null,-1),$tt=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),qtt={class:"tw-flex tw-justify-end tw-mt-2"};function Wtt(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ptt,[Ltt,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),Att,$tt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",qtt,[(0,s.Wm)(rt.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Ett={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,la.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const Ttt=(0,p.Z)(Ett,[["render",Wtt]]);var Ott=Ttt,Itt={props:["visible","order"],components:{OrderReporting:Ott},data:()=>({status:mn,disabled:gn,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,la.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const Vtt=(0,p.Z)(Itt,[["render",Utt]]);var Ftt=Vtt,jtt={components:{OrderCardDelivery:Ftt},props:["order"],data:()=>({deliveryStatus:mn,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return Qo(t)}}};const Rtt=(0,p.Z)(jtt,[["render",vtt]]);var Ntt=Rtt,Mtt={components:{OrderCard:Ntt},data(){return{localUrl:n,deliveryStatus:mn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){la.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Htt=(0,p.Z)(Mtt,[["render",rtt]]);var Ytt=Htt;const Ztt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Ktt={key:0},Btt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Qtt={class:"mb-5 tw-flex"},Gtt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Jtt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Xtt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},tet=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),eet={class:"tw-relative"},ret=["value"],aet={key:0,class:""},set={key:1},oet=(0,s._)("p",null,"No orders for now",-1),iet=[oet];function net(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[Ztt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ktt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Btt,[(0,s._)("div",Qtt,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Gtt,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Jtt,[(0,s._)("div",Xtt,[tet,(0,s._)("div",eet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,et.zw)(t.name),9,ret)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(st.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",aet,[(0,s.Wm)(d,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",set,iet))])):(0,s.kq)("",!0)])}const det={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},wet={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},cet={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},uet=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),pet={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},met={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},get={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},het=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),fet=["value"],yet={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},vet={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},bet={class:"tw-text-white"};function xet(t,e,r,o,l,i){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",det,[(0,s._)("table",wet,[(0,s._)("thead",cet,[(0,s._)("tr",null,[uet,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",pet,(0,et.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",met,[(0,s._)("div",get,[het,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,fet)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",yet,[(0,s._)("div",vet,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,et.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",bet,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const _et=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),ket={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Cet={class:"tw-px-6 tw-py-4 tw-relative"},Det={key:0},zet={class:"tw-px-6 tw-py-4"},Uet={class:"tw-px-6 tw-py-4"},Pet={class:"tw-px-6 tw-py-4"},Let={class:"tw-px-6 tw-py-4"},Aet={class:"tw-pb-2"},$et={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},qet={key:0},Wet={key:1},Eet={class:"tw-px-6 tw-py-4 tw-relative"},Tet={class:"tw-flex tw-items-center tw-justify-center"},Oet={class:"tw-flex tw-gap-1"},Iet={key:0},Vet={class:"tw-px-6 tw-py-4"},Fet={class:"tw-px-6 tw-py-4"},jet={class:"tw-px-6 tw-py-4"},Ret={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},Net={class:"tw-px-6 tw-py-4"};function Met(t,e,r,a,o,l){const i=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,et.C_)([["reporter"==r.order.delivery&&"tw-relative",l.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[_et,(0,s._)("th",ket,(0,et.zw)(r.order.id),1),(0,s._)("td",Cet,[(0,s.Uk)((0,et.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([l.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[l.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",Det," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",zet,(0,et.zw)(r.order.fullname),1),(0,s._)("td",Uet,(0,et.zw)(r.order.adresse),1),(0,s._)("td",Pet,(0,et.zw)(r.order.phone),1),(0,s._)("td",Let,[(0,s._)("div",Aet,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",$et,(0,et.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,et.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",qet,"| "+(0,et.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Wet,"| "+(0,et.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Eet,[(0,s._)("div",Tet,[((0,s.wg)(),(0,s.j4)(i,{class:(0,et.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([l.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Oet,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",Iet,[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,et.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Vet,(0,et.zw)(l.getPrice(r.order)),1),(0,s._)("td",Fet,(0,et.zw)(r.order.city),1),(0,s._)("td",jet,[(0,s._)("div",Ret,(0,et.zw)(r.order.note),1)]),(0,s._)("td",Net,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const Het={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Yet={key:1},Zet={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Ket=["onClick"];function Bet(t,e,r,a,o,l){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",Het,(0,et.zw)(l.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Yet,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,et.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,et.zw)(l.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(st.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,et.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Zet,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!o.disabled.includes(t.value)&&l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,et.C_)(["tw-block tw-px-4 tw-py-2",[o.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,et.zw)(t.name),3)],8,Ket)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[te.L,l.close]])}var Qet={props:["delivery","id","order"],components:{OrderReporting:Ott},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:mn,disabled:gn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,la.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Get=(0,p.Z)(Qet,[["render",Bet]]);var Jet=Get;const Xet={key:0};function trt(t,e,r,a,o,l){return o.newOrder?((0,s.wg)(),(0,s.iD)("div",Xet,[(0,s.Wm)(rt.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var ert={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const rrt=(0,p.Z)(ert,[["render",trt]]);var art=rrt,srt={props:["order","showNote"],components:{OrderDelivery:Jet,OrderActions:art},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return Qo(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const ort=(0,p.Z)(srt,[["render",Met]]);var lrt=ort,irt={props:["orders"],components:{OrderRow:lrt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const nrt=(0,p.Z)(irt,[["render",xet]]);var drt=nrt,wrt={components:{OrdersTable:drt},data(){return{localUrl:n,deliveryStatus:mn,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){la.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const crt=(0,p.Z)(wrt,[["render",net]]);var urt=crt,prt={name:"deliveries",path:"/deliveries",component:da,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Ytt,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:urt,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const mrt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),grt={key:0},hrt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},frt={class:"mb-5 tw-flex"},yrt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},vrt={key:0,class:""};function brt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[mrt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",grt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",hrt,[(0,s._)("div",frt,[(0,s.Wm)(rt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",yrt,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",vrt,[(0,s.Wm)(d,{columns:l.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class xrt{async inventoryStates(){return await q.getCookie(),A.get("api/inventorystates")}async inventoryMovements(){return await q.getCookie(),A.get("api/inventorymovements")}async getMovement(t){return await q.getCookie(),A.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await q.getCookie(),A.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await q.getCookie(),A.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await q.getCookie(),A.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await q.getCookie(),A["delete"]("api/inventorymovements/delete/"+t)}}var _rt=new xrt;const krt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Crt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Drt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Srt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),zrt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Urt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Prt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Lrt={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},Art={class:"tw-px-6 tw-py-4"},$rt={class:"tw-px-6 tw-py-4"},qrt={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},Wrt={class:"tw-px-6 tw-py-4"},Ert={class:"tw-px-6 tw-py-4"},Trt=(0,s._)("br",null,null,-1),Ort={class:"tw-px-6 tw-py-4"},Irt={class:"mt-5 tw-flex tw-justify-between"},Vrt={class:"d-flex align-center"},Frt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),jrt={class:"d-flex align-center"},Rrt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Nrt={class:"tw-text-white"};function Mrt(t,e,r,a,o,l){const i=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",krt,[(0,s._)("table",Crt,[(0,s._)("thead",Drt,[(0,s._)("tr",null,[Srt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",zrt,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Urt,(0,s._)("th",Prt,(0,et.zw)(t.id),1),(0,s._)("td",Lrt,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Art,(0,et.zw)(t.buying_price)+" DH ",1),(0,s._)("td",$rt,(0,et.zw)(t.selling_price)+" DH ",1),(0,s._)("td",qrt,(0,et.zw)(l.availableQuantity(t)),1),(0,s._)("td",Wrt,(0,et.zw)(t.total_quantity),1),(0,s._)("td",Ert,[(0,s.Uk)((0,et.zw)(t.updated_at?.split("T")[0])+" ",1),Trt,(0,s.Uk)(" "+(0,et.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Ort,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",Irt,[(0,s._)("div",Vrt,[Frt,(0,s.Wm)(qx.r,{"hide-details":!0,modelValue:o.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),items:o.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",jrt,[(0,s._)("div",Rrt,(0,et.zw)(l.prevRange+1)+" - "+(0,et.zw)(o.currentPage==l.pageCount?r.states.length:l.nextRange)+" of "+(0,et.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Nrt,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Hrt(t,e,r,a,o,l){const i=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[2]||(e[2]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>o.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Yrt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Zrt={class:"tw-p-5"},Krt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Brt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Qrt={class:"tw-w-4 tw-p-4"},Grt={class:"tw-w-4 tw-p-4"},Jrt={class:"tw-w-4 tw-p-4"},Xrt={class:"tw-w-4 tw-p-4"},tat={class:"tw-flex tw-items-center tw-gap-1"},eat={class:"tw-text-green-500"},rat={key:0},aat={class:"tw-text-red-400"},sat=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function oat(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Yrt,[(0,s.Wm)(rt.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Zrt,[(0,s._)("table",Krt,[Brt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Qrt,(0,et.zw)(t.id),1),(0,s._)("td",Grt,(0,et.zw)(t.size),1),(0,s._)("td",Jrt,(0,et.zw)(t.color),1),(0,s._)("td",Xrt,[(0,s._)("div",tat,[(0,s._)("span",eat,(0,et.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,et.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",rat,[(0,s.Uk)(" / "),(0,s._)("span",aat,(0,et.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),sat])])}var lat={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const iat=(0,p.Z)(lat,[["render",oat]]);var nat=iat,dat={props:["rowIndex","state"],components:{InventoryStateDetails:nat},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const wat=(0,p.Z)(dat,[["render",Hrt]]);var cat=wat,uat={props:["columns","states"],components:{InventoryStateActions:cat},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const pat=(0,p.Z)(uat,[["render",Mrt]]);var mat=pat,gat={components:{InventoryStateTable:mat},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await _rt.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const hat=(0,p.Z)(gat,[["render",brt]]);var fat=hat;const yat=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),vat={key:0},bat={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},xat={class:"tw-w-full"},_at=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),kat={class:"tw-relative"},Cat=["disabled"],Dat=["value"],Sat={class:"tw-w-full"},zat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),Uat={class:"tw-relative"},Pat=["disabled"],Lat=["value"],Aat={class:"tw-w-full"},$at=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),qat={class:"tw-relative"},Wat=["value"],Eat={class:"tw-w-full"},Tat=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Oat={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Iat=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Vat={class:"tw-max-w-full"},Fat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jat=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Rat={class:"tw-w-4 tw-p-4"},Nat={class:"tw-w-4 tw-p-4"},Mat={class:"tw-w-4 tw-p-4"},Hat={class:"tw-w-4 tw-p-4"},Yat={class:"tw-w-4 tw-p-4"},Zat={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Kat={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Bat=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Qat=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Gat(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[yat,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vat,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",bat,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xat,[_at,(0,s._)("div",kat,[(0,s.wy)((0,s._)("select",{disabled:l.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>l.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname+" "+t.lastname),9,Dat)))),128))],8,Cat),[[a.bM,l.delivery]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Sat,[zat,(0,s._)("div",Uat,[(0,s.wy)((0,s._)("select",{disabled:l.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,Lat)))),128))],8,Pat),[[a.bM,l.product]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Aat,[$at,(0,s._)("div",qat,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,Wat)))),128))],512),[[a.bM,l.variation]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Eat,[Tat,(0,s._)("div",null,[(0,s.Wm)(ot.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Oat,[(0,s.Wm)(rt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Iat])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Vat,[(0,s._)("table",Fat,[jat,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Rat,(0,et.zw)(t.id),1),(0,s._)("td",Nat,(0,et.zw)(t.size),1),(0,s._)("td",Mat,(0,et.zw)(t.color),1),(0,s._)("td",Hat,(0,et.zw)(t.quantity),1),(0,s._)("td",Yat,[(0,s._)("div",Zat,[(0,s.Wm)(rt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Kat,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Bat])),_:1}),(0,s.Wm)(rt.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Qat])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Jat={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,_rt.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await X.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return _rt.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const Xat=(0,p.Z)(Jat,[["render",Gat]]);var tst=Xat;const est=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),rst={key:0},ast={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},sst={class:"tw-w-full"},ost=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),lst={class:"tw-relative"},ist=["value"],nst={class:"tw-w-full"},dst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),wst={class:"tw-relative"},cst=["value"],ust={class:"tw-w-full"},pst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),mst={class:"tw-w-full tw-h-full tw-flex tw-items-end"},gst=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),hst={class:"tw-max-w-full"},fst={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},yst=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),vst={class:"tw-w-4 tw-p-4"},bst={class:"tw-w-4 tw-p-4"},xst={class:"tw-w-4 tw-p-4"},_st={class:"tw-w-4 tw-p-4"},kst={class:"tw-w-4 tw-p-4"},Cst={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Dst={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Sst=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),zst=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Ust(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[est,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rst,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ast,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",sst,[ost,(0,s._)("div",lst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.firstname+" "+t.lastname),9,ist)))),128))],512),[[a.bM,l.delivery]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nst,[dst,(0,s._)("div",wst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.color+" / "+t.size+" / "+t.quantity),9,cst)))),128))],512),[[a.bM,l.variation]]),(0,s.Wm)(st.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",ust,[pst,(0,s._)("div",null,[(0,s.Wm)(ot.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>l.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",mst,[(0,s.Wm)(rt.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gst])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(pa.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",hst,[(0,s._)("table",fst,[yst,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",vst,(0,et.zw)(t.id),1),(0,s._)("td",bst,(0,et.zw)(t.size),1),(0,s._)("td",xst,(0,et.zw)(t.color),1),(0,s._)("td",_st,(0,et.zw)(t.quantity),1),(0,s._)("td",kst,[(0,s._)("div",Cst,[(0,s.Wm)(rt.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Dst,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Sst])),_:1}),(0,s.Wm)(rt.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[zst])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Pst={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,_rt.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await X.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return sa.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return _rt.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const Lst=(0,p.Z)(Pst,[["render",Ust]]);var Ast=Lst;const $st=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),qst={key:0},Wst={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Est={class:"mb-5 tw-flex"},Tst={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Ost={key:0,class:""};function Ist(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[$st,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qst,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wst,[(0,s._)("div",Est,[(0,s.Wm)(rt.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Tst,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Ost,[(0,s.Wm)(d,{columns:l.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const Vst={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Fst={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jst={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Rst=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Nst={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Mst=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Hst={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Yst={class:"tw-px-6 tw-py-4"},Zst=(0,s._)("br",null,null,-1),Kst={class:"tw-px-6 tw-py-4"},Bst={class:"tw-px-6 tw-py-4"},Qst={class:"tw-px-6 tw-py-4"},Gst={class:"tw-px-6 tw-py-4"},Jst={class:"tw-px-6 tw-py-4"},Xst={class:"tw-w-[200px] !tw-whitespace-normal"},tot={class:"tw-px-6 tw-py-4"},eot={class:"tw-px-6 tw-py-4"},rot={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},aot={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},sot=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),oot=["value"],lot={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},iot={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},not={class:"tw-text-white"};function dot(t,e,r,o,l,i){const n=(0,s.up)("router-link"),d=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vst,[(0,s._)("table",Fst,[(0,s._)("thead",jst,[(0,s._)("tr",null,[Rst,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Nst,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Mst,(0,s._)("th",Hst,(0,et.zw)(t.id),1),(0,s._)("td",Yst,[(0,s.Uk)((0,et.zw)(t.created_at?.split("T")[0])+" ",1),Zst,(0,s.Uk)(" "+(0,et.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Kst,(0,et.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",Bst,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Qst,(0,et.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Gst,[(0,s._)("div",{class:(0,et.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,et.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Jst,[(0,s._)("div",Xst,(0,et.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",tot,(0,et.zw)(t.delivery.city?.name),1),(0,s._)("td",eot,[(0,s.Wm)(d,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",rot,[(0,s._)("div",aot,[sot,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,oot)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",lot,[(0,s._)("div",iot,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,et.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",not,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const wot={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},cot=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),uot={class:"mt-3"},pot=(0,s._)("h2",{class:"mb-2"},"Received",-1),mot={class:"tw-mt-3"},got=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),hot={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},fot=(0,s._)("span",{class:"text-white"}," Cancel ",-1),yot=(0,s._)("span",{class:"text-white"}," Update ",-1);function vot(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),d=(0,s.up)("MovementDetails"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>l.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[1]||(e[1]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(rt.T,{key:3,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:l.confirmPopup,onCancel:e[6]||(e[6]=t=>l.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",wot,[cot,(0,s._)("div",uot,[pot,(0,s.Wm)(Au.G,{density:"compact","hide-details":!0,modelValue:l.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>l.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",mot,[got,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,l.note]])]),(0,s._)("div",hot,[(0,s.Wm)(rt.T,{onClick:e[5]||(e[5]=t=>l.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[fot])),_:1}),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[yot])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:l.detailsPopup,onCancel:e[8]||(e[8]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(d,{key:0,onCancel:e[7]||(e[7]=t=>l.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const bot={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},xot={class:"tw-p-5"},_ot={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},kot=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Cot={class:"tw-w-4 tw-p-4"},Dot={class:"tw-w-4 tw-p-4"},Sot={class:"tw-w-4 tw-p-4"},zot={class:"tw-w-4 tw-p-4"};function Uot(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",bot,[(0,s.Wm)(rt.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",xot,[(0,s._)("table",_ot,[kot,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Cot,(0,et.zw)(t.id),1),(0,s._)("td",Dot,(0,et.zw)(t.product_variation.size),1),(0,s._)("td",Sot,(0,et.zw)(t.product_variation.color),1),(0,s._)("td",zot,(0,et.zw)(t.quantity),1)])))),128))])])])])}var Pot={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Lot=(0,p.Z)(Pot,[["render",Uot]]);var Aot=Lot,$ot={props:["rowIndex","movement"],components:{MovementDetails:Aot},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,_rt["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,_rt.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){_rt.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const qot=(0,p.Z)($ot,[["render",vot]]);var Wot=qot,Eot={props:["columns","movements"],components:{InventoryMovementsActions:Wot},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Tot=(0,p.Z)(Eot,[["render",dot]]);var Oot=Tot,Iot={components:{InventoryMovementsTable:Oot},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await _rt.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const Vot=(0,p.Z)(Iot,[["render",Ist]]);var Fot=Vot,jot={name:"inventory/list",path:"/inventories",component:da,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:fat,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:Fot,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:tst,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:Ast,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]};const Rot={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Not=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),Mot={key:0},Hot=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Yot={key:0},Zot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Kot={class:"mb-5 tw-flex"},Bot={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Qot={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Got={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Jot=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Xot={class:"tw-relative"},tlt={class:""};function elt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",Rot,[Not,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",Mot,[(0,s.Wm)(rt.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Hot])),_:1})])):(0,s.kq)("",!0)]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Yot,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zot,[(0,s._)("div",Kot,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Bot,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Qot,[(0,s._)("div",Got,[Jot,(0,s._)("div",Xot,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",tlt,[(0,s.Wm)(d,{columns:l.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class rlt{async create(t){return await q.getCookie(),A.post("api/shops/new",{name:t.name})}async update(t,e){return await q.getCookie(),A.post("api/shops/update/"+t,{name:e.name})}async all(){return await q.getCookie(),A.get("api/shops")}async getShop(t){return await q.getCookie(),A.get("api/shops/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/shops/delete/"+t)}}var alt=new rlt;const slt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},olt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},llt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ilt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),nlt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},dlt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),wlt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},clt={class:"tw-px-6 tw-py-4"},ult={class:"tw-px-6 tw-py-4"},plt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},mlt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},glt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},hlt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),flt=["value"],ylt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},vlt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},blt={class:"tw-text-white"};function xlt(t,e,r,o,l,i){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",slt,[(0,s._)("table",olt,[(0,s._)("thead",llt,[(0,s._)("tr",null,[ilt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",nlt,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[dlt,(0,s._)("th",wlt,(0,et.zw)(t.id),1),(0,s._)("td",clt,(0,et.zw)(t.name),1),(0,s._)("td",ult,(0,et.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",plt,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",mlt,[(0,s._)("div",glt,[hlt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,flt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",ylt,[(0,s._)("div",vlt,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,et.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",blt,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const _lt={class:"tw-flex tw-items-center tw-gap-1"};function klt(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",_lt,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var Clt={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,alt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),alt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Dlt=(0,p.Z)(Clt,[["render",klt]]);var Slt=Dlt,zlt={props:["columns","shops"],components:{ShopActions:Slt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Ult=(0,p.Z)(zlt,[["render",xlt]]);var Plt=Ult,Llt={components:{ShopsTable:Plt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){alt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Alt=(0,p.Z)(Llt,[["render",elt]]);var $lt=Alt;const qlt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Wlt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Elt={class:"tw-w-full"},Tlt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),Olt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ilt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Vlt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Flt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function jlt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[qlt,(0,s._)("div",Wlt,[(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Elt,[Tlt,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Olt,(0,et.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Ilt,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Vlt])),_:1}),(0,s.Wm)(rt.T,{onClick:l.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Flt])),_:1},8,["onClick","loading"])])])])}var Rlt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;alt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Nlt=(0,p.Z)(Rlt,[["render",jlt]]);var Mlt=Nlt;const Hlt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Ylt={key:0},Zlt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Klt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Blt={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Qlt={class:"tw-w-full"},Glt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Jlt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xlt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},tit=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),eit=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function rit(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Hlt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ylt,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zlt,[(0,s._)("div",Klt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",Blt,(0,et.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ua.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(pa.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Qlt,[Glt,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jlt,(0,et.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Xlt,[(0,s.Wm)(rt.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tit])),_:1}),(0,s.Wm)(rt.T,{onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[eit])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var ait={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;alt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){alt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const sit=(0,p.Z)(ait,[["render",rit]]);var oit=sit,lit={name:"shops",path:"/shops",component:da,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:$lt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:Mlt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:oit,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const iit={class:"mb-5 tw-flex tw-justify-between tw-items-center"},nit=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),dit={key:0},wit=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),cit={key:0},uit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},pit={class:"mb-5 tw-flex"},mit={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},git={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},hit={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},fit=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),yit={class:"tw-relative"},vit={class:""};function bit(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("WarehousesTable"),w=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",iit,[nit,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",dit,[(0,s.Wm)(rt.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),wit])),_:1})])):(0,s.kq)("",!0)]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cit,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",uit,[(0,s._)("div",pit,[(0,s.Wm)(rt.T,{onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",mit,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",git,[(0,s._)("div",hit,[fit,(0,s._)("div",yit,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",vit,[(0,s.Wm)(d,{columns:l.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(w,{onCancel:e[4]||(e[4]=t=>l.showPopup=!1),visible:l.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const xit={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},_it={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Cit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Dit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Sit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),zit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Uit={class:"tw-px-6 tw-py-4"},Pit={class:"tw-px-6 tw-py-4"},Lit={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Ait={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},$it={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},qit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Wit=["value"],Eit={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Tit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Oit={class:"tw-text-white"};function Iit(t,e,r,o,l,i){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xit,[(0,s._)("table",_it,[(0,s._)("thead",kit,[(0,s._)("tr",null,[Cit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Dit,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Sit,(0,s._)("th",zit,(0,et.zw)(t.id),1),(0,s._)("td",Uit,(0,et.zw)(t.name),1),(0,s._)("td",Pit,(0,et.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Lit,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",Ait,[(0,s._)("div",$it,[qit,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Wit)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",Eit,[(0,s._)("div",Tit,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,et.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Oit,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Vit={class:"tw-flex tw-items-center tw-gap-1"};function Fit(t,e,r,a,o,l){const i=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Vit,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:o.showUpdatePopup,onCancel:e[2]||(e[2]=t=>o.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const jit={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Rit=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Nit={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Mit={class:"tw-w-full tw-col-span-12"},Hit=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Yit={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zit={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Kit=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Bit=(0,s._)("span",{class:"text-white"}," Update ",-1);function Qit(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",jit,[Rit,(0,s._)("div",Nit,[(0,s._)("div",Mit,[Hit,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yit,(0,et.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",Zit,[(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kit])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bit])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Git={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Vk.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Jit=(0,p.Z)(Git,[["render",Qit]]);var Xit=Jit,tnt={components:{UpdateWarehouse:Xit},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Vk["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const ent=(0,p.Z)(tnt,[["render",Fit]]);var rnt=ent,ant={props:["columns","warehouses"],components:{WarehouseActions:rnt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const snt=(0,p.Z)(ant,[["render",Iit]]);var ont=snt;const lnt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},int=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),nnt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},dnt={class:"tw-w-full tw-col-span-12"},wnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),cnt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},unt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},pnt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mnt=(0,s._)("span",{class:"text-white"}," Create ",-1);function gnt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lnt,[int,(0,s._)("div",nnt,[(0,s._)("div",dnt,[wnt,(0,s.Wm)(ot.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cnt,(0,et.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",unt,[(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[pnt])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:l.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mnt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var hnt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;Vk.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=zt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const fnt=(0,p.Z)(hnt,[["render",gnt]]);var ynt=fnt,vnt={components:{WarehousesTable:ont,AddWarehouse:ynt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){Vk.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const bnt=(0,p.Z)(vnt,[["render",bit]]);var xnt=bnt,_nt={name:"warehouses",path:"/warehouses",component:da,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:xnt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const knt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Cnt={key:0},Dnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Snt={class:"mb-5 tw-flex"},znt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Unt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Pnt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Lnt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Ant={class:"tw-relative"},$nt={class:""};function qnt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[knt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cnt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dnt,[(0,s._)("div",Snt,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",znt,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Unt,[(0,s._)("div",Pnt,[Lnt,(0,s._)("div",Ant,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",$nt,[(0,s.Wm)(d,{columns:l.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}class Wnt{async update(t,e){return await q.getCookie(),A.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await q.getCookie(),A.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await q.getCookie(),A.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await q.getCookie(),A.post("api/factorisations/update/closing/"+t,{close:e})}async all(){return await q.getCookie(),A.get("api/factorisations")}async getFactorisation(t){return await q.getCookie(),A.get("api/factorisations/"+t)}async delete(t){return await q.getCookie(),A["delete"]("api/factorisations/delete/"+t)}}var Ent=new Wnt;const Tnt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Ont={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Int={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Vnt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Fnt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jnt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Rnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Nnt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Mnt=["value"],Hnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Ynt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Znt={class:"tw-text-white"};function Knt(t,e,r,o,l,i){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Tnt,[(0,s._)("table",Ont,[(0,s._)("thead",Int,[(0,s._)("tr",null,[Vnt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Fnt,(0,et.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",jnt,[(0,s._)("div",Rnt,[Nnt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Mnt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",Hnt,[(0,s._)("div",Ynt,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,et.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Znt,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Bnt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Qnt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Gnt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Jnt={class:"tw-px-6 tw-py-4"},Xnt={class:"tw-px-6 tw-py-4"},tdt={class:"tw-px-6 tw-py-4"},edt={class:"tw-px-6 tw-py-4"},rdt={class:"tw-px-6 tw-py-4"},adt={class:"tw-px-6 tw-py-4"},sdt={class:"tw-px-6 tw-py-4"},odt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},ldt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},idt=["disabled"],ndt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),ddt={class:"tw-px-6 tw-py-4"},wdt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},cdt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},udt=["disabled"],pdt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),mdt={class:"tw-px-6 tw-py-4"},gdt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function hdt(t,e,r,o,l,i){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Bnt,[Qnt,(0,s._)("th",Gnt,(0,et.zw)(r.factorisation.id),1),(0,s._)("td",Jnt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,et.zw)(r.factorisation.factorisation_id),1)]),(0,s._)("td",Xnt,(0,et.zw)(i.deliveryName),1),(0,s._)("td",tdt,(0,et.zw)(r.factorisation.commands_number),1),(0,s._)("td",edt,(0,et.zw)(r.factorisation.price),1),(0,s._)("td",rdt,(0,et.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",adt,(0,et.zw)(r.factorisation.paid_at?.split("T")[0]),1),(0,s._)("td",sdt,[(0,s._)("div",odt,[(0,s._)("label",ldt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,idt),[[a.e8,i.close]]),ndt]),l.isLoadingClose?((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",ddt,[(0,s._)("div",wdt,[(0,s._)("label",cdt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,udt),[[a.e8,i.paid]]),pdt]),l.isLoadingPaid?((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",mdt,(0,et.zw)(r.factorisation.created_at.split("T")[0]),1),(0,s._)("td",gdt,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])])}const fdt={class:"tw-flex tw-items-center tw-gap-1"};function ydt(t,e,r,a,o,l){const i=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",fdt,[(0,s.Wm)(rt.T,{href:o.serverUrl+"api/export/factorisations/"+r.factorisation.factorisation_id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[1]||(e[1]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:o.showUpdatePopup,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:o.showUpdateCommentPopup,onCancel:e[4]||(e[4]=t=>o.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const vdt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},bdt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),xdt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},_dt={class:"tw-w-full tw-col-span-6"},kdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Cdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ddt={class:"tw-w-full tw-col-span-6"},Sdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),zdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Udt={class:"tw-w-full tw-col-span-6"},Pdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Ldt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Adt={class:"tw-w-full tw-col-span-6"},$dt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),qdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wdt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Edt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Tdt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Odt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vdt,[bdt,(0,s._)("div",xdt,[(0,s._)("div",_dt,[kdt,(0,s.Wm)(ot.hw,{error:!o.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("factorisation_id")),"hide-details":!0,modelValue:o.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cdt,(0,et.zw)(o.formStatus.factorisation_id.message),1)]),(0,s._)("div",Ddt,[Sdt,(0,s.Wm)(ot.hw,{error:!o.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:l.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zdt,(0,et.zw)(o.formStatus.delivery_id.message),1)]),(0,s._)("div",Udt,[Pdt,(0,s.Wm)(ot.hw,{error:!o.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ldt,(0,et.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Adt,[$dt,(0,s.Wm)(ot.hw,{error:!o.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",qdt,(0,et.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Wdt,[(0,s.Wm)(rt.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Edt])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Tdt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Idt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ent.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=zt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Ut(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Ut(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Vdt=(0,p.Z)(Idt,[["render",Odt]]);var Fdt=Vdt;const jdt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Rdt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Ndt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Mdt={class:"tw-w-full tw-col-span-6"},Hdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Ydt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zdt={class:"tw-w-full tw-col-span-6"},Kdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Bdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qdt={class:"tw-w-full tw-col-span-12"},Gdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Jdt=["error"],Xdt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},twt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ewt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),rwt=(0,s._)("span",{class:"text-white"}," Update ",-1);function awt(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",jdt,[Rdt,(0,s._)("div",Ndt,[(0,s._)("div",Mdt,[Hdt,(0,s.Wm)(ot.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ydt,(0,et.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Zdt,[Kdt,(0,s.Wm)(ot.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Bdt,(0,et.zw)(l.formStatus.commands_number.message),1)]),(0,s._)("div",Qdt,[Gdt,(0,s.wy)((0,s._)("textarea",{error:!l.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,Jdt),[[a.nr,l.Factorisation.comment]]),(0,s._)("div",Xdt,(0,et.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",twt,[(0,s.Wm)(rt.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ewt])),_:1}),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[rwt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var swt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ent.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=zt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const owt=(0,p.Z)(swt,[["render",awt]]);var lwt=owt,iwt={components:{UpdateFactorisation:Fdt,UpdateComment:lwt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1,showUpdateCommentPopup:!1,serverUrl:d}},methods:{handleResolved(t){t?(this.isLoading=!0,Ent["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const nwt=(0,p.Z)(iwt,[["render",ydt]]);var dwt=nwt,wwt={props:["factorisation"],components:{FactorisationActions:dwt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ent.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Ent.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=d+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const cwt=(0,p.Z)(wwt,[["render",hdt]]);var uwt=cwt,pwt={props:["columns","factorisations"],components:{FactorisationRow:uwt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const mwt=(0,p.Z)(pwt,[["render",Knt]]);var gwt=mwt,hwt={components:{FactorisationsTable:gwt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Ent.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const fwt=(0,p.Z)(hwt,[["render",qnt]]);var ywt=fwt,vwt={name:"factorisations",path:"/factorisations",component:da,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:ywt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}}]};const bwt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},xwt={class:"tw-px-3"},_wt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},kwt={class:"tw-flex tw-items-center tw-gap-x-3"},Cwt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Dwt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Swt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),zwt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),Uwt=[zwt],Pwt={key:0};function Lwt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",bwt,[(0,s._)("section",xwt,[(0,s._)("div",_wt,[(0,s._)("div",null,[(0,s._)("div",kwt,[Cwt,(0,s._)("span",Dwt,(0,et.zw)(o.totalOrders)+" order",1)]),Swt]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Uwt)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Pwt,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class Awt{async create(t){return await q.getCookie(),A.post("api/ads/new",t)}async update(t,e){return await q.getCookie(),A.post("api/ads/update/"+t,e)}async delete(t){return await q.getCookie(),A["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await q.getCookie(),A.post("api/ads"+t,e)}}var $wt=new Awt;const qwt={class:"tw-flex tw-flex-col"},Wwt={class:"tw-overflow-x-auto"},Ewt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Twt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Owt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Iwt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Vwt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Fwt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},jwt=(0,s._)("span",null,"Created",-1),Rwt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Nwt=[jwt,Rwt],Mwt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Hwt=(0,s._)("span",null,"Ads For",-1),Ywt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Zwt=[Hwt,Ywt],Kwt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),Bwt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),Qwt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Gwt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),Jwt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),Xwt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),tct={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},ect={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},rct=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),act=[rct],sct={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},oct={colspan:"8"},lct={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},ict=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),nct=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),dct=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),wct=[nct,dct],cct={class:"tw-mt-6"};function uct(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qwt,[(0,s._)("div",Wwt,[(0,s._)("div",Ewt,[(0,s._)("div",Twt,[(0,s._)("table",Owt,[(0,s._)("thead",Iwt,[(0,s._)("tr",null,[Vwt,(0,s._)("th",Fwt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Nwt)]),(0,s._)("th",Mwt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Zwt)]),Kwt,Bwt,Qwt,Gwt,Jwt,Xwt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",tct,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",ect,act)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",sct,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",oct,[(0,s._)("div",lct,[ict,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},wct)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",cct,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const pct={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},mct={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},gct={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},hct={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},fct=["disabled"],yct=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),vct=(0,s._)("span",null," previous ",-1),bct=[yct,vct],xct=["disabled"],_ct=(0,s._)("span",null," Next ",-1),kct=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Cct=[_ct,kct];function Dct(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pct,[(0,s._)("div",mct,[(0,s.Uk)(" Page "),(0,s._)("span",gct,(0,et.zw)(r.currentPage)+" of "+(0,et.zw)(r.lastPage),1)]),(0,s._)("div",hct,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,et.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},bct,10,fct),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,et.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Cct,10,xct)])])])}var Sct={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const zct=(0,p.Z)(Sct,[["render",Dct]]);var Uct=zct;const Pct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Act={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$ct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},qct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Wct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Ect={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Tct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Oct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ict={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-capitalize"},Vct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Fct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},jct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Rct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Nct={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Mct={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Hct={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Yct(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Pct,[(0,s._)("div",null,[(0,s._)("h2",Lct,(0,et.zw)(r.item.id),1)])]),(0,s._)("td",Act,[(0,s._)("div",null,[(0,s._)("h2",$ct,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",qct,[(0,s._)("div",null,[(0,s._)("h2",Wct,[(0,s._)("p",null,(0,et.zw)(o.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Ect,[(0,s._)("div",null,[(0,s._)("h2",Tct,(0,et.zw)(r.item.marketers.firstname)+" "+(0,et.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",Oct,[(0,s._)("div",null,[(0,s._)("h2",Ict,(0,et.zw)(r.item.source),1)])]),(0,s._)("td",Vct,[(0,s._)("div",null,[(0,s._)("h2",Fct,(0,et.zw)(r.item.amount),1)])]),(0,s._)("td",jct,[(0,s._)("div",null,[(0,s._)("h2",Rct,(0,et.zw)(r.item.leads),1)])]),(0,s._)("td",Nct,[(0,s._)("div",null,[(0,s._)("h2",Mct,(0,et.zw)(r.item.products.name),1)])]),(0,s._)("td",Hct,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Zct={class:"tw-h-full"},Kct={class:"tw-flex tw-items-center tw-gap-2"},Bct={key:0};function Qct(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",Zct,[(0,s._)("div",Kct,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",Bct,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const Gct={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Jct=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),Xct={class:"tw-bg-white tw-p-4"},tut={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},eut={class:"tw-col-span-2 md:tw-col-span-1"},rut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),aut=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),sut=["value"],out={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lut={class:"tw-col-span-2 md:tw-col-span-1"},iut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),nut={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dut={class:"tw-col-span-2 md:tw-col-span-1"},wut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),cut={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uut={class:"tw-col-span-2 md:tw-col-span-1"},put=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),mut=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),gut=["value"],hut={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fut={key:0,class:"tw-col-span-2 md:tw-col-span-1"},yut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),vut=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),but=["value"],xut={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_ut={class:"md:tw-col-span-1 tw-col-span-2"},kut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),Cut={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Dut={class:"tw-col-span-2"},Sut=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),zut={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Uut=["disabled"],Put=(0,s._)("span",null,"Update",-1);function Lut(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Gct,[Jct,(0,s._)("div",Xct,[(0,s._)("div",tut,[(0,s._)("div",eut,[rut,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>l.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>l.items.source=t),class:(0,et.C_)([[l.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[aut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,et.zw)(t),9,sut)))),128))],34),[[a.bM,l.items.source]]),l.errors.source?((0,s.wg)(),(0,s.iD)("label",out,(0,et.zw)(l.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",lut,[iut,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.items.amount=t),onInput:e[3]||(e[3]=t=>l.errors.amount=null),class:(0,et.C_)([[l.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.amount]]),l.errors.amount?((0,s.wg)(),(0,s.iD)("label",nut,(0,et.zw)(l.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",dut,[wut,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.items.leads=t),onInput:e[5]||(e[5]=t=>l.errors.leads=null),class:(0,et.C_)([[l.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.leads]]),l.errors.leads?((0,s.wg)(),(0,s.iD)("label",cut,(0,et.zw)(l.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",uut,[put,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>l.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>l.items.product_id=t),class:(0,et.C_)([[l.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[mut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,gut)))),128))],34),[[a.bM,l.items.product_id]]),l.errors.product_id?((0,s.wg)(),(0,s.iD)("label",hut,(0,et.zw)(l.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",fut,[yut,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>l.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>l.items.marketer_id=t),class:(0,et.C_)([[l.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[vut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,but)))),128))],34),[[a.bM,l.items.marketer_id]]),l.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",xut,(0,et.zw)(l.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",_ut,[kut,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.items.ads_at=t),onInput:e[11]||(e[11]=t=>l.errors.ads_at=null),class:(0,et.C_)([[l.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.items.ads_at]]),(0,s._)("label",Cut,(0,et.zw)(l.errors.ads_at),1)]),(0,s._)("div",Dut,[Sut,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,l.items.note]])])])]),(0,s._)("div",zut,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Put],8,Uut)])])])),_:1},8,["visible","onCancel"])])}const Aut=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),$ut=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},qut=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Wut=(t,e)=>{t.isLoading=!0,t.errors={},$wt.update(e.id,e).then((e=>$ut(t,e.data))).catch((e=>qut(t,e.response.data))).finally((()=>t.isLoading=!1))};var Eut={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,sources:["facebook","Google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=Aut(this,this.items);if(!t)return!1;Wut(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const Tut=(0,p.Z)(Eut,[["render",Lut]]);var Out=Tut,Iut={components:{UpdatePopup:Out},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const Vut=(0,p.Z)(Iut,[["render",Qct]]);var Fut=Vut,jut={components:{TableActions:Fut},props:{item:{required:!0}},data(){return{moment:sm()}},computed:{},methods:{}};const Rut=(0,p.Z)(jut,[["render",Yct]]);var Nut=Rut,Mut={components:{TablePaginationNoNums:Uct,TableRow:Nut},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Hut=(0,p.Z)(Mut,[["render",uct]]);var Yut=Hut;const Zut={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Kut={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},But=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Qut=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Gut=[Qut],Jut=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),Xut=[Jut],tpt=["disabled"],ept=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),rpt=[ept],apt={class:"tw-relative"},spt=["value"],opt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),lpt=[opt],ipt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),npt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},dpt=["value"],wpt={class:"tw-overflow-hidden tw-col-span-1"},cpt={class:"tw-overflow-hidden tw-col-span-1"};function upt(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zut,[(0,s._)("div",Kut,[But,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Gut),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Xut)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},rpt,8,tpt),(0,s._)("div",apt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lpt,40,spt),ipt])]),(0,s._)("div",npt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,dpt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(st.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,et.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wpt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,et.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",cpt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const ppt={class:"tw-mb-4"},mpt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},gpt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},hpt={class:"tw-flex tw-items-center tw-justify-between"},fpt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},ypt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function vpt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",ppt,[(0,s._)("div",mpt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",gpt,[(0,s._)("p",{class:(0,et.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,et.zw)(t.name),3),(0,s._)("div",hpt,[(0,s._)("span",fpt,(0,et.zw)(t.total),1),(0,s._)("span",ypt,(0,et.zw)(t.percent)+"%",1)])])])))),128))])])}var bpt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return un.find((e=>e.value==t))}}};const xpt=(0,p.Z)(bpt,[["render",vpt]]);var _pt=xpt;const kpt={class:"tw-mb-4"},Cpt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Dpt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Spt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),zpt=["value"],Upt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ppt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Lpt=["value"],Apt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$pt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),qpt=["value"],Wpt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ept=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),Tpt=["value"],Opt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Ipt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Vpt=(0,s._)("span",null,"Clear",-1),Fpt=[Ipt,Vpt],jpt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Rpt=(0,s._)("span",null,"Filter",-1),Npt=[jpt,Rpt];function Mpt(t,e,r,a,o,l){const i=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),d=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",kpt,[(0,s._)("div",Cpt,[(0,s._)("div",Dpt,[Spt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,zpt)]),(0,s._)("div",Upt,[Ppt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Lpt)]),(0,s._)("div",Apt,[$pt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,qpt)]),(0,s._)("div",Wpt,[Ept,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Tpt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Opt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Fpt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Npt)])])])}const Hpt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ypt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),Zpt=["value"],Kpt=(0,s._)("option",{value:"all"},"All",-1),Bpt=["value"];function Qpt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Hpt,[Ypt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Kpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Bpt)))),128))],40,Zpt)])}var Gpt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Jpt=(0,p.Z)(Gpt,[["render",Qpt]]);var Xpt=Jpt;const tmt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},emt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),rmt=["value"],amt=(0,s._)("option",{value:"all"},"All",-1),smt=["value"];function omt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",tmt,[emt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[amt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,smt)))),128))],40,rmt)])}var lmt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return sa.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const imt=(0,p.Z)(lmt,[["render",omt]]);var nmt=imt;const dmt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},wmt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),cmt=["value"],umt=(0,s._)("option",{value:"all"},"All",-1),pmt=["value"];function mmt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",dmt,[wmt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[umt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,et.zw)(t),9,pmt)))),128))],40,cmt)])}var gmt={props:{filters:{required:!0}},data(){return{sources:["facebook","Google","tiktok","snapchat"]}}};const hmt=(0,p.Z)(gmt,[["render",mmt]]);var fmt=hmt,ymt={components:{MarketerFilter:Xpt,ProductFilter:nmt,SourceFilter:fmt},props:{filters:{required:!0,default:{}}},data(){return{}}};const vmt=(0,p.Z)(ymt,[["render",Mpt]]);var bmt=vmt,xmt={components:{IndexStatistics:_pt,FiltersWrapper:bmt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const _mt=(0,p.Z)(xmt,[["render",upt]]);var kmt=_mt;const Cmt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Dmt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),Smt={class:"tw-bg-white tw-p-4"},zmt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Umt={class:"tw-col-span-2 md:tw-col-span-1"},Pmt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),Lmt=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),Amt=["value"],$mt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qmt={class:"tw-col-span-2 md:tw-col-span-1"},Wmt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),Emt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Tmt={class:"tw-col-span-2 md:tw-col-span-1"},Omt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),Imt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vmt={class:"tw-col-span-2 md:tw-col-span-1"},Fmt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),jmt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Rmt=["value"],Nmt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Mmt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Hmt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),Ymt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Zmt=["value"],Kmt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Bmt={class:"md:tw-col-span-1 tw-col-span-2"},Qmt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),Gmt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Jmt={class:"tw-col-span-2"},Xmt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),tgt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},egt=["disabled"],rgt=(0,s._)("span",null,"Create",-1);function agt(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Cmt,[Dmt,(0,s._)("div",Smt,[(0,s._)("div",zmt,[(0,s._)("div",Umt,[Pmt,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>l.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>l.items.source=t),class:(0,et.C_)([[l.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Lmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,et.zw)(t),9,Amt)))),128))],34),[[a.bM,l.items.source]]),l.errors.source?((0,s.wg)(),(0,s.iD)("label",$mt,(0,et.zw)(l.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",qmt,[Wmt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.items.amount=t),onInput:e[3]||(e[3]=t=>l.errors.amount=null),class:(0,et.C_)([[l.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.amount]]),l.errors.amount?((0,s.wg)(),(0,s.iD)("label",Emt,(0,et.zw)(l.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Tmt,[Omt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.items.leads=t),onInput:e[5]||(e[5]=t=>l.errors.leads=null),class:(0,et.C_)([[l.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.leads]]),l.errors.leads?((0,s.wg)(),(0,s.iD)("label",Imt,(0,et.zw)(l.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vmt,[Fmt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>l.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>l.items.product_id=t),class:(0,et.C_)([[l.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[jmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.name),9,Rmt)))),128))],34),[[a.bM,l.items.product_id]]),l.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Nmt,(0,et.zw)(l.errors.product_id),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Mmt,[Hmt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>l.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>l.items.marketer_id=t),class:(0,et.C_)([[l.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[Ymt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Zmt)))),128))],34),[[a.bM,l.items.marketer_id]]),l.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",Kmt,(0,et.zw)(l.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Bmt,[Qmt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.items.ads_at=t),onInput:e[11]||(e[11]=t=>l.errors.ads_at=null),class:(0,et.C_)([[l.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.items.ads_at]]),(0,s._)("label",Gmt,(0,et.zw)(l.errors.ads_at),1)]),(0,s._)("div",Jmt,[Xmt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,l.items.note]])])])]),(0,s._)("div",tgt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rgt],8,egt)])])])),_:1},8,["visible","onCancel"])])}const sgt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},ogt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},lgt=(t,e)=>{t.isLoading=!0,t.errors={},$wt.create(e).then((e=>sgt(t,e.data))).catch((e=>ogt(t,e.response.data))).finally((()=>t.isLoading=!1))};var igt={components:{},props:{visible:{required:!0}},data(){return{isLoading:!1,sources:["facebook","Google","tiktok","snapchat"],products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:0,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=Aut(this,this.items);if(!t)return!1;lgt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,sa.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const ngt=(0,p.Z)(igt,[["render",agt]]);var dgt=ngt,wgt={components:{IndexTable:Yut,IndexFilters:kmt,CreatePopup:dgt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,$wt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const cgt=(0,p.Z)(wgt,[["render",Lwt]]);var ugt=cgt,pgt={name:"ads",path:"/ads",component:da,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:ugt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const mgt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},ggt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),hgt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),fgt={key:0},ygt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},vgt={class:"tw-flex tw-items-center tw-gap-2"},bgt=(0,s._)("h1",null,"Application's email",-1),xgt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},_gt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),kgt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Cgt={class:"mb-5 tw-flex"},Dgt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Sgt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},zgt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ugt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Pgt={class:"tw-relative"},Lgt={class:""};function Agt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("SheetsTable"),w=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",mgt,[ggt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{icon:"mdi-plus",class:"mr-2 text-white"}),hgt])),_:1})):(0,s.kq)("",!0)])]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fgt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ygt,[(0,s._)("div",vgt,[bgt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(st.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",xgt,(0,et.zw)(l.email),1),_gt])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",kgt,[(0,s._)("div",Cgt,[(0,s.Wm)(rt.T,{onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Dgt,[(0,s.Wm)(Xt.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,et.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Sgt,[(0,s._)("div",zgt,[Ugt,(0,s._)("div",Pgt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Lgt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(w,{onCancel:e[5]||(e[5]=t=>l.showPopup=!1),visible:l.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const $gt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},qgt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Wgt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Egt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Tgt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Ogt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Igt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Vgt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Fgt=["value"],jgt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Rgt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Ngt={class:"tw-text-white"};function Mgt(t,e,r,o,l,i){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$gt,[(0,s._)("table",qgt,[(0,s._)("thead",Wgt,[(0,s._)("tr",null,[Egt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Tgt,(0,et.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",Ogt,[(0,s._)("div",Igt,[Vgt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,et.zw)(t),9,Fgt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",jgt,[(0,s._)("div",Rgt,(0,et.zw)(i.prevRange+1)+" - "+(0,et.zw)(l.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,et.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(rt.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Ngt,(0,et.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Hgt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Ygt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Zgt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Kgt={class:"tw-px-6 tw-py-4"},Bgt={class:"tw-px-6 tw-py-4"},Qgt={class:"tw-px-6 tw-py-4"},Ggt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Jgt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Xgt=["disabled"],tht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),eht={class:"tw-px-6 tw-py-4"},rht={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function aht(t,e,r,o,l,i){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",Hgt,[Ygt,(0,s._)("th",Zgt,(0,et.zw)(r.sheet.id),1),(0,s._)("td",Kgt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,et.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,et.zw)(r.sheet.name),1)])]),(0,s._)("td",Bgt,[(0,s._)("div",null,(0,et.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",Qgt,[(0,s._)("div",Ggt,[(0,s._)("label",Jgt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Xgt),[[a.e8,i.autoFetch]]),tht]),l.isLoadingAuto?((0,s.wg)(),(0,s.j4)(st.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",eht,(0,et.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",rht,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const sht={key:0};function oht(t,e,r,a,o,l){const i=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),d=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",sht,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:0,onClick:l.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{class:(0,et.C_)([o.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:1,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(rt.T,{key:2,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:o.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>o.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:o.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>o.showSheetPopup=t),sheet:r.sheet,orders:o.orders,onCancel:e[5]||(e[5]=t=>o.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const lht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},iht=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),nht={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},dht={class:"md:tw-col-span-6 tw-col-span-12"},wht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),cht={class:"md:tw-col-span-6 tw-col-span-12"},uht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),pht={class:"md:tw-col-span-12 tw-col-span-12"},mht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),ght={class:"md:tw-col-span-6 tw-col-span-12"},hht=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),fht={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},yht=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),vht={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},bht=(0,s._)("span",{class:"text-white"}," Cancel ",-1),xht=(0,s._)("span",{class:"text-white"}," Save ",-1);function _ht(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lht,[iht,(0,s._)("div",nht,[(0,s._)("div",dht,[wht,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.name]])]),(0,s._)("div",cht,[uht,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.sheet_name]])]),(0,s._)("div",pht,[mht,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.sheet_id]])]),(0,s._)("div",ght,[hht,(0,s._)("label",fht,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.newSheet.auto_fetch]]),yht])])]),(0,s._)("div",vht,[(0,s.Wm)(rt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[bht])),_:1}),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xht])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var kht={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;ra.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Cht=(0,p.Z)(kht,[["render",_ht]]);var Dht=Cht;const Sht={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zht={key:0},Uht={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Pht=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),Lht={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},Aht={class:"tw-relative tw-overflow-x-auto"},$ht={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},qht=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),Wht={class:"tw-px-6 tw-py-2"},Eht={class:"tw-px-6 tw-py-2"},Tht={class:"tw-px-6 tw-py-2"},Oht={class:"tw-px-6 tw-py-2"},Iht={class:"tw-px-6 tw-py-2"},Vht={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},Fht=(0,s._)("span",{class:"text-white"}," Cancel ",-1),jht=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function Rht(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Sht,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",zht,[(0,s._)("div",Uht,[Pht,(0,s._)("div",Lht,(0,et.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",Aht,[(0,s._)("table",$ht,[qht,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",Wht,(0,et.zw)(t["Full name"]),1),(0,s._)("td",Eht,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,et.zw)(t),1)))),128))])]),(0,s._)("td",Tht,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,et.zw)(t),1)))),128))])]),(0,s._)("td",Oht,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,et.zw)(t),1)))),128))])]),(0,s._)("td",Iht,(0,et.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",Vht,[(0,s.Wm)(rt.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Fht])),_:1}),(0,s.Wm)(rt.T,{loading:o.isLoading,onClick:l.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[jht])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var Nht={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,ra.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const Mht=(0,p.Z)(Nht,[["render",Rht]]);var Hht=Mht,Yht={props:["sheet"],name:"sheetActions",components:{UpdateSheet:Dht,SheetOrders:Hht},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,ra["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,ra.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const Zht=(0,p.Z)(Yht,[["render",oht]]);var Kht=Zht,Bht={props:["sheet"],components:{SheetActions:Kht},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,ra.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const Qht=(0,p.Z)(Bht,[["render",aht]]);var Ght=Qht,Jht={props:["sheets"],components:{SheetRow:Ght},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const Xht=(0,p.Z)(Jht,[["render",Mgt]]);var tft=Xht;const eft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},rft=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),aft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},sft={class:"md:tw-col-span-6 tw-col-span-12"},oft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),lft={class:"md:tw-col-span-6 tw-col-span-12"},ift=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),nft={class:"md:tw-col-span-12 tw-col-span-12"},dft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),wft={class:"md:tw-col-span-6 tw-col-span-12"},cft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),uft={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},pft=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),mft={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},gft=(0,s._)("span",{class:"text-white"}," Cancel ",-1),hft=(0,s._)("span",{class:"text-white"}," Save ",-1);function fft(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",eft,[rft,(0,s._)("div",aft,[(0,s._)("div",sft,[oft,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.name]])]),(0,s._)("div",lft,[ift,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.sheet_name]])]),(0,s._)("div",nft,[dft,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.sheet_id]])]),(0,s._)("div",wft,[cft,(0,s._)("label",uft,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sheet.auto_fetch]]),pft])])]),(0,s._)("div",mft,[(0,s.Wm)(rt.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[gft])),_:1}),(0,s.Wm)(rt.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hft])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var yft={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;ra.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const vft=(0,p.Z)(yft,[["render",fft]]);var bft=vft,xft={components:{SheetsTable:tft,AddSheet:bft},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,ra.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const _ft=(0,p.Z)(xft,[["render",Agt]]);var kft=_ft,Cft={name:"sheets",path:"/sheets",component:da,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:kft,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const Dft={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Sft={class:"tw-px-3"},zft={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Uft={class:"tw-flex tw-items-center tw-gap-x-3"},Pft=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),Lft={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Aft=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),$ft={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},qft=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Wft=(0,s._)("span",null,"Create",-1),Eft=[qft,Wft],Tft={key:1};function Oft(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Dft,[(0,s._)("section",Sft,[(0,s._)("div",zft,[(0,s._)("div",null,[(0,s._)("div",Uft,[Pft,(0,s._)("span",Lft,(0,et.zw)(o.totalOrders)+" order",1)]),Aft]),(0,s._)("div",$ft,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Eft)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Tft,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Ift={class:"tw-mb-4"},Vft={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},Fft={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},jft={class:"tw-flex tw-items-center tw-gap-2"},Rft={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},Nft=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),Mft={class:"tw-flex tw-items-center tw-gap-2"},Hft=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Yft=(0,s._)("span",null," Clear Selection ",-1),Zft=[Hft,Yft],Kft=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),Bft=(0,s._)("span",null," Actions ",-1),Qft=[Kft,Bft],Gft={key:0};function Jft(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",Ift,[(0,s._)("div",Vft,[(0,s._)("div",Fft,[(0,s._)("div",jft,[(0,s._)("div",Rft,(0,et.zw)(r.selected.length),1),Nft]),(0,s._)("div",Mft,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},Zft),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},Qft)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",Gft,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const Xft={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},tyt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},eyt=(0,s._)("span",null,"Quick Actions",-1),ryt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},ayt={class:"tw-bg-white tw-p-4"},syt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},oyt={class:"tw-col-span-2 md:tw-col-span-1"},lyt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},iyt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nyt=(0,s._)("span",null,"Apply",-1);function dyt(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Xft,[(0,s._)("div",tyt,[eyt,(0,s._)("span",ryt,(0,et.zw)(r.selected.length),1)]),(0,s._)("div",ayt,[(0,s._)("div",syt,[(0,s._)("div",oyt,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",lyt,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",iyt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(st.t,{size:"small",class:(0,et.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),nyt])])])])),_:1},8,["visible","closeable","onCancel"])])}const wyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),cyt={class:"tw-relative"},uyt=["value"],pyt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function myt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[wyt,(0,s._)("div",cyt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,et.zw)(t.name),9,uyt)))),128))],512),[[a.bM,i.vaction]]),pyt]),(0,s.kq)("",!0)])}var gyt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const hyt=(0,p.Z)(gyt,[["render",myt]]);var fyt=hyt;const yyt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),vyt={class:"tw-relative"},byt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),xyt=["value"],_yt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function kyt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[yyt,(0,s._)("div",vyt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,et.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[byt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([t.text]),value:t.value,key:t.id},(0,et.zw)(t.name),11,xyt)))),128))],512),[[a.bM,i.vvalue]]),_yt]),(0,s.kq)("",!0)])}var Cyt={props:{value:{required:!0}},data(){return{statuses:mn}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const Dyt=(0,p.Z)(Cyt,[["render",kyt]]);var Syt=Dyt,zyt=(t,e)=>{t.isLoading=!0,AZ.execute(e).then((e=>Uyt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const Uyt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var Pyt={components:{BulkSelectAction:fyt,BulkDeliveryAction:Syt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};zyt(this,t)}}};const Lyt=(0,p.Z)(Pyt,[["render",dyt]]);var Ayt=Lyt,$yt={components:{BulkPopup:Ayt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const qyt=(0,p.Z)($yt,[["render",Jft]]);var Wyt=qyt,Eyt={components:{IndexTable:vX,IndexFilters:l1,CreatePopup:l2,BulkActions:Wyt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Xl.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Go(t.first_page_url),this.lase_page_url=Go(t.last_page_url),this.next_page_url=Go(t.next_page_url),this.prev_page_url=Go(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,X.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const Tyt=(0,p.Z)(Eyt,[["render",Oft]]);var Oyt=Tyt,Iyt={path:"/followup",name:"followup",component:da,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:Oyt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const Vyt={class:"tw-pb-40"},Fyt={class:"tw-space-y-3"};function jyt(t,e,r,a,o,l){const i=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),d=(0,s.up)("IndexRevenue"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",Vyt,[(0,s._)("div",Fyt,[(0,s.Wm)(i),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(d,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(w,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])])}const Ryt={class:"tw-bg-white tw-p-5"},Nyt={class:"tw-flex tw-items-center tw-justify-between"},Myt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),Hyt={class:"tw-relative tw-flex tw-items-center"},Yyt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),Zyt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},Kyt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),Byt={key:0,class:""},Qyt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Gyt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Jyt=[Gyt],Xyt={key:1,class:"tw-min-h-[50px]"},tvt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},evt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},rvt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},avt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},svt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},ovt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},lvt={class:"tw-font-bold"},ivt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},nvt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},dvt={key:1},wvt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},cvt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function uvt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",Ryt,[(0,s._)("div",Nyt,[Myt,(0,s._)("div",Hyt,[Yyt,(0,s._)("label",Zyt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>l.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.showAll]]),Kyt])])]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Byt,[(0,s._)("div",Qyt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Jyt))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Xyt,[(0,s._)("div",tvt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",evt,[(0,s._)("div",rvt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",svt)):((0,s.wg)(),(0,s.iD)("div",ovt)):((0,s.wg)(),(0,s.iD)("div",avt)),(0,s._)("span",lvt,(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),1)]),(0,s._)("div",ivt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",dvt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",wvt," Online ")):((0,s.wg)(),(0,s.iD)("div",cvt,(0,et.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",nvt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var pvt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?sm()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?sm()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){X.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,Xa.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const mvt=(0,p.Z)(pvt,[["render",uvt]]);var gvt=mvt;const hvt={class:"tw-bg-white"},fvt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},yvt={class:"tw-p-5"};function vvt(t,e,r,a,o,l){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",hvt,[(0,s._)("div",fvt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.active=1),class:(0,et.C_)([[1==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.active=2),class:(0,et.C_)([[2==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",yvt,[1==o.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==o.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const bvt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},xvt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),_vt=[xvt],kvt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function Cvt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",bvt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},_vt))),64))])):((0,s.wg)(),(0,s.iD)("div",kvt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const Dvt={class:"tw-flex tw-justify-between"},Svt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},zvt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},Uvt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Pvt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Lvt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,et.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",Dvt,[(0,s._)("div",null,[(0,s._)("div",Svt,[(0,s._)("p",zvt,(0,et.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Uvt,[(0,s._)("span",Pvt,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var Avt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const $vt=(0,p.Z)(Avt,[["render",Lvt]]);var qvt=$vt,Wvt={components:{DashboardCard:qvt},props:{statistics:{required:!0},fetching:{required:!0}}};const Evt=(0,p.Z)(Wvt,[["render",Cvt]]);var Tvt=Evt;const Ovt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Ivt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Vvt=[Ivt],Fvt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function jvt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",Ovt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Vvt))),64))])):((0,s.wg)(),(0,s.iD)("div",Fvt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var Rvt={components:{DashboardCard:qvt},props:{statistics:{required:!0},fetching:{required:!0}}};const Nvt=(0,p.Z)(Rvt,[["render",jvt]]);var Mvt=Nvt,Hvt={components:{ConfirmationTab:Tvt,DeliveryTab:Mvt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const Yvt=(0,p.Z)(Hvt,[["render",vvt]]);var Zvt=Yvt;const Kvt={class:"tw-bg-white tw-p-5"},Bvt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),Qvt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Gvt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Jvt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Xvt=(0,s._)("option",{value:"all",selected:""},"All",-1),tbt=["value"],ebt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),abt=(0,s._)("option",{value:"all",selected:""},"All",-1),sbt=["value"],obt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},lbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),ibt=(0,s._)("option",{value:"all",selected:""},"All",-1),nbt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),dbt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),wbt=[ibt,nbt,dbt],cbt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ubt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),pbt=(0,s._)("span",null,"Clear",-1),mbt=[ubt,pbt],gbt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),hbt=(0,s._)("span",null,"Filter",-1),fbt=[gbt,hbt];function ybt(t,e,r,o,l,i){const n=(0,s.up)("DateFilter"),d=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter"),c=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",Kvt,[Bvt,(0,s._)("div",Qvt,[(0,s.Wm)(n,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(d,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",Gvt,[Jvt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Xvt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,et.zw)(t.name),11,tbt)))),128))],512),[[a.bM,l.filters.confirmation]])]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[6]||(e[6]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",ebt,[rbt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[abt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,et.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,et.zw)(t.name),11,sbt)))),128))],512),[[a.bM,l.filters.delivery]])]),(0,s.Wm)(c,{filters:l.filters,onUpdate:e[8]||(e[8]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",obt,[lbt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},wbt,512),[[a.bM,l.filters.upsell]])]),(0,s._)("div",cbt,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},mbt),(0,s._)("button",{onClick:e[11]||(e[11]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fbt)])])])}const vbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),xbt=["value"],_bt=(0,s._)("option",{value:"all"},"All",-1),kbt=(0,s._)("option",{value:""},"No Delivery",-1),Cbt=["value"];function Dbt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",vbt,[bbt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_bt,kbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Cbt)))),128))],40,xbt)])}var Sbt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const zbt=(0,p.Z)(Sbt,[["render",Dbt]]);var Ubt=zbt;const Pbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Lbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Abt=["value"],$bt=(0,s._)("option",{value:"all"},"All",-1),qbt=(0,s._)("option",{value:""},"No Agent",-1),Wbt=["value"];function Ebt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Pbt,[Lbt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[$bt,qbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,Wbt)))),128))],40,Abt)])}var Tbt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Obt=(0,p.Z)(Tbt,[["render",Ebt]]);var Ibt=Obt;const Vbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Fbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),jbt=["value"],Rbt=(0,s._)("option",{value:"all"},"All",-1),Nbt=["value"];function Mbt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Vbt,[Fbt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Rbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,Nbt)))),128))],40,jbt)])}var Hbt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const Ybt=(0,p.Z)(Hbt,[["render",Mbt]]);var Zbt=Ybt;const Kbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Bbt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Qbt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),Gbt=[Qbt],Jbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Xbt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},txt=["value"],ext={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rxt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},axt=["value"];function sxt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Kbt,[(0,s._)("label",Bbt,(0,et.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},Gbt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Jbt,[(0,s._)("label",Xbt,(0,et.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,txt)]),(0,s._)("div",ext,[(0,s._)("label",rxt,(0,et.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,axt)])],64)):(0,s.kq)("",!0)],64)}var oxt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=sm()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=sm()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=sm()().startOf("month").format("YYYY-MM-DD"),a=sm()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=sm()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=sm()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const lxt=(0,p.Z)(oxt,[["render",sxt]]);var ixt=lxt,nxt={components:{AffectationFilter:Ubt,AgentFilter:Ibt,ProductFilter:Zbt,DateFilter:ixt},props:{},data(){return{confirmations:wn,deliveries:mn,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const dxt=(0,p.Z)(nxt,[["render",ybt]]);var wxt=dxt;const cxt={key:0},uxt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function pxt(t,e,r,a,o,l){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",cxt,[(0,s._)("div",uxt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const mxt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},gxt={class:"tw-flex tw-justify-between"},hxt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},fxt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},yxt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},vxt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function bxt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mxt,[(0,s._)("div",gxt,[(0,s._)("div",null,[(0,s._)("div",hxt,[(0,s._)("p",fxt,(0,et.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",yxt,[(0,s._)("span",vxt,(0,et.zw)(l.format(r.value)),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var xxt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const _xt=(0,p.Z)(xxt,[["render",bxt]]);var kxt=_xt,Cxt={components:{RevenueCard:kxt},props:{statistics:{required:!0},fetching:{required:!0}}};const Dxt=(0,p.Z)(Cxt,[["render",pxt]]);var Sxt=Dxt,zxt={components:{OnlineUsers:gvt,IndexStatistics:Zvt,IndexFilters:wxt,IndexRevenue:Sxt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Vf.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const Uxt=(0,p.Z)(zxt,[["render",jyt]]);var Pxt=Uxt;const Lxt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Axt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),$xt=[Axt];function qxt(t,e,r,a,o,l){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Lxt,[o.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},$xt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const Wxt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Ext={class:"tw-flex tw-justify-between"},Txt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Oxt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},Ixt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Vxt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Fxt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Wxt,[(0,s._)("div",Ext,[(0,s._)("div",null,[(0,s._)("div",Txt,[(0,s._)("p",Oxt,(0,et.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Ixt,[(0,s._)("span",Vxt,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var jxt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const Rxt=(0,p.Z)(jxt,[["render",Fxt]]);var Nxt=Rxt,Mxt={components:{DashCard:Nxt},data(){return{fetching:!0,dashes:[]}},mounted(){E.statistics().then((t=>{this.dashes=t.data.data.statistics,this.fetching=!1}))}};const Hxt=(0,p.Z)(Mxt,[["render",qxt]]);var Yxt=Hxt;const Zxt={class:"tw-pb-40"},Kxt={class:"tw-space-y-3"};function Bxt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",Zxt,[(0,s._)("div",Kxt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:o.analytics,fetching:o.fetching},null,8,["analytics","fetching"])])])}const Qxt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Gxt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Jxt=[Gxt],Xxt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function t_t(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",Qxt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Jxt))),64))])):((0,s.wg)(),(0,s.iD)("div",Xxt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const e_t={class:"tw-flex tw-justify-between"},r_t={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},a_t={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},s_t={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},o_t={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function l_t(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,et.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",e_t,[(0,s._)("div",null,[(0,s._)("div",r_t,[(0,s._)("p",a_t,(0,et.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,et.j5)({background:r.color})},(0,et.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",s_t,[(0,s._)("span",o_t,(0,et.zw)(r.value),1)])]),(0,s._)("div",{style:(0,et.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(st.t,{style:(0,et.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var i_t={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const n_t=(0,p.Z)(i_t,[["render",l_t]]);var d_t=n_t,w_t={components:{DashboardCard:d_t},props:{analytics:{required:!0},fetching:{required:!0}}};const c_t=(0,p.Z)(w_t,[["render",t_t]]);var u_t=c_t;const p_t={class:"tw-bg-white tw-p-5"},m_t=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),g_t={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},h_t={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},f_t=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),y_t=(0,s._)("span",null,"Clear",-1),v_t=[f_t,y_t],b_t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),x_t=(0,s._)("span",null,"Filter",-1),__t=[b_t,x_t];function k_t(t,e,r,a,o,l){const i=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",p_t,[m_t,(0,s._)("div",g_t,[(0,s.Wm)(i,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[4]||(e[4]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[5]||(e[5]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",h_t,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>l.clear&&l.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},v_t),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>l.filter&&l.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},__t)])])])}const C_t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},D_t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),S_t=["value"],z_t=(0,s._)("option",{value:"all"},"All",-1),U_t=["value"];function P_t(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",C_t,[D_t,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[z_t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.firstname)+" "+(0,et.zw)(t.lastname),9,U_t)))),128))],40,S_t)])}var L_t={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const A_t=(0,p.Z)(L_t,[["render",P_t]]);var $_t=A_t;const q_t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},W_t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),E_t=["value"],T_t=(0,s._)("option",{value:"all"},"All",-1),O_t=["value"];function I_t(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",q_t,[W_t,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[T_t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,et.zw)(t.name),9,O_t)))),128))],40,E_t)])}var V_t={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const F_t=(0,p.Z)(V_t,[["render",I_t]]);var j_t=F_t;const R_t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},N_t={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},M_t=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),H_t=[M_t],Y_t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Z_t={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},K_t=["value"],B_t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Q_t={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},G_t=["value"];function J_t(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",R_t,[(0,s._)("label",N_t,(0,et.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},H_t,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Y_t,[(0,s._)("label",Z_t,(0,et.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,K_t)]),(0,s._)("div",B_t,[(0,s._)("label",Q_t,(0,et.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,G_t)])],64)):(0,s.kq)("",!0)],64)}var X_t={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=sm()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=sm()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=sm()().startOf("month").format("YYYY-MM-DD"),a=sm()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=sm()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=sm()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const tkt=(0,p.Z)(X_t,[["render",J_t]]);var ekt=tkt,rkt={components:{SellerFilter:$_t,ProductFilter:j_t,DateFilter:ekt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const akt=(0,p.Z)(rkt,[["render",k_t]]);var skt=akt,okt={components:{IndexAnalytics:u_t,IndexFilters:skt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Vf.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const lkt=(0,p.Z)(okt,[["render",Bxt]]);var ikt=lkt,nkt={name:"dashboards",path:"/dashboards",component:da,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:Pxt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:ikt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:Yxt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};const dkt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),wkt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},ckt={class:"tw-flex tw-items-center tw-flex-col"},ukt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),pkt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},mkt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function gkt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[dkt,(0,s._)("div",wkt,[(0,s._)("div",ckt,[ukt,(0,s._)("div",pkt,[(0,s.Wm)(st.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),mkt])])])}var hkt={};const fkt=(0,p.Z)(hkt,[["render",gkt]]);var ykt=fkt;const vkt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function bkt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vkt,[(0,s._)("div",null,[(0,s.Wm)(rt.T,{onClick:l.sendRequest,loading:o.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const xkt="api/orders/count",_kt="get";var kkt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},Ckt={data(){return{isLoading:!1,test:kkt}},methods:{async sendRequest(){switch(this.isLoading=!0,await q.getCookie(),_kt){case"get":A.get(xkt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":A.post(xkt,kkt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":A["delete"](xkt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const Dkt=(0,p.Z)(Ckt,[["render",bkt]]);var Skt=Dkt;const zkt=[Nt,pgt,Lu,Fm,nkt,PU,E$,w2,Z9,prt,jot,lit,_nt,vwt,Cft,Iyt,{name:"default",path:"/test",component:da,children:[{name:"test",path:"",component:Skt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:da,meta:{title:"Not Found"},children:[{name:"404",path:"",component:ykt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],Ukt=(0,h.p7)({history:(0,h.PO)("/"),routes:zkt});Ukt.beforeEach(((t,e)=>tt(t,e,Ukt)));var Pkt=Ukt,Lkt=(r(9773),r(8957));const Akt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var $kt=(0,Lkt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:Akt}}});const qkt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var Wkt=qkt;const Ekt={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var Tkt=Ekt;const Okt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",o=!0;const l=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(l.includes(r)&&(o=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":o=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":o=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":o=!1,document.getElementById("app").innerHTML="";break;default:break}return o&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var Ikt=Okt,Vkt=r(7025);const Fkt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),jkt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},Rkt=Fkt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),Nkt=[Rkt];function Mkt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",jkt,Nkt)}var Hkt={};const Ykt=(0,p.Z)(Hkt,[["render",Mkt],["__scopeId","data-v-ff4afcd0"]]);var Zkt=Ykt;const Kkt={class:"tw-flex tw-justify-center tw-items-center"},Bkt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),Qkt=[Bkt];function Gkt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Kkt,Qkt)}var Jkt={};const Xkt=(0,p.Z)(Jkt,[["render",Gkt]]);var tCt=Xkt;const eCt={key:0},rCt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},aCt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},sCt=["innerHTML"],oCt={key:1,class:"tw-text-lg tw-text-gray-700"},lCt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function iCt(t,e,r,a,o,l){return r.visible?((0,s.wg)(),(0,s.iD)("div",eCt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",rCt,[(0,s._)("div",aCt,[(0,s._)("div",{class:(0,et.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",l.currentType.class])},[(0,s.Wm)(st.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,et.zw)(l.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,et.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,sCt)):((0,s.wg)(),(0,s.iD)("div",oCt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(lr.C),(0,s._)("div",lCt,[(0,s.Wm)(rt.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>l.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(rt.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>l.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>l.resolve(!1)),class:(0,et.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var nCt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const dCt=(0,p.Z)(nCt,[["render",iCt]]);var wCt=dCt;const cCt={key:0},uCt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function pCt(t,e,r,o,l,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",cCt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",uCt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,et.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var mCt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const gCt=(0,p.Z)(mCt,[["render",pCt]]);var hCt=gCt,fCt=r(2340),yCt=r(5781),vCt=r.n(yCt);const bCt={key:0},xCt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function _Ct(t,e,r,o,l,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",bCt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",xCt,[(0,s.Wm)(qt.Z5,null,{default:(0,s.w5)((()=>[l.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,et.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var kCt={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const CCt=(0,p.Z)(kCt,[["render",_Ct]]);var DCt=CCt,SCt=(0,a.ri)(g).use(Pkt).use(G).use($kt).use(Wkt).use(Tkt).use(Ikt).use(Vkt.Z).component("LoadingAnimation",Zkt).component("Loading",tCt).component("Popup",wCt).component("PopupFull",hCt).component("VueDatePicker",fCt.Z).component("downloadCsv",vCt()).component("popupNew",DCt).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,o){if(!a){var l=1/0;for(w=0;w<t.length;w++){a=t[w][0],s=t[w][1],o=t[w][2];for(var i=!0,n=0;n<a.length;n++)(!1&o||l>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,o<l&&(l=o));if(i){t.splice(w--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var w=t.length;w>0&&t[w-1][2]>o;w--)t[w]=t[w-1];t[w]=[a,s,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,l=a[0],i=a[1],n=a[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(n)var w=n(r)}for(e&&e(a);d<l.length;d++)o=l[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(w)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(8464)}));a=r.O(a)})();
//# sourceMappingURL=app.0804d32c.js.map