(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=l(t);return r(e)}function l(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=l,t.exports=s,s.id=6700},8108:function(t,e,r){"use strict";r.d(e,{Z:function(){return w0t}});var a=r(9242),s=r(3396),l=r(7718);function o(t,e,r,a,o,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(l.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var i=r(7139);const n="https://vldo.shop/",w="https://api.vldo.shop/",d="1.0.1",c="$",u="vlds";var p={name:"App",data:()=>({theme:"light",version:d}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},g=r(89);const m=(0,g.Z)(p,[["render",o],["__scopeId","data-v-4a3ad42f"]]);var h=m,f=r(2483);let b={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var x={name:"user",namespaced:!0,state:b,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},v={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let y={products:[],fetched:!1};var _={name:"product",namespaced:!0,state:y,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}},k={name:"app",namespaced:!0,state:{notifications:{fetched:!1,all:[],data:[],count:0,highlighted:null},alerts:{fetched:!1,data:[]}},getters:{notifications:t=>t.notifications,alerts:t=>t.alerts},mutations:{SET_DATA:(t,e)=>{t.notifications.data=e},SET_ALERTS_FETCHED:(t,e)=>{t.alerts.fetched=e},SET_ALERTS_DATA:(t,e)=>{t.alerts.data=e},SET_ALL_NOTIFICATIONS:(t,e)=>{t.notifications.all=e},SET_COUNT:(t,e)=>{t.notifications.count=e},SET_HIGHLIGHTED:(t,e)=>{t.notifications.highlighted=e},CHANGE_STATUS:t=>{t.notifications.data=t.notifications.data.map((t=>(t.status="read",t)),t.notifications.count=0)}},actions:{setData({commit:t},e){t("SET_DATA",e)},setAlertsFetched({commit:t},e){t("SET_ALERTS_FETCHED",e)},setAlertsData({commit:t},e){t("SET_ALERTS_DATA",e)},setAllNotifications({commit:t},e){t("SET_ALL_NOTIFICATIONS",e)},sethighlighted({commit:t},e){t("SET_HIGHLIGHTED",e)},setCount({commit:t},e){t("SET_COUNT",e)},updatestatus({commit:t},e){t("CHANGE_STATUS",e)}}};r(541);let C={fetched:!1,sales:[],count:0};var D={name:"sale",namespaced:!0,state:C,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let S={orders:[],order:null,all_orders:[],fetched:!1};var z={name:"order",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let U={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var P={name:"inventory",namespaced:!0,state:U,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},L=r(6943);const A=L.Z.create({baseURL:w}),q=L.Z.create({baseURL:w});q.defaults.withCredentials=!0,q.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},A.defaults.withCredentials=!0,A.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var W=A,$=r(680),T={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):W.get("sanctum/csrf-cookie")}};class E{async statistics(t){return await T.getCookie(),W.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await T.getCookie(),W.post("api/v1/agent/orders"+t,e)}async counts(){return await T.getCookie(),W.get("api/v1/agent/orders/counts")}async update(t,e){return await T.getCookie(),W.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await T.getCookie(),W.get("api/orders/toconfirmate")}async getOrder(){return await T.getCookie(),W.get("api/orders/add")}async create(t){return await T.getCookie(),W.post("api/v1/agent/orders/create",t)}}var F=new E;let O={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var V={name:"agent",namespaced:!0,state:O,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),F.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const I=localStorage.getItem("cities");let j={fetched:!1,cities:I?JSON.parse(I):[]};var H={name:"city",namespaced:!0,state:j,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let M={shops:[]};var N={name:"shop",namespaced:!0,state:M,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let R={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var Y={name:"notification",namespaced:!0,state:R,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let Z={fetched:!1,warehouses:[]};var K={name:"warehouse",namespaced:!0,state:Z,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let B={fetched:!1,factorisations:[]};var J={name:"factorisation",namespaced:!0,state:B,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let Q={fetched:!1,sheets:[]};var G={name:"sheet",namespaced:!0,state:Q,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.unshift(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}},X=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:x,product:_,alert:v,sale:D,order:z,inventory:P,city:H,agent:V,shop:N,notification:Y,warehouse:K,factorisation:J,sheet:G,app:k}});class tt{async login(t){return await T.getCookie(),W.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await T.getCookie(),W.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all,commission:parseFloat(t.commission)})}async update(t,e){return await T.getCookie(),W.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all,commission:parseFloat(t.commission)})}async updateProfile(t,e){return await T.getCookie(),W.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await T.getCookie(),W.get("api/user")}async profile(){return await T.getCookie(),W.get("api/users/profile")}async logout(){return await T.getCookie(),W.get("api/auth/logout")}async clear(){return await T.getCookie(),W.get("api/auth/clear")}async permession(){return await T.getCookie(),W.get("api/auth/permission")}async permessions(){return await T.getCookie(),W.get("api/permissions")}async roles(){return await T.getCookie(),W.get("api/auth/roles")}async all(){return await T.getCookie(),W.get("api/users")}async updateStatus({id:t,status:e}){return await T.getCookie(),W.post("api/users/status/"+t,{status:e})}async delete(t){return await T.getCookie(),W["delete"]("api/users/delete/"+t)}async getUser(t){return await T.getCookie(),W.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await T.getCookie(),W.post("api/roles/new",{name:t,permissions:e})}async createPermission(t){return await T.getCookie(),W.post("api/permissions/new",{name:t})}async updateRole(t,{name:e,permissions:r}){return await T.getCookie(),W.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await T.getCookie(),W["delete"]("api/roles/delete/"+t)}async getRole(t){return await T.getCookie(),W.get("api/roles/"+t)}async agents(){return await T.getCookie(),W.get("api/agents")}async deliveries(){return await T.getCookie(),W.get("api/delevries")}async allDeliveries(){return await T.getCookie(),W.get("api/deliveries")}async cities(){return await T.getCookie(),W.get("api/cities")}}var et=new tt;function rt(t,e,r){if(document.title=t.meta?.title+" | Vldo Shop",!X.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(et.online().catch(w0t.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=X.getters["user/permissions"];return"all"===a||(!!t.meta.role?.includes(X.getters["user/user"].role)||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"}))}var at=r(2268),st=r(7312),lt=r(3369),ot=r(3289),it=r(165);const nt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},wt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},dt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ct={class:"px-md-10 tw-w-full"},ut={class:"tw-w-[250px] tw-h-[60px] tw-flex tw-items-center tw-justify-center"},pt=["src"],gt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},mt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},ht=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),ft=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),bt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},xt={class:"mt-5"},vt=(0,s._)("p",{class:"mb-1"},"Email",-1),yt=(0,s._)("p",{class:"mb-1"},"Password",-1),_t={class:"mt-5"},kt=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),Ct={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Dt=["src"];function St(t,e,r,l,o,i){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",nt,[(0,s.Wm)(n),(0,s._)("div",wt,[(0,s._)("div",dt,[(0,s.Wm)(lt.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ct,[(0,s._)("div",ut,[(0,s._)("img",{class:"tw-w-full",src:o.localUrl+"images/logo.png"},null,8,pt)]),(0,s._)("div",gt,[(0,s._)("div",mt,[ht,ft,o.error.active?((0,s.wg)(),(0,s.iD)("p",bt,(0,at.zw)(o.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",xt,[(0,s._)("div",null,[vt,(0,s.Wm)(it.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),error:!o.emailStatus.valid,"error-messages":o.emailStatus.valid?"":o.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>o.emailFocus=!1),onFocus:e[3]||(e[3]=t=>o.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:o.emailFocus?o.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[yt,(0,s.Wm)(it.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),error:!o.passwordStatus.valid,"error-messages":o.passwordStatus.valid?"":o.passwordStatus.message,type:o.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>o.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>o.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(ot.t,{onClick:e[4]||(e[4]=t=>o.showPassword=!o.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:o.passwordFocus?o.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",_t,[(0,s.Wm)(st.T,{disabled:o.isLoading||!o.cookiesCleared,loading:o.isLoading||!o.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[kt])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",Ct,[(0,s._)("img",{src:o.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Dt)])])])}function zt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function Ut(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Pt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Lt(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function At(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function qt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function Wt(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var $t=r(7771),Tt=r(8952);const Et={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Ft={class:"tw-text-sm"};function Ot(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Tt.V,null,{default:(0,s.w5)((()=>[o.state.active?((0,s.wg)(),(0,s.iD)("div",Et,[(0,s.Wm)($t.w,{closable:"",density:"compact",variant:"flat",type:o.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ft,(0,at.zw)(o.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Vt={computed:{state(){return this.$store.getters["alert/alert"]}}};const It=(0,g.Z)(Vt,[["render",Ot]]);var jt=It,Ht={components:{Alert:jt},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=zt(this.email),this.passwordStatus=Ut(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},et.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){et.clear().then((()=>{this.cookiesCleared=!0}))}};const Mt=(0,g.Z)(Ht,[["render",St]]);var Nt=Mt,Rt={name:"login",path:"/login",component:Nt,meta:{title:"Login"}},Yt=r(4454),Zt=r(3140);function Kt(t,e,r,a,l,o){const i=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),w=(0,s.up)("Alert"),d=(0,s.up)("AlertNotification"),c=(0,s.up)("AppAnnonces"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoggedIn?((0,s.wg)(),(0,s.j4)(Yt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:l.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:o.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Uk)("j "),(0,s.Wm)(w),(0,s.Wm)(d),(0,s.Wm)(Zt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.K,{fluid:"",class:(0,at.C_)(["scanner/code"==t.$route.name?"tw-p-0":"tw-p-2"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c),(0,s.Wm)(u)])),_:1},8,["class"])])),_:1}),l.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.scrollToTop&&o.scrollToTop(...t)),class:(0,at.C_)([["scanner/code"==t.$route.name?"tw-left-3":"tw-right-3"],"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"])},[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})],2)):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Bt=r(6439),Jt=r(9156);const Qt={class:"tw-flex tw-items-center tw-gap-2"};function Gt(t,e,r,l,o,i){const n=(0,s.up)("GlobalNotification"),w=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Bt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Qt,[(0,s.Wm)(n),(0,s.Wm)(w)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Jt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var Xt=r(652),te=r(4075),ee=r(8694),re=r(8793);const ae={class:"tw-relative"},se=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),le={key:0,class:"!tw-duration-100"},oe={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ie={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},ne={class:"d-flex flex-column justify-center"},we={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},de={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},ce=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),ue={class:"d-flex tw-items-center tw-gap-2"},pe=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function ge(t,e,r,a,l,o){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ae,[(0,s.Wm)(st.T,{onClick:o.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),se])),_:1},8,["onClick"]),(0,s.Wm)(Tt.Z5,null,{default:(0,s.w5)((()=>[l.isActive?((0,s.wg)(),(0,s.iD)("div",le,[(0,s._)("div",oe,[(0,s._)("div",ie,[(0,s.Wm)(Xt.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{eager:"",src:l.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",ne,[(0,s._)("div",we,(0,at.zw)(o.user.firstname)+" "+(0,at.zw)(o.user.lastname),1),(0,s._)("div",de,(0,at.zw)(o.user.role),1)])]),(0,s.Wm)(te.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>o.closeMenu&&o.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(st.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),ce])),_:1})]),(0,s.Wm)(te.J),(0,s._)("div",ue,[(0,s.Wm)(st.T,{onClick:o.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:(0,at.C_)([{"tw-animate-pulse":l.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),pe])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,o.closeMenu]])}var me={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,et.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const he=(0,g.Z)(me,[["render",ge]]);var fe=he,be=r(4870);class xe{async AllNotifications(t={}){return await T.getCookie(),W.get("api/app/all",{params:t})}async notifications(){return await T.getCookie(),W.get("api/app/notifications")}async Changestatus(){return await T.getCookie(),W.get("api/app/changestatus")}}var ve=new xe,ye=r(6797),_e=r.n(ye),ke=r(6562);const Ce={class:"tw-relative"},De={key:0,class:"!tw-duration-100"},Se={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[350px] tw-min-h-[50px]"},ze=(0,s._)("p",{class:"tw-p-2 tw-text-lg"},"Notifications",-1),Ue={key:0},Pe={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Le={key:1},Ae={key:0},qe=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),We=[qe],$e={class:"tw-text-sm"},Te={class:"tw-ml-auto tw-mt-2 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Ee={class:"tw-flex tw-justify-evenly tw-items-center tw-p-2"};var Fe={__name:"GlobalNotification",setup(t){const e=(0,i.oR)(),r=(0,be.iH)(!1),a=(0,be.iH)(!1),l=()=>{r.value=!r.value},o=t=>{switch(t.priority){case"low":return"tw-bg-blue-50";case"medium":return"tw-bg-orange-100";case"high":return"tw-bg-red-100";default:return"tw-bg-gray-50"}},w=()=>{r.value=!1},d=()=>{ve.notifications().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setData",t.data.data),e.dispatch("app/setCount",t.data.count),e.dispatch("app/sethighlighted",t.data.highlighted))})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))},c=()=>{ve.Changestatus().then((t=>{"SUCCESS"==t.data.code&&e.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})).finally((()=>{a.value=!0}))};(0,s.bv)((()=>{d()}));const u=(0,s.Fl)((()=>e.getters["app/notifications"]));return(t,e)=>{const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s.Wm)(st.T,{onClick:l,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{width:"22",height:"22",src:(0,be.SU)(n)+"assets/img/icons/notification-bing.svg"},null,8,["src"]),a.value&&(0,be.SU)(u).count>0?((0,s.wg)(),(0,s.j4)(ke.G,{key:0,class:"tw-animate-bounce tw-scale-50",floating:"","offset-y":"20","offset-x":"5",color:"red",bordered:!0,location:"bottom right",content:(0,be.SU)(u).count},null,8,["content"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Tt.Z5,null,{default:(0,s.w5)((()=>[r.value?((0,s.wg)(),(0,s.iD)("div",De,[(0,s._)("div",Se,[ze,a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ue,[(0,s._)("div",Pe,[(0,s.Wm)(ot.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),a.value?((0,s.wg)(),(0,s.iD)("div",Le,[""==(0,be.SU)(u).data?((0,s.wg)(),(0,s.iD)("div",Ae,We)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(u).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",{class:(0,at.C_)([o(t),"tw-p-2 tw-border-y tw-flex tw-flex-col tw-border-neutral-100"])},[(0,s.Wm)(i,{to:`/sourcings/${t.action}`},{default:(0,s.w5)((()=>[(0,s._)("p",$e,(0,at.zw)(t.message),1)])),_:2},1032,["to"]),(0,s._)("div",Te,(0,at.zw)((0,be.SU)(_e())(t.created_at).fromNow()),1)],2)])))),128))])):(0,s.kq)("",!0),(0,s._)("div",Ee,[(0,s.Wm)(i,{to:"/notifications"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:e[0]||(e[0]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s.Uk)("View All")])),_:1})])),_:1}),(0,s.Wm)(st.T,{class:"tw-text-center tw-w-[150px]",size:"small",onClick:c},{default:(0,s.w5)((()=>[(0,s.Uk)("Mark all as Read")])),_:1})])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,w]])}}};const Oe=Fe;var Ve=Oe,Ie={emits:["toggleSidebar"],components:{HeaderMenu:fe,GlobalNotification:Ve},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const je=(0,g.Z)(Ie,[["render",Gt]]);var He=je,Me=r(9457),Ne=r(2329),Re=r(9657);const Ye={class:"tw-w-full tw-flex tw-items-center tw-justify-center tw-max-w-[180px] tw-mx-auto tw-h-[60px]"},Ze=["src"];function Ke(t,e,r,a,l,o){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Re.V,{modelValue:l.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>l.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(Me.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",Ye,[(0,s._)("img",{src:l.localUrl+"images/logo.png"},null,8,Ze)])])),_:1}),(0,s.Wm)(Ne.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const Be=[4,6,7],Je=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Overview",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Analytics",subModule:"dashboard/analytics",gate:"access_to_analytics",to:"/analytics"},{id:3,title:"Charts",subModule:"admin/charts",role:"admin",to:"/dashboards/admin/charts"},{id:4,title:"Finance",subModule:"dashboard/finance",role:"admin",to:"/finance"},{id:5,title:"Product",subModule:"dashboard/product",role:"admin",to:"/product"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:2,module:"sourcing",title:"Sourcing",hasChildren:!0,role:["admin","seller"],icon:{type:"icon",value:"mdi-truck-outline"},children:[{id:1,title:"Add new sourcing",subModule:"sourcing/new",role:["admin"],to:"/sourcings/new"},{id:2,title:"All sourcings",subModule:"sourcing/index",role:["admin"],to:"/sourcings"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"},{id:2,title:"New Factorisation list",subModule:"factorisation/newlist",gate:"show_all_factorisations",to:"/newfactorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_ads",to:"/ads"},{id:2,title:"Ad Accounts",subModule:"ads/adsccounts",gate:"show_all_ads",to:"/adaccounts"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:16,title:"Scanner",module:"scanner",to:"/scanner",role:"admin",gate:"stock_management",hasChildren:!1,icon:{type:"icon",value:"mdi-qrcode"}},{id:15,title:"Alerts",module:"alert",role:["admin"],to:"/alerts",icon:{type:"icon",value:"mdi-bell-alert-outline"}},{id:12,title:"Settings",module:"settings",gate:"access_to_account",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/settings.svg"},children:[{id:1,title:"Account",subModule:"settings/account",gate:"access_to_account",to:"/settings/account"},{id:1,title:"Blacklist",subModule:"settings/blacklist",gate:"access_to_account",to:"/settings/blacklist"}]},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var Qe=r(9234),Ge=r(2127);const Xe={key:0},tr={class:"d-flex align-center"},er={class:"tw-rounded-md tw-bg-gray-50"},rr={class:"tw-h-full py-2"},ar={key:1},sr={key:2},lr={key:3};function or(t,e,r,a,l,o){const i=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),w=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&"all"!=r.link.gate&&!r.link.role?.includes(o.user.role)||l.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xe,[(0,s.Wm)(Me.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",tr,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:r.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ee.f,{key:1,src:l.localUrl+r.link.icon.value,"max-width":"18",class:(0,at.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(Ge.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,at.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(Qe.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(ot.t,{key:2,class:(0,at.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",er,[(0,s.Wm)(Ne.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Me.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",rr,[(0,s.Wm)(ot.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,at.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,at.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",ar,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",sr,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",lr,[(0,s.Wm)(w)])):(0,s.kq)("",!0)])}const ir={key:0},nr={class:"d-flex align-center"},wr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},dr={key:1,class:"tw-text-xs"},cr={class:"tw-rounded-md tw-bg-gray-50"},ur={class:"tw-h-full py-2"};function pr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",ir,[(0,s.Wm)(Me.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":l.isActive}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:l.link.hasChildren?"":l.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",nr,["icon"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:l.link.icon.value,color:l.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==l.link.icon.type?((0,s.wg)(),(0,s.j4)(ee.f,{key:1,src:l.localUrl+l.link.icon.value,"max-width":"18",class:(0,at.C_)([{active:l.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(Ge.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":l.isActive}]),textContent:(0,at.zw)(l.link.title)},null,8,["class","textContent"]),(0,s._)("div",wr,[(l.isLoaded,(0,s.kq)("",!0)),(l.isLoaded,(0,s.wg)(),(0,s.iD)("p",dr,(0,at.zw)(o.count),1))]),(0,s.Wm)(Qe.C),l.link.hasChildren?((0,s.wg)(),(0,s.j4)(ot.t,{key:2,class:(0,at.C_)(["item-icon",{activeRotate:l.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),l.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":l.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",cr,[(0,s.Wm)(Ne.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(Me.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ur,[(0,s.Wm)(ot.t,{size:"x-small",class:"mr-2",color:o.isSublinkActive(t)?"primary-color":"secondary-color",icon:o.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,at.C_)(["tw-text-sm",{"text-primary-color":o.isSublinkActive(t)}])},(0,at.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var gr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const mr=(0,g.Z)(gr,[["render",pr],["__scopeId","data-v-419eeb7c"]]);var hr=mr;const fr={key:0},br={class:"d-flex align-center"},xr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},vr={key:1,class:"tw-text-xs"};function yr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",fr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Me.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",br,[(0,s.Wm)(ot.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(Ge.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,at.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(Qe.C),(0,s._)("div",xr,[o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.fetched?((0,s.wg)(),(0,s.iD)("p",vr,(0,at.zw)(1==r.id?o.orders.length-o.deliveredOrders.length:o.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class _r{async delivery(){return await T.getCookie(),W.get("api/dashboard/delivery")}async agente(){return await T.getCookie(),W.get("api/dashboard/agente")}async productPerformanceByConfirmation(){return await T.getCookie(),W.get("api/charts/products-performance/confirmation")}async productPerformanceByDelivery(){return await T.getCookie(),W.get("api/charts/products-performance/delivery")}async CostPerDay(t,e,r){return await T.getCookie(),W.get("api/charts/cost_per_day",{params:{date_avant:t,date_apres:e,period:r}})}async LeadsPerDay(t,e,r){return await T.getCookie(),W.get("api/charts/leads_per_day",{params:{date_avant:t,date_apres:e,period:r}})}async AmountPerLead(t,e,r){return await T.getCookie(),W.get("api/charts/amount_per_lead",{params:{date_avant:t,date_apres:e,period:r}})}async CostPerMarketer(t,e,r){return await T.getCookie(),W.get("api/charts/cost_per_marketer",{params:{date_avant:t,date_apres:e,period:r}})}async CostPerProduct(t,e,r,a){return await T.getCookie(),W.get("api/charts/cost_per_product",{params:{date_avant:t,date_apres:e,period:r,selectedOption:a}})}async ConfirmationStatesDonuts(t,e,r){return await T.getCookie(),W.get("api/charts/confirmation_state_donuts",{params:{date_avant:t,date_apres:e,period:r}})}async TopProductSelles(t,e,r){return await T.getCookie(),W.get("api/v1/admin/get_top_products",{params:{sort_by:t,sort_order:e,per_page:r}})}async statistics(t){return await T.getCookie(),W.post("api/v1/marketer/statistics",t)}}var kr=new _r,Cr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,kr.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Dr=(0,g.Z)(Cr,[["render",yr],["__scopeId","data-v-69fa82e9"]]);var Sr=Dr;const zr={key:0},Ur={class:"d-flex align-center"},Pr={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Lr={key:1,class:"tw-text-xs"},Ar={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},qr={key:1,class:"tw-text-xs"};function Wr(t,e,r,a,l,o){return t.$can(l.link.gate)||"all"==l.link.gate?((0,s.wg)(),(0,s.iD)("div",zr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.link.children,(r=>((0,s.wg)(),(0,s.j4)(Me.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>o.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Ur,[(0,s.Wm)(ot.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(Ge.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,at.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(Qe.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Pr,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",Lr,(0,at.zw)(4==r.id?o.state.totalNotConfirmed:o.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Ar,[o.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),o.state.fetched?((0,s.wg)(),(0,s.iD)("p",qr,(0,at.zw)(o.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var $r={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Tr=(0,g.Z)($r,[["render",Wr],["__scopeId","data-v-26146d6f"]]);var Er=Tr,Fr={props:["link"],components:{SidebarSales:hr,SidebarDelivery:Sr,SidebarAgente:Er},data(){return{localUrl:n,disabled_links:Be,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate||t.role?.includes(this.user.role)))},user(){return this.$store.getters["user/user"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Or=(0,g.Z)(Fr,[["render",or],["__scopeId","data-v-7463e42d"]]);var Vr=Or,Ir={components:{SidebarItem:Vr},props:["active"],data(){return{localUrl:n,drawer:!0,links:Je}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const jr=(0,g.Z)(Ir,[["render",Ke]]);var Hr=jr;const Mr={key:0,class:"tw-space-y-2 tw-mb-5 tw-opacity-100"},Nr=["dir"],Rr={class:"tw-flex tw-items-start"},Yr={class:"tw-p-2"},Zr={class:"tw-p-2"},Kr={class:"tw-text-white tw-font-semibold"},Br={key:0,class:"tw-flex-1"},Jr={key:1,class:"tw-pt-2 tw-pr-2"},Qr=["onClick"];var Gr={__name:"AppAnnonces",setup(t){const e=(0,s.Fl)((()=>X.getters["app/alerts"])),r=(0,s.Fl)((()=>X.getters["user/user"])),l=(0,be.iH)([]),o=(0,s.Fl)((()=>e.value.data.filter((t=>!l.value.includes(r.value.id+"*"+t.id))))),i=t=>{l.value.push(r.value.id+"*"+t),localStorage.setItem("closed_alerts",JSON.stringify(l.value))},n=()=>{const t=localStorage.getItem("closed_alerts");null==t?localStorage.setItem("closed_alerts",JSON.stringify([])):l.value=JSON.parse(t)};return n(),(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.j4)(a.uT,{class:"tw-duration-500","enter-from-class":"!tw-opacity-0","leave-to-class":"!tw-opacity-0"},{default:(0,s.w5)((()=>[(0,be.SU)(e).fetched&&(0,be.SU)(o).length?((0,s.wg)(),(0,s.iD)("div",Mr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(o),(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,dir:t.direction,class:(0,at.C_)([["danger"==t.variant&&"tw-bg-rose-500","info"==t.variant&&"tw-bg-cyan-500","warning"==t.variant&&"tw-bg-amber-500","success"==t.variant&&"tw-bg-emerald-500"],"tw-h-fit tw-w-full tw-border tw-border-solid"])},[(0,s._)("div",Rr,[(0,s._)("div",Yr,[(0,s.Wm)(l,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl tw-text-white"})]),(0,s._)("div",Zr,[(0,s._)("p",Kr,(0,at.zw)(t.content),1)]),t.closeable?((0,s.wg)(),(0,s.iD)("div",Br)):(0,s.kq)("",!0),t.closeable?((0,s.wg)(),(0,s.iD)("div",Jr,[(0,s._)("button",{onClick:e=>i(t.id),class:"tw-p-1 hover:tw-bg-white/10 tw-duration-200 tw-rounded-full"},[(0,s.Wm)(l,{icon:"iconamoon:close-duotone",class:"tw-text-white tw-text-lg"})],8,Qr)])):(0,s.kq)("",!0)])],10,Nr)))),128))])):(0,s.kq)("",!0)])),_:1})}}};const Xr=Gr;var ta=Xr;class ea{async paginate(t="",e){return await T.getCookie(),W.get("api/alerts"+t,{params:e})}async alerts(){return await T.getCookie(),W.get("api/my-alerts")}async create(t){return await T.getCookie(),W.post("api/alerts",t)}async update(t,e){return await T.getCookie(),W.post("api/alerts/"+t,e)}async get(t){return await T.getCookie(),W.get("api/alerts/"+t)}async delete(t){return await T.getCookie(),W["delete"]("api/alerts/"+t)}}var ra=new ea;const aa={key:0,class:"tw-w-[400px] tw-fixed tw-top-[70px] !tw-z-[510000] tw-right-[5px]"},sa={class:"tw-flex tw-items-center tw-justify-between tw-text-neutral-400 tw-mt-2"},la={class:"tw-text-xs"},oa=["disabled"];var ia={__name:"AlertNotification",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)(!0),a=(0,i.oR)(),l=async()=>{e.value=!0,await ve.Changestatus().then((t=>{"SUCCESS"==t.data.code&&a.dispatch("app/updatestatus",t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!1,e.value=!1},o=(0,s.Fl)((()=>a.getters["app/notifications"].highlighted));return console.log(o.value),(t,a)=>((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,be.SU)(o)&&r.value?((0,s.wg)(),(0,s.iD)("div",aa,[(0,s.Wm)($t.w,{text:(0,be.SU)(o).message,color:"white",border:"top","border-color":"success",elevation:"2",density:"compact"},{text:(0,s.w5)((()=>[(0,s._)("p",null,(0,at.zw)((0,be.SU)(o).message),1),(0,s._)("div",sa,[(0,s._)("span",la,(0,at.zw)((0,be.SU)(_e())((0,be.SU)(o).created_at).fromNow()),1),(0,s._)("button",{disabled:e.value,onClick:l,class:"tw-p-0.5 tw-px-4 hover:tw-bg-neutral-100 tw-text-sm"},(0,at.zw)(e.value?"Closing...":"Close"),9,oa)])])),_:1},8,["text"])])):(0,s.kq)("",!0)]))}};const na=ia;var wa=na,da=r(4410),ca=r.n(da);const ua=async t=>{if(console.log("New notification received:",t),X)try{await X.dispatch("app/triggerhighlighted",t.notification);const e=X.getters["app/notifications"].highlighted;e&&console.log("Highlighted notification:",e)}catch(e){console.error("Error dispatching action:",e)}else console.log("Store is not initialized")};class pa{async all(){return await T.getCookie(),W.get("api/sheets")}async create(t){await T.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch,user_id:t.user_id};return W.post("api/sheets",e)}async update(t,e){await T.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch,user_id:e.user_id};return W.post("api/sheets/"+t,r)}async delete(t){return await T.getCookie(),W["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await T.getCookie(),W.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await T.getCookie(),W.get("api/sync/"+t)}async sync_all(){return await T.getCookie(),W.get("api/sync")}async auto(){return await T.getCookie(),W.post("api/sync")}async saveOrders(t){return await T.getCookie(),W.get("api/sync/"+t+"/save")}}var ga=new pa;class ma{async paginate(t="/",e){return await T.getCookie(),W.post("api/v1/products"+t,e)}async create(t){await T.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("ref",t.reference),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),e.append("status",1),q.post("api/products/new",e)}async update(t,e){await T.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("ref",e.reference),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),r.append("status",1),q.post("api/products/update/"+t,r)}async all(){return await T.getCookie(),W.get("api/products")}async allForOrder(){return await T.getCookie(),W.get("api/products/for-order")}async getProduct(t){return await T.getCookie(),W.get("api/products/"+t)}async delete(t){return await T.getCookie(),W["delete"]("api/products/delete/"+t)}async stockAlert(){return await T.getCookie(),W.get("api/product/stockAlert")}}var ha=new ma;class fa{async all(){return await T.getCookie(),W.get("api/sales")}async delete(t){return await T.getCookie(),W.get("api/sales/delete/"+t)}async update(t,e){return await T.getCookie(),W.post("api/orders/update/"+t,e)}async create(t){return await T.getCookie(),W.post("api/sales/new",t)}async getNewOrders(t){return await T.getCookie(),W.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await T.getCookie(),W.get("api/orders")}async agenteConfirmedOrders(){return await T.getCookie(),W.get("api/orders/confirmer")}async agenteAddOrder(){return await T.getCookie(),W.get("api/orders/add")}async agenteGetOrder(){return await T.getCookie(),W.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await T.getCookie(),W.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await T.getCookie(),W.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await T.getCookie(),W.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await T.getCookie(),W.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await T.getCookie(),W.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await T.getCookie(),W.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await T.getCookie(),W.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await T.getCookie(),W.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await T.getCookie(),W.get("api/orders/history/show/"+t)}async itemHistory(t){return await T.getCookie(),W.get("api/orders/item/history/show/"+t)}async resetSale(t){return await T.getCookie(),W.post("api/sales/reset",{ids:t})}async scanSale(t){return await T.getCookie(),W.post("api/sales/scan",t)}async availableOrders(){return await T.getCookie(),W.get("api/orders/count")}async get(t){return await T.getCookie(),W.get("api/orders/show/"+t)}async warehouseControl(t,e){return await T.getCookie(),W.post("api/warehouse-control",{id:t,target:e.target,scanned:e.scanned})}}var ba=new fa,xa={components:{AppHeader:He,AppSidebar:Hr,Alert:jt,AlertNotification:wa,AppAnnonces:ta},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1,pusher:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return et.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},created(){this.subscribe()},subscribe(){if(ca().logToConsole=!0,localStorage.getItem("XSRF-TOKEN")){ca().Runtime.createXHR=function(){var t=new XMLHttpRequest;return t.withCredentials=!0,t};var t=new(ca())("ede7da5b6ea69f4e8ee2",{cluster:"eu",authEndpoint:"http://localhost:8000/api/pusher_auth",authTransport:"ajax",auth:{headers:{"X-Xsrf-Token":$.Z.get("XSRF-TOKEN")}}}),e=t.subscribe("user."+this.user.id);e.bind("new-notification",ua),this.subscribed=!0}else console.log("User is not authenticated")},sync_sheets(){"admin"==this.user.role?ga.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):ga.auto()},getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return ba.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)},async getAlerts(){return ra.alerts().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.alerts;this.$store.dispatch("app/setAlertsData",e),this.$store.dispatch("app/setAlertsFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),this.getAlerts(),this.subscribe(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const va=(0,g.Z)(xa,[["render",Kt]]);var ya=va;const _a={key:0};function ka(t,e,r,a,l,o){return l.exists?((0,s.wg)(),(0,s.iD)("div",_a,[((0,s.wg)(),(0,s.j4)((0,s.LL)(o.dashboard)))])):(0,s.kq)("",!0)}var Ca=r(6824),Da=r(8521);const Sa={key:0},za={key:1},Ua=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),Pa={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},La={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},Aa={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},qa=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),Wa=["disabled"],$a={key:0,class:"tw-flex tw-items-center tw-gap-2"},Ta={key:1},Ea=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),Fa={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Oa(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),w=(0,s.up)("FilterTabs"),d=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sa,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",za,[Ua,(0,s._)("div",Pa,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",La,[(0,s._)("div",Aa,[qa,(0,s._)("button",{disabled:l.updating,onClick:e[0]||(e[0]=(...t)=>o.updateSales&&o.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[l.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$a,[(0,s.Wm)(ot.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),l.updating?((0,s.wg)(),(0,s.iD)("div",Ta,[Ea,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,Wa)])]),(0,s._)("div",Fa,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(Da.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Da.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(Da.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dash:o.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":o.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Va=r(4286);const Ia={class:"tw-flex tw-items-center"},ja={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},Ha={class:"tw-text-lg tw-font-bold"},Ma={class:"tw-text-sm"};function Na(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(Va.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",Ia,[(0,s._)("div",{class:(0,at.C_)([o.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(ot.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",ja,[(0,s._)("p",Ha,(0,at.zw)(r.dash.value),1),(0,s.Wm)(Qe.C),(0,s._)("p",Ma,(0,at.zw)(r.dash.title),1)])])])),_:1})}var Ra={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Ya=(0,g.Z)(Ra,[["render",Na]]);var Za=Ya;const Ka={key:0,class:""},Ba={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ja=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Qa=[Ja],Ga={key:1,class:"tw-min-h-[50px]"},Xa={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},ts={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},es={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},rs={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},as={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},ss=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),ls={key:1},os={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},is=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),ns={key:1,class:"tw-flex tw-items-center tw-gap-2"},ws=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ds(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ka,[(0,s._)("div",Ba,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Qa))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ga,[(0,s._)("div",Xa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",ts,[(0,s._)("div",es,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1),(0,s._)("div",rs,[t.last_action?((0,s.wg)(),(0,s.iD)("div",ls,[1==o.isOnline(o.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",os,[is,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",ns,[ws,(0,s.Uk)(" "+(0,at.zw)(o.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",as,[ss,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var cs=r(8777),us={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,cs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const ps=(0,g.Z)(us,[["render",ds]]);var gs=ps,ms=r(1489),hs=r(3144),fs=r(9870),bs=r(6161),xs=r(4722);function vs(t,e,r,a,l,o){return(0,s.wg)(),(0,s.j4)(ms._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(hs.d,{modelValue:l.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>l.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(fs.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(bs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(xs.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const ys={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},_s={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ks={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Cs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ds={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ss={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},zs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Us={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Ps(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ys,[(0,s._)("div",_s,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",ks,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",Cs,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Ds,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Ss,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",zs,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Us,[(0,s.Wm)(i,{dash:o.transferSales},null,8,["dash"])])])])}const Ls={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},As={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},qs={class:"tw-text-xl tw-font-bold"},Ws={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},$s={class:"tw-text-sm"},Ts={class:"rounded-circle tw-w-fit tw-mr-3"};function Es(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Va.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",Ls,[(0,s._)("div",As,[(0,s._)("p",qs,(0,at.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,at.zw)(r.symbol),1),(0,s._)("span",Ws,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",$s,(0,at.zw)(r.dash.title),1)])]),(0,s._)("div",Ts,[(0,s.Wm)(ot.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var Fs={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Os=(0,g.Z)(Fs,[["render",Es]]);var Vs=Os,Is={components:{DashItemTwo:Vs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const js=(0,g.Z)(Is,[["render",Ps]]);var Hs=js;const Ms={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Ns={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Rs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ys={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Zs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ks={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Bs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Qs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Gs(t,e,r,a,l,o){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ms,[(0,s._)("div",Ns,[(0,s.Wm)(i,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Rs,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ys,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",Zs,[(0,s.Wm)(i,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Ks,[(0,s.Wm)(i,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Bs,[(0,s.Wm)(i,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Js,[(0,s.Wm)(i,{dash:o.doubledSales},null,8,["dash"])]),(0,s._)("div",Qs,[(0,s.Wm)(i,{dash:o.wrongNumberSales},null,8,["dash"])])])])}var Xs={components:{DashItemTwo:Vs},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const tl=(0,g.Z)(Xs,[["render",Gs]]);var el=tl,rl={components:{DeliveryTab:Hs,ConfirmationTab:el},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const al=(0,g.Z)(rl,[["render",vs]]);var sl=al;const ll={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},ol={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},il={class:"tw-relative"},nl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},wl={class:"tw-relative"},dl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},cl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),ul={class:"tw-relative"},pl=(0,s._)("option",{value:"all"},"Select",-1),gl=["value"],ml={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},hl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),fl={class:"tw-relative"},bl=(0,s._)("option",{value:"all"},"Select",-1),xl=["value"],vl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},yl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),_l={class:"tw-relative"},kl=(0,s._)("option",{value:"all"},"Select",-1),Cl=["value"],Dl={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Sl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),zl={class:"tw-relative"},Ul=(0,s._)("option",{value:"all"},"Select",-1),Pl=["value"],Ll={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Al=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),ql={class:"tw-relative"},Wl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),$l={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Tl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),El={class:"tw-relative"},Fl=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Ol={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Vl=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),Il={class:"tw-relative"},jl=(0,s._)("option",{value:"all"},"Select",-1),Hl=(0,s._)("option",{value:"oui"},"Oui",-1),Ml=(0,s._)("option",{value:"non"},"Non",-1),Nl=[jl,Hl,Ml];function Rl(t,e,r,l,o,i){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",ll,[(0,s._)("div",ol,[(0,s._)("div",il,[(0,s.Wm)(n,{name:"Created Date",filter:o.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",nl,[(0,s._)("div",wl,[(0,s.Wm)(n,{name:"Dropped Date",filter:o.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",dl,[cl,(0,s._)("div",ul,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[pl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,gl)))),128))],512),[[a.bM,o.agentFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",ml,[hl,(0,s._)("div",fl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[bl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,xl)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",vl,[yl,(0,s._)("div",_l,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[kl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,Cl)))),128))],512),[[a.bM,o.cityFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Dl,[Sl,(0,s._)("div",zl,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[Ul,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Pl)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ll,[Al,(0,s._)("div",ql,[Wl,(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",$l,[Tl,(0,s._)("div",El,[Fl,(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Ol,[Vl,(0,s._)("div",Il,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Nl,512),[[a.bM,o.upsellFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Yl={class:"tw-text-sm tw-text-neutral-600"},Zl=["onClick"];function Kl(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Yl,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,Zl)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Bl=r(1271),Jl=r(2292),Ql=r(1745),Gl=r(4253),Xl=r(4819),to=r(2143),eo={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Bl.Z)(new Date,1),(0,Bl.Z)(new Date,1)]},{label:"This month",range:[(0,Jl.Z)(new Date),(0,Ql.Z)(new Date)]},{label:"Last month",range:[(0,Jl.Z)((0,Gl.Z)(new Date,1)),(0,Ql.Z)((0,Gl.Z)(new Date,1))]},{label:"This year",range:[(0,Xl.Z)(new Date),(0,to.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const ro=(0,g.Z)(eo,[["render",Kl]]);var ao=ro,so={components:{DateFilter:ao},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){et.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),ha.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),et.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),et.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const lo=(0,g.Z)(so,[["render",Rl]]);var oo=lo;const io=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},no=t=>t?t.split("api/")[1]:null,wo=t=>JSON.parse(JSON.stringify(t));var co={components:{DashItem:Za,UsersTable:gs,TabSwitcher:sl,FilterTabs:oo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,l=this.filters.dateFilter[0],o=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((w=>{if("all"!==t&&parseInt(w.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(w.affectation)!=parseInt(e))return!1;if("all"!==s&&w.upsell!=s)return!1;if("all"!==r&&!w.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&w.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const d=new Date(w.created_at),c=d.getDate(),u=d.getMonth(),p=d.getFullYear();if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const g=new Date(w.dropped_at),m=g.getDate(),h=g.getMonth(),f=d.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&m<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&m>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=io(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=io(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=io(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const uo=(0,g.Z)(co,[["render",Oa]]);var po=uo;const go=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),mo={key:0},ho={key:1},fo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},bo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},xo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},vo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},yo={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},_o={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ko={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},Co={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Do(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[go,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",mo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ho,[(0,s._)("div",fo,[(0,s._)("div",bo,[(0,s._)("div",xo,[(0,s.Wm)(n,{dash:o.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",vo,[(0,s.Wm)(n,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",yo,[(0,s.Wm)(n,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",_o,[(0,s.Wm)(n,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",ko,[(0,s.Wm)(n,{dash:o.shippedSales},null,8,["dash"])]),(0,s._)("div",Co,[(0,s.Wm)(n,{dash:o.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var So={components:{DashItemTwo:Vs},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,kr.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const zo=(0,g.Z)(So,[["render",Do]]);var Uo=zo;const Po=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),Lo={key:0},Ao={key:1},qo={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Wo={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},$o={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},To={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Eo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Oo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Vo={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Io={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function jo(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[Po,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lo,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ao,[(0,s._)("div",qo,[(0,s._)("div",Wo,[(0,s._)("div",$o,[(0,s.Wm)(n,{dash:o.earningsDash,symbol:l.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",To,[(0,s.Wm)(n,{dash:o.totalSales},null,8,["dash"])]),(0,s._)("div",Eo,[(0,s.Wm)(n,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",Fo,[(0,s.Wm)(n,{dash:o.reportedSales},null,8,["dash"])]),(0,s._)("div",Oo,[(0,s.Wm)(n,{dash:o.noanswerSales},null,8,["dash"])]),(0,s._)("div",Vo,[(0,s.Wm)(n,{dash:o.canceledSales},null,8,["dash"])]),(0,s._)("div",Io,[(0,s.Wm)(n,{dash:o.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var Ho={components:{DashItemTwo:Vs},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,kr.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const Mo=(0,g.Z)(Ho,[["render",jo]]);var No=Mo;const Ro=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),Yo=[Ro];function Zo(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,Yo)}var Ko={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const Bo=(0,g.Z)(Ko,[["render",Zo]]);var Jo=Bo;const Qo={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},Go=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Xo=[Go];function ti(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Qo,[l.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Xo))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const ei={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},ri={class:"tw-flex tw-justify-between"},ai={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},si={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},li={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},oi={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function ii(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ei,[(0,s._)("div",ri,[(0,s._)("div",null,[(0,s._)("div",ai,[(0,s._)("p",si,(0,at.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",li,[(0,s._)("span",oi,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var ni={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const wi=(0,g.Z)(ni,[["render",ii]]);var di=wi;class ci{async statistics(){return await T.getCookie(),W.post("api/v1/followup/statistics")}async paginate(t="/",e){return await T.getCookie(),W.post("api/v1/followup/orders"+t,e)}async update(t,e){return await T.getCookie(),W.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await T.getCookie(),W.post("api/v1/followup/orders/create",t)}}var ui=new ci,pi={components:{DashCard:di},data(){return{fetching:!0,dashes:[]}},mounted(){ui.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const gi=(0,g.Z)(pi,[["render",ti]]);var mi=gi,hi={components:{admin:po,delivery:Uo,agente:No,default:Jo,"follow-up":mi},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"marketer":this.$router.push({name:"dashboards/marketer"});break;default:this.exists=!0;break}}},created(){this.check()}};const fi=(0,g.Z)(hi,[["render",ka]]);var bi=fi;const xi={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},vi={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},yi={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},_i={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},ki=["disabled"],Ci=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Di=(0,s._)("span",null," previous ",-1),Si=[Ci,Di],zi=["disabled"],Ui=(0,s._)("span",null," Next ",-1),Pi=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Li=[Ui,Pi];function Ai(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",xi,[(0,s._)("div",vi,[(0,s.Uk)(" Page "),(0,s._)("span",yi,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",_i,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Si,10,ki),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Li,10,zi)])])])}var qi={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Wi=(0,g.Z)(qi,[["render",Ai]]);var $i=Wi;const Ti={class:"py-5 tw-min-h-[calc(100dvh-110px)] px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ei=(0,s._)("h1",{class:"tw-text-lg tw-pl-1"},"Notifications",-1),Fi={key:0},Oi={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Vi={key:1,class:"tw-relative tw-h-full tw-flex-col tw-flex tw-overflow-x-auto sm:tw-rounded-lg"},Ii={key:0},ji=(0,s._)("p",{class:"tw-text-center tw-py-4"},"No messages available. ",-1),Hi=[ji],Mi={class:"tw-w-full tw-text-left tw-text-gray-500"},Ni={class:"tw-w-fit tw-flex tw-flex-col tw-whitespace-nowrap text-black"},Ri={class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 tw-whitespace-nowrap"},Yi=(0,s._)("div",{class:"tw-flex-1 tw-mt-auto"},null,-1);var Zi={__name:"NotificationView",setup(t){const e=(0,i.oR)(),r=(0,be.iH)(!1),a=(0,be.iH)(null),l=t=>{a.value.page=t,o()},o=async()=>{const t={...a.value,data:null};r.value=!1,await ve.AllNotifications(t).then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),e.dispatch("app/setAllNotifications",t.data.data),a.value=t.data.data)})).catch((t=>{console.error("API Error",t)})),r.value=!0};(0,s.bv)((()=>{o()}));const n=(0,s.Fl)((()=>e.getters["app/notifications"].all));return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Ti,[Ei,r.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Fi,[(0,s._)("div",Oi,[(0,s.Wm)(ot.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),r.value?((0,s.wg)(),(0,s.iD)("div",Vi,[""==(0,be.SU)(n).data?((0,s.wg)(),(0,s.iD)("div",Ii,Hi)):(0,s.kq)("",!0),(0,s._)("table",Mi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(n).data,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,scope:"col",class:(0,at.C_)([{"bg-white":"read"==t.status},"tw-bg-orange-50 tw-py-3 tw-px-1 text-truncate"])},[(0,s._)("div",Ni,(0,at.zw)(t.message),1),(0,s._)("div",Ri,(0,at.zw)((0,be.SU)(_e())(t.created_at).fromNow()),1)],2)))),128))]),Yi,r.value?((0,s.wg)(),(0,s.j4)($i,{key:1,onPageChange:l,"per-page":a.value.per_page,"last-page":a.value.last_page,from:a.value.from,to:a.value.to,total:a.value.total,"current-page":a.value.current_page},null,8,["per-page","last-page","from","to","total","current-page"])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]))}};const Ki=Zi;var Bi=Ki,Ji={path:"/",name:"home",component:ya,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:bi,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications",name:"notifications",component:Bi,meta:{module:"notification",title:"Notifications",gate:"all"}}]},Qi=r(3104);const Gi=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),Xi={key:0},tn={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},en={class:"tw-w-full"},rn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),an={class:"tw-w-full"},sn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),ln={class:"tw-w-full"},on=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),nn={class:"tw-w-full"},wn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),dn={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},cn=(0,s._)("span",null,"Update Password: ",-1),un={class:"tw-w-full"},pn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),gn={class:"tw-w-full"},mn=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),hn={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},fn=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),bn=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function xn(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Gi,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Xi,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",tn,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",en,[rn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",an,[sn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ln,[on,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nn,[wn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",dn,[cn,(0,s.Wm)(Qi.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(Da.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",un,[pn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(Da.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",gn,[mn,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",hn,[(0,s.Wm)(st.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[fn])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[bn])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var vn={data(){return{serverUrl:w,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,et.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=Ut(this.password),this.formStatus["confirmPassword"]=At(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return et.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const yn=(0,g.Z)(vn,[["render",xn]]);var _n=yn;class kn{async all(t){return await T.getCookie(),W.get("api/blacklist",{params:t})}async create(t){return await T.getCookie(),W.post("api/blacklist",t)}async delete(t){return await T.getCookie(),W["delete"]("api/blacklist/"+t)}}var Cn=new kn;const Dn=[{name:"Client",key:"fullname"},{name:"Phone",key:"phone"},{name:"Address",key:"adresse"},{name:"City",key:"city"}],Sn=(t,e="success")=>{X.dispatch("alert/toggleAlert",{type:e,title:t})},zn=(0,s._)("span",null,"New",-1),Un={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},Pn={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},Ln=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add new keyword ",-1),An={class:"tw-p-5 tw-my-2"},qn={class:""},Wn=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Field",-1),$n={class:"tw-relative"},Tn=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a field ",-1),En=["value"],Fn=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),On={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vn={class:"tw-mt-5"},In=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Keyword",-1),jn={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Hn={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},Mn=["disabled"],Nn=(0,s._)("span",null,"Add",-1);var Rn={__name:"BlacklistAdd",setup(t){const e=(0,s.f3)("blacklist"),r=(0,be.iH)(!1),l=(0,be.iH)(!1),o=(0,be.qj)({}),i=(0,be.qj)({blacklist:{field:"no-value-selected",value:""}}),n=()=>{r.value=!1},w=()=>{i.blacklist={field:"no-value-selected",value:""},r.value=!0},d=async()=>{l.value=!0,await Cn.create(i.blacklist).then((t=>{"SUCCESS"==t.data.code&&(e.addItem(t.data.blacklist),r.value=!1,Sn("Blacklist added successfully"))}),(t=>{if(500==t.response?.status&&"ERROR"==t.response?.data?.code&&Sn(t?.response?.data?.message,"danger"),422==t?.response?.status)for(let e in t?.response?.data?.errors)o[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(t,e)=>{const c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:w,type:"button",class:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-white tw-bg-orange-400 hover:tw-bg-orange-500 tw-duration-200 focus:tw-ring-4 focus:tw-ring-orange-300 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-me-2 tw-mb-2 dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 focus:tw-outline-none dark:focus:tw-ring-orange-800"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),zn]),(0,s.Wm)(c,{visible:r.value,closeable:!0,onCancel:n},{default:(0,s.w5)((()=>[(0,s._)("div",Un,[(0,s._)("div",Pn,[Ln,(0,s._)("div",An,[(0,s._)("div",qn,[Wn,(0,s._)("div",$n,[(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>o.field=null),"onUpdate:modelValue":e[1]||(e[1]=t=>i.blacklist.field=t),class:(0,at.C_)([[o.field&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Tn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(Dn),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.name]),value:t.key,key:t.key},(0,at.zw)(t.name),11,En)))),128))],34),[[a.bM,i.blacklist.field]]),Fn]),o.field?((0,s.wg)(),(0,s.iD)("label",On,(0,at.zw)(o.field),1)):(0,s.kq)("",!0)]),(0,s._)("div",Vn,[In,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.blacklist.value=t),onInput:e[3]||(e[3]=t=>o.value=null),type:"text",class:(0,at.C_)([[o.value&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a keyword to be banned",required:""},null,34),[[a.nr,i.blacklist.value]]),o.value?((0,s.wg)(),(0,s.iD)("label",jn,(0,at.zw)(o.value),1)):(0,s.kq)("",!0)])]),(0,s._)("div",Hn,[(0,s._)("button",{onClick:n,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Nn],8,Mn)])])])])),_:1},8,["visible"])])}}};const Yn=Rn;var Zn=Yn;const Kn={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},Bn=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete this ?",-1),Jn={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},Qn=["disabled"],Gn=["disabled"];var Xn={__name:"BlacklistTableActionsDelete",props:["item"],setup(t){const e=t,r=(0,be.iH)(!1),a=(0,be.iH)(!1),l=(0,s.f3)("blacklist"),o=async()=>{a.value=!0,await Cn["delete"](e.item.id).then((t=>{"SUCCESS"==t.data.code&&(l.deleteItem(e.item.id),Sn("Deleted Successfully"),r.value=!1)}),(t=>{console.log(t),Sn("Something went wrong","danger")})),a.value=!1};return(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),(0,s.Wm)(l,{visible:r.value,onCancel:e[2]||(e[2]=t=>r.value=!1),closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",Kn,[Bn,(0,s._)("div",Jn,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>r.value=!1),disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,Qn),(0,s._)("button",{onClick:o,disabled:a.value,type:"button",class:(0,at.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,Gn)])])])),_:1},8,["visible","closeable"])])}}};const tw=Xn;var ew=tw;const rw={class:"tw-px-4"},aw={class:"tw-flex tw-items-center tw-justify-end tw-gap-2"};var sw={__name:"BlacklistTableActions",props:["item"],setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("div",rw,[(0,s._)("div",aw,[(0,s.Wm)((0,be.SU)(ew),{item:e.item},null,8,["item"])])]))}};const lw=sw;var ow=lw;const iw=(0,s._)("td",{class:"tw-px-4 tw-py-2"},null,-1),nw={class:"tw-px-4 tw-py-2 tw-truncate"},ww={class:"tw-px-4 tw-py-2 tw-truncate"},dw={class:"tw-px-4 tw-py-2"};var cw={__name:"BlacklistTableRow",props:["item"],setup(t){const e=t,r=(0,be.Vh)(e,"item"),a=(0,s.Fl)((()=>Dn.find((t=>t.key==r.value.field))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[iw,(0,s._)("td",nw,[(0,s._)("p",null,(0,at.zw)((0,be.SU)(a).name),1)]),(0,s._)("td",ww,[(0,s._)("p",null,(0,at.zw)((0,be.SU)(r).value),1)]),(0,s._)("td",dw,[(0,s._)("p",null,(0,at.zw)((0,be.SU)(_e())((0,be.SU)(r).created_at).format("DD[/]MM[/]YY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,be.SU)(ow),{item:(0,be.SU)(r)},null,8,["item"])])]))}};const uw=cw;var pw=uw;const gw={class:""},mw={class:"tw-overflow-x-auto tw-bg-white"},hw={class:"tw-inline-block tw-min-w-full tw-align-middle"},fw={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},bw={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},xw=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"rtl:tw-text-right tw-px-2 tw-w-5 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("div",{class:"tw-max-w-[25px]"},[(0,s._)("div",{class:"tw-inline-flex tw-items-center"},[(0,s._)("label",{class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},[(0,s._)("input",{type:"checkbox",class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"}),(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])])])])])]),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Field "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Keyword "),(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4 tw-w-[100px]"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),vw={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yw={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_w=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),kw=[_w],Cw={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Dw={colspan:"11"},Sw={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},zw=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Uw=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Pw=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Lw=[Uw,Pw],Aw={class:"tw-mt-6"};var qw={__name:"BlacklistTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,be.Vh)(r,"options"),l=(0,be.Vh)(r,"data"),o=(0,be.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",gw,[(0,s._)("div",mw,[(0,s._)("div",hw,[(0,s._)("div",fw,[(0,s._)("table",bw,[xw,!(0,be.SU)(o)&&(0,be.SU)(l).length>0?((0,s.wg)(),(0,s.iD)("tbody",vw,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(pw),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,be.SU)(o)||0!=(0,be.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",yw,kw)),(0,be.SU)(o)?((0,s.wg)(),(0,s.iD)("tbody",Cw,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Dw,[(0,s._)("div",Sw,[zw,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Lw))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",Aw,[(0,s.Wm)((0,be.SU)($i),{from:(0,be.SU)(a).from,to:(0,be.SU)(a).to,"last-page":(0,be.SU)(a).last_page,"per-page":(0,be.SU)(a).per_page,total:(0,be.SU)(a).total,"current-page":(0,be.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const Ww=qw;var $w=Ww;const Tw={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},Ew={class:"mb-5 tw-flex tw-w-full tw-justify-between"},Fw=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Blacklist ",-1),Ow=(0,s._)("div",{class:"tw-mt-5"},null,-1);var Vw={__name:"SettingsBlacklistView",setup(t){const e=(0,be.qj)({}),r=(0,be.iH)([]),a=(0,be.iH)(!1),l=async()=>{a.value=!0,await Cn.all(e).then((t=>{r.value=t.data.data,delete t.data.data,Object.assign(e,t.data)})),a.value=!1},o=t=>{r.value=r.value.filter((e=>e.id!=t))},i=t=>{e.page=t,l()},n=t=>{r.value.unshift(t)};return(0,s.JJ)("blacklist",{getData:l,deleteItem:o,addItem:n}),l(),(t,l)=>((0,s.wg)(),(0,s.iD)("div",Tw,[(0,s._)("div",Ew,[Fw,(0,s.Wm)((0,be.SU)(Zn))]),Ow,(0,s.Wm)((0,be.SU)($w),{onPageChange:i,data:r.value,loading:a.value,options:e},null,8,["data","loading","options"])]))}};const Iw=Vw;var jw=Iw,Hw={name:"settings",path:"/settings",component:ya,meta:{module:"user"},children:[{path:"account",name:"settings/account",component:_n,meta:{module:"settings",title:"Account",gate:"all"}},{path:"blacklist",name:"settings/blacklist",component:jw,meta:{module:"settings",title:"Blacklist",gate:"all"}}]};const Mw={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Nw=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Rw={key:0},Yw=(0,s._)("span",{class:"text-white"}," Add Product ",-1),Zw={key:0},Kw={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Bw={class:"mb-5 tw-flex"},Jw={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Qw={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Gw={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Xw=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),td={class:"tw-relative"},ed={class:""};function rd(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",Mw,[Nw,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Rw,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Yw])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zw,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",Kw,[(0,s._)("div",Bw,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Jw,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Qw,[(0,s._)("div",Gw,[Xw,(0,s._)("div",td,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",ed,[(0,s.Wm)(w,{columns:o.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}const ad={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},sd={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ld={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},od=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),id={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},nd=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),wd={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},dd={class:"tw-px-6 tw-py-4"},cd={class:"tw-px-6 tw-py-4"},ud={class:"tw-px-6 tw-py-4"},pd={class:"tw-px-6 tw-py-4"},gd={class:"tw-px-6 tw-py-4"},md={class:"tw-px-6 tw-py-4"},hd={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},fd={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},bd={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},xd=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),vd=["value"],yd={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},_d={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},kd={class:"tw-text-white"};function Cd(t,e,r,l,o,i){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ad,[(0,s._)("table",sd,[(0,s._)("thead",ld,[(0,s._)("tr",null,[od,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",id,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[nd,(0,s._)("th",wd,(0,at.zw)(t.id),1),(0,s._)("td",dd,(0,at.zw)(t.ref),1),(0,s._)("td",cd,(0,at.zw)(t.name),1),(0,s._)("td",ud,(0,at.zw)(t.buying_price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",pd,(0,at.zw)(t.selling_price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",gd,(0,at.zw)(i.calculQty(t.variations)),1),(0,s._)("td",md,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",hd,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",fd,[(0,s._)("div",bd,[xd,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,vd)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",yd,[(0,s._)("div",_d,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,at.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",kd,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Dd={class:"tw-flex tw-items-center tw-gap-1"};function Sd(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Dd,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var zd={props:["rowIndex","product"],name:"productActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ha["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Ud=(0,g.Z)(zd,[["render",Sd]]);var Pd=Ud,Ld={props:["columns","products"],components:{ProductActions:Pd},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Ad=(0,g.Z)(Ld,[["render",Cd]]);var qd=Ad;const Wd=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:15,value:"banned",name:"Banned",text:"tw-text-yellow-500 tw-font-semibold",textLight:"tw-text-yellow-500 tw-font-semibold",bg:"tw-bg-black",bgLight:"tw-bg-black",ring:"tw-ring-black/50"}],$d=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],Td=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],Ed=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],Fd=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:8,value:"printed",name:"Printed",text:"tw-text-blue-500",bg:"tw-bg-blue-500/10",ring:"tw-ring-blue-300"},{id:10,value:"retourner",name:"Returned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:17,value:"in-warehouse",name:"In Warehouse",text:"tw-text-lime-500",bg:"tw-bg-lime-500/10",ring:"tw-ring-lime-300",textLight:"tw-text-lime-800",bgLight:"tw-bg-lime-100"}],Od=[null,"expidier","paid","transfer","dispatch"];var Vd={components:{ProductsTable:qd},data(){return{localUrl:n,confirmations:Wd,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const Id=(0,g.Z)(Vd,[["render",rd]]);var jd=Id;const Hd={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Md={class:"tw-px-3"},Nd={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Rd={class:"tw-flex tw-items-center tw-gap-x-3"},Yd=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),Zd={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Kd=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),Bd={key:0};function Jd(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Hd,[(0,s._)("section",Md,[(0,s._)("div",Nd,[(0,s._)("div",null,[(0,s._)("div",Rd,[Yd,(0,s._)("span",Zd,(0,at.zw)(l.totalProducts)+" products",1)]),Kd])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[3]||(e[3]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Bd,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const Qd={class:"tw-flex tw-flex-col"},Gd={class:"tw-overflow-x-auto"},Xd={class:"tw-inline-block tw-min-w-full tw-align-middle"},tc={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},ec={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},rc={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},ac={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},sc={class:"tw-max-w-[25px]"},lc={class:"tw-inline-flex tw-items-center"},oc={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},ic=["checked"],nc=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),wc=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),dc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),cc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),uc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),pc=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),gc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),mc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),hc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),fc={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},bc=(0,s._)("span",null,"Created",-1),xc=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),vc=[bc,xc],yc=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),_c={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},kc={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Cc=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No product is found ! ")])],-1),Dc=[Cc],Sc={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zc={colspan:"11"},Uc={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Pc=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Lc=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Ac=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),qc=[Lc,Ac],Wc={class:"tw-mt-6"};function $c(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Qd,[(0,s._)("div",Gd,[(0,s._)("div",Xd,[(0,s._)("div",tc,[(0,s._)("table",ec,[(0,s._)("thead",rc,[(0,s._)("tr",null,[(0,s._)("th",ac,[(0,s._)("div",sc,[(0,s._)("div",lc,[(0,s._)("label",oc,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,ic),nc])])])]),wc,dc,cc,uc,pc,gc,mc,hc,(0,s._)("th",fc,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},vc)]),yc])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",_c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{onRefresh:e[2]||(e[2]=e=>t.$emit("pageChange",1)),selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:l,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",kc,Dc)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Sc,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",zc,[(0,s._)("div",Uc,[Pc,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},qc)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Wc,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Tc={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Ec={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Fc={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Oc={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Vc=["disabled"],Ic=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),jc=(0,s._)("span",null," previous ",-1),Hc=[Ic,jc],Mc=["disabled"],Nc=(0,s._)("span",null," Next ",-1),Rc=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Yc=[Nc,Rc];function Zc(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Tc,[(0,s._)("div",Ec,[(0,s.Uk)(" Page "),(0,s._)("span",Fc,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",Oc,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Hc,10,Vc),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Yc,10,Mc)])])])}var Kc={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Bc=(0,g.Z)(Kc,[["render",Zc]]);var Jc=Bc;const Qc={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Gc={class:"tw-max-w-[25px]"},Xc={class:"tw-inline-flex tw-items-center"},tu={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},eu=["checked","id"],ru=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),au={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},su={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},lu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ou={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"},iu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nu={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},wu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},du={class:"tw-flex tw-items-center tw-gap-1"},cu={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},uu={class:"tw-text-blue-700"},pu={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},gu={class:"tw-text-green-700"},mu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hu={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},fu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bu={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},xu={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},vu={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yu={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},_u={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},ku={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Cu={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Du={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Su={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},zu={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Uu(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[o.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",Qc,[(0,s._)("div",Gc,[(0,s._)("div",Xc,[(0,s._)("label",tu,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,eu),ru])])])]),(0,s._)("td",au,[(0,s._)("div",null,[(0,s._)("h2",su,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",lu,[(0,s._)("div",null,[(0,s._)("h2",ou,(0,at.zw)(r.item.ref),1)])]),(0,s._)("td",iu,[(0,s._)("div",null,[(0,s._)("h2",nu,(0,at.zw)(r.item.name),1)])]),(0,s._)("td",wu,[(0,s._)("div",du,[(0,s._)("div",cu,[(0,s._)("span",uu,(0,at.zw)(r.item.buying_price),1),(0,s.Wm)(ot.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",pu,[(0,s.Wm)(ot.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",gu,(0,at.zw)(r.item.selling_price),1)])])]),(0,s._)("td",mu,[(0,s._)("div",null,[(0,s._)("h2",hu,(0,at.zw)(o.quantityTotal),1)])]),(0,s._)("td",fu,[(0,s._)("div",bu,[(0,s._)("h2",xu,(0,at.zw)(o.deliveredQuantity),1)])]),(0,s._)("td",vu,[(0,s._)("div",yu,[(0,s._)("h2",_u,(0,at.zw)(o.shippedQuantity),1)])]),(0,s._)("td",ku,[(0,s._)("div",{class:(0,at.C_)([{"tw-text-red-500 !tw-font-bold":o.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Cu,(0,at.zw)(o.availableQuantity),1)],2)]),(0,s._)("td",Du,[(0,s._)("div",null,[(0,s._)("h2",Su,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",zu,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item,onRefresh:e[2]||(e[2]=e=>t.$emit("refresh"))},null,8,["item"])])])],2)}const Pu={class:"tw-h-full"},Lu={class:"tw-flex tw-items-center tw-gap-2"};function Au(t,e,r,a,l,o){const i=(0,s.up)("router-link"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Pu,[(0,s._)("div",Lu,[t.$can("update_product")?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/products/update/"+r.item.id,class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1})])):(0,s.kq)("",!0)]),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var qu={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1,showPopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,ha["delete"](this.item.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"}),this.$emit("refresh"))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Wu=(0,g.Z)(qu,[["render",Au]]);var $u=Wu,Tu={components:{TableActions:$u},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const Eu=(0,g.Z)(Tu,[["render",Uu]]);var Fu=Eu,Ou={components:{TablePaginationNoNums:Jc,TableRow:Fu},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const Vu=(0,g.Z)(Ou,[["render",$c]]);var Iu=Vu;const ju={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Hu={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Mu=["disabled"],Nu=["disabled"],Ru=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Yu=[Ru],Zu={class:"tw-relative"},Ku=["value"],Bu=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),Ju=[Bu],Qu=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Gu={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Xu=["value"],tp={class:"tw-overflow-hidden tw-col-span-1"},ep={class:"tw-overflow-hidden tw-col-span-1"},rp={class:"tw-overflow-hidden tw-col-span-1"};function ap(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ju,[(0,s._)("div",Hu,[(0,s._)("button",{class:(0,at.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,Mu),(0,s.kq)("",!0),(0,s.kq)("",!0),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Yu,8,Nu),(0,s.kq)("",!0),(0,s._)("div",Zu,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Ju,40,Ku),Qu])]),(0,s._)("div",Gu,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Xu),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",tp,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,at.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",ep,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",rp,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const sp={class:"tw-mb-4"},lp={class:"tw-grid tw-grid-cols-12 tw-gap-4"},op={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},ip={class:"tw-flex tw-items-center tw-justify-between"},np={class:"tw-text-xl tw-font-bold tw-text-gray-900"},wp={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function dp(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",sp,[(0,s._)("div",lp,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",op,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",ip,[(0,s._)("span",np,(0,at.zw)(t.total),1),(0,s._)("span",wp,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var cp={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wd.find((e=>e.value==t))}}};const up=(0,g.Z)(cp,[["render",dp]]);var pp=up;const gp={class:"tw-mb-4"},mp={class:"tw-flex tw-items-center tw-gap-2"},hp=["disabled"],fp=(0,s._)("span",null,"Select Filtered",-1),bp={class:"tw-flex tw-justify-end"},xp=["disabled"];function vp(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",gp,[(0,s._)("div",mp,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),fp],8,hp)]),(0,s._)("div",bp,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,at.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,xp)])])}class yp{async statistics(t){return await T.getCookie(),W.post("api/v1/admin/statistics",t)}async analytics(t){return await T.getCookie(),W.post("api/v1/admin/analytics",t)}async products(t="/",e){return await T.getCookie(),W.post("api/v1/admin/products"+t,e)}async get_top_products(){return await T.getCookie(),W.get("api/v1/admin/get_top_products")}async paginate(t="/",e){return await T.getCookie(),W.post("api/v1/admin/orders"+t,e)}async update(t,e){return await T.getCookie(),W.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await T.getCookie(),W.post("api/v1/admin/orders/create",t)}async export(t={}){return await T.getCookie(),W.post("api/v1/admin/orders/export",t)}}var _p=new yp,kp={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,_p["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Cp=(0,g.Z)(kp,[["render",vp]]);var Dp=Cp;const Sp={class:"tw-mb-4"},zp={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Up={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Pp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),Lp=["value"],Ap={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},qp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),Wp=["value"],$p={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Tp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),Ep=["value"],Fp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Op=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),Vp=["value"],Ip={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},jp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),Hp=["value"],Mp=(0,s._)("option",{value:"all",selected:""},"All",-1),Np=["value"],Rp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Yp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),Zp=["value"],Kp=(0,s._)("option",{value:"all",selected:""},"All",-1),Bp=["value"],Jp={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Qp=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Gp=["value"],Xp=(0,s._)("option",{value:"all",selected:""},"All",-1),tg=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),eg=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),rg=[Xp,tg,eg],ag={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},sg=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),lg=(0,s._)("span",null,"Clear",-1),og=[sg,lg],ig=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),ng=(0,s._)("span",null,"Filter",-1),wg=[ig,ng];function dg(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),w=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",Sp,[(0,s._)("div",zp,[(0,s.kq)("",!0),(0,s._)("div",Up,[Pp,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Lp)]),(0,s._)("div",Ap,[qp,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Wp)]),(0,s._)("div",$p,[Tp,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ep)]),(0,s._)("div",Fp,[Op,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Vp)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Ip,[jp,(0,s._)("select",{value:r.filters.confirmation,onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Mp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,Np)))),128))],40,Hp)]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Rp,[Yp,(0,s._)("select",{onChange:e[9]||(e[9]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Kp,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,Bp)))),128))],40,Zp)]),(0,s._)("div",Jp,[Qp,(0,s._)("select",{value:r.filters.upsell,onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},rg,40,Gp)]),(0,s._)("div",ag,[(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},og),(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},wg)])])])}const cg={class:"tw-text-sm tw-text-neutral-600"},ug=["onClick"];function pg(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",cg,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,ug)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var gg={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Bl.Z)(new Date,1),(0,Bl.Z)(new Date,1)]},{label:"This month",range:[(0,Jl.Z)(new Date),(0,Ql.Z)(new Date)]},{label:"Last month",range:[(0,Jl.Z)((0,Gl.Z)(new Date,1)),(0,Ql.Z)((0,Gl.Z)(new Date,1))]},{label:"This year",range:[(0,Xl.Z)(new Date),(0,to.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const mg=(0,g.Z)(gg,[["render",pg]]);var hg=mg;const fg={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bg=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),xg=["value"],vg=(0,s._)("option",{value:"all"},"All",-1),yg=(0,s._)("option",{value:""},"No Delivery",-1),_g=["value"];function kg(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",fg,[bg,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[vg,yg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,_g)))),128))],40,xg)])}var Cg={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Dg=(0,g.Z)(Cg,[["render",kg]]);var Sg=Dg;const zg={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ug=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),Pg=["value"],Lg=(0,s._)("option",{value:"all"},"All",-1),Ag=(0,s._)("option",{value:""},"No Agent",-1),qg=["value"];function Wg(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",zg,[Ug,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Lg,Ag,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,qg)))),128))],40,Pg)])}var $g={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Tg=(0,g.Z)($g,[["render",Wg]]);var Eg=Tg;const Fg={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Og=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),Vg=["value"],Ig=(0,s._)("option",{value:"all"},"All",-1),jg=["value"];function Hg(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Fg,[Og,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Ig,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,jg)))),128))],40,Vg)])}var Mg={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const Ng=(0,g.Z)(Mg,[["render",Hg]]);var Rg=Ng,Yg={components:{DateFilter:hg,AffectationFilter:Sg,AgentFilter:Eg,ProductFilter:Rg},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Wd,deliveries:Fd,dateFilter:["",""]}}};const Zg=(0,g.Z)(Yg,[["render",dg]]);var Kg=Zg,Bg={components:{IndexStatistics:pp,FiltersWrapper:Kg,IndexExport:Dp},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Jg=(0,g.Z)(Bg,[["render",ap]]);var Qg=Jg;const Gg={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Xg=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),tm={class:"tw-bg-white tw-p-4"},em={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},rm={class:"tw-col-span-2 md:tw-col-span-1"},am=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),sm={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lm={class:"tw-col-span-2 md:tw-col-span-1"},om=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),im={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nm={class:"tw-col-span-2 md:tw-col-span-1"},wm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),dm={class:"tw-relative"},cm=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),um=["value"],pm=["value"],gm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),mm={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},hm={class:"tw-col-span-2 md:tw-col-span-1"},fm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),bm={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xm={class:"tw-col-span-2"},vm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ym={class:"tw-relative"},_m=["value"],km=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Cm={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Dm={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Sm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),zm={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Um={key:1,class:"md:tw-col-span-1 tw-col-span-2"},Pm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Lm={class:"tw-col-span-2"},Am=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),qm={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wm={class:"md:tw-col-span-1 tw-col-span-2"},$m={class:"md:tw-col-span-1 tw-col-span-2"},Tm=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),Em={class:"tw-relative"},Fm=["value"],Om=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Vm={class:"tw-col-span-2"},Im={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},jm={key:0,class:"tw-text-red-400 tw-text-xs"},Hm={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Mm=["disabled"],Nm=(0,s._)("span",null,"Create",-1);function Rm(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Gg,[Xg,(0,s._)("div",tm,[(0,s._)("div",em,[(0,s._)("div",rm,[am,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",sm,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",lm,[om,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",im,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",nm,[wm,(0,s._)("div",dm,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[cm,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,um),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,pm)))),128))],34),[[a.bM,o.itemCopy.city]]),gm]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",mm,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",hm,[fm,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",bm,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",xm,[vm,(0,s._)("div",ym,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,_m)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),km]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",Cm,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Dm,[Sm,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",zm,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",Um,[Pm,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",Lm,[Am,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",qm,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",Wm,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",$m,[Tm,(0,s._)("div",Em,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,Fm)))),128))],512),[[a.bM,o.itemCopy.upsell]]),Om])]),(0,s._)("div",Vm,[(0,s._)("label",Im,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",jm," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",Hm,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Nm],8,Mm)])])])),_:1},8,["visible","onCancel"])])}const Ym=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Zm(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Zm=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Km=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Bm=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Jm=(t,e)=>{t.isLoading=!0,t.errors={},_p.create(e).then((e=>Km(t,e.data))).catch((e=>Bm(t,e.response.data))).finally((()=>t.isLoading=!1))},Qm={key:0},Gm=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Xm={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},th=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),eh=(0,s._)("span",null,"Add Item",-1),rh=[th,eh],ah={key:1,class:"md:tw-col-span-12 tw-col-span-12"},sh={class:"tw-max-w-full tw-overflow-auto"},lh={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},oh={class:"tw-bg-gray-50"},ih={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},nh={key:0},wh={colspan:"6"},dh={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},ch=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),uh=(0,s._)("span",null,"Add Item",-1),ph=[ch,uh],gh=(0,s._)("td",{colspan:"4"},null,-1),mh=(0,s._)("td",null,null,-1),hh={colspan:"1",class:"tw-p-2"},fh={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},bh={key:1},xh={colspan:"6"},vh={class:"tw-scale-75 tw-p-5"};function yh(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qm,[Gm,(0,s._)("div",Xm,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},rh)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",ah,[(0,s._)("div",sh,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",lh,[(0,s._)("tr",oh,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",ih,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",nh,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",wh,[(0,s._)("div",dh,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},ph)])])]),(0,s._)("tr",null,[gh,mh,(0,s._)("td",hh,[(0,s._)("div",fh,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",bh,[(0,s._)("tr",null,[(0,s._)("td",xh,[(0,s._)("div",vh,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const _h=(0,s._)("td",null,null,-1),kh={class:"tw-p-2"},Ch={class:"tw-relative"},Dh=["value"],Sh=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),zh=["value"],Uh=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ph={class:"tw-p-2"},Lh={key:0,class:"tw-relative"},Ah=["value"],qh=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Wh=["value"],$h={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},Th=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Eh=[Th],Fh={class:"tw-p-2"},Oh=["value"],Vh={class:"tw-p-2"},Ih=["value"],jh={class:"tw-flex tw-justify-center"};function Hh(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[_h,(0,s._)("td",null,[(0,s._)("div",kh,[(0,s._)("div",Ch,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Sh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,zh)))),128))],40,Dh),Uh])])]),(0,s._)("td",null,[(0,s._)("div",Ph,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Lh,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[qh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,Wh)))),128))],40,Ah)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",$h,Eh)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Fh,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Oh)])]),(0,s._)("td",null,[(0,s._)("div",Vh,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Ih)])]),(0,s._)("td",null,[(0,s._)("div",jh,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Mh={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Nh=(0,g.Z)(Mh,[["render",Hh]]);var Rh=Nh,Yh={components:{ItemRow:Rh},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return io(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Zh=(0,g.Z)(Yh,[["render",yh]]);var Kh=Zh;const Bh=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Jh={key:0,class:"tw-relative"},Qh=["value","disabled"],Gh=(0,s._)("option",{value:""},"Choose a Delivery",-1),Xh=["value"],tf=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ef={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rf={key:2,class:"tw-relative"},af={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},sf=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),lf=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function of(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Bh,l.fetched?((0,s.wg)(),(0,s.iD)("div",Jh,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Gh,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Xh)))),128))],42,Qh),tf])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",ef,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rf,[(0,s._)("div",af,[(0,s.Wm)(i)]),sf,lf]))])}var nf={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const wf=(0,g.Z)(nf,[["render",of]]);var df=wf,cf={components:{OrderItems:Kh,OrderAffectation:df},props:{visible:{required:!0}},data(){return{confirmations:Wd,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Ym(this,this.itemCopy);if(!t)return!1;Jm(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const uf=(0,g.Z)(cf,[["render",Rm]]);var pf=uf,gf={components:{IndexTable:Iu,IndexFilters:Qg,CreatePopup:pf},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ha.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const mf=(0,g.Z)(gf,[["render",Jd]]);var hf=mf,ff=r(240),bf=r(4842);const xf=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new product")],-1),vf={key:0},yf={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_f={class:"tw-w-full"},kf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),Cf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Df={class:"tw-w-full"},Sf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),zf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Uf={class:"tw-w-full"},Pf={class:"mb-1 text-body-2 tw-text-zinc-700"},Lf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Af={class:"mb-1 text-body-2 tw-text-zinc-700"},qf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),$f={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tf={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Ef=(0,s._)("span",null,"Add Variants: ",-1),Ff={class:"tw-h-fit tw-mb-"},Of=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Vf={class:"tw-relative"},If=(0,s._)("option",{value:0},"Select",-1),jf=["value"],Hf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Mf={key:0},Nf={class:"md:tw-col-span-3 tw-col-span-12"},Rf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Yf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zf={class:"md:tw-col-span-3 tw-col-span-12"},Kf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),Bf={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jf={key:1},Qf={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Gf={class:"md:tw-col-span-3 tw-col-span-12"},Xf=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),tb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eb={class:"md:tw-col-span-3 tw-col-span-12"},rb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),ab={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sb={class:"md:tw-col-span-3 tw-col-span-12"},lb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),ob=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),ib={class:"md:tw-col-span-3 tw-col-span-12"},nb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),wb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},db={class:"tw-col-span-12 tw-flex tw-justify-end"},cb=["disabled"],ub=(0,s._)("span",{class:"tw-text-white"},"Add",-1),pb={class:""},gb={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},mb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),hb={class:"mb-1 text-body-2 tw-text-zinc-700"},fb={key:1,class:"tw-max-w-full tw-overflow-x-auto"},bb={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},xb={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},vb={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},yb={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},_b={class:"tw-px-6 tw-py-2"},kb={class:"tw-px-6 tw-py-2"},Cb={class:"tw-px-6 tw-py-2"},Db={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},Sb={class:"tw-w-full"},zb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Ub={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Pb={class:"tw-w-full"},Lb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Ab={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qb=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),Wb={class:"tw-mt-2"},$b=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),Tb={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},Eb={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},Fb={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},Ob={class:"tw-w-max tw-relative"},Vb=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),Ib={class:"md:tw-col-span-6 tw-col-span-12"},jb={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},Hb=(0,s._)("span",null,"No image available",-1),Mb=[Hb],Nb={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Rb=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Yb=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Zb(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("VariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[xf,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vf,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",yf,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_f,[kf,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Cf,(0,at.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Df,[Sf,(0,s.Wm)(it.hw,{error:!o.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",zf,(0,at.zw)(o.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Uf,[(0,s._)("div",Pf," Buying Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Lf,(0,at.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Af," Selling Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",qf,(0,at.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[Wf,(0,s.Wm)(bf.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",$f,(0,at.zw)(o.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Tf,[Ef,(0,s.Wm)(Qi.G,{modelValue:o.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>o.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Da.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ff,[Of,(0,s._)("div",Vf,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[If,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,jf)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Hf,(0,at.zw)(o.formStatus.warehouse.message),1)]),o.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mf,[(0,s._)("div",Nf,[Rf,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Yf,(0,at.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Zf,[Kf,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Bf,(0,at.zw)(o.formStatus.stockAlert.message),1)])])),o.addVariants?((0,s.wg)(),(0,s.iD)("div",Jf,[(0,s._)("div",Qf,[(0,s._)("div",Gf,[Xf,(0,s.Wm)(it.hw,{error:!o.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[18]||(e[18]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tb,(0,at.zw)(o.formStatus.size.message),1)]),(0,s._)("div",eb,[rb,(0,s.Wm)(it.hw,{error:!o.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[20]||(e[20]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ab,(0,at.zw)(o.formStatus.color.message),1)]),(0,s._)("div",sb,[lb,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),ob]),(0,s._)("div",ib,[nb,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",wb,(0,at.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",db,[(0,s._)("button",{disabled:!o.quantity,class:(0,at.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),ub],10,cb)])]),(0,s._)("div",pb,[(0,s._)("div",gb,[mb,(0,s._)("div",hb," Quantity Total: "+(0,at.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,at.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",fb,[(0,s._)("table",bb,[(0,s._)("thead",xb,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",vb,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",yb,(0,at.zw)(t.size),1),(0,s._)("td",_b,(0,at.zw)(t.color),1),(0,s._)("td",kb,(0,at.zw)(t.quantity),1),(0,s._)("td",Cb,(0,at.zw)(t.stockAlert),1),(0,s._)("td",Db,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Sb,[zb,(0,s.Wm)(it.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[27]||(e[27]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ub,(0,at.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Pb,[Lb,(0,s.Wm)(it.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[29]||(e[29]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ab,(0,at.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[qb,(0,s._)("div",Wb,[(0,s.Wm)(ff.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[30]||(e[30]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[31]||(e[31]=t=>o.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[$b,(0,s._)("div",Tb,[(0,s._)("div",Eb,[(0,s._)("label",Fb,[(0,s._)("div",Ob,[(0,s.Wm)(ot.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),Vb]),(0,s._)("input",{onChange:e[32]||(e[32]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",Ib,[(0,s._)("div",jb,[(0,s._)("img",{class:(0,at.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},Mb,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",Nb,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Rb])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Yb])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function Kb(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const Bb={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},Jb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Qb={class:"tw-col-span-12"},Gb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Xb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},tx={class:"tw-col-span-12"},ex=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),rx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ax={class:"tw-col-span-12"},sx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),lx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ox={class:"tw-col-span-12"},ix=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),nx={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wx={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},dx=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),cx=[dx],ux=["disabled"],px=(0,s._)("span",{class:"tw-text-white"},"Save",-1),gx=[px];function mx(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Bb,[(0,s._)("div",Jb,[(0,s._)("div",Qb,[Gb,(0,s.Wm)(it.hw,{error:!l.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[1]||(e[1]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Xb,(0,at.zw)(l.formStatus.size.message),1)]),(0,s._)("div",tx,[ex,(0,s.Wm)(it.hw,{error:!l.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[3]||(e[3]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",rx,(0,at.zw)(l.formStatus.color.message),1)]),(0,s._)("div",ax,[sx,(0,s.Wm)(it.hw,{onChange:o.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",lx,(0,at.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",ox,[ix,(0,s.Wm)(it.hw,{onChange:o.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>o.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",nx,(0,at.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",wx,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},cx),(0,s._)("button",{disabled:!l.quantity,class:(0,at.C_)([{"tw-bg-orange-500":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>o.updateVariant&&o.updateVariant(...t))},gx,10,ux)])])])}var hx={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const fx=(0,g.Z)(hx,[["render",mx]]);var bx=fx,xx={components:{UpdateProductVariant:bx},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const vx=(0,g.Z)(xx,[["render",Kb]]);var yx=vx;class _x{async create(t){return await T.getCookie(),W.post("api/warehouses/new",{name:t.name})}async update(t,e){return await T.getCookie(),W.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await T.getCookie(),W.get("api/warehouses")}async getWarehouse(t){return await T.getCookie(),W.get("api/warehouses/"+t)}async delete(t){return await T.getCookie(),W["delete"]("api/warehouses/delete/"+t)}}var kx=new _x;const Cx=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),Dx={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},Sx={class:"md:tw-col-span-3 tw-col-span-12"},zx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Ux={class:"md:tw-col-span-3 tw-col-span-12"},Px=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),Lx={class:"md:tw-col-span-5 tw-col-span-12"},Ax=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),qx={class:"md:tw-col-span-1 tw-col-span-12"},Wx=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),$x={class:"tw-mt-2"},Tx={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},Ex={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Fx=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),Ox={class:"tw-px-6 tw-py-4"},Vx={class:"tw-px-6 tw-py-4"},Ix={class:"tw-px-6 tw-py-4"},jx={class:"tw-max-w-[250px] tw-text-sm"},Hx={class:"tw-px-6 tw-py-4"},Mx={key:0},Nx=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),Rx=[Nx];function Yx(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[Cx,(0,s._)("div",Dx,[(0,s._)("div",Sx,[zx,(0,s.Wm)(it.hw,{type:"number","hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Ux,[Px,(0,s.Wm)(it.hw,{type:"number","hide-details":!0,modelValue:l.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Lx,[Ax,(0,s.Wm)(it.hw,{type:"text","hide-details":!0,modelValue:l.note,"onUpdate:modelValue":e[2]||(e[2]=t=>l.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",qx,[Wx,(0,s.Wm)(st.T,{onClick:o.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",$x,[(0,s._)("div",Tx,[(0,s._)("table",Ex,[Fx,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Ox,(0,at.zw)(t.quantity),1),(0,s._)("td",Vx,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",Ix,[(0,s._)("p",jx,(0,at.zw)(t.note),1)]),(0,s._)("td",Hx,[(0,s.Wm)(st.T,{onClick:e=>o.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",Mx,Rx)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"])])}var Zx={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const Kx=(0,g.Z)(Zx,[["render",Yx]]);var Bx=Kx,Jx={components:{VariantActions:yx,ProductOffers:Bx},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,link_video:"",link_store:"",description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert}];t.variants=e}ha.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",buyingPrice:0,link_video:"",link_store:"",sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.reference=Pt(this.product.reference,"Reference"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.quantity=Pt(this.quantity,"Quantity"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.variants=qt(this.variants),this.addVariants||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.link_video.valid&&this.formStatus.link_store.valid&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid)return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,kx.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses()}};const Qx=(0,g.Z)(Jx,[["render",Zb]]);var Gx=Qx;const Xx=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),tv={key:0},ev={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},rv={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},av={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},sv={class:"tw-w-full"},lv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),ov={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},iv={class:"tw-w-full"},nv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),wv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dv={class:"tw-w-full"},cv={class:"mb-1 text-body-2 tw-text-zinc-700"},uv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pv={class:"mb-1 text-body-2 tw-text-zinc-700"},gv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),hv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fv={class:"tw-h-fit tw-mb-"},bv=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),xv={class:"tw-relative"},vv=(0,s._)("option",{value:0},"Select",-1),yv=["value"],_v={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kv={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Cv={class:"md:tw-col-span-3 tw-col-span-12"},Dv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Sv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zv={class:"md:tw-col-span-3 tw-col-span-12"},Uv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Pv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lv={class:"md:tw-col-span-3 tw-col-span-12"},Av=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),qv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wv={class:"md:tw-col-span-3 tw-col-span-12"},$v=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Tv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ev={class:"tw-col-span-12 tw-flex tw-justify-end"},Fv=["disabled"],Ov=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Vv={class:""},Iv={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},jv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),Hv={class:"mb-1 text-body-2 tw-text-zinc-700"},Mv={key:1,class:"tw-max-w-full tw-overflow-x-auto"},Nv={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Rv={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Yv={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Zv={class:"tw-px-6 tw-py-2 tw-capitalize"},Kv={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Bv={class:"tw-px-6 tw-py-2"},Jv={class:"tw-px-6 tw-py-2"},Qv={class:"tw-flex tw-flex-col"},Gv={key:0,class:"tw-text-xs tw-text-green-500"},Xv={class:"tw-px-6 tw-py-2"},ty={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},ey={class:"tw-w-full"},ry=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),ay={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},sy={class:"tw-w-full"},ly=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),oy={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},iy=(0,s._)("h1",null,"Deliveries",-1),ny={class:"tw-mt-2"},wy=(0,s._)("h1",null,"Image",-1),dy={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},cy={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},uy={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},py={class:"tw-w-max tw-relative"},gy=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),my={class:"md:tw-col-span-6 tw-col-span-12"},hy={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},fy=["src"],by=(0,s._)("span",null,"No image available",-1),xy=[by],vy={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},yy=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),_y=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function ky(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UpdateVariantActions"),d=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[Xx,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tv,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ev,[(0,s._)("div",rv,[(0,s.Uk)(" Product ID: "),(0,s._)("span",av,(0,at.zw)(i.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",sv,[lv,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:o.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ov,(0,at.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",iv,[nv,(0,s.Wm)(it.hw,{error:!o.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>o.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",wv,(0,at.zw)(o.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dv,[(0,s._)("div",cv," Buying Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!o.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:o.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",uv,(0,at.zw)(o.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",pv," Selling Price ("+(0,at.zw)(o.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!o.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:o.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>o.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",gv,(0,at.zw)(o.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[mv,(0,s.Wm)(bf.z,{error:!o.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:o.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>o.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",hv,(0,at.zw)(o.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Da.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",fv,[bv,(0,s._)("div",xv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.warehouse=t),onChange:e[11]||(e[11]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[vv,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,yv)))),128))],544),[[a.bM,o.warehouse]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",_v,(0,at.zw)(o.formStatus.warehouse.message),1)]),(0,s._)("div",null,[(0,s._)("div",kv,[(0,s._)("div",Cv,[Dv,(0,s.Wm)(it.hw,{error:!o.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>i.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[13]||(e[13]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Sv,(0,at.zw)(o.formStatus.size.message),1)]),(0,s._)("div",zv,[Uv,(0,s.Wm)(it.hw,{error:!o.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[15]||(e[15]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pv,(0,at.zw)(o.formStatus.color.message),1)]),(0,s._)("div",Lv,[Av,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",qv,(0,at.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",Wv,[$v,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Tv,(0,at.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Ev,[(0,s._)("button",{disabled:!o.quantity,class:(0,at.C_)([{"bg-primary-color":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Ov],10,Fv)])]),(0,s._)("div",Vv,[(0,s._)("div",Iv,[jv,(0,s._)("div",Hv," Quantity Total: "+(0,at.zw)(i.qtyTotal),1)]),0==o.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":o.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!o.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,at.zw)(o.formStatus.variants.valid?"No Variants yet":o.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",Mv,[(0,s._)("table",Nv,[(0,s._)("thead",Rv,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["warehouse","size","color","qty","Stock Alert","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Yv,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Zv,(0,at.zw)(t.warehouse.name),1),(0,s._)("td",Kv,(0,at.zw)(t.size),1),(0,s._)("td",Bv,(0,at.zw)(t.color),1),(0,s._)("td",Jv,[(0,s._)("div",Qv,[(0,s._)("span",null,(0,at.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",Gv,(0,at.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",Xv,(0,at.zw)(t.stockAlert),1),(0,s._)("td",ty,[(0,s._)("div",null,[(0,s.Wm)(w,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])])),_:1})])),_:1}),(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ey,[ry,(0,s.Wm)(it.hw,{error:!o.formStatus.link_store.valid,onKeyup:e[21]||(e[21]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:o.product.link_store,"onUpdate:modelValue":e[22]||(e[22]=t=>o.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",ay,(0,at.zw)(o.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",sy,[ly,(0,s.Wm)(it.hw,{error:!o.formStatus.link_video.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:o.product.link_video,"onUpdate:modelValue":e[24]||(e[24]=t=>o.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",oy,(0,at.zw)(o.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[iy,(0,s._)("div",ny,[(0,s.Wm)(ff.r,{modelValue:o.selectedDeliveries,"onUpdate:modelValue":e[25]||(e[25]=t=>o.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(d,{offers:o.offers,"onUpdate:offers":e[26]||(e[26]=t=>o.offers=t)},null,8,["offers"])])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[wy,(0,s._)("div",dy,[(0,s._)("div",cy,[(0,s._)("label",uy,[(0,s._)("div",py,[(0,s.Wm)(ot.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),gy]),(0,s._)("input",{onChange:e[27]||(e[27]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",my,[(0,s._)("div",hy,[(0,s._)("img",{class:(0,at.C_)([{"tw-hidden":!o.image},"w-full h-full tw-object-contain"]),ref:"image",src:o.serverUrl+"storage/"+o.image,id:"image-preview",alt:"Image Preview"},null,10,fy),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!!o.image},"bg-gray-300 h-48 flex items-center justify-center"])},xy,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",vy,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yy])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[_y])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const Cy={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},Dy={class:"tw-w-full"},Sy=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),zy={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},Uy=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),Py=[Uy],Ly=["disabled"],Ay=(0,s._)("span",{class:"tw-text-white"},"Add",-1),qy=[Ay];function Wy(t,e,r,a,l,o){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>l.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:l.deletePopup,onResolved:o.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(w,{visible:l.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:o.update,variant:r.variant,onCancel:o.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(w,{visible:l.visibleAdd,onCancel:o.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",Cy,[(0,s._)("div",Dy,[Sy,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",zy,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.cancelAdd&&o.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},Py),(0,s._)("button",{disabled:!l.quantity||0==l.quantity,class:(0,at.C_)([{"!tw-bg-green-500":0!=l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>o.addQuantity&&o.addQuantity(...t))},qy,10,Ly)])])])),_:1},8,["visible","onCancel"])])}var $y={components:{UpdateProductVariant:bx},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const Ty=(0,g.Z)($y,[["render",Wy]]);var Ey=Ty,Fy={components:{UpdateVariantActions:Ey,ProductOffers:Bx},data(){return{currency:c,serverUrl:w,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),ha.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.variants=qt(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:this.warehouse,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return kx.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return ha.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,name:l,description:o,link_video:i,link_store:n,deliveries:w,image:d,offers:c}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=l,this.product.reference=s,this.product.link_video=i,this.product.link_store=n,this.product.description=o,this.image=d,this.offers=c,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=w.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const Oy=(0,g.Z)(Fy,[["render",ky]]);var Vy=Oy;const Iy={class:"tw-pb-14"},jy=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),Hy={key:0},My={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ny={class:"tw-grid tw-grid-cols-12 tw-gap-2"},Ry={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Yy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),Zy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Ky={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},By=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),Jy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},Qy={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},Gy=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),Xy={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},t_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},e_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),r_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},a_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},s_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),l_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},o_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},i_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),n_={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},w_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},d_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),c_=["href"],u_={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},p_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),g_=["href"],m_={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},h_=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),f_={class:"tw-text-neutral-800 tw-font-medium"},b_={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},x_={key:3,class:"tw-border bg-white tw-w-full tw-rounded-md"},v_={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},y_={key:5,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},__={class:"tw-max-w-full tw-overflow-auto"},k_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},C_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},D_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},S_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},z_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},U_={class:"tw-px-6 tw-py-2"},P_={class:"tw-px-6 tw-py-2"},L_={class:"tw-flex tw-flex-col"},A_={class:"tw-px-6 tw-py-2"},q_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},W_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),$_=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),T_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),E_={class:"tw-px-6 tw-py-2"},F_={class:"tw-flex tw-flex-col tw-font-medium"},O_=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function V_(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",Iy,[jy,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hy,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",My,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",Ny,[(0,s._)("div",Ry,[Yy,(0,s._)("p",Zy,(0,at.zw)(l.product.name),1)]),(0,s._)("div",Ky,[By,(0,s._)("p",Jy,(0,at.zw)(l.product.ref),1)]),(0,s._)("div",Qy,[Gy,(0,s._)("p",Xy,(0,at.zw)(l.product.buying_price)+" "+(0,at.zw)(l.currency),1)]),(0,s._)("div",t_,[e_,(0,s._)("p",r_,(0,at.zw)(l.product.selling_price)+" "+(0,at.zw)(l.currency),1)]),(0,s._)("div",a_,[s_,(0,s._)("p",l_,(0,at.zw)(o.qtyTotalDelivered),1)]),(0,s._)("div",o_,[i_,(0,s._)("p",n_,(0,at.zw)(o.qtyTotalSent),1)]),(0,s._)("div",w_,[d_,(0,s._)("a",{target:"_blank",href:l.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,at.zw)(l.product.link_store),9,c_)]),(0,s._)("div",u_,[p_,(0,s._)("a",{target:"_blank",href:l.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,at.zw)(l.product.link_video),9,g_)]),(0,s._)("div",m_,[h_,(0,s._)("p",f_,(0,at.zw)(l.product.description),1)])])])])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",b_,"Tracking")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",x_,[(0,s.Wm)(n,{product:l.product},null,8,["product"])])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("h1",v_,"Variations")):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",y_,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",__,[(0,s._)("table",k_,[(0,s._)("thead",C_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",D_,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",S_,(0,at.zw)(t.id),1),(0,s._)("th",z_,(0,at.zw)(t.size),1),(0,s._)("td",U_,(0,at.zw)(t.color),1),(0,s._)("td",P_,[(0,s._)("div",L_,[(0,s._)("span",null,"Initial: "+(0,at.zw)(t.quantity),1)])]),(0,s._)("td",A_,(0,at.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",q_,[W_,$_,T_,(0,s._)("td",E_,[(0,s._)("div",F_,[(0,s._)("span",null,"Total: "+(0,at.zw)(o.qtyTotal),1)])]),O_])])])])])])])):(0,s.kq)("",!0)])}const I_={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},j_=["onClick"];function H_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(ms._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",I_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>l.tab=t.id,class:(0,at.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==l.tab}])},(0,at.zw)(t.name),11,j_)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(bs.Oo,{class:"tw-mt-0",modelValue:l.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>l.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(xs.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const M_={class:"tw-mt-5"},N_={class:"tw-max-w-full tw-overflow-auto"},R_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Y_={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Z_={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function K_(t,e,r,a,l,o){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",M_,[(0,s._)("div",N_,[(0,s._)("table",R_,[(0,s._)("thead",Y_,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Z_,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.j4)(i,{item:t,key:t.id,source:r.source},null,8,["item","source"])))),128))])])])])}const B_={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},J_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Q_={class:"tw-flex tw-items-start tw-h-full"},G_={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},X_={class:"tw-px-6 tw-py-2"},tk={key:0},ek={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},rk={key:0,class:"tw-h-fit tw-py-2"},ak=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),sk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},lk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),ok={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},ik=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),nk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},wk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),dk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},ck={key:1},uk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},pk={key:0,class:"tw-h-fit tw-py-2"},gk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),mk={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},hk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),fk={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},bk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),xk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},vk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),yk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},_k={class:"tw-px-6 tw-py-2 tw-space-x-3"};function kk(t,e,r,a,l,o){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",B_,[(0,s._)("th",J_,[(0,s._)("div",Q_,(0,at.zw)(r.item.id),1)]),(0,s._)("th",G_,(0,at.zw)(r.item.name),1),(0,s._)("td",X_,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",tk,[(0,s._)("div",ek,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,at.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",rk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[ak,(0,s._)("td",sk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[lk,(0,s._)("td",ok,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[ik,(0,s._)("td",nk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[wk,(0,s._)("td",dk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",ck,[(0,s._)("div",uk,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,at.zw)(o.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",pk,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[gk,(0,s._)("td",mk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[hk,(0,s._)("td",fk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[bk,(0,s._)("td",xk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[vk,(0,s._)("td",yk,(0,at.zw)(o.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",_k,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Ck(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:l.visible,onCancel:o.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Dk={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Sk={class:"tw-p-5"},zk={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Uk=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Pk(t,e,r,a,l,o){const i=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Dk,[(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Sk,[(0,s._)("table",zk,[Uk,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,type:r.type},null,8,["item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Lk={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Ak={class:"tw-w-4 tw-px-2 tw-py-1"},qk={class:"tw-w-4 tw-px-2 tw-py-1"},Wk={class:"tw-w-4 tw-px-2 tw-py-1"},$k={class:"tw-w-4 tw-px-2 tw-py-1"},Tk={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Ek={key:0,class:"tw-h-fit tw-py-2"},Fk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Ok={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},Vk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),Ik={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},jk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Hk={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Mk=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Nk={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function Rk(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",Lk,[(0,s._)("td",Ak,(0,at.zw)(r.item.id),1),(0,s._)("td",qk,(0,at.zw)(r.item.size),1),(0,s._)("td",Wk,(0,at.zw)(r.item.color),1),(0,s._)("td",$k,[(0,s._)("div",null,[(0,s._)("div",Tk,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showDetails=!l.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,at.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[l.showDetails?((0,s.wg)(),(0,s.iD)("div",Ek,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Fk,(0,s._)("td",Ok,(0,at.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[Vk,(0,s._)("td",Ik,(0,at.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[jk,(0,s._)("td",Hk,(0,at.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[Mk,(0,s._)("td",Nk,(0,at.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var Yk={props:["type","item"],data(){return{showDetails:!1}}};const Zk=(0,g.Z)(Yk,[["render",Rk]]);var Kk=Zk,Bk={props:["visible","source","type"],components:{ProductVariantDetailsRow:Kk},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Jk=(0,g.Z)(Bk,[["render",Pk]]);var Qk=Jk,Gk={props:["product","source","type"],components:{ProductVariantDetails:Qk},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const Xk=(0,g.Z)(Gk,[["render",Ck]]);var tC=Xk,eC={components:{ShowProductVariantActions:tC},props:["source","item"],data(){return{showDetails:!1}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const rC=(0,g.Z)(eC,[["render",kk]]);var aC=rC,sC={props:["product","source"],components:{ProductTrackingRow:aC},computed:{items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const lC=(0,g.Z)(sC,[["render",K_]]);var oC=lC,iC={components:{ProductTrackingTable:oC},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const nC=(0,g.Z)(iC,[["render",H_]]);var wC=nC,dC={components:{ProductTracking:wC},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;ha.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const cC=(0,g.Z)(dC,[["render",V_]]);var uC=cC,pC={name:"products",path:"/products",component:ya,meta:{module:"product"},children:[{name:"product/list",path:"",component:jd,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:hf,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:Gx,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/update",path:"update/:id",component:Vy,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:uC,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const gC={class:"mb-5 tw-flex tw-justify-between tw-items-center"},mC=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),hC={key:0},fC=(0,s._)("span",{class:"text-white"}," Add User ",-1),bC={key:0},xC={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},vC={class:"mb-5 tw-flex"},yC={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},_C={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},kC={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},CC=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),DC={class:"tw-relative"},SC=["value"],zC={class:""};function UC(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",gC,[mC,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",hC,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),fC])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bC,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",xC,[(0,s._)("div",vC,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",yC,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",_C,[(0,s._)("div",kC,[CC,(0,s._)("div",DC,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,at.zw)(t),9,SC)))),128))],512),[[a.bM,o.role]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",zC,[(0,s.Wm)(w,{users:i.filteredUsers,columns:o.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const PC={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},LC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},AC={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},qC=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),WC={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},$C=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),TC={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},EC={class:"tw-px-6 tw-py-4"},FC={class:"tw-px-6 tw-py-4"},OC={class:"tw-px-6 tw-py-4"},VC={class:"tw-px-6 tw-py-4"},IC={class:"tw-px-6 tw-py-4"},jC={key:0,class:"tw-text-red-500"},HC={key:1},MC={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},NC=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),RC={key:1,class:"tw-text-neutral-700"},YC={class:"tw-px-6 tw-py-4"},ZC={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},KC={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},BC={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},JC=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),QC=["value"],GC={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},XC={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},tD={class:"tw-text-white"};function eD(t,e,r,l,o,i){const n=(0,s.up)("RoleName"),w=(0,s.up)("UserStatus"),d=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",PC,[(0,s._)("table",LC,[(0,s._)("thead",AC,[(0,s._)("tr",null,[qC,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",WC,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[$C,(0,s._)("th",TC,(0,at.zw)(e.id),1),(0,s._)("td",EC,(0,at.zw)(e.firstname)+" "+(0,at.zw)(e.lastname),1),(0,s._)("td",FC,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",OC,(0,at.zw)(e.email),1),(0,s._)("td",VC,(0,at.zw)(e.phone),1),(0,s._)("td",IC,[e.last_action?((0,s.wg)(),(0,s.iD)("div",HC,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",MC,[NC,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",RC,(0,at.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",jC," Never Connected "))]),(0,s._)("td",YC,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(w,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",ZC,[(0,s.Wm)(d,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",KC,[(0,s._)("div",BC,[JC,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,QC)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",GC,[(0,s._)("div",XC,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,at.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",tD,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function rD(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var aD={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,et["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),et.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const sD=(0,g.Z)(aD,[["render",rD]]);var lD=sD;const oD={key:0,class:"tw-flex tw-items-center"};function iD(t,e,r,a,l,o){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",oD,[(0,s.Wm)(Qi.G,{disabled:l.isLoading,loading:l.isLoading,onChange:o.handleChange,color:"primary-color",flat:!0,modelValue:l.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>l.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var nD={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,et.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const wD=(0,g.Z)(nD,[["render",iD]]);var dD=wD;const cD={class:"tw-flex tw-items-center tw-h-full"};function uD(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",cD,[(0,s._)("div",{class:(0,at.C_)([o.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,at.C_)([o.current.text,"tw-text-sm tw-uppercase"])},(0,at.zw)(r.role),3)],2)])}var pD={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const gD=(0,g.Z)(pD,[["render",uD]]);var mD=gD,hD={props:["columns","users"],components:{UserActions:lD,UserStatus:dD,RoleName:mD},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,cs.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const fD=(0,g.Z)(hD,[["render",eD]]);var bD=fD,xD={components:{UsersTable:bD},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const vD=(0,g.Z)(xD,[["render",UC]]);var yD=vD,_D=r(988);const kD=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),CD={key:0},DD={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},SD={class:"tw-w-full"},zD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),UD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},PD={class:"tw-w-full"},LD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),AD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qD={class:"tw-w-full"},WD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),$D={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},TD={class:"tw-w-full"},ED=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),FD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},OD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),VD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),ID=["value"],jD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Commission",-1),HD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},MD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),ND=["value"],RD=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),YD=(0,s._)("span",{class:"text-white"},"Add",-1),ZD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),KD={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},BD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),JD={class:"tw-w-full"},QD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),GD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},XD={class:"tw-w-full"},tS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),eS={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},rS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),aS={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},sS=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),lS=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function oS(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[kD,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CD,[(0,s.Wm)(n)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",DD,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",SD,[zD,(0,s.Wm)(it.hw,{error:!o.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:o.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",UD,(0,at.zw)(o.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",PD,[LD,(0,s.Wm)(it.hw,{error:!o.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:o.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>o.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",AD,(0,at.zw)(o.formStatus.lastname.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qD,[WD,(0,s.Wm)(it.hw,{error:!o.formStatus.email.valid,"hide-details":!0,onKeyup:e[4]||(e[4]=t=>i.resetError("email")),modelValue:o.user.email,"onUpdate:modelValue":e[5]||(e[5]=t=>o.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$D,(0,at.zw)(o.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",TD,[ED,(0,s.Wm)(it.hw,{error:!o.formStatus.phone.valid,"hide-details":!0,onKeyup:e[6]||(e[6]=t=>i.resetError("phone")),modelValue:o.user.phone,"onUpdate:modelValue":e[7]||(e[7]=t=>o.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",FD,(0,at.zw)(o.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(Da.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Qi.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[8]||(e[8]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),OD,(0,s._)("div",null,[(0,s.Wm)(_D.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Da.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[VD,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,ID)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0),i.isMarketer?((0,s.wg)(),(0,s.j4)(Da.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jD,(0,s.Wm)(it.hw,{error:!o.formStatus.commission.valid,"hide-details":!0,onKeyup:e[11]||(e[11]=t=>i.resetError("commission")),modelValue:o.user.commission,"onUpdate:modelValue":e[12]||(e[12]=t=>o.user.commission=t),type:"number",clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",HD,(0,at.zw)(o.formStatus.commission.message),1)])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Da.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[MD,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,ND)))),128))],512),[[a.bM,o.deliveryCity]]),RD,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(st.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[YD])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[ZD,(0,s.Wm)(ff.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[15]||(e[15]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",KD,[BD,(0,s.Wm)(Qi.G,{modelValue:o.user.status,"onUpdate:modelValue":e[16]||(e[16]=t=>o.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",JD,[QD,(0,s.Wm)(it.hw,{error:!o.formStatus.password.valid,"hide-details":!0,onKeyup:e[17]||(e[17]=t=>i.resetError("password")),modelValue:o.user.password,"onUpdate:modelValue":e[18]||(e[18]=t=>o.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",GD,(0,at.zw)(o.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",XD,[tS,(0,s.Wm)(it.hw,{error:!o.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[19]||(e[19]=t=>i.resetError("confirmPassword")),modelValue:o.user.confirmPassword,"onUpdate:modelValue":e[20]||(e[20]=t=>o.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",eS,(0,at.zw)(o.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Da.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[rS,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,at.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,at.zw)(t.fee)+" "+(0,at.zw)(o.currency),1),(0,s._)("div",null,[(0,s.Wm)(ot.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",aS,[(0,s.Wm)(st.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[sS])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[lS])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var iS={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},commission:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",status:!0,commission:0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isMarketer(){return this.roles.find((t=>"marketer"==t.name.toLocaleLowerCase()))?.id==this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};et.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",email:"",password:"",commission:0,confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=zt(this.user.email),this.formStatus.firstname=Pt(this.user.firstname),this.formStatus.lastname=Pt(this.user.lastname),this.formStatus.phone=Pt(this.user.phone),this.formStatus.password=Ut(this.user.password),this.formStatus.confirmPassword=At(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,l=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&l&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):et.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):ha.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const nS=(0,g.Z)(iS,[["render",oS]]);var wS=nS;const dS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),cS={key:0},uS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},pS={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},gS={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},mS={class:"tw-w-full"},hS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),fS={class:"tw-w-full"},bS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),xS={class:"tw-w-full"},vS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),yS={class:"tw-w-full"},_S=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),kS={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},CS=(0,s._)("span",null,"Update Password: ",-1),DS={class:"tw-w-full"},SS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),zS={class:"tw-w-full"},US=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),PS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),LS={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},AS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),qS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Commission",-1),WS={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$S=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),TS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),ES=["value"],FS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),OS=["value"],VS=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),IS=(0,s._)("span",{class:"text-white"},"Add",-1),jS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),HS={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},MS=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),NS=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function RS(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[dS,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cS,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",uS,[(0,s._)("div",pS,[(0,s.Uk)(" User ID: "),(0,s._)("span",gS,(0,at.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",mS,[hS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",fS,[bS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",xS,[vS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",yS,[_S,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",kS,[CS,(0,s.Wm)(Qi.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(Da.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",DS,[SS,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(Da.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zS,[US,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[PS,(0,s.Wm)(ff.r,{class:"text-capitalize","error-messages":o.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:o.role,"onUpdate:modelValue":e[7]||(e[7]=t=>o.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LS,[AS,(0,s.Wm)(Qi.G,{modelValue:o.status,"onUpdate:modelValue":e[8]||(e[8]=t=>o.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isMarketer?((0,s.wg)(),(0,s.j4)(Da.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[qS,(0,s.Wm)(it.hw,{error:!o.formStatus.commission.valid,"hide-details":!0,onKeyup:e[9]||(e[9]=e=>t.resetError("commission")),modelValue:o.commission,"onUpdate:modelValue":e[10]||(e[10]=t=>o.commission=t),type:"number",clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",WS,(0,at.zw)(o.formStatus.commission.message),1)])])),_:1})):(0,s.kq)("",!0),i.isAgente?((0,s.wg)(),(0,s.j4)(Da.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Qi.G,{modelValue:o.isHavingAllProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>o.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),$S,(0,s._)("div",null,[(0,s.Wm)(_D.f,{disabled:o.isHavingAllProducts,modelValue:o.selectedProducts,"onUpdate:modelValue":e[12]||(e[12]=t=>o.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Da.D,{key:2,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[TS,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,ES)))),128))],512),[[a.bM,o.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(Da.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[FS,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>o.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,OS)))),128))],512),[[a.bM,o.deliveryCity]]),VS,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:o.deliveryCityFee,"onUpdate:modelValue":e[15]||(e[15]=t=>o.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(st.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[IS])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(Da.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[jS,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,at.zw)(o.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,at.zw)(t.fee)+" DH ",1),(0,s._)("div",null,[(0,s.Wm)(ot.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",HS,[(0,s.Wm)(st.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[MS])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[NS])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var YS={data(){return{serverUrl:w,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},commission:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",role:"",user_image:null,status:!1,product:null,commission:0,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isMarketer(){return this.roles.find((t=>"marketer"==t.name.toLocaleLowerCase()))?.id==this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,commission:this.commission,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,et.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=zt(this.email),this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=Ut(this.password),this.formStatus["confirmPassword"]=At(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,l=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&l&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return et.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.role=e.role,this.commission=e.commission,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:parseInt(e.fee)}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return ha.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return et.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const ZS=(0,g.Z)(YS,[["render",RS]]);var KS=ZS;const BS=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),JS={key:0},QS={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},GS={class:"md:tw-w-1/2 tw-w-full"},XS=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),tz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ez={class:"mb-3 text-body-2 tw-text-zinc-700"},rz={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},az={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},sz=["onClick"],lz={key:0},oz={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},iz=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),nz=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function wz(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[BS,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",JS,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",QS,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",GS,[XS,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tz,(0,at.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",ez,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",rz,(0,at.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",az,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,at.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,at.zw)(t),1)],10,sz)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",lz,(0,at.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",oz,[(0,s.Wm)(st.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[iz])),_:1}),(0,s.Wm)(st.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[nz])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var dz={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,et.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=Wt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},async getPermissions(){return await et.permessions().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.permissions;this.permissions=e.map((t=>t.name)),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getPermissions(),this.isFormReady=!0}};const cz=(0,g.Z)(dz,[["render",wz]]);var uz=cz;const pz={class:"mb-5 tw-flex tw-justify-between tw-items-center"},gz=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),mz={class:"tw-flex tw-items-center tw-gap-2"},hz={key:0},fz=(0,s._)("span",{class:"text-white"}," Role ",-1),bz={key:0},xz={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},vz={class:"mb-5 tw-flex"},yz={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},_z={class:""};function kz(t,e,r,l,o,i){const n=(0,s.up)("CreatePermission"),w=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",pz,[gz,(0,s._)("div",mz,[(0,s.Wm)(n,{visible:o.visible,"onUpdate:visible":e[0]||(e[0]=t=>o.visible=t)},null,8,["visible"]),t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",hz,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),fz])),_:1})])):(0,s.kq)("",!0)])]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bz,[(0,s.Wm)(w)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",xz,[(0,s._)("div",vz,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",yz,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",_z,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:o.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const Cz={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Dz={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Sz={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},zz=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Uz={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Pz=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Lz={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Az={class:"tw-px-6 tw-py-4 tw-uppercase"},qz={class:"tw-px-6 tw-py-4"},Wz={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},$z={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Tz={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Ez=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Fz=["value"],Oz={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Vz={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Iz={class:"tw-text-white"};function jz(t,e,r,l,o,i){const n=(0,s.up)("RolePermissions"),w=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Cz,[(0,s._)("table",Dz,[(0,s._)("thead",Sz,[(0,s._)("tr",null,[zz,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Uz,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Pz,(0,s._)("th",Lz,(0,at.zw)(t.id),1),(0,s._)("td",Az,(0,at.zw)(t.name),1),(0,s._)("td",qz,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",Wz,[(0,s.Wm)(w,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",$z,[(0,s._)("div",Tz,[Ez,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Fz)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Oz,[(0,s._)("div",Vz,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,at.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Iz,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Hz={key:0},Mz={class:"tw-flex tw-flex-wrap tw-gap-2"};function Nz(t,e,r,a,l,o){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hz,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:l.isLoadingDelete,visible:l.showPopupDelete,onResolved:o.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:l.isLoadingShow,visible:l.showPopupShow,onResolved:o.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",Mz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,at.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var Rz={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,et.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),et.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const Yz=(0,g.Z)(Rz,[["render",Nz]]);var Zz=Yz;const Kz={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},Bz=["title"];function Jz(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Kz,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,at.zw)(t.name),9,Bz)))),128))])}var Qz={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const Gz=(0,g.Z)(Qz,[["render",Jz]]);var Xz=Gz,tU={props:["columns","roles"],components:{RoleActions:Zz,RolePermissions:Xz},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const eU=(0,g.Z)(tU,[["render",jz]]);var rU=eU;const aU=(0,s._)("span",{class:"text-white"}," Permission ",-1),sU={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},lU={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},oU=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Add permission ",-1),iU={class:"tw-p-5"},nU={class:""},wU=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),dU={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cU={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},uU=["disabled"],pU=["disabled"],gU=(0,s._)("span",null,"Add",-1);var mU={__name:"CreatePermission",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,be.iH)(!1),o=(0,be.iH)({}),i=(0,be.iH)({name:""}),n=t=>{e("update:visible",t)},w=async()=>{if(!i.value.name)return o.value.name="Name is required",!1;o.value.name="",l.value=!0,await et.createPermission(i.value.name).then((t=>{if("SUCCESS"==t.data.code){const e=X.getters["user/permissions"];e.push(t.data.permission.name),Sn("Permission added successfully"),n(!1)}})).catch((t=>{Sn("Something went wrong!","danger"),console.log(t)})),l.value=!1};return(t,e)=>{const d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>n(!0)),color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),aU])),_:1}),(0,s.Wm)(d,{visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",sU,[(0,s._)("div",lU,[oU,(0,s._)("div",iU,[(0,s._)("div",nU,[wU,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value.name=t),onInput:e[2]||(e[2]=t=>o.value.name=null),type:"text",class:(0,at.C_)([[o.value.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter permission name",required:""},null,34),[[a.nr,i.value.name]]),o.value.name?((0,s.wg)(),(0,s.iD)("label",dU,(0,at.zw)(o.value.name),1)):(0,s.kq)("",!0)])]),(0,s._)("div",cU,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>n(!1)),disabled:l.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,uU),(0,s._)("button",{onClick:w,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),gU],8,pU)])])])])),_:1},8,["visible"])])}}};const hU=mU;var fU=hU,bU={components:{RolesTable:rU,CreatePermission:fU},data(){return{localUrl:n,visible:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const xU=(0,g.Z)(bU,[["render",kz]]);var vU=xU;const yU=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),_U={key:0},kU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},CU={class:"md:tw-w-1/2 tw-w-full"},DU=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),SU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zU={class:"mb-3 text-body-2 tw-text-zinc-700"},UU={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},PU={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},LU=["onClick"],AU={key:0},qU={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},WU=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),$U=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function TU(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[yU,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_U,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",kU,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",CU,[DU,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>o.resetError("firstname")),modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",SU,(0,at.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",zU,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",UU,(0,at.zw)(l.formStatus.permissions.message),1)]),(0,s._)("div",PU,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>o.handleClick(t),class:(0,at.C_)([{"!tw-bg-orange-500 !tw-text-white":l.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,at.zw)(t),11,LU)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[l.show?((0,s.wg)(),(0,s.iD)("div",AU,(0,at.zw)(l.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",qU,[(0,s.Wm)(st.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[WU])),_:1}),(0,s.Wm)(st.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[$U])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var EU={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,et.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=Wt(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){et.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const FU=(0,g.Z)(EU,[["render",TU]]);var OU=FU,VU={name:"users",path:"/users",component:ya,meta:{module:"user"},children:[{name:"user/list",path:"",component:yD,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:wS,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:KS,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:uz,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:vU,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:OU,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const IU={class:"mb-5 tw-flex tw-justify-between tw-items-center"},jU=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),HU={key:0},MU=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),NU={key:0},RU={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},YU={class:"mb-5 tw-flex"},ZU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},KU={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},BU={class:""};function JU(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SalesAnalytics"),d=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",IU,[jU,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",HU,[(0,s.Wm)(st.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),MU])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",NU,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",RU,[(0,s.Wm)(w,{sales:i.sales},null,8,["sales"]),(0,s._)("div",YU,[(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",ZU,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,o.search]])]),(0,s._)("div",KU,[(0,s.Wm)(ot.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,o.searchId]])]),(0,s.Wm)(Qe.C),(0,s.Wm)(st.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:o.isButtonDisabled,loading:o.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(st.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":o.showFilters}])},[(0,s.Wm)(d,{sales:i.sales,search:o.search,"search-id":o.searchId,filtered:o.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>o.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",BU,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":o.selected,key:o.filteredSales.length,sales:o.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>o.showPopup=!1),visible:o.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>o.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const QU={class:"tw-grid tw-grid-cols-12 tw-mb-5"},GU={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},XU=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),tP=["value"],eP={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},rP={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},aP={scope:"col",class:"tw-p-4"},sP={class:"tw-flex tw-items-center"},lP=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),oP={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},iP={class:"tw-w-4 tw-p-4 tw-relative"},nP={class:"tw-flex tw-items-center"},wP=["onChange","checked"],dP=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),cP={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},uP={class:"tw-px-6 tw-py-4 tw-relative"},pP={key:0},gP={class:"tw-px-6 tw-py-4"},mP=["title"],hP={class:"tw-px-6 tw-py-4 tw-relative"},fP={class:"tw-pb-2"},bP={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},xP={key:0},vP={key:1},yP={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},_P={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},kP={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},CP={class:"tw-px-6 tw-py-4"},DP={class:"tw-px-6 tw-py-4 tw-relative"},SP={class:"tw-flex tw-items-center tw-justify-center"},zP={class:"tw-flex tw-gap-1"},UP={key:0},PP={class:"tw-px-6 tw-py-4"},LP={class:"tw-px-6 tw-py-4 tw-relative"},AP={class:"tw-flex tw-items-center tw-justify-center"},qP={class:"tw-flex tw-gap-1"},WP={key:0},$P={class:"tw-px-6 tw-py-4"},TP={class:"tw-px-6 tw-py-4"},EP={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},FP={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},OP={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},VP={class:"tw-flex tw-flex-wrap tw-gap-2"},IP={class:"tw-text-white"};function jP(t,e,r,l,o,i){const n=(0,s.up)("SaleConfirmation"),w=(0,s.up)("SaleAffectation"),d=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",QU,[(0,s._)("div",GU,[XU,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,tP)))),128))],512),[[a.bM,o.paginationLimit]])])]),(0,s._)("div",eP,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",rP,[(0,s._)("tr",null,[(0,s._)("th",aP,[(0,s._)("div",sP,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,o.isAllSelected]]),lP])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,at.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",oP,(0,at.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,at.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",iP,[(0,s._)("div",nP,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,wP),dP])]),(0,s._)("td",cP,(0,at.zw)(t.id),1),(0,s._)("td",uP,[(0,s.Uk)((0,at.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",pP," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",gP,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,at.zw)(t.city),9,mP)]),(0,s._)("td",hP,[(0,s._)("div",fP,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",bP,(0,at.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",xP,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",vP,"| "+(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",yP,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",_P," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",kP," delivery "))])])]),(0,s._)("td",CP,(0,at.zw)(t.fullname),1),(0,s._)("td",DP,[(0,s._)("div",SP,[((0,s.wg)(),(0,s.j4)(n,{class:(0,at.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",zP,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",UP,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",PP,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(w,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",LP,[(0,s._)("div",AP,[((0,s.wg)(),(0,s.j4)(d,{class:(0,at.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",qP,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",WP,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",$P,(0,at.zw)(i.getPrice(t)),1),(0,s._)("td",TP,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",EP,[(0,s._)("div",FP,[(0,s._)("div",OP,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,at.zw)(r.sales.length)+" items ",1),(0,s._)("div",VP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",IP,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const HP={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},MP=["onClick"],NP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},RP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),YP={class:"tw-flex tw-justify-end tw-mt-2"};function ZP(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,at.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(i.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",HP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,at.zw)(t.name),3)],8,MP)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",NP,[RP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",YP,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.sale,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[re.L,i.close]])}const KP={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},BP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),JP=(0,s._)("br",null,null,-1),QP=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),GP={class:"tw-flex tw-justify-end tw-mt-2"};function XP(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",KP,[BP,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),JP,QP,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",GP,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var tL={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,ba.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const eL=(0,g.Z)(tL,[["render",XP]]);var rL=eL,aL={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:rL},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:Wd,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const sL=(0,g.Z)(aL,[["render",ZP]]);var lL=sL;const oL={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},iL=["onClick"],nL={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},wL={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function dL(t,e,r,a,l,o){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,at.zw)(o.selected.firstname)+" "+(0,at.zw)(o.selected.lastname)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",oL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",nL,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1)],8,iL)))),128))])],2)])),[[re.L,o.close]]):((0,s.wg)(),(0,s.iD)("div",wL,[(0,s.Wm)(ot.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var cL={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){ba.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const uL=(0,g.Z)(cL,[["render",dL]]);var pL=uL;const gL={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},mL=["onClick"];function hL(t,e,r,a,l,o){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,at.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",gL,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,at.zw)(t.name),3)],8,mL)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[re.L,o.close]])}const fL={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},bL=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),xL=(0,s._)("br",null,null,-1),vL=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),yL={class:"tw-flex tw-justify-end tw-mt-2"};function _L(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",fL,[bL,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),xL,vL,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",yL,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var kL={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){}};const CL=(0,g.Z)(kL,[["render",_L]]);var DL=CL,SL={props:["delivery","id","sale"],components:{SaleDeliveryReporting:DL},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Fd,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const zL=(0,g.Z)(SL,[["render",hL]]);var UL=zL;const PL={key:0};function LL(t,e,r,a,l,o){const i=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),w=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",PL,[(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:l.showHistoryPopup,onCancel:e[4]||(e[4]=t=>l.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[l.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>l.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{visible:l.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>l.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var AL=r(7103),qL=r(795),WL=r(2773);const $L={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},TL={key:0,class:"tw-w-full tw-h-full"},EL={key:1,class:"tw-p-5"},FL={class:"d-flextw-flex-col justify-space-between flex-grow-1"},OL={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},VL={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},IL={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},jL={class:"d-flextw-flex-col justify-space-between flex-grow-1"},HL={class:"tw-flex tw-flex-col tw-my-2"},ML=(0,s._)("div",null," New Order Created ",-1),NL={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function RL(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",$L,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",TL,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",EL,[(0,s.Wm)(qL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(WL.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",FL,[(0,s._)("div",OL,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AL.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",VL,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1),(0,s._)("div",IL,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(WL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",jL,[(0,s._)("div",HL,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),ML]),(0,s._)("div",NL,[(0,s._)("span",null,(0,at.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var YL={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,ba.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const ZL=(0,g.Z)(YL,[["render",RL]]);var KL=ZL;const BL={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},JL={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},QL=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),GL={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},XL={class:"md:tw-col-span-6 tw-col-span-12"},tA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),eA={class:"md:tw-col-span-6 tw-col-span-12"},rA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),aA={class:"md:tw-col-span-6 tw-col-span-12"},sA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),lA=["value"],oA=["value"],iA={class:"md:tw-col-span-6 tw-col-span-12"},nA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),wA={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},dA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),cA={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},uA={class:"tw-col-span-12"},pA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),gA={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},mA={class:"tw-col-span-12 md:tw-col-span-4"},hA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),fA={class:"tw-col-span-12 md:tw-col-span-8"},bA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),xA={class:"md:tw-col-span-6 tw-col-span-12"},vA=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),yA={class:"md:tw-col-span-6 tw-col-span-12"},_A=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),kA=["value"],CA={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},DA={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},SA={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},zA=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),UA={class:"tw-flex tw-flex-col tw-justify-center"},PA=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),LA={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},AA={key:2,class:"md:tw-col-span-12 tw-col-span-12"},qA={class:"tw-max-w-full tw-overflow-auto"},WA={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},$A={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},TA={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},EA=["src"],FA={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},OA=["onUpdate:modelValue"],VA=(0,s._)("option",{value:0},"Select",-1),IA=["value"],jA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},HA=["disabled","onUpdate:modelValue"],MA=(0,s._)("option",{value:0},"Select",-1),NA=["value"],RA={key:0},YA={key:1},ZA={key:2},KA={key:3},BA=["value"],JA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},QA={class:"md:tw-col-span-6 tw-col-span-12"},GA=["onUpdate:modelValue"],XA={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},tq={key:0},eq={key:1,class:"md:tw-col-span-6 tw-col-span-12"},rq=["onUpdate:modelValue"],aq={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},sq={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},lq=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),oq={class:"md:tw-col-span-12 tw-col-span-12"},iq={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},nq=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),wq={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},dq=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),cq={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},uq=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),pq={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},gq=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),mq={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},hq={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},fq=(0,s._)("span",{class:"text-white"}," Cancel ",-1),bq=(0,s._)("span",{class:"text-white"}," Update ",-1);function xq(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",BL,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",JL,[QL,(0,s._)("div",GL,[(0,s._)("div",XL,[tA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",eA,[rA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",aA,[sA,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,at.zw)(o.sale.city),9,lA),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,oA)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",iA,[nA,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",wA,[dA,(0,s.Wm)(w,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",cA,[(0,s._)("div",uA,[pA,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",gA,[(0,s._)("div",mA,[hA,(0,s._)("div",null,(0,at.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",fA,[bA,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",xA,[vA,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",yA,[_A,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,at.zw)(t.name),9,kA)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",CA,[(0,s._)("div",DA,[(0,s._)("label",SA,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),zA]),(0,s._)("label",UA,[(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),PA,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",LA," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",AA,[(0,s._)("div",qA,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",WA,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",$A,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",TA,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,EA)):(0,s.kq)("",!0)])])),(0,s._)("th",FA,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[VA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,IA)))),128))],8,OA),[[a.bM,t.product.id]])])])]),(0,s._)("th",jA,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[MA,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",YA,(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",ZA,(0,at.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",KA,(0,at.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",RA,"-"))],8,NA)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,BA))],8,HA)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",JA,[(0,s._)("div",QA,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,GA),[[a.nr,t.quantity]])])]),(0,s._)("th",XA,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",tq," - ")):((0,s.wg)(),(0,s.iD)("div",eq,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,rq),[[a.nr,t.price]])]))])]),(0,s._)("th",aq,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",sq,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),lq])),_:1},8,["onClick"])])]),(0,s._)("div",oq,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",iq,[nq,(0,s._)("div",wq,[dq,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",cq,[uq,(0,s._)("div",pq,[gq,(0,s._)("div",mq,(0,at.zw)(o.currency)+" "+(0,at.zw)(i.total_price),1)])])]),(0,s._)("div",hq,[(0,s.Wm)(st.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[fq])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[bq])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const vq={class:"tw-relative"},yq=["value"],_q={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},kq=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),Cq={class:"tw-flex tw-justify-end tw-mt-2"};function Dq(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",vq,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,at.zw)(t.name),11,yq)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>o.showPopup=!1),visible:o.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",_q,[kq,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",Cq,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(w,{order:r.order,onConfirm:i.handleReportedDate,visible:o.showPopupReporter,onCancel:e[3]||(e[3]=t=>o.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[re.L,i.close]])}const Sq={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},zq=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Uq=(0,s._)("br",null,null,-1),Pq=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Lq={class:"tw-flex tw-justify-end tw-mt-2"};function Aq(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Sq,[zq,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),Uq,Pq,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",Lq,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var qq={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}}};const Wq=(0,g.Z)(qq,[["render",Aq]]);var $q=Wq,Tq={props:["confirmation","id","order"],components:{AddOrderReporting:$q},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Wd,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,ba.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,ba.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const Eq=(0,g.Z)(Tq,[["render",Dq]]);var Fq=Eq;const Oq={class:"tw-relative"},Vq=["disabled"],Iq=["value"],jq={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function Hq(t,e,r,l,o,i){return o.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",Oq,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,Iq)))),128))],8,Vq),[[a.bM,i.affectationValue]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[re.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",jq,[(0,s.Wm)(ot.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var Mq={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const Nq=(0,g.Z)(Mq,[["render",Hq]]);var Rq=Nq;const Yq=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),Zq={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},Kq={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Bq=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),Jq={class:"tw-px-6 tw-py-4"},Qq={class:"tw-px-6 tw-py-4"},Gq={class:"tw-px-6 tw-py-4"},Xq={class:"tw-px-6 tw-py-4"},tW={class:"tw-max-w-[250px] tw-text-sm"},eW={key:0},rW=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),aW=[rW];function sW(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Yq,(0,s._)("div",null,[(0,s._)("div",Zq,[(0,s._)("table",Kq,[Bq,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",Jq,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",Qq,(0,at.zw)(t.quantity),1),(0,s._)("td",Gq,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",Xq,[(0,s._)("p",tW,(0,at.zw)(t.note),1)])])))),128)),0==o.offers.length?((0,s.wg)(),(0,s.iD)("tr",eW,aW)):(0,s.kq)("",!0)])])])])])}var lW={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const oW=(0,g.Z)(lW,[["render",sW]]);var iW=oW,nW={components:{AddOrderConfirmation:Fq,AddOrderAffectation:Rq,ProductOffers:iW},props:["visible","order"],data(){return{upsells:Ed,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,ba.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const wW=(0,g.Z)(nW,[["render",xq]]);var dW=wW,cW={props:["sale"],name:"saleActions",components:{SaleHistory:KL,UpdateSale:dW},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const uW=(0,g.Z)(cW,[["render",LL]]);var pW=uW,gW={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:lL,SaleAffectation:pL,SaleDelivery:UL,SaleActions:pW},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return io(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const mW=(0,g.Z)(gW,[["render",jP]]);var hW=mW;const fW={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},bW={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},xW=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),vW={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},yW={class:"md:tw-col-span-6 tw-col-span-12"},_W=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),kW={class:"md:tw-col-span-6 tw-col-span-12"},CW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),DW={class:"md:tw-col-span-6 tw-col-span-12"},SW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),zW=["value"],UW={class:"md:tw-col-span-6 tw-col-span-12"},PW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),LW={class:"md:tw-col-span-12 tw-col-span-12"},AW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),qW={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},WW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),$W=(0,s._)("option",{value:0}," Select ",-1),TW=["value"],EW={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},FW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),OW=(0,s._)("option",{value:0}," Select ",-1),VW=["value"],IW={class:"md:tw-col-span-6 tw-col-span-12"},jW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),HW=(0,s._)("option",{value:0}," Select ",-1),MW=["value"],NW={class:"md:tw-col-span-6 tw-col-span-12"},RW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),YW={class:"md:tw-col-span-6 tw-col-span-12"},ZW={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},KW={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},BW=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),JW={class:"tw-flex tw-flex-col tw-justify-center"},QW={class:"md:tw-col-span-6 tw-col-span-12"},GW={key:0,class:"md:tw-col-span-12 tw-col-span-12"},XW={class:"tw-max-w-full tw-overflow-auto"},t$={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},e$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},r$={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},a$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},s$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},l$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},o$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},i$={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},n$={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},w$=(0,s._)("span",{class:"text-white"}," Cancel ",-1),d$=(0,s._)("span",{class:"text-white"}," Save ",-1);function c$(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fW,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",bW,[xW,(0,s._)("div",vW,[(0,s._)("div",yW,[_W,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",kW,[CW,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",DW,[SW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,zW)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",UW,[PW,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",LW,[AW,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>o.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])]),(0,s._)("div",qW,[WW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>o.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[$W,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,TW)))),128))],512),[[a.bM,o.warehouse_id]])]),(0,s._)("div",EW,[FW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[OW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,VW)))),128))],512),[[a.bM,o.product_id]])]),(0,s._)("div",IW,[jW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[HW,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),9,MW)))),128))],512),[[a.bM,o.product_variation_id]])]),(0,s._)("div",NW,[RW,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>o.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.quantity]])]),(0,s._)("div",YW,[(0,s._)("div",ZW,[(0,s._)("label",KW,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),BW]),(0,s._)("label",JW,[(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",QW,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),o.items.length?((0,s.wg)(),(0,s.iD)("div",GW,[(0,s._)("div",XW,[(0,s._)("table",t$,[(0,s._)("thead",e$,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",r$,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",a$,(0,at.zw)(t.product.name),1),(0,s._)("th",s$,(0,at.zw)(t.product_variation.size)+" / "+(0,at.zw)(t.product_variation.color),1),(0,s._)("th",l$,(0,at.zw)(t.quantity),1),(0,s._)("th",o$,(0,at.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",i$,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",n$,[(0,s.Wm)(st.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[w$])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[d$])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var u$={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const p$=(0,g.Z)(u$,[["render",c$]]);var g$=p$;const m$={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},h$={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},f$=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),b$={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},x$={class:"md:tw-col-span-6 tw-col-span-12"},v$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),y$={class:"md:tw-col-span-6 tw-col-span-12"},_$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),k$={class:"md:tw-col-span-6 tw-col-span-12"},C$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),D$=["value"],S$=["value"],z$={class:"md:tw-col-span-6 tw-col-span-12"},U$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),P$={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},L$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),A$={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},q$={class:"tw-col-span-12"},W$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),$$={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},T$={class:"tw-col-span-12 md:tw-col-span-4"},E$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),F$={class:"tw-col-span-12 md:tw-col-span-8"},O$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),V$={class:"md:tw-col-span-6 tw-col-span-12"},I$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),j$={class:"md:tw-col-span-6 tw-col-span-12"},H$=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),M$=["value"],N$={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},R$={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Y$={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Z$=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),K$={class:"tw-flex tw-flex-col tw-justify-center"},B$=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),J$={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},Q$={key:2,class:"md:tw-col-span-12 tw-col-span-12"},G$={class:"tw-max-w-full tw-overflow-auto"},X$={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},tT={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},eT={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},rT=["src"],aT={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},sT=["onUpdate:modelValue"],lT=(0,s._)("option",{value:0},"Select",-1),oT=["value"],iT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},nT=["disabled","onUpdate:modelValue"],wT=(0,s._)("option",{value:0},"Select",-1),dT=["value"],cT={key:0},uT={key:1},pT={key:2},gT={key:3},mT=["value"],hT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},fT={class:"md:tw-col-span-6 tw-col-span-12"},bT=["onUpdate:modelValue"],xT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},vT={key:0},yT={key:1,class:"md:tw-col-span-6 tw-col-span-12"},_T=["onUpdate:modelValue"],kT={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},CT={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},DT=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),ST={class:"md:tw-col-span-12 tw-col-span-12"},zT={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},UT=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),PT={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},LT=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),AT={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},qT=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),WT={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},$T=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),TT={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},ET={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},FT=(0,s._)("span",{class:"text-white"}," Cancel ",-1),OT=(0,s._)("span",{class:"text-white"}," Create ",-1);function VT(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("AddOrderConfirmation"),d=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",m$,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",h$,[f$,(0,s._)("div",b$,[(0,s._)("div",x$,[v$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.fullname]])]),(0,s._)("div",y$,[_$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.phone]])]),(0,s._)("div",k$,[C$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:o.sale.city},(0,at.zw)(o.sale.city),9,D$),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,S$)))),128))],512),[[a.bM,o.sale.city]])]),(0,s._)("div",z$,[U$,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.adresse]])]),(0,s._)("div",P$,[L$,(0,s.Wm)(w,{order:o.sale,id:o.sale.id,confirmation:o.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>o.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>o.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",A$,[(0,s._)("div",q$,[W$,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>o.sale.note=t)},null,512),[[a.nr,o.sale.note]])])]),"reporter"==o.sale.confirmation&&o.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",$$,[(0,s._)("div",T$,[E$,(0,s._)("div",null,(0,at.zw)(o.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",F$,[O$,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>o.sale.reported_agente_note=t)},null,512),[[a.nr,o.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",V$,[I$,(0,s.Wm)(d,{"product-ids":i.product_ids,items:o.items,"onUpdate:items":e[8]||(e[8]=t=>o.items=t),order:o.sale,confirmation:o.sale.confirmation,affectation:o.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>o.sale.affectation=t),id:o.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",j$,[H$,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,at.zw)(t.name),9,M$)))),128))],512),[[a.bM,o.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",N$,[(0,s._)("div",R$,[(0,s._)("label",Y$,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>o.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sale.counts_from_warehouse]]),Z$]),(0,s._)("label",K$,[(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[o.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),B$,o.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",J$," No Order items ")),o.items.length?((0,s.wg)(),(0,s.iD)("div",Q$,[(0,s._)("div",G$,[((0,s.wg)(),(0,s.iD)("table",{key:o.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",X$,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",tT,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",eT,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:o.serverUrl+"storage/"+i.product_images[e]},null,8,rT)):(0,s.kq)("",!0)])])),(0,s._)("th",aT,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[lT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,oT)))),128))],8,sT),[[a.bM,t.product.id]])])])]),(0,s._)("th",iT,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[wT,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",uT,(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",pT,(0,at.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",gT,(0,at.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",cT,"-"))],8,dT)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,mT))],8,nT)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",hT,[(0,s._)("div",fT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,bT),[[a.nr,t.quantity]])])]),(0,s._)("th",xT,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",vT," - ")):((0,s.wg)(),(0,s.iD)("div",yT,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,_T),[[a.nr,t.price]])]))])]),(0,s._)("th",kT,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",CT,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),DT])),_:1},8,["onClick"])])]),(0,s._)("div",ST,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",zT,[UT,(0,s._)("div",PT,[LT,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>o.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sale.price]])])]),(0,s._)("div",AT,[qT,(0,s._)("div",WT,[$T,(0,s._)("div",TT,(0,at.zw)(o.currency)+" "+(0,at.zw)(i.total_price),1)])])]),(0,s._)("div",ET,[(0,s.Wm)(st.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[FT])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[OT])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var IT={components:{AddOrderConfirmation:Fq,AddOrderAffectation:Rq,ProductOffers:iW},props:["visible","order"],data(){return{upsells:Ed,serverUrl:w,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,ba.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const jT=(0,g.Z)(IT,[["render",VT]]);var HT=jT;const MT={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},NT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},RT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},YT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},ZT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},KT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},BT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},JT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},QT={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function GT(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),w=(0,s.up)("ConfirmationFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),g=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",MT,[(0,s._)("div",NT,[(0,s.Wm)(i,{filter:l.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",RT,[(0,s.Wm)(n,{filter:l.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",YT,[(0,s.Wm)(w,{filter:l.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>l.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",ZT,[(0,s.Wm)(d,{filter:l.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>l.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",KT,[(0,s.Wm)(c,{filter:l.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>l.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",BT,[(0,s.Wm)(u,{filter:l.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>l.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",JT,[(0,s.Wm)(p,{filter:l.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>l.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",QT,[(0,s.Wm)(g,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const XT=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),tE=["onClick"];function eE(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[XT,(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,tE)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var rE={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Bl.Z)(new Date,1),(0,Bl.Z)(new Date,1)]},{label:"This month",range:[(0,Jl.Z)(new Date),(0,Ql.Z)(new Date)]},{label:"Last month",range:[(0,Jl.Z)((0,Gl.Z)(new Date,1)),(0,Ql.Z)((0,Gl.Z)(new Date,1))]},{label:"This year",range:[(0,Xl.Z)(new Date),(0,to.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const aE=(0,g.Z)(rE,[["render",eE]]);var sE=aE;const lE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),oE={class:"tw-relative"},iE=(0,s._)("option",{value:"all"},"Select",-1),nE=(0,s._)("option",{value:"oui"},"Oui",-1),wE=(0,s._)("option",{value:"non"},"Non",-1),dE=[iE,nE,wE];function cE(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[lE,(0,s._)("div",oE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},dE,512),[[a.bM,o.value]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var uE={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const pE=(0,g.Z)(uE,[["render",cE]]);var gE=pE;const mE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),hE={class:"tw-relative"},fE=["value"];function bE(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[mE,(0,s._)("div",hE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,at.zw)(t.value?t.name:"Select"),9,fE)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var xE={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:Fd}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const vE=(0,g.Z)(xE,[["render",bE]]);var yE=vE;const _E=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),kE={class:"tw-relative"},CE=(0,s._)("option",{value:"all"}," Select ",-1),DE=["value"];function SE(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[_E,(0,s._)("div",kE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[CE,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,at.zw)(t.name),9,DE)))),128))],512),[[a.bM,o.confirmationFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var zE={props:["filter"],data(){return{confirmationFilter:"all",confirmations:Wd}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const UE=(0,g.Z)(zE,[["render",SE]]);var PE=UE;const LE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),AE={class:"tw-relative"},qE=(0,s._)("option",{value:"all"},"Select",-1),WE=(0,s._)("option",{value:null},"Without delivery",-1),$E=["value"];function TE(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[LE,(0,s._)("div",AE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[qE,WE,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,$E)))),128))],512),[[a.bM,o.affectationFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var EE={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const FE=(0,g.Z)(EE,[["render",TE]]);var OE=FE;const VE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),IE={class:"tw-relative"},jE=(0,s._)("option",{value:"all"},"Select",-1),HE=(0,s._)("option",{value:null},"Without agente",-1),ME=["value"];function NE(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[VE,(0,s._)("div",IE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[jE,HE,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,ME)))),128))],512),[[a.bM,o.agenteFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var RE={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const YE=(0,g.Z)(RE,[["render",NE]]);var ZE=YE;const KE=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),BE={key:0},JE={key:1,class:"tw-relative"},QE=(0,s._)("option",{value:"all"},"Select",-1),GE=["value"];function XE(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[KE,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",BE,[(0,s._)("div",null,[(0,s.Wm)(ot.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",JE,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[QE,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,GE)))),128))],512),[[a.bM,o.productFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var tF={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const eF=(0,g.Z)(tF,[["render",XE]]);var rF=eF;function aF(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:l,deliveryFilter:o,agenteFilter:i,dateFilter:n,productFilter:w}){const d=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==l&&t.upsell!=l)return!1;if("all"!==o&&t.delivery!=o)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==w&&!t.items.some((t=>t.product_id==w)))return!1;const p=n.getDate(),g=n.getMonth(),m=n.getFullYear();if(d){const t=d.getDate(),e=d.getMonth(),r=d.getFullYear();if(m<r||m===r&&g<e||m===r&&g===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(m>r||m===r&&g>e||m===r&&g===e&&p>t)return!1}return!0}))}function sF(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function lF(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function oF(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function iF(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const nF=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),wF={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},dF={class:"tw-relative tw-w-full"},cF=(0,s._)("option",{value:"all"},"All Sales",-1),uF=(0,s._)("option",{value:"selected"},"Selected Sales",-1),pF=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),gF=[cF,uF,pF];function mF(t,e,r,l,o,i){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[nF,(0,s._)("div",wF,[(0,s._)("div",dF,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},gF,512),[[a.bM,o.selection]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var hF={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const fF=(0,g.Z)(hF,[["render",mF]]);var bF=fF,xF={components:{DateFilter:sE,UpsellFilter:gE,DeliveryFilter:yE,ConfirmationFilter:PE,AffectationFilter:OE,AgenteFilter:ZE,ProductFilter:rF,ExcelExport:bF},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return aF(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const vF=(0,g.Z)(xF,[["render",GT]]);var yF=vF;const _F={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},kF={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},CF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},DF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},SF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},zF={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function UF(t,e,r,a,l,o){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_F,[(0,s._)("div",kF,[(0,s._)("div",CF,[(0,s.Wm)(i,{dash:o.newSales},null,8,["dash"])]),(0,s._)("div",DF,[(0,s.Wm)(i,{dash:o.confirmedSales},null,8,["dash"])]),(0,s._)("div",SF,[(0,s.Wm)(i,{dash:o.deliveredSales},null,8,["dash"])]),(0,s._)("div",zF,[(0,s.Wm)(i,{dash:o.shippedSales},null,8,["dash"])])])])])}const PF={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},LF={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},AF={class:"tw-text-xl tw-font-bold"},qF={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},WF={class:"tw-text-sm"},$F={class:"rounded-circle tw-w-fit tw-mr-3"};function TF(t,e,r,a,l,o){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Va.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",PF,[(0,s._)("div",LF,[(0,s._)("p",AF,(0,at.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,at.zw)(r.symbol),1),(0,s._)("span",qF,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",WF,(0,at.zw)(r.dash.title),1)])]),(0,s._)("div",$F,[(0,s.Wm)(ot.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var EF={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const FF=(0,g.Z)(EF,[["render",TF]]);var OF=FF,VF={components:{DashItem:OF},props:["sales"],computed:{newSales(){return sF(this.sales)},confirmedSales(){return lF(this.sales)},deliveredSales(){return oF(this.sales)},shippedSales(){return iF(this.sales)}}};const IF=(0,g.Z)(VF,[["render",UF]]);var jF=IF,HF={components:{SalesTable:hW,AddSale:g$,SalesAnalytics:jF,IndexFilter:yF,NewAddSale:HT},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await et.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await et.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return ba.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return et.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&ba.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const MF=(0,g.Z)(HF,[["render",JU]]);var NF=MF;const RF={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},YF={class:"tw-px-3"},ZF={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},KF={class:"tw-flex tw-items-center tw-gap-x-3"},BF=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),JF={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},QF=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),GF={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},XF=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),tO=(0,s._)("span",null,"Create",-1),eO=[XF,tO],rO={class:"tw-overflow-hidden tw-col-span-1"},aO={key:0};function sO(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",RF,[(0,s._)("section",YF,[(0,s._)("div",ZF,[(0,s._)("div",null,[(0,s._)("div",KF,[BF,(0,s._)("span",JF,(0,at.zw)(l.totalOrders)+" order",1)]),QF]),(0,s._)("div",GF,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},eO)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",rO,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",aO,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const lO={class:"tw-flex tw-flex-col"},oO={class:"tw-overflow-x-auto"},iO={class:"tw-inline-block tw-min-w-full tw-align-middle"},nO={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},wO={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},dO={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},cO={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},uO={class:"tw-max-w-[25px]"},pO={class:"tw-inline-flex tw-items-center"},gO={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},mO=["checked"],hO=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),fO=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),bO={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},xO=(0,s._)("span",null,"Created",-1),vO=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),yO=[xO,vO],_O={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},kO=(0,s._)("span",null,"Updated",-1),CO=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),DO=[kO,CO],SO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),zO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),UO=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),PO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),LO=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),AO=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),qO=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),WO=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),$O={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},TO={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},EO=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),FO=[EO],OO={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},VO={colspan:"11"},IO={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},jO=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),HO=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),MO=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),NO=[HO,MO],RO={class:"tw-mt-6"};function YO(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",lO,[(0,s._)("div",oO,[(0,s._)("div",iO,[(0,s._)("div",nO,[(0,s._)("table",wO,[(0,s._)("thead",dO,[(0,s._)("tr",null,[(0,s._)("th",cO,[(0,s._)("div",uO,[(0,s._)("div",pO,[(0,s._)("label",gO,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,mO),hO])])])]),fO,(0,s._)("th",bO,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},yO)]),(0,s._)("th",_O,[(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("sortOrder",{name:"updated_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},DO)]),SO,zO,UO,PO,LO,AO,qO,WO])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",$O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[3]||(e[3]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),all:n,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",TO,FO)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",OO,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",VO,[(0,s._)("div",IO,[jO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},NO)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",RO,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[5]||(e[5]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const ZO={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},KO={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},BO={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},JO={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},QO=["disabled"],GO=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),XO=(0,s._)("span",null," previous ",-1),tV=[GO,XO],eV=["disabled"],rV=(0,s._)("span",null," Next ",-1),aV=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),sV=[rV,aV];function lV(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ZO,[(0,s._)("div",KO,[(0,s.Uk)(" Page "),(0,s._)("span",BO,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",JO,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},tV,10,QO),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},sV,10,eV)])])])}var oV={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const iV=(0,g.Z)(oV,[["render",lV]]);var nV=iV;const wV={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dV={class:"tw-max-w-[25px]"},cV={class:"tw-inline-flex tw-items-center"},uV={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},pV=["checked","id"],gV=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),mV={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hV={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},fV={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},bV={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},xV={class:"tw-flex tw-flex-wrap"},vV={class:"tw-ml-1"},yV={class:"tw-ml-1"},_V={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kV={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},CV={class:"tw-flex tw-flex-wrap"},DV={class:"tw-ml-1"},SV={class:"tw-ml-1"},zV={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UV={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},PV={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},LV={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},AV={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},qV={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},WV={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$V={class:"tw-space-y-1"},TV={class:"tw-font-bold tw-text-green-500"},EV={class:"tw-block tw-max-w-[150px] tw-truncate"},FV={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},OV={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},VV={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},IV={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},jV={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HV={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function MV(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",wV,[(0,s._)("div",dV,[(0,s._)("div",cV,[(0,s._)("label",uV,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,pV),gV])])])]),(0,s._)("td",mV,[(0,s._)("div",null,[(0,s._)("h2",hV,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",fV,[(0,s._)("div",null,[(0,s._)("h2",bV,[(0,s._)("div",xV,[(0,s._)("p",vV,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",yV,(0,at.zw)(l.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])])]),(0,s._)("td",_V,[(0,s._)("div",null,[(0,s._)("h2",kV,[(0,s._)("div",CV,[(0,s._)("p",DV,(0,at.zw)(l.moment(r.item.updated_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",SV,(0,at.zw)(l.moment(r.item.updated_at).format("HH[:]mm[:]ss")),1)])])])]),(0,s._)("td",zV,[(0,s._)("div",null,[(0,s._)("h2",UV,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",PV,[(0,s._)("div",null,[(0,s._)("h2",LV,(0,at.zw)(r.item.city),1)])]),(0,s._)("td",AV,[(0,s._)("div",null,[(0,s._)("h2",qV,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",WV,[(0,s._)("div",null,[(0,s._)("ul",$V,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",TV,(0,at.zw)(t.quantity)+" x ",1),(0,s._)("span",EV,(0,at.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",FV,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",OV,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",VV,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3)])]),(0,s._)("td",IV,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",jV,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",HV,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const NV={class:"tw-h-full"},RV={class:"tw-flex tw-items-center tw-gap-2"},YV=["href"],ZV={key:0},KV={key:1},BV={key:2};function JV(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup"),w=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",NV,[(0,s._)("div",RV,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,YV),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",ZV,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[4]||(e[4]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.history?((0,s.wg)(),(0,s.iD)("div",KV,[(0,s.Wm)(n,{visible:l.history,"onUpdate:visible":e[5]||(e[5]=t=>l.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),l.historyItem?((0,s.wg)(),(0,s.iD)("div",BV,[(0,s.Wm)(w,{visible:l.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>l.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const QV={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GV=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),XV={class:"tw-bg-white tw-p-4"},tI={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},eI={class:"tw-col-span-2 md:tw-col-span-1"},rI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),aI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sI={class:"tw-col-span-2 md:tw-col-span-1"},lI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),oI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},iI={class:"tw-col-span-2 md:tw-col-span-1"},nI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),wI={class:"tw-relative"},dI=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),cI=["value"],uI=["value"],pI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),gI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},mI={class:"tw-col-span-2 md:tw-col-span-1"},hI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),fI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bI={class:"tw-col-span-2"},xI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),vI={class:"tw-relative"},yI=["value"],_I=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),kI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CI={key:0,class:"md:tw-col-span-1 tw-col-span-2"},DI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),SI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zI={key:1,class:"md:tw-col-span-1 tw-col-span-2"},UI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),PI={class:"tw-col-span-2"},LI=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),AI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qI={class:"md:tw-col-span-1 tw-col-span-2"},WI={class:"tw-col-span-1"},$I=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),TI={class:"tw-relative"},EI=["value"],FI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OI={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VI={class:"md:tw-col-span-1 tw-col-span-2"},II=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),jI={class:"tw-relative"},HI=["value"],MI=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),NI={class:"tw-col-span-2"},RI={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},YI={key:0,class:"tw-text-red-400 tw-text-xs"},ZI={key:2,class:"tw-col-span-2"},KI={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},BI=["disabled"],JI=(0,s._)("span",null,"Update",-1);function QI(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",QV,[GV,(0,s._)("div",XV,[(0,s._)("div",tI,[(0,s._)("div",eI,[rI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",aI,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",sI,[lI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",oI,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",iI,[nI,(0,s._)("div",wI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[dI,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,cI),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,uI)))),128))],34),[[a.bM,o.itemCopy.city]]),pI]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",gI,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",mI,[hI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",fI,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",bI,[xI,(0,s._)("div",vI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,yI)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),_I]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",kI,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",CI,[DI,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",SI,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",zI,[UI,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",PI,[LI,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",AI,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",qI,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",WI,[$I,(0,s._)("div",TI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>o.errors.delivery=null),class:(0,at.C_)([[o.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,EI)))),128))],34),[[a.bM,o.itemCopy.delivery]]),FI]),o.errors.delivery?((0,s.wg)(),(0,s.iD)("label",OI,(0,at.zw)(o.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",VI,[II,(0,s._)("div",jI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,HI)))),128))],512),[[a.bM,o.itemCopy.upsell]]),MI])]),(0,s._)("div",NI,[(0,s._)("label",RI,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",YI," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",ZI,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",KI,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),JI],8,BI)])])])),_:1},8,["visible","onCancel"])])}const GI=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation||"confirmer"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!XI(t,e.items):(t.errors.affectation="Warning: Order is confirmed but not affected.",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),XI=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},tj=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},ej=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},rj=(t,e)=>{t.isLoading=!0,t.errors={},_p.update(e.id,e).then((e=>tj(t,e.data))).catch((e=>ej(t,e.response.data))).finally((()=>t.isLoading=!1))},aj={key:0},sj=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),lj={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},oj=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ij=(0,s._)("span",null,"Add Item",-1),nj=[oj,ij],wj={key:1,class:"md:tw-col-span-12 tw-col-span-12"},dj={class:"tw-max-w-full tw-overflow-auto"},cj={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},uj={class:"tw-bg-gray-50"},pj={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},gj={key:0},mj={colspan:"6"},hj={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},fj=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),bj=(0,s._)("span",null,"Add Item",-1),xj=[fj,bj],vj=(0,s._)("td",{colspan:"4"},null,-1),yj=(0,s._)("td",null,null,-1),_j={colspan:"1",class:"tw-p-2"},kj={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},Cj={key:1},Dj={colspan:"6"},Sj={class:"tw-scale-75 tw-p-5"};function zj(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",aj,[sj,(0,s._)("div",lj,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},nj)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",wj,[(0,s._)("div",dj,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",cj,[(0,s._)("tr",uj,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",pj,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",gj,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",mj,[(0,s._)("div",hj,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},xj)])])]),(0,s._)("tr",null,[vj,yj,(0,s._)("td",_j,[(0,s._)("div",kj,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",Cj,[(0,s._)("tr",null,[(0,s._)("td",Dj,[(0,s._)("div",Sj,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const Uj=(0,s._)("td",null,null,-1),Pj={class:"tw-p-2"},Lj={class:"tw-relative"},Aj=["value"],qj=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),Wj=["value"],$j=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Tj={class:"tw-p-2"},Ej={key:0,class:"tw-relative"},Fj=["value"],Oj=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Vj=["value"],Ij={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},jj=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Hj=[jj],Mj={class:"tw-p-2"},Nj=["value"],Rj={class:"tw-p-2"},Yj=["value"],Zj={class:"tw-flex tw-justify-center"};function Kj(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[Uj,(0,s._)("td",null,[(0,s._)("div",Pj,[(0,s._)("div",Lj,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[qj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,Wj)))),128))],40,Aj),$j])])]),(0,s._)("td",null,[(0,s._)("div",Tj,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Ej,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Oj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,Vj)))),128))],40,Fj)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Ij,Hj)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Mj,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Nj)])]),(0,s._)("td",null,[(0,s._)("div",Rj,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Yj)])]),(0,s._)("td",null,[(0,s._)("div",Zj,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Bj={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Jj=(0,g.Z)(Bj,[["render",Kj]]);var Qj=Jj,Gj={components:{ItemRow:Qj},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return io(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Xj=(0,g.Z)(Gj,[["render",zj]]);var tH=Xj;const eH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),rH={key:0,class:"tw-relative"},aH=["value","disabled"],sH=(0,s._)("option",{value:""},"Choose a Delivery",-1),lH=["value"],oH=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iH={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nH={key:2,class:"tw-relative"},wH={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},dH=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),cH=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function uH(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[eH,l.fetched?((0,s.wg)(),(0,s.iD)("div",rH,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,at.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[sH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,lH)))),128))],42,aH),oH])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",iH,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",nH,[(0,s._)("div",wH,[(0,s.Wm)(i)]),dH,cH]))])}var pH={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const gH=(0,g.Z)(pH,[["render",uH]]);var mH=gH;const hH={key:0},fH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),bH={class:"md:tw-col-span-12 tw-col-span-12"},xH={class:"tw-max-w-full tw-overflow-auto"},vH={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},yH=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),_H={class:"tw-px-3 tw-py-2"},kH={class:"tw-px-3 tw-py-2"},CH={class:"tw-px-3 tw-py-2"},DH={class:"tw-px-3 tw-py-2"},SH={class:"tw-max-w-[250px] tw-text-sm"};function zH(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",hH,[fH,(0,s._)("div",bH,[(0,s._)("div",xH,[(0,s._)("table",vH,[yH,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",_H,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",kH,(0,at.zw)(t.quantity),1),(0,s._)("td",CH,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",DH,[(0,s._)("p",SH,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var UH={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const PH=(0,g.Z)(UH,[["render",zH]]);var LH=PH,AH={components:{OrderItems:tH,OrderAffectation:mH,ProductOffersTable:LH},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Wd,deliveryStatus:Fd,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=GI(this,this.itemCopy);if(!t)return!1;rj(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const qH=(0,g.Z)(AH,[["render",QI]]);var WH=qH;const $H={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},TH=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),EH={class:"tw-bg-white tw-p-4"},FH={key:0},OH={key:1,class:"tw-p-5"},VH={class:"d-flextw-flex-col justify-space-between flex-grow-1"},IH={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},jH={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},HH={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},MH={class:"d-flextw-flex-col justify-space-between flex-grow-1"},NH={class:"tw-flex tw-flex-col tw-my-2"},RH=(0,s._)("div",null,"New Order Created",-1),YH={class:"tw-flex tw-flex-col"},ZH={key:0,class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},KH={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},BH={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function JH(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$H,[TH,(0,s._)("div",EH,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",FH,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",OH,[(0,s.Wm)(qL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(WL.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",VH,[(0,s._)("div",IH,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AL.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",jH,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1)]),(0,s._)("div",HH,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(WL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",MH,[(0,s._)("div",NH,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),RH]),(0,s._)("div",YH,[r.item.created_by?((0,s.wg)(),(0,s.iD)("div",ZH,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(r.item.created_by.firstname)+" "+(0,at.zw)(r.item.created_by.lastname),1)])):(0,s.kq)("",!0),(0,s._)("div",KH,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",BH,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var QH={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,ba.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const GH=(0,g.Z)(QH,[["render",JH]]);var XH=GH;const tM={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},eM=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),rM={class:"tw-bg-white tw-p-4"},aM={key:0},sM={key:1,class:"tw-p-5"},lM={class:"d-flextw-flex-col justify-space-between flex-grow-1"},oM={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},iM={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},nM={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},wM={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},dM={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},cM={class:"d-flextw-flex-col justify-space-between flex-grow-1"},uM={class:"tw-flex tw-flex-col tw-my-2"},pM=(0,s._)("div",null,"No Changes Happend Yet",-1),gM={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},mM={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function hM(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",tM,[eM,(0,s._)("div",rM,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",aM,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",sM,[(0,s.Wm)(qL.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.events,(t=>((0,s.wg)(),(0,s.j4)(WL.N,{key:t.id,class:"mb-4","dot-color":o.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",lM,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",oM,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",iM,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",nM,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:o.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(AL.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",wM,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1)]),(0,s._)("div",dM,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(WL.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",cM,[(0,s._)("div",uM,[(0,s.Wm)(AL.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),pM]),(0,s._)("div",gM,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",mM,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var fM={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,ba.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const bM=(0,g.Z)(fM,[["render",hM]]);var xM=bM,vM={components:{UpdatePopup:WH,HistoryPopup:XH,HistoryItemPopup:xM},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const yM=(0,g.Z)(vM,[["render",JV]]);var _M=yM;const kM={key:0},CM={key:0,class:"tw-relative tw-inline-block tw-text-left"},DM={key:0},SM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),zM=[SM],UM={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},PM={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},LM=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),AM=[LM],qM={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},WM={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},$M={class:"tw-py-1",role:"none"},TM=["onClick"],EM={key:1},FM={class:"tw-p-2 tw-scale-75"};function OM(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",kM,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",CM,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",DM,zM)):(0,s.kq)("",!0),(0,s._)("p",UM,(0,at.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",PM,AM)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",qM,(0,at.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Tt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",WM,[(0,s._)("div",$M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],8,TM)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",EM,[(0,s._)("div",FM,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var VM={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};rj(this,e,!1)}}};const IM=(0,g.Z)(VM,[["render",OM]]);var jM=IM,HM={components:{TableActions:_M,TableRowAffectation:jM},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e()}},computed:{confirmation(){return Wd.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fd.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const MM=(0,g.Z)(HM,[["render",MV]]);var NM=MM,RM={components:{TablePaginationNoNums:nV,TableRow:NM},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const YM=(0,g.Z)(RM,[["render",YO]]);var ZM=YM;const KM={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},BM={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},JM=["disabled"],QM=["disabled"],GM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),XM=[GM],tN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),eN=[tN],rN=["disabled"],aN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),sN=[aN],lN=["disabled"],oN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),iN=[oN],nN=["disabled"],wN=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),dN=[wN],cN={class:"tw-relative"},uN=["value"],pN=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),gN=[pN],mN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hN={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},fN=["value"],bN=(0,s.uE)('<option value="all">All</option><option value="id">ID</option><option value="fullname">Fullname</option><option value="phone">Phone</option><option value="adresse">Address</option><option value="city">City</option><option value="note">Note</option>',7),xN=[bN],vN=["value"],yN={class:"tw-overflow-hidden tw-col-span-1"},_N={class:"tw-overflow-hidden tw-col-span-1"},kN={class:"tw-overflow-hidden tw-col-span-1"};function CN(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexExport"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",KM,[(0,s._)("div",BM,[(0,s._)("button",{class:(0,at.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,JM),(0,s._)("button",{title:"Orders Created Today",class:(0,at.C_)([[o.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:o.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,QM),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,at.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},XM,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,at.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},eN,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,at.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},sN,10,rN),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},iN,8,lN),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>o.showExport=!o.showExport),class:(0,at.C_)([[o.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},dN,10,nN),(0,s._)("div",cN,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},gN,40,uN),mN])]),(0,s._)("div",hN,[(0,s._)("select",{value:r.searchByField,onInput:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),class:"tw-block !tw-w-fit tw-px-2 tw-py-1.5 tw-border-r-0 tw-rounded-r-none tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},xN,40,fN),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-rounded-l-none tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,vN),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",yN,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,at.C_)([[o.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",_N,[(0,s.Wm)(w,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",kN,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const DN={class:"tw-mb-4"},SN={class:"tw-grid tw-grid-cols-12 tw-gap-4"},zN={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},UN={class:"tw-flex tw-items-center tw-justify-between"},PN={class:"tw-text-xl tw-font-bold tw-text-gray-900"},LN={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function AN(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",DN,[(0,s._)("div",SN,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",zN,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",UN,[(0,s._)("span",PN,(0,at.zw)(t.total),1),(0,s._)("span",LN,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var qN={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wd.find((e=>e.value==t))}}};const WN=(0,g.Z)(qN,[["render",AN]]);var $N=WN;const TN={class:"tw-mb-4"},EN={class:"tw-flex tw-items-center tw-gap-2"},FN=["disabled"],ON=(0,s._)("span",null,"Select Filtered",-1),VN={class:"tw-flex tw-justify-end"},IN=["disabled"];function jN(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",TN,[(0,s._)("div",EN,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ON],8,FN)]),(0,s._)("div",VN,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,at.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,IN)])])}var HN={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,_p["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const MN=(0,g.Z)(HN,[["render",jN]]);var NN=MN;const RN={class:"tw-mb-4"},YN={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},ZN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),BN=["value"],JN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QN=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),GN=["value"],XN={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),eR=["value"],rR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),sR=["value"],lR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),iR=["value"],nR=(0,s._)("option",{value:"all",selected:""},"All",-1),wR=["value"],dR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),uR=["value"],pR=(0,s._)("option",{value:"all",selected:""},"All",-1),gR=["value"],mR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),fR=["value"],bR=(0,s._)("option",{value:"all",selected:""},"All",-1),xR=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),vR=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),yR=[bR,xR,vR],_R={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered From",-1),CR=["value"],DR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},SR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered To",-1),zR=["value"],UR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Warehouse state",-1),LR=["value"],AR=(0,s._)("option",{value:"all",selected:""},"All",-1),qR=(0,s._)("option",{value:"in",selected:""},"In",-1),WR=(0,s._)("option",{value:"out",selected:""},"Out",-1),$R=[AR,qR,WR],TR={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},ER=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),FR=(0,s._)("span",null,"Clear",-1),OR=[ER,FR],VR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),IR=(0,s._)("span",null,"Filter",-1),jR=[VR,IR];function HR(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("UserFilter"),w=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",RN,[(0,s._)("div",YN,[(0,s.kq)("",!0),(0,s._)("div",ZN,[KN,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,BN)]),(0,s._)("div",JN,[QN,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,GN)]),(0,s._)("div",XN,[tR,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,eR)]),(0,s._)("div",rR,[aR,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sR)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",lR,[oR,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[nR,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,wR)))),128))],40,iR)]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",dR,[cR,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[pR,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,gR)))),128))],40,uR)]),(0,s._)("div",mR,[hR,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},yR,40,fR)]),(0,s._)("div",_R,[kR,(0,s._)("input",{value:r.filters.delivered_from,type:"date",onChange:e[12]||(e[12]=e=>t.$emit("update",{...r.filters,delivered_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,CR)]),(0,s._)("div",DR,[SR,(0,s._)("input",{value:r.filters.delivered_to,type:"date",onChange:e[13]||(e[13]=e=>t.$emit("update",{...r.filters,delivered_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,zR)]),(0,s._)("div",UR,[PR,(0,s._)("select",{value:r.filters.in_warehouse,onChange:e[14]||(e[14]=e=>t.$emit("update",{...r.filters,in_warehouse:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},$R,40,LR)]),(0,s._)("div",TR,[(0,s._)("button",{onClick:e[15]||(e[15]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},OR),(0,s._)("button",{onClick:e[16]||(e[16]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},jR)])])])}const MR={class:"tw-text-sm tw-text-neutral-600"},NR=["onClick"];function RR(t,e,r,a,l,o){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",MR,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:l.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>l.date=t),o.onDateRangePicked],onCleared:o.cleared,format:l.dateFilterFormat,range:"","preset-ranges":l.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,NR)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var YR={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Bl.Z)(new Date,1),(0,Bl.Z)(new Date,1)]},{label:"This month",range:[(0,Jl.Z)(new Date),(0,Ql.Z)(new Date)]},{label:"Last month",range:[(0,Jl.Z)((0,Gl.Z)(new Date,1)),(0,Ql.Z)((0,Gl.Z)(new Date,1))]},{label:"This year",range:[(0,Xl.Z)(new Date),(0,to.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const ZR=(0,g.Z)(YR,[["render",RR]]);var KR=ZR;const BR={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JR=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),QR=["value"],GR=(0,s._)("option",{value:"all"},"All",-1),XR=(0,s._)("option",{value:""},"No Delivery",-1),tY=["value"];function eY(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",BR,[JR,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[GR,XR,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,tY)))),128))],40,QR)])}var rY={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const aY=(0,g.Z)(rY,[["render",eY]]);var sY=aY;const lY={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oY=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),iY=["value"],nY=(0,s._)("option",{value:"all"},"All",-1),wY=(0,s._)("option",{value:""},"No Agent",-1),dY=["value"];function cY(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",lY,[oY,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[nY,wY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,dY)))),128))],40,iY)])}var uY={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const pY=(0,g.Z)(uY,[["render",cY]]);var gY=pY;const mY={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hY=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function fY(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",mY,[hY,(0,s.Wm)(i,{reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var bY=r(3636),xY={components:{"vue-select":bY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const vY=(0,g.Z)(xY,[["render",fY]]);var yY=vY;const _Y={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kY=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created By",-1),CY=["value"],DY=(0,s._)("option",{value:"all"},"All",-1),SY=(0,s._)("option",{value:""},"No User",-1),zY=["value"];function UY(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_Y,[kY,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_by:e.target.value})),value:r.filters.created_by,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[DY,SY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,zY)))),128))],40,CY)])}var PY={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},fetched(){return this.$store.getters["user/fetched"]}},mounted(){}};const LY=(0,g.Z)(PY,[["render",UY]]);var AY=LY,qY={components:{DateFilter:KR,AffectationFilter:sY,AgentFilter:gY,ProductFilter:yY,UserFilter:AY},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Wd,deliveries:Fd,dateFilter:["",""]}}};const WY=(0,g.Z)(qY,[["render",HR]]);var $Y=WY,TY={components:{IndexStatistics:$N,FiltersWrapper:$Y,IndexExport:NN},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const EY=(0,g.Z)(TY,[["render",CN]]);var FY=EY;const OY={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},VY=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),IY={class:"tw-bg-white tw-p-4"},jY={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},HY={class:"tw-col-span-2 md:tw-col-span-1"},MY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),NY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RY={class:"tw-col-span-2 md:tw-col-span-1"},YY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),ZY={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},KY={class:"tw-col-span-2 md:tw-col-span-1"},BY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),JY={class:"tw-relative"},QY=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),GY=["value"],XY=["value"],tZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eZ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rZ={class:"tw-col-span-2 md:tw-col-span-1"},aZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),sZ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lZ={class:"tw-col-span-2"},oZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),iZ={class:"tw-relative"},nZ=["value"],wZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),dZ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cZ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},uZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),pZ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},gZ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},mZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),hZ={class:"tw-col-span-2"},fZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),bZ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xZ={class:"md:tw-col-span-1 tw-col-span-2"},vZ={class:"md:tw-col-span-1 tw-col-span-2"},yZ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),_Z={class:"tw-relative"},kZ=["value"],CZ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),DZ={class:"tw-col-span-2"},SZ={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},zZ={key:0,class:"tw-text-red-400 tw-text-xs"},UZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},PZ=["disabled"],LZ=(0,s._)("span",null,"Create",-1);function AZ(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",OY,[VY,(0,s._)("div",IY,[(0,s._)("div",jY,[(0,s._)("div",HY,[MY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",NY,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",RY,[YY,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",ZY,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",KY,[BY,(0,s._)("div",JY,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[QY,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,GY),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,XY)))),128))],34),[[a.bM,o.itemCopy.city]]),tZ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",eZ,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",rZ,[aZ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",sZ,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",lZ,[oZ,(0,s._)("div",iZ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,nZ)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),wZ]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",dZ,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",cZ,[uZ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",pZ,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",gZ,[mZ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",hZ,[fZ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",bZ,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",xZ,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",vZ,[yZ,(0,s._)("div",_Z,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,kZ)))),128))],512),[[a.bM,o.itemCopy.upsell]]),CZ])]),(0,s._)("div",DZ,[(0,s._)("label",SZ,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",zZ," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",UZ,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),LZ],8,PZ)])])])),_:1},8,["visible","onCancel"])])}const qZ=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},WZ=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},$Z=(t,e)=>{t.isLoading=!0,t.errors={},_p.create(e).then((e=>qZ(t,e.data))).catch((e=>WZ(t,e.response.data))).finally((()=>t.isLoading=!1))};var TZ={components:{OrderItems:tH,OrderAffectation:mH},props:{visible:{required:!0}},data(){return{confirmations:Wd,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=GI(this,this.itemCopy);if(!t)return!1;$Z(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const EZ=(0,g.Z)(TZ,[["render",AZ]]);var FZ=EZ;const OZ={class:"tw-mb-4"},VZ={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},IZ={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},jZ={class:"tw-flex tw-items-center tw-gap-2"},HZ={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},MZ=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),NZ={class:"tw-flex tw-items-center tw-gap-2"},RZ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),YZ=(0,s._)("span",null," Clear Selection ",-1),ZZ=[RZ,YZ],KZ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),BZ=(0,s._)("span",null," Actions ",-1),JZ=[KZ,BZ],QZ={key:0};function GZ(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",OZ,[(0,s._)("div",VZ,[(0,s._)("div",IZ,[(0,s._)("div",jZ,[(0,s._)("div",HZ,(0,at.zw)(r.selected.length),1),MZ]),(0,s._)("div",NZ,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},ZZ),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},JZ)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",QZ,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const XZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},tK={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},eK=(0,s._)("span",null,"Quick Actions",-1),rK={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},aK={class:"tw-bg-white tw-p-4"},sK={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},lK={class:"tw-col-span-2 md:tw-col-span-1"},oK={key:0,class:"tw-col-span-2 md:tw-col-span-1"},iK={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nK=(0,s._)("span",null,"Apply",-1);function wK(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",XZ,[(0,s._)("div",tK,[eK,(0,s._)("span",rK,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",aK,[(0,s._)("div",sK,[(0,s._)("div",lK,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",oK,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",iK,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),nK])])])])),_:1},8,["visible","closeable","onCancel"])])}const dK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),cK={class:"tw-relative"},uK=["value"],pK=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function gK(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[dK,(0,s._)("div",cK,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,uK)))),128))],512),[[a.bM,i.vaction]]),pK]),(0,s.kq)("",!0)])}var mK={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const hK=(0,g.Z)(mK,[["render",gK]]);var fK=hK;const bK=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),xK={class:"tw-relative"},vK=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),yK=["value"],_K=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function kK(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[bK,(0,s._)("div",xK,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[vK,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,yK)))),128))],512),[[a.bM,i.vvalue]]),_K]),(0,s.kq)("",!0)])}var CK={props:{value:{required:!0}},data(){return{statuses:Fd}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const DK=(0,g.Z)(CK,[["render",kK]]);var SK=DK;class zK{async execute(t){return await T.getCookie(),W.post("api/v1/bulk/execute",t)}}var UK=new zK,PK=(t,e)=>{t.isLoading=!0,UK.execute(e).then((e=>LK(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const LK=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var AK={components:{BulkSelectAction:fK,BulkDeliveryAction:SK},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};PK(this,t)}}};const qK=(0,g.Z)(AK,[["render",wK]]);var WK=qK,$K={components:{BulkPopup:WK},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const TK=(0,g.Z)($K,[["render",GZ]]);var EK=TK,FK={components:{IndexTable:ZM,IndexFilters:FY,CreatePopup:FZ,BulkActions:EK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_by:"all",created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,_p.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_by:"all",created_from:null,created_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(t){this.sort_order="asc"==this.sort_order?"desc":"asc",this.sort_by=t.name,this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const OK=(0,g.Z)(FK,[["render",sO]]);var VK=OK;const IK={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},jK={class:"tw-px-3"},HK={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},MK={class:"tw-flex tw-items-center tw-gap-x-3"},NK=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),RK={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},YK=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),ZK={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},KK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),BK=(0,s._)("span",null,"Create",-1),JK=[KK,BK],QK={class:"tw-overflow-hidden tw-col-span-1"},GK={key:0};function XK(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",IK,[(0,s._)("section",jK,[(0,s._)("div",HK,[(0,s._)("div",null,[(0,s._)("div",MK,[NK,(0,s._)("span",RK,(0,at.zw)(l.totalOrders)+" order",1)]),YK]),(0,s._)("div",ZK,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},JK)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",QK,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",GK,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var tB={components:{IndexTable:ZM,IndexFilters:FY,CreatePopup:FZ,BulkActions:EK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,_p.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const eB=(0,g.Z)(tB,[["render",XK]]);var rB=eB;const aB={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},sB={class:"tw-px-3"},lB={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},oB={class:"tw-flex tw-items-center tw-gap-x-3"},iB=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),nB={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},wB=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),dB={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},cB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),uB=(0,s._)("span",null,"Create",-1),pB=[cB,uB],gB={class:"tw-overflow-hidden tw-col-span-1"},mB={key:0};function hB(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",aB,[(0,s._)("section",sB,[(0,s._)("div",lB,[(0,s._)("div",null,[(0,s._)("div",oB,[iB,(0,s._)("span",nB,(0,at.zw)(l.totalOrders)+" order",1)]),wB]),(0,s._)("div",dB,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},pB)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),"search-by-field":l.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>l.searchByField=t),filters:l.filters,"onUpdate:filters":e[3]||(e[3]=t=>l.filters=t),onFilter:e[4]||(e[4]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",gB,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[6]||(e[6]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",mB,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var fB={components:{IndexTable:ZM,IndexFilters:FY,CreatePopup:FZ,BulkActions:EK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,_p.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const bB=(0,g.Z)(fB,[["render",hB]]);var xB=bB;const vB={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},yB={class:"tw-px-3"},_B={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},kB={class:"tw-flex tw-items-center tw-gap-x-3"},CB=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),DB={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},SB=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),zB={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},UB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),PB=(0,s._)("span",null,"Create",-1),LB=[UB,PB],AB={class:"tw-overflow-hidden tw-col-span-1"},qB={key:0};function WB(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",vB,[(0,s._)("section",yB,[(0,s._)("div",_B,[(0,s._)("div",null,[(0,s._)("div",kB,[CB,(0,s._)("span",DB,(0,at.zw)(l.totalOrders)+" order",1)]),SB]),(0,s._)("div",zB,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},LB)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[l.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",AB,[(0,s.Wm)(n,{onUpdate:o.handleBulkUpdate,selected:l.selected,"onUpdate:selected":e[4]||(e[4]=t=>l.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(w,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",qB,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const $B={class:"tw-flex tw-flex-col"},TB={class:"tw-overflow-x-auto"},EB={class:"tw-inline-block tw-min-w-full tw-align-middle"},FB={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},OB={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},VB={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},IB={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},jB={class:"tw-max-w-[25px]"},HB={class:"tw-inline-flex tw-items-center"},MB={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},NB=["checked"],RB=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),YB=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),ZB={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},KB=(0,s._)("span",null,"Created",-1),BB=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),JB=[KB,BB],QB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),GB=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),XB=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),tJ=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),eJ=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Reconfirmation ",-1),rJ=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),aJ=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),sJ=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),lJ={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},oJ={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},iJ=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),nJ=[iJ],wJ={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},dJ={colspan:"11"},cJ={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},uJ=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),pJ=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),gJ=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),mJ=[pJ,gJ],hJ={class:"tw-mt-6"};function fJ(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",$B,[(0,s._)("div",TB,[(0,s._)("div",EB,[(0,s._)("div",FB,[(0,s._)("table",OB,[(0,s._)("thead",VB,[(0,s._)("tr",null,[(0,s._)("th",IB,[(0,s._)("div",jB,[(0,s._)("div",HB,[(0,s._)("label",MB,[(0,s._)("input",{type:"checkbox",checked:l.isAllSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelectedAllChange&&o.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,NB),RB])])])]),YB,(0,s._)("th",ZB,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},JB)]),QB,GB,XB,tJ,eJ,rJ,aJ,sJ])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",lJ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,l,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:o.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>o.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:l,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",oJ,nJ)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",wJ,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",dJ,[(0,s._)("div",cJ,[uJ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},mJ)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",hJ,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const bJ={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},xJ={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},vJ={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},yJ={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},_J=["disabled"],kJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),CJ=(0,s._)("span",null," previous ",-1),DJ=[kJ,CJ],SJ=["disabled"],zJ=(0,s._)("span",null," Next ",-1),UJ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),PJ=[zJ,UJ];function LJ(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",bJ,[(0,s._)("div",xJ,[(0,s.Uk)(" Page "),(0,s._)("span",vJ,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",yJ,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},DJ,10,_J),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},PJ,10,SJ)])])])}var AJ={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const qJ=(0,g.Z)(AJ,[["render",LJ]]);var WJ=qJ;const $J={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},TJ={class:"tw-max-w-[25px]"},EJ={class:"tw-inline-flex tw-items-center"},FJ={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},OJ=["checked","id"],VJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),IJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},jJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},HJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},MJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},NJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},YJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ZJ={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},KJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},BJ={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},JJ={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},QJ={class:"tw-space-y-1"},GJ={class:"tw-font-bold tw-text-green-500"},XJ={class:"tw-block tw-max-w-[150px] tw-truncate"},tQ={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},eQ={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},sQ={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lQ={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function oQ(t,e,r,a,l,o){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.followup_confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",$J,[(0,s._)("div",TJ,[(0,s._)("div",EJ,[(0,s._)("label",FJ,[(0,s._)("input",{type:"checkbox",checked:o.isSelected,onChange:e[0]||(e[0]=(...t)=>o.handleSelected&&o.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,OJ),VJ])])])]),(0,s._)("td",IJ,[(0,s._)("div",null,[(0,s._)("h2",jJ,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",HJ,[(0,s._)("div",null,[(0,s._)("h2",MJ,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",NJ,[(0,s._)("div",null,[(0,s._)("h2",RJ,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",YJ,[(0,s._)("div",null,[(0,s._)("h2",ZJ,(0,at.zw)(r.item.city),1)])]),(0,s._)("td",KJ,[(0,s._)("div",null,[(0,s._)("h2",BJ,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",JJ,[(0,s._)("div",null,[(0,s._)("ul",QJ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",GJ,(0,at.zw)(t.quantity)+" x ",1),(0,s._)("span",XJ,(0,at.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",tQ,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",eQ,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",rQ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3)])]),(0,s._)("td",aQ,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",sQ,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[o.deliveryState.bgLight,o.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.deliveryState.value?o.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",lQ,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const iQ={class:"tw-h-full"},nQ={class:"tw-flex tw-items-center tw-gap-2"},wQ=["href"],dQ={key:0};function cQ(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",iQ,[(0,s._)("div",nQ,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,wQ),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.update?((0,s.wg)(),(0,s.iD)("div",dQ,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.update,"onUpdate:visible":e[2]||(e[2]=t=>l.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const uQ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},pQ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),gQ={class:"tw-bg-white tw-p-4"},mQ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},hQ={class:"tw-col-span-2 md:tw-col-span-1"},fQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),bQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},xQ={class:"tw-col-span-2 md:tw-col-span-1"},vQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),yQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_Q={class:"tw-col-span-2 md:tw-col-span-1"},kQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),CQ={class:"tw-relative"},DQ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),SQ=["value"],zQ=["value"],UQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),PQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LQ={class:"tw-col-span-2 md:tw-col-span-1"},AQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),qQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WQ={class:"tw-col-span-2"},$Q=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),TQ={class:"tw-relative"},EQ=["value"],FQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),OQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VQ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},IQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),jQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HQ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},MQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),NQ={class:"tw-col-span-2"},RQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),YQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ZQ={class:"md:tw-col-span-1 tw-col-span-2"},KQ={class:"md:tw-col-span-1 tw-col-span-2"},BQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),JQ={class:"tw-relative"},QQ=["value"],GQ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),XQ={class:"tw-col-span-2"},tG={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},eG={key:0,class:"tw-text-red-400 tw-text-xs"},rG={key:3,class:"tw-col-span-2"},aG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},sG=["disabled"],lG=(0,s._)("span",null,"Update",-1);function oG(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",uQ,[pQ,(0,s._)("div",gQ,[(0,s._)("div",mQ,[(0,s._)("div",hQ,[fQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",bQ,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",xQ,[vQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",yQ,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",_Q,[kQ,(0,s._)("div",CQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[DQ,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,SQ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,zQ)))),128))],34),[[a.bM,o.itemCopy.city]]),UQ]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",PQ,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",LQ,[AQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",qQ,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",WQ,[$Q,(0,s._)("div",TQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,at.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,EQ)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),FQ]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",OQ,(0,at.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",VQ,[IQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,at.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",jQ,(0,at.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",HQ,[MQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",NQ,[RQ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",YQ,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",ZQ,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",KQ,[BQ,(0,s._)("div",JQ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,QQ)))),128))],512),[[a.bM,o.itemCopy.upsell]]),GQ])]),(0,s._)("div",XQ,[(0,s._)("label",tG,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",eG," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",rG,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",aG,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),lG],8,sG)])])])),_:1},8,["visible","onCancel"])])}const iG=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!nG(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),nG=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},wG=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},dG=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},cG=(t,e)=>{t.isLoading=!0,t.errors={},_p.update(e.id,e).then((e=>wG(t,e.data))).catch((e=>dG(t,e.response.data))).finally((()=>t.isLoading=!1))},uG={key:0},pG=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),gG={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},mG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),hG=(0,s._)("span",null,"Add Item",-1),fG=[mG,hG],bG={key:1,class:"md:tw-col-span-12 tw-col-span-12"},xG={class:"tw-max-w-full tw-overflow-auto"},vG={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},yG={class:"tw-bg-gray-50"},_G={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},kG={key:0},CG={colspan:"6"},DG={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},SG=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),zG=(0,s._)("span",null,"Add Item",-1),UG=[SG,zG],PG=(0,s._)("td",{colspan:"4"},null,-1),LG=(0,s._)("td",null,null,-1),AG={colspan:"1",class:"tw-p-2"},qG={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},WG={key:1},$G={colspan:"6"},TG={class:"tw-scale-75 tw-p-5"};function EG(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",uG,[pG,(0,s._)("div",gG,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fG)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",bG,[(0,s._)("div",xG,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",vG,[(0,s._)("tr",yG,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",_G,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",kG,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",CG,[(0,s._)("div",DG,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},UG)])])]),(0,s._)("tr",null,[PG,LG,(0,s._)("td",AG,[(0,s._)("div",qG,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",WG,[(0,s._)("tr",null,[(0,s._)("td",$G,[(0,s._)("div",TG,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const FG=(0,s._)("td",null,null,-1),OG={class:"tw-p-2"},VG={class:"tw-relative"},IG=["value"],jG=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),HG=["value"],MG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),NG={class:"tw-p-2"},RG={key:0,class:"tw-relative"},YG=["value"],ZG=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),KG=["value"],BG={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},JG=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),QG=[JG],GG={class:"tw-p-2"},XG=["value"],tX={class:"tw-p-2"},eX=["value"],rX={class:"tw-flex tw-justify-center"};function aX(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[FG,(0,s._)("td",null,[(0,s._)("div",OG,[(0,s._)("div",VG,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[jG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,HG)))),128))],40,IG),MG])])]),(0,s._)("td",null,[(0,s._)("div",NG,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",RG,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[ZG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,KG)))),128))],40,YG)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",BG,QG)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",GG,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,XG)])]),(0,s._)("td",null,[(0,s._)("div",tX,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,eX)])]),(0,s._)("td",null,[(0,s._)("div",rX,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var sX={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const lX=(0,g.Z)(sX,[["render",aX]]);var oX=lX,iX={components:{ItemRow:oX},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return io(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const nX=(0,g.Z)(iX,[["render",EG]]);var wX=nX;const dX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),cX={key:0,class:"tw-relative"},uX=["value","disabled"],pX=(0,s._)("option",{value:""},"Choose a Delivery",-1),gX=["value"],mX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hX={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fX={key:2,class:"tw-relative"},bX={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},xX=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),vX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function yX(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[dX,l.fetched?((0,s.wg)(),(0,s.iD)("div",cX,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[pX,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,gX)))),128))],42,uX),mX])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",hX,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fX,[(0,s._)("div",bX,[(0,s.Wm)(i)]),xX,vX]))])}var _X={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const kX=(0,g.Z)(_X,[["render",yX]]);var CX=kX;const DX={key:0},SX=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),zX={class:"md:tw-col-span-12 tw-col-span-12"},UX={class:"tw-max-w-full tw-overflow-auto"},PX={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},LX=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),AX={class:"tw-px-3 tw-py-2"},qX={class:"tw-px-3 tw-py-2"},WX={class:"tw-px-3 tw-py-2"},$X={class:"tw-px-3 tw-py-2"},TX={class:"tw-max-w-[250px] tw-text-sm"};function EX(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",DX,[SX,(0,s._)("div",zX,[(0,s._)("div",UX,[(0,s._)("table",PX,[LX,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",AX,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",qX,(0,at.zw)(t.quantity),1),(0,s._)("td",WX,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",$X,[(0,s._)("p",TX,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var FX={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const OX=(0,g.Z)(FX,[["render",EX]]);var VX=OX,IX={components:{OrderItems:wX,OrderAffectation:CX,ProductOffersTable:VX},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:Td,deliveryStatus:Fd,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=iG(this,this.itemCopy);if(!t)return!1;cG(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const jX=(0,g.Z)(IX,[["render",oG]]);var HX=jX,MX={components:{UpdatePopup:HX},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const NX=(0,g.Z)(MX,[["render",cQ]]);var RX=NX;const YX={key:0},ZX={key:0,class:"tw-relative tw-inline-block tw-text-left"},KX={key:0},BX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),JX=[BX],QX={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},GX={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},XX=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),t0=[XX],e0={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},r0={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},a0={class:"tw-py-1",role:"none"},s0=["onClick"],l0={key:1},o0={class:"tw-p-2 tw-scale-75"};function i0(t,e,r,a,l,o){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",YX,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ZX,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.visible=!l.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[o.selected.id?((0,s.wg)(),(0,s.iD)("div",KX,JX)):(0,s.kq)("",!0),(0,s._)("p",QX,(0,at.zw)(o.selected.name),1),(0,s._)("div",null,[l.isLoading?((0,s.wg)(),(0,s.iD)("svg",GX,t0)):(0,s.kq)("",!0)])]),l.errors.affectation?((0,s.wg)(),(0,s.iD)("p",e0,(0,at.zw)(l.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Tt.cu,null,{default:(0,s.w5)((()=>[l.visible?((0,s.wg)(),(0,s.iD)("div",r0,[(0,s._)("div",a0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>o.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],8,s0)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,o.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",l0,[(0,s._)("div",o0,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var n0={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};cG(this,e,!1)}}};const w0=(0,g.Z)(n0,[["render",i0]]);var d0=w0,c0={components:{TableActions:RX,TableRowAffectation:d0},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e()}},computed:{confirmation(){return Td.find((t=>t.value==this.item.followup_confirmation))},deliveryState(){return Fd.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const u0=(0,g.Z)(c0,[["render",oQ]]);var p0=u0,g0={components:{TablePaginationNoNums:WJ,TableRow:p0},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const m0=(0,g.Z)(g0,[["render",fJ]]);var h0=m0;const f0={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},b0={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},x0=["disabled"],v0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),y0=[v0],_0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),k0=[_0],C0=["disabled"],D0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),S0=[D0],z0={class:"tw-relative"},U0=["value"],P0=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),L0=[P0],A0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),q0={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},W0=["value"],$0={class:"tw-overflow-hidden tw-col-span-1"},T0={class:"tw-overflow-hidden tw-col-span-1"};function E0(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",f0,[(0,s._)("div",b0,[(0,s._)("button",{class:(0,at.C_)([[o.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:o.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,x0),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),class:(0,at.C_)([[o.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},y0,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>o.showStatistics=!o.showStatistics),class:(0,at.C_)([[o.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},k0,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},S0,8,C0),(0,s.kq)("",!0),(0,s._)("div",z0,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},L0,40,U0),A0])]),(0,s._)("div",q0,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,W0),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",$0,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",T0,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const F0={class:"tw-mb-4"},O0={class:"tw-grid tw-grid-cols-12 tw-gap-4"},V0={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},I0={class:"tw-flex tw-items-center tw-justify-between"},j0={class:"tw-text-xl tw-font-bold tw-text-gray-900"},H0={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function M0(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",F0,[(0,s._)("div",O0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",V0,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",I0,[(0,s._)("span",j0,(0,at.zw)(t.total),1),(0,s._)("span",H0,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var N0={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Wd.find((e=>e.value==t))}}};const R0=(0,g.Z)(N0,[["render",M0]]);var Y0=R0;const Z0={class:"tw-mb-4"},K0={class:"tw-flex tw-items-center tw-gap-2"},B0=["disabled"],J0=(0,s._)("span",null,"Select Filtered",-1),Q0={class:"tw-flex tw-justify-end"},G0=["disabled"];function X0(t,e,r,a,l,o){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Z0,[(0,s._)("div",K0,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.handleExportFiltered&&o.handleExportFiltered(...t)),disabled:l.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),J0],8,B0)]),(0,s._)("div",Q0,[(0,s._)("button",{disabled:l.readyToDownload,class:(0,at.C_)([[!l.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:l.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,G0)])])}var t1={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,_p["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const e1=(0,g.Z)(t1,[["render",X0]]);var r1=e1;const a1={class:"tw-mb-4"},s1={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},l1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},o1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),i1=["value"],n1=(0,s._)("option",{value:"all",selected:""},"All",-1),w1=["value"],d1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},c1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),u1=["value"],p1=(0,s._)("option",{value:"all",selected:""},"All",-1),g1=["value"],m1={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},h1=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),f1=(0,s._)("span",null,"Clear",-1),b1=[h1,f1],x1=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),v1=(0,s._)("span",null,"Filter",-1),y1=[x1,v1];function _1(t,e,r,a,l,o){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",a1,[(0,s._)("div",s1,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",l1,[o1,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[n1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,w1)))),128))],40,i1)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",d1,[c1,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[p1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,g1)))),128))],40,u1)]),(0,s.kq)("",!0),(0,s._)("div",m1,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},b1),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},y1)])])])}const k1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},C1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),D1=["value"],S1=(0,s._)("option",{value:"all"},"All",-1),z1=(0,s._)("option",{value:""},"No Delivery",-1),U1=["value"];function P1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",k1,[C1,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[S1,z1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,U1)))),128))],40,D1)])}var L1={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const A1=(0,g.Z)(L1,[["render",P1]]);var q1=A1;const W1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),T1=["value"],E1=(0,s._)("option",{value:"all"},"All",-1),F1=(0,s._)("option",{value:""},"No Agent",-1),O1=["value"];function V1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",W1,[$1,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[E1,F1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,O1)))),128))],40,T1)])}var I1={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const j1=(0,g.Z)(I1,[["render",V1]]);var H1=j1;const M1={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},N1=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),R1=["value"],Y1=(0,s._)("option",{value:"all"},"All",-1),Z1=["value"];function K1(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",M1,[N1,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Y1,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,Z1)))),128))],40,R1)])}var B1={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return ha.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const J1=(0,g.Z)(B1,[["render",K1]]);var Q1=J1,G1={components:{AffectationFilter:q1,AgentFilter:H1,ProductFilter:Q1},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:Td,deliveries:Fd,dateFilter:["",""]}}};const X1=(0,g.Z)(G1,[["render",_1]]);var t2=X1,e2={components:{IndexStatistics:Y0,FiltersWrapper:t2,IndexExport:r1},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const r2=(0,g.Z)(e2,[["render",E0]]);var a2=r2;const s2={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},l2=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),o2={class:"tw-bg-white tw-p-4"},i2={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},n2={class:"tw-col-span-2 md:tw-col-span-1"},w2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),d2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},c2={class:"tw-col-span-2 md:tw-col-span-1"},u2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),p2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g2={class:"tw-col-span-2 md:tw-col-span-1"},m2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),h2={class:"tw-relative"},f2=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),b2=["value"],x2=["value"],v2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),y2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},_2={class:"tw-col-span-2 md:tw-col-span-1"},k2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),C2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D2={class:"tw-col-span-2"},S2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),z2={class:"tw-relative"},U2=["value"],P2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),L2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},A2={key:0,class:"md:tw-col-span-1 tw-col-span-2"},q2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),W2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$2={key:1,class:"md:tw-col-span-1 tw-col-span-2"},T2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),E2={class:"tw-col-span-2"},F2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),O2={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V2={class:"md:tw-col-span-1 tw-col-span-2"},I2={class:"md:tw-col-span-1 tw-col-span-2"},j2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),H2={class:"tw-relative"},M2=["value"],N2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),R2={class:"tw-col-span-2"},Y2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Z2={key:0,class:"tw-text-red-400 tw-text-xs"},K2={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},B2=["disabled"],J2=(0,s._)("span",null,"Create",-1);function Q2(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",s2,[l2,(0,s._)("div",o2,[(0,s._)("div",i2,[(0,s._)("div",n2,[w2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",d2,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",c2,[u2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",p2,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",g2,[m2,(0,s._)("div",h2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[f2,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,b2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,x2)))),128))],34),[[a.bM,o.itemCopy.city]]),v2]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",y2,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",_2,[k2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",C2,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",D2,[S2,(0,s._)("div",z2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.followup_confirmation=null),class:(0,at.C_)([[o.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,U2)))),128))],34),[[a.bM,o.itemCopy.followup_confirmation]]),P2]),o.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",L2,(0,at.zw)(o.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",A2,[q2,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>o.errors.followup_reported_date=null),class:(0,at.C_)([[o.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.followup_reported_date]]),o.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",W2,(0,at.zw)(o.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",$2,[T2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",E2,[F2,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",O2,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",V2,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",I2,[j2,(0,s._)("div",H2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,M2)))),128))],512),[[a.bM,o.itemCopy.upsell]]),N2])]),(0,s._)("div",R2,[(0,s._)("label",Y2,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",Z2," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",K2,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),J2],8,B2)])])])),_:1},8,["visible","onCancel"])])}const G2=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},X2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},t5=(t,e)=>{t.isLoading=!0,t.errors={},ui.create(e).then((e=>G2(t,e.data))).catch((e=>X2(t,e.response.data))).finally((()=>t.isLoading=!1))};var e5={components:{OrderItems:wX,OrderAffectation:CX},props:{visible:{required:!0}},data(){return{followup_confirmations:Td,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=iG(this,this.itemCopy);if(!t)return!1;t5(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const r5=(0,g.Z)(e5,[["render",Q2]]);var a5=r5,s5={components:{IndexTable:h0,IndexFilters:a2,CreatePopup:a5,BulkActions:EK},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ui.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1,in_warehouse:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const l5=(0,g.Z)(s5,[["render",WB]]);var o5=l5,i5={name:"sales",path:"/sales",component:ya,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:NF,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:VK,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:rB,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:xB,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:o5,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const n5={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},w5={class:"tw-px-3"},d5={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},c5={class:"tw-flex tw-items-center tw-gap-x-3"},u5=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),p5={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},g5=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),m5={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},h5=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f5=(0,s._)("span",null,"Create",-1),b5=[h5,f5],x5={key:0};function v5(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",n5,[(0,s._)("section",w5,[(0,s._)("div",d5,[(0,s._)("div",null,[(0,s._)("div",c5,[u5,(0,s._)("span",p5,(0,at.zw)(l.totalOrders)+" order",1)]),g5]),(0,s._)("div",m5,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},b5)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",x5,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const y5={class:"tw-flex tw-flex-col"},_5={class:"tw-overflow-x-auto"},k5={class:"tw-inline-block tw-min-w-full tw-align-middle"},C5={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},D5={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},S5={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},z5=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),U5={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},P5=(0,s._)("span",null,"Created",-1),L5=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),A5=[P5,L5],q5=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),W5=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),$5=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),T5=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),E5=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),F5=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),O5={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},V5={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},I5=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),j5=[I5],H5={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},M5={colspan:"8"},N5={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},R5=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Y5=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Z5=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),K5=[Y5,Z5],B5={class:"tw-mt-6"};function J5(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",y5,[(0,s._)("div",_5,[(0,s._)("div",k5,[(0,s._)("div",C5,[(0,s._)("table",D5,[(0,s._)("thead",S5,[(0,s._)("tr",null,[z5,(0,s._)("th",U5,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},A5)]),q5,W5,$5,T5,E5,F5])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",O5,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",V5,j5)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",H5,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",M5,[(0,s._)("div",N5,[R5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},K5)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",B5,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Q5={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},G5={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},X5={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},t4={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},e4=["disabled"],r4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),a4=(0,s._)("span",null," previous ",-1),s4=[r4,a4],l4=["disabled"],o4=(0,s._)("span",null," Next ",-1),i4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),n4=[o4,i4];function w4(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Q5,[(0,s._)("div",G5,[(0,s.Uk)(" Page "),(0,s._)("span",X5,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",t4,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},s4,10,e4),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},n4,10,l4)])])])}var d4={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const c4=(0,g.Z)(d4,[["render",w4]]);var u4=c4;const p4={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},g4={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},m4={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},h4={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},f4={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},b4={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},x4={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},v4={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},y4={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_4={class:"tw-space-y-1"},k4={class:"tw-font-bold tw-text-green-500"},C4={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},D4={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},S4={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},z4={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},U4=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),P4={key:1},L4={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function A4(t,e,r,a,l,o){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",p4,[(0,s._)("div",null,[(0,s._)("h2",g4,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",m4,[(0,s._)("div",null,[(0,s._)("h2",h4,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",f4,[(0,s._)("div",null,[(0,s._)("h2",b4,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",x4,[(0,s._)("div",null,[(0,s._)("h2",v4,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",y4,[(0,s._)("div",null,[(0,s._)("ul",_4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",k4,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",C4,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",D4,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",S4,[(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3)]),(0,s._)("td",z4,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[U4,(0,s._)("span",null,(0,at.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",P4,[(0,s._)("span",{class:(0,at.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",L4,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const q4={class:"tw-h-full"},W4={class:"tw-flex tw-items-center tw-gap-2"},$4=["href"],T4={key:0};function E4(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",q4,[(0,s._)("div",W4,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,$4),(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",T4,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const F4={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},O4=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),V4={class:"tw-bg-white tw-p-4"},I4={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},j4={class:"tw-col-span-2 md:tw-col-span-1"},H4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),M4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},N4={class:"tw-col-span-2 md:tw-col-span-1"},R4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Y4={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Z4={class:"tw-col-span-2 md:tw-col-span-1"},K4=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),B4={class:"tw-relative"},J4=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Q4=["value"],G4=["value"],X4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),t3={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e3={class:"tw-col-span-2 md:tw-col-span-1"},r3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),a3={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},s3={class:"tw-col-span-2"},l3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),o3={class:"tw-relative"},i3=["value"],n3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),w3={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},d3={key:0,class:"md:tw-col-span-1 tw-col-span-2"},c3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),u3={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},p3={key:1,class:"md:tw-col-span-1 tw-col-span-2"},g3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),m3={class:"tw-col-span-2"},h3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),f3={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},b3={class:"md:tw-col-span-1 tw-col-span-2"},x3={class:"md:tw-col-span-1 tw-col-span-2"},v3=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),y3={class:"tw-relative"},_3=["value"],k3=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),C3={class:"tw-col-span-2"},D3={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},S3={key:0,class:"tw-text-red-400 tw-text-xs"},z3={key:2,class:"tw-col-span-2"},U3={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},P3={class:"tw-space-y-2 tw-px-5"},L3=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),A3=["href"],q3={key:1,class:"tw-font-[cairo] tw-text-gray-500"},W3={class:"tw-space-y-2 tw-px-5"},$3=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),T3=["href"],E3={key:1,class:"tw-font-[cairo] tw-text-gray-500"},F3={key:3,class:"tw-col-span-2"},O3={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},V3=["disabled"],I3=(0,s._)("span",null,"Update",-1);function j3(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",F4,[O4,(0,s._)("div",V4,[(0,s._)("div",I4,[(0,s._)("div",j4,[H4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",M4,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",N4,[R4,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",Y4,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Z4,[K4,(0,s._)("div",B4,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[J4,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,Q4),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,G4)))),128))],34),[[a.bM,o.itemCopy.city]]),X4]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",t3,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",e3,[r3,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",a3,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",s3,[l3,(0,s._)("div",o3,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,i3)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),n3]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",w3,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",d3,[c3,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",u3,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",p3,[g3,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",m3,[h3,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",f3,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",b3,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",x3,[v3,(0,s._)("div",y3,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>o.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,_3)))),128))],512),[[a.bM,o.itemCopy.upsell]]),k3])]),(0,s._)("div",C3,[(0,s._)("label",D3,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",S3," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",z3,[(0,s._)("div",U3,[(0,s._)("div",P3,[L3,o.product.video?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:o.product.video},(0,at.zw)(i.truncateText(o.product.video,30)),9,A3)):((0,s.wg)(),(0,s.iD)("span",q3,"No video link in this product"))]),(0,s._)("div",W3,[$3,o.product.store?((0,s.wg)(),(0,s.iD)("a",{key:0,target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:o.product.store},(0,at.zw)(i.truncateText(o.product.store,30)),9,T3)):((0,s.wg)(),(0,s.iD)("span",E3,"No store link in this product"))])])])):(0,s.kq)("",!0),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",F3,[(0,s.Wm)(d,{products:o.products,item:o.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",O3,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),I3],8,V3)])])])),_:1},8,["visible","onCancel"])])}const H3=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation||"confirmer"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!M3(t,e.items):(t.errors.affectation="Warning: Order is confirmed but not affected.",!1):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),M3=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},N3=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},R3=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Y3=(t,e)=>{t.isLoading=!0,t.errors={},F.update(e.id,e).then((e=>N3(t,e.data))).catch((e=>R3(t,e.response.data))).finally((()=>t.isLoading=!1))},Z3={key:0},K3=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),B3={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},J3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Q3=(0,s._)("span",null,"Add Item",-1),G3=[J3,Q3],X3={key:1,class:"md:tw-col-span-12 tw-col-span-12"},t7={class:"tw-max-w-full tw-overflow-auto"},e7={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},r7={class:"tw-bg-gray-50"},a7={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},s7={key:0},l7={colspan:"6"},o7={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},i7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),n7=(0,s._)("span",null,"Add Item",-1),w7=[i7,n7],d7=(0,s._)("td",{colspan:"4"},null,-1),c7=(0,s._)("td",null,null,-1),u7={colspan:"1",class:"tw-p-2"},p7={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},g7={key:1},m7={colspan:"6"},h7={class:"tw-scale-75 tw-p-5"};function f7(t,e,r,a,l,o){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Z3,[K3,(0,s._)("div",B3,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},G3)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",X3,[(0,s._)("div",t7,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",e7,[(0,s._)("tr",r7,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",a7,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",s7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:o.deleteItem,onUpdate:o.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",l7,[(0,s._)("div",o7,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.addItem&&o.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},w7)])])]),(0,s._)("tr",null,[d7,c7,(0,s._)("td",u7,[(0,s._)("div",p7,[(0,s._)("p",null,(0,at.zw)(l.currency)+" "+(0,at.zw)(o.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",g7,[(0,s._)("tr",null,[(0,s._)("td",m7,[(0,s._)("div",h7,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const b7=(0,s._)("td",null,null,-1),x7={class:"tw-p-2"},v7={class:"tw-relative"},y7=["value"],_7=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),k7=["value"],C7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),D7={class:"tw-p-2"},S7={key:0,class:"tw-relative"},z7=["value"],U7=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),P7=["value"],L7={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},A7=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),q7=[A7],W7={class:"tw-p-2"},$7=["value"],T7={class:"tw-p-2"},E7=["value"],F7={class:"tw-flex tw-justify-center"};function O7(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",null,[b7,(0,s._)("td",null,[(0,s._)("div",x7,[(0,s._)("div",v7,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>o.handleProductChange&&o.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[_7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,k7)))),128))],40,y7),C7])])]),(0,s._)("td",null,[(0,s._)("div",D7,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",S7,[o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>o.handleVariationChange&&o.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[U7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,P7)))),128))],40,z7)):(0,s.kq)("",!0),o.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",L7,q7)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",W7,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,$7)])]),(0,s._)("td",null,[(0,s._)("div",T7,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,E7)])]),(0,s._)("td",null,[(0,s._)("div",F7,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.handleDelete&&o.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var V7={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const I7=(0,g.Z)(V7,[["render",O7]]);var j7=I7,H7={components:{ItemRow:j7},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return io(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const M7=(0,g.Z)(H7,[["render",f7]]);var N7=M7;const R7=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Y7={key:0,class:"tw-relative"},Z7=["value","disabled"],K7=(0,s._)("option",{value:""},"Choose a Delivery",-1),B7=["value"],J7=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q7={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},G7={key:2,class:"tw-relative"},X7={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},t6=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),e6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function r6(t,e,r,a,l,o){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[R7,l.fetched?((0,s.wg)(),(0,s.iD)("div",Y7,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>o.handleChange&&o.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,at.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[K7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,B7)))),128))],42,Z7),J7])):(0,s.kq)("",!0),l.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Q7,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",G7,[(0,s._)("div",X7,[(0,s.Wm)(i)]),t6,e6]))])}var a6={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const s6=(0,g.Z)(a6,[["render",r6]]);var l6=s6;const o6={key:0},i6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),n6={class:"md:tw-col-span-12 tw-col-span-12"},w6={class:"tw-max-w-full tw-overflow-auto"},d6={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},c6=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),u6={class:"tw-px-3 tw-py-2"},p6={class:"tw-px-3 tw-py-2"},g6={class:"tw-px-3 tw-py-2"},m6={class:"tw-px-3 tw-py-2"},h6={class:"tw-max-w-[250px] tw-text-sm"};function f6(t,e,r,a,l,o){return o.offers.length?((0,s.wg)(),(0,s.iD)("div",o6,[i6,(0,s._)("div",n6,[(0,s._)("div",w6,[(0,s._)("table",d6,[c6,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",u6,(0,at.zw)(o.getProduct(t.product_id)?.name),1),(0,s._)("td",p6,(0,at.zw)(t.quantity),1),(0,s._)("td",g6,(0,at.zw)(t.price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",m6,[(0,s._)("p",h6,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var b6={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const x6=(0,g.Z)(b6,[["render",f6]]);var v6=x6,y6={components:{OrderItems:N7,OrderAffectation:l6,ProductOffersTable:v6},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Wd,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=H3(this,this.itemCopy);if(!t)return!1;Y3(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.product=this.products.find((t=>t.id==this.itemCopy.items[0].product_id)),this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const _6=(0,g.Z)(y6,[["render",j3]]);var k6=_6,C6={components:{UpdatePopup:k6},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const D6=(0,g.Z)(C6,[["render",E4]]);var S6=D6,z6={components:{TableActions:S6},props:{item:{required:!0}},data(){return{moment:_e()}},computed:{confirmation(){return Wd.find((t=>t.value==this.item.confirmation))},deliveryState(){return Fd.find((t=>t.value==this.item.delivery))}},methods:{}};const U6=(0,g.Z)(z6,[["render",A4]]);var P6=U6,L6={components:{TablePaginationNoNums:u4,TableRow:P6},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const A6=(0,g.Z)(L6,[["render",J5]]);var q6=A6;const W6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},$6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),T6={class:"tw-bg-white tw-p-4"},E6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},F6={class:"tw-col-span-2 md:tw-col-span-1"},O6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),V6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I6={class:"tw-col-span-2 md:tw-col-span-1"},j6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),H6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},M6={class:"tw-col-span-2 md:tw-col-span-1"},N6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),R6={class:"tw-relative"},Y6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Z6=["value"],K6=["value"],B6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Q6={class:"tw-col-span-2 md:tw-col-span-1"},G6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),X6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},t8={class:"tw-col-span-2"},e8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),r8={class:"tw-relative"},a8=["value"],s8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),l8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},o8={key:0,class:"md:tw-col-span-1 tw-col-span-2"},i8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),n8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w8={key:1,class:"md:tw-col-span-1 tw-col-span-2"},d8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),c8={class:"tw-col-span-2"},u8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),p8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},g8={class:"md:tw-col-span-1 tw-col-span-2"},m8={class:"tw-col-span-2"},h8={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},f8={key:0,class:"tw-text-red-400 tw-text-xs"},b8={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},x8=["disabled"],v8=(0,s._)("span",null,"Create",-1);function y8(t,e,r,l,o,i){const n=(0,s.up)("OrderAffectation"),w=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",W6,[$6,(0,s._)("div",T6,[(0,s._)("div",E6,[(0,s._)("div",F6,[O6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>o.errors.fullname=null),type:"text",class:(0,at.C_)([[o.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,o.itemCopy.fullname]]),o.errors.fullname?((0,s.wg)(),(0,s.iD)("label",V6,(0,at.zw)(o.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",I6,[j6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>o.errors.phone=null),class:(0,at.C_)([[o.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,o.itemCopy.phone]]),o.errors.phone?((0,s.wg)(),(0,s.iD)("label",H6,(0,at.zw)(o.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",M6,[N6,(0,s._)("div",R6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.itemCopy.city=t),onChange:e[5]||(e[5]=t=>o.errors.city=null),class:(0,at.C_)([[o.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Y6,(0,s._)("option",{value:o.itemCopy.city,disabled:""},(0,at.zw)(o.itemCopy.city),9,Z6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,K6)))),128))],34),[[a.bM,o.itemCopy.city]]),B6]),o.errors.city?((0,s.wg)(),(0,s.iD)("label",J6,(0,at.zw)(o.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",Q6,[G6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>o.errors.adresse=null),class:(0,at.C_)([[o.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,o.itemCopy.adresse]]),o.errors.adresse?((0,s.wg)(),(0,s.iD)("label",X6,(0,at.zw)(o.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",t8,[e8,(0,s._)("div",r8,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>o.errors.confirmation=null),class:(0,at.C_)([[o.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,a8)))),128))],34),[[a.bM,o.itemCopy.confirmation]]),s8]),o.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",l8,(0,at.zw)(o.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",o8,[i8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>o.errors.reported_agente_date=null),class:(0,at.C_)([[o.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.itemCopy.reported_agente_date]]),o.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",n8,(0,at.zw)(o.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==o.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",w8,[d8,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,o.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",c8,[u8,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.itemCopy.note=t),onInput:e[14]||(e[14]=t=>o.errors.note=null),class:(0,at.C_)([[o.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,o.itemCopy.note]]),o.errors.note?((0,s.wg)(),(0,s.iD)("label",p8,(0,at.zw)(o.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",g8,[(0,s.Wm)(n,{item:o.itemCopy,error:o.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>o.errors.affectation=t),affectation:o.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>o.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",m8,[(0,s._)("label",h8,[(0,s.Uk)("Order Items "),o.errors.items?((0,s.wg)(),(0,s.iD)("span",f8," # "+(0,at.zw)(o.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(w,{order:o.itemCopy,error:o.errors.items,products:o.products,"products-fetched":o.products_fetched,items:o.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>o.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",b8,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),v8],8,x8)])])])),_:1},8,["visible","onCancel"])])}const _8=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},k8=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},C8=(t,e)=>{t.isLoading=!0,t.errors={},F.create(e).then((e=>_8(t,e.data))).catch((e=>k8(t,e.response.data))).finally((()=>t.isLoading=!1))};var D8={components:{OrderItems:N7,OrderAffectation:l6},props:{visible:{required:!0}},data(){return{confirmations:$d,upsells:Ed,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=H3(this,this.itemCopy);if(!t)return!1;C8(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const S8=(0,g.Z)(D8,[["render",y8]]);var z8=S8;const U8={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},P8={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},L8=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),A8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),q8=[A8],W8=["disabled"],$8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),T8=[$8],E8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),F8=[E8],O8=["disabled"],V8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),I8=[V8],j8={class:"tw-relative"},H8=["value"],M8=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),N8=[M8],R8=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Y8={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Z8=["value"],K8={class:"tw-overflow-hidden tw-col-span-1"},B8={class:"tw-overflow-hidden tw-col-span-1"};function J8(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",U8,[(0,s._)("div",P8,[L8,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},q8),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[1]||(e[1]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,at.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},T8,10,W8),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[2]||(e[2]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},F8)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},I8,8,O8),(0,s._)("div",j8,[(0,s._)("select",{onChange:e[4]||(e[4]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},N8,40,H8),R8])]),(0,s._)("div",Y8,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[5]||(e[5]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[6]||(e[6]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Z8),(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",K8,[(0,s.Wm)(n,{onFilter:e[8]||(e[8]=e=>t.$emit("filter")),onClear:e[9]||(e[9]=e=>t.$emit("clear")),filters:r.filters,onUpdate:e[10]||(e[10]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",B8,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Q8={class:"tw-mb-4"},G8={class:"tw-grid tw-grid-cols-12 tw-gap-4"},X8={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},t9={class:"tw-flex tw-items-center tw-justify-between"},e9={class:"tw-text-xl tw-font-bold tw-text-gray-900"},r9={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function a9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Q8,[(0,s._)("div",G8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",X8,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[o.getConfirmation(t.confirmation).textLight,o.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",t9,[(0,s._)("span",e9,(0,at.zw)(t.total),1),(0,s._)("span",r9,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var s9={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return Wd.find((e=>e.value==t))}}};const l9=(0,g.Z)(s9,[["render",a9]]);var o9=l9;const i9={class:"tw-mb-4"},n9={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},w9={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},d9=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),c9=["value"],u9={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},p9=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),g9=["value"],m9={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},h9=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),f9=["value"],b9={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},x9=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),v9=["value"],y9=(0,s._)("option",{value:"all",selected:""},"All",-1),_9=["value"],k9=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),C9=(0,s._)("span",null,"Clear",-1),D9=[k9,C9],S9=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1);function z9(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",i9,[(0,s._)("div",n9,[(0,s._)("div",w9,[d9,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,c9)]),(0,s._)("div",u9,[p9,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,g9)]),(0,s._)("div",m9,[h9,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,f9)]),(0,s._)("div",b9,[x9,(0,s._)("select",{value:r.filters.confirmation,onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[y9,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,_9)))),128))],40,v9)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end gap-2"},[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},D9),S9])])])}var U9={props:{filters:{required:!0,default:{}}},data(){return{confirmations:Wd,deliveryStatus:Fd,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const P9=(0,g.Z)(U9,[["render",z9]]);var L9=P9,A9={components:{IndexStatistics:o9,FiltersWrapper:L9},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}},methods:{showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")}}};const q9=(0,g.Z)(A9,[["render",J8]]);var W9=q9,$9={components:{IndexTable:q6,IndexFilters:W9,CreatePopup:z8},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null,reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={delivery:"all",confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null,reported_first:!1}},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const T9=(0,g.Z)($9,[["render",v5]]);var E9=T9;const F9={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},O9={class:"tw-px-3 tw-h-fit"},V9={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},I9=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),j9={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},H9=["disabled"],M9=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),N9=(0,s._)("span",null,"Get Order",-1),R9=[M9,N9],Y9={key:0,class:"tw-p-5"},Z9={key:1,class:"tw-mt-5 tw-space-y-5"},K9={class:"tw-flex tw-items-center tw-justify-end"},B9={key:2},J9=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),Q9=[J9];function G9(t,e,r,a,l,o){const i=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",F9,[(0,s._)("section",O9,[(0,s._)("div",V9,[I9,(0,s._)("div",j9,[(0,s._)("button",{disabled:l.fetching,onClick:e[0]||(e[0]=(...t)=>o.getOrder&&o.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},R9,8,H9)])]),l.fetching?((0,s.wg)(),(0,s.iD)("div",Y9,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!l.fetching&&l.order_exists?((0,s.wg)(),(0,s.iD)("div",Z9,[(0,s.Wm)(n,{order:l.order,onUpdate:e[1]||(e[1]=t=>l.order=t)},null,8,["order"]),l.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(l.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>l.doubles=l.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",K9,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.save&&o.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),l.fetching||l.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",B9,Q9))])])}const X9=t=>{t.fetching=!0,F.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},ttt=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),ett=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,F.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},rtt={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},att=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),stt={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},ltt={class:"tw-text-xl tw-font-bold tw-text-gray-600"},ott=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),itt={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},ntt={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},wtt={class:"tw-space-y-2 tw-px-5"},dtt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),ctt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},utt={class:"tw-space-y-2 tw-px-5"},ptt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),gtt={class:"tw-flex tw-items-center tw-gap-2"},mtt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},htt={class:"tw-space-y-2 tw-px-5"},ftt=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),btt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},xtt={class:"tw-space-y-2 tw-px-5"},vtt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),ytt={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},_tt={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},ktt={class:""},Ctt=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),Dtt={class:"tw-p-3 tw-pl-10 tw-space-y-2"},Stt={class:"tw-font-bold tw-text-green-500"},ztt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Utt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Ptt={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},Ltt={key:0};function Att(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rtt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[att,(0,s.Uk)(" Edit ")]),(0,s._)("div",stt,[(0,s._)("span",ltt,[ott,(0,s.Uk)(" ID: "+(0,at.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,at.C_)([[o.confirmation.bgLight,o.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(o.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",itt,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",ntt,[(0,s._)("div",wtt,[dtt,(0,s._)("span",ctt,(0,at.zw)(r.order.fullname),1)]),(0,s._)("div",utt,[ptt,(0,s._)("div",gtt,[(0,s._)("span",mtt,(0,at.zw)(r.order.phone),1),(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",htt,[ftt,(0,s._)("span",btt,(0,at.zw)(r.order.city),1)]),(0,s._)("div",xtt,[vtt,(0,s._)("span",ytt,(0,at.zw)(r.order.adresse),1)])]),(0,s._)("div",_tt,[(0,s._)("div",ktt,[Ctt,(0,s._)("ul",Dtt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",Stt,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",ztt,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",Utt,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",Ptt,[(0,s._)("span",null,(0,at.zw)(l.currency),1),(0,s._)("span",null,(0,at.zw)(o.price),1)])])])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",Ltt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var qtt={components:{UpdatePopup:k6},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return io(this.order)},confirmation(){return Wd.find((t=>t.value==this.order.confirmation))}}};const Wtt=(0,g.Z)(qtt,[["render",Att]]);var $tt=Wtt,Ttt={components:{OrderCard:$tt},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){X9(this)},getOrder(){ett(this)},save(){ttt(this)}},mounted(){this.toConfirm()}};const Ett=(0,g.Z)(Ttt,[["render",G9]]);var Ftt=Ett;const Ott={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Vtt={class:"tw-px-3"},Itt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},jtt={class:"tw-flex tw-items-center tw-gap-x-3"},Htt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Mtt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Ntt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function Rtt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Ott,[(0,s._)("section",Vtt,[(0,s._)("div",Itt,[(0,s._)("div",null,[(0,s._)("div",jtt,[Htt,(0,s._)("span",Mtt,(0,at.zw)(l.totalOrders)+" order",1)]),Ntt]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[0]||(e[0]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[1]||(e[1]=t=>l.filters=t),onFilter:e[2]||(e[2]=t=>o.handlePerPageChange(l.per_page)),onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,onClear:o.handleClearFilters,loading:l.fetching,statistics:l.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","onClear","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var Ytt={components:{IndexTable:q6,IndexFilters:W9},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null}}},methods:{async paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,F.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleClearFilters(){this.filters={confirmation:"all",created_at:"all",dropped_from:null,dropped_to:null},this.handlePageChange(1)},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Ztt=(0,g.Z)(Ytt,[["render",Rtt]]);var Ktt=Ztt,Btt={name:"orders",path:"/agent/orders",component:ya,meta:{module:"order"},children:[{name:"order/list",path:"",component:E9,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:Ftt,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Ktt,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Jtt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),Qtt={key:0},Gtt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xtt={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},tet={key:1},eet={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},ret=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),aet=["src"];function set(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Jtt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qtt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gtt,[o.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Xtt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",tet,[(0,s._)("div",eet,[ret,(0,s._)("img",{src:l.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,aet)])]))])):(0,s.kq)("",!0)])}var oet=r(9875),iet=r(1888),net=r(1334);const wet={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},det={class:"tw-w-full tw-whitespace-normal"},cet=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),uet={class:"tw-flex tw-items-center"},pet={key:0},get={key:1},met={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},het=(0,s._)("span",{class:"tw-text-sm"},"x",-1),fet={key:0},bet={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},xet=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),vet={class:"tw-flex tw-items-center tw-text-gray-500"},yet={class:"tw-flex tw-items-center tw-text-gray-500"};function _et(t,e,r,a,l,o){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(ms._,{class:(0,at.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,at.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[o.delivery?.bg,o.delivery?.text]])},(0,at.zw)(r.order.delivery),3),(0,s.Wm)(oet._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",wet,(0,at.zw)(r.order.city),1),(0,s._)("p",det,(0,at.zw)(r.order.adresse),1)]),cet])),_:1}),(0,s.Wm)(iet.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(Da.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",uet,[(0,s._)("span",null,[(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",pet,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",get,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",met,[het,(0,s.Uk)(" "+(0,at.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(Da.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Tt.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",fet,[r.order.note?((0,s.wg)(),(0,s.iD)("div",bet,[xet,(0,s._)("p",null,(0,at.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(Ne.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",vet,[(0,s.Wm)(ot.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",yet,[(0,s.Wm)(ot.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(te.J),(0,s.Wm)(net.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(Qe.C),r.order.phone?((0,s.wg)(),(0,s.j4)(st.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(st.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const ket={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},Cet={class:"tw-px-5 tw-pt-5"},Det=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),zet={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},Uet=["disabled","onClick"],Pet={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},Let=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),Aet=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function qet(t,e,r,a,l,o){const i=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:o.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",ket,[(0,s._)("div",Cet,[Det,(0,s._)("div",zet,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:o.isDisabled(e),onClick:t=>o.handleChange(e),key:e.value,class:(0,at.C_)([[o.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,at.zw)(e.name),11,Uet)))),128))])]),(0,s._)("div",Pet,[(0,s.Wm)(st.T,{onClick:o.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[Let])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{onClick:o.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[Aet])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:o.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const Wet={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},$et=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Tet=(0,s._)("br",null,null,-1),Eet=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Fet={class:"tw-flex tw-justify-end tw-mt-2"};function Oet(t,e,r,l,o,i){const n=(0,s.up)("VueDatePicker"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(w,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Wet,[$et,(0,s.Wm)(n,{modelValue:o.date,"onUpdate:modelValue":e[0]||(e[0]=t=>o.date=t),format:i.format},null,8,["modelValue","format"]),Tet,Eet,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,o.note]]),(0,s._)("div",Fet,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:o.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Vet={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,ba.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();return this.realDate=`${l}-${s}-${r}`,`${r}/${s}/${l}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const Iet=(0,g.Z)(Vet,[["render",Oet]]);var jet=Iet,Het={props:["visible","order"],components:{OrderReporting:jet},data:()=>({status:Fd,disabled:Od,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const Met=(0,g.Z)(Het,[["render",qet]]);var Net=Met,Ret={components:{OrderCardDelivery:Net},props:["order"],data:()=>({deliveryStatus:Fd,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return io(t)}}};const Yet=(0,g.Z)(Ret,[["render",_et]]);var Zet=Yet,Ket={components:{OrderCard:Zet},data(){return{localUrl:n,deliveryStatus:Fd,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Bet=(0,g.Z)(Ket,[["render",set]]);var Jet=Bet;const Qet=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Get={key:0},Xet={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},trt={class:"mb-5 tw-flex"},ert={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},rrt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},art={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},srt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),lrt={class:"tw-relative"},ort=["value"],irt={key:0,class:""},nrt={key:1},wrt=(0,s._)("p",null,"No orders for now",-1),drt=[wrt];function crt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[Qet,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Get,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Xet,[(0,s._)("div",trt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",ert,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",rrt,[(0,s._)("div",art,[srt,(0,s._)("div",lrt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,at.zw)(t.name),9,ort)))),128))],512),[[a.bM,o.deliveryFilter]]),(0,s.Wm)(ot.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",irt,[(0,s.Wm)(w,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",nrt,drt))])):(0,s.kq)("",!0)])}const urt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},prt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},grt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},mrt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),hrt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},frt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},brt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},xrt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),vrt=["value"],yrt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},_rt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},krt={class:"tw-text-white"};function Crt(t,e,r,l,o,i){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",urt,[(0,s._)("table",prt,[(0,s._)("thead",grt,[(0,s._)("tr",null,[mrt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",hrt,(0,at.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",frt,[(0,s._)("div",brt,[xrt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,vrt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",yrt,[(0,s._)("div",_rt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,at.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",krt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Drt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Srt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},zrt={class:"tw-px-6 tw-py-4 tw-relative"},Urt={key:0},Prt={class:"tw-px-6 tw-py-4"},Lrt={class:"tw-px-6 tw-py-4"},Art={class:"tw-px-6 tw-py-4"},qrt={class:"tw-px-6 tw-py-4"},Wrt={class:"tw-pb-2"},$rt={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Trt={key:0},Ert={key:1},Frt={class:"tw-px-6 tw-py-4 tw-relative"},Ort={class:"tw-flex tw-items-center tw-justify-center"},Vrt={class:"tw-flex tw-gap-1"},Irt={key:0},jrt={class:"tw-px-6 tw-py-4"},Hrt={class:"tw-px-6 tw-py-4"},Mrt={class:"tw-px-6 tw-py-4"},Nrt={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},Rrt={class:"tw-px-6 tw-py-4"};function Yrt(t,e,r,a,l,o){const i=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,at.C_)([["reporter"==r.order.delivery&&"tw-relative",o.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[Drt,(0,s._)("th",Srt,(0,at.zw)(r.order.id),1),(0,s._)("td",zrt,[(0,s.Uk)((0,at.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[o.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",Urt," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",Prt,(0,at.zw)(r.order.fullname),1),(0,s._)("td",Lrt,(0,at.zw)(r.order.adresse),1),(0,s._)("td",Art,(0,at.zw)(r.order.phone),1),(0,s._)("td",qrt,[(0,s._)("div",Wrt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",$rt,(0,at.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Trt,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Ert,"| "+(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Frt,[(0,s._)("div",Ort,[((0,s.wg)(),(0,s.j4)(i,{class:(0,at.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([o.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Vrt,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",Irt,[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",jrt,(0,at.zw)(o.getPrice(r.order)),1),(0,s._)("td",Hrt,(0,at.zw)(r.order.city),1),(0,s._)("td",Mrt,[(0,s._)("div",Nrt,(0,at.zw)(r.order.note),1)]),(0,s._)("td",Rrt,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const Zrt={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Krt={key:1},Brt={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Jrt=["onClick"];function Qrt(t,e,r,a,l,o){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",Zrt,(0,at.zw)(o.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Krt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.toggle&&o.toggle(...t)),class:(0,at.C_)([[o.selected.text,o.selected.bg,o.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(o.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Brt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!l.disabled.includes(t.value)&&o.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2",[l.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,at.zw)(t.name),3)],8,Jrt)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:l.showPopupReporter,onCancel:e[1]||(e[1]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[re.L,o.close]])}var Grt={props:["delivery","id","order"],components:{OrderReporting:jet},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Fd,disabled:Od,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,ba.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Xrt=(0,g.Z)(Grt,[["render",Qrt]]);var tat=Xrt;const eat={key:0};function rat(t,e,r,a,l,o){return l.newOrder?((0,s.wg)(),(0,s.iD)("div",eat,[(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var aat={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const sat=(0,g.Z)(aat,[["render",rat]]);var lat=sat,oat={props:["order","showNote"],components:{OrderDelivery:tat,OrderActions:lat},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return io(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const iat=(0,g.Z)(oat,[["render",Yrt]]);var nat=iat,wat={props:["orders"],components:{OrderRow:nat},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=t.getFullYear();this.todayDate=`${l}-${s}-${r}`}};const dat=(0,g.Z)(wat,[["render",Crt]]);var cat=dat,uat={components:{OrdersTable:cat},data(){return{localUrl:n,deliveryStatus:Fd,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){ba.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const pat=(0,g.Z)(uat,[["render",crt]]);var gat=pat,mat={name:"deliveries",path:"/deliveries",component:ya,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Jet,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:gat,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const hat=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),fat={key:0},bat={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},xat={class:"mb-5 tw-flex"},vat={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},yat={key:0,class:""};function _at(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[hat,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",fat,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",bat,[(0,s._)("div",xat,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",vat,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",yat,[(0,s.Wm)(w,{columns:o.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class kat{async inventoryStates(){return await T.getCookie(),W.get("api/inventorystates")}async inventoryMovements(){return await T.getCookie(),W.get("api/inventorymovements")}async getMovement(t){return await T.getCookie(),W.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await T.getCookie(),W.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await T.getCookie(),W.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await T.getCookie(),W.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await T.getCookie(),W["delete"]("api/inventorymovements/delete/"+t)}}var Cat=new kat;const Dat={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Sat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},zat={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Uat=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Pat={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Lat=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Aat={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},qat={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},Wat={class:"tw-px-6 tw-py-4"},$at={class:"tw-px-6 tw-py-4"},Tat={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},Eat={class:"tw-px-6 tw-py-4"},Fat={class:"tw-px-6 tw-py-4"},Oat=(0,s._)("br",null,null,-1),Vat={class:"tw-px-6 tw-py-4"},Iat={class:"mt-5 tw-flex tw-justify-between"},jat={class:"d-flex align-center"},Hat=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),Mat={class:"d-flex align-center"},Nat={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Rat={class:"tw-text-white"};function Yat(t,e,r,a,l,o){const i=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Dat,[(0,s._)("table",Sat,[(0,s._)("thead",zat,[(0,s._)("tr",null,[Uat,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Pat,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Lat,(0,s._)("th",Aat,(0,at.zw)(t.id),1),(0,s._)("td",qat,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Wat,(0,at.zw)(t.buying_price)+" DH ",1),(0,s._)("td",$at,(0,at.zw)(t.selling_price)+" DH ",1),(0,s._)("td",Tat,(0,at.zw)(o.availableQuantity(t)),1),(0,s._)("td",Eat,(0,at.zw)(t.total_quantity),1),(0,s._)("td",Fat,[(0,s.Uk)((0,at.zw)(t.updated_at?.split("T")[0])+" ",1),Oat,(0,s.Uk)(" "+(0,at.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Vat,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",Iat,[(0,s._)("div",jat,[Hat,(0,s.Wm)(ff.r,{"hide-details":!0,modelValue:l.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),items:l.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",Mat,[(0,s._)("div",Nat,(0,at.zw)(o.prevRange+1)+" - "+(0,at.zw)(l.currentPage==o.pageCount?r.states.length:o.nextRange)+" of "+(0,at.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Rat,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Zat(t,e,r,a,l,o){const i=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:l.detailsPopup,onCancel:e[2]||(e[2]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>l.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Kat={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Bat={class:"tw-p-5"},Jat={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Qat=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Gat={class:"tw-w-4 tw-p-4"},Xat={class:"tw-w-4 tw-p-4"},tst={class:"tw-w-4 tw-p-4"},est={class:"tw-w-4 tw-p-4"},rst={class:"tw-flex tw-items-center tw-gap-1"},ast={class:"tw-text-green-500"},sst={key:0},lst={class:"tw-text-red-400"},ost=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function ist(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Kat,[(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Bat,[(0,s._)("table",Jat,[Qat,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Gat,(0,at.zw)(t.id),1),(0,s._)("td",Xat,(0,at.zw)(t.size),1),(0,s._)("td",tst,(0,at.zw)(t.color),1),(0,s._)("td",est,[(0,s._)("div",rst,[(0,s._)("span",ast,(0,at.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,at.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",sst,[(0,s.Uk)(" / "),(0,s._)("span",lst,(0,at.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),ost])])}var nst={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const wst=(0,g.Z)(nst,[["render",ist]]);var dst=wst,cst={props:["rowIndex","state"],components:{InventoryStateDetails:dst},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const ust=(0,g.Z)(cst,[["render",Zat]]);var pst=ust,gst={props:["columns","states"],components:{InventoryStateActions:pst},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const mst=(0,g.Z)(gst,[["render",Yat]]);var hst=mst,fst={components:{InventoryStateTable:hst},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await Cat.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const bst=(0,g.Z)(fst,[["render",_at]]);var xst=bst;const vst=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),yst={key:0},_st={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},kst={class:"tw-w-full"},Cst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Dst={class:"tw-relative"},Sst=["disabled"],zst=["value"],Ust={class:"tw-w-full"},Pst=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),Lst={class:"tw-relative"},Ast=["disabled"],qst=["value"],Wst={class:"tw-w-full"},$st=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Tst={class:"tw-relative"},Est=["value"],Fst={class:"tw-w-full"},Ost=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Vst={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Ist=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),jst={class:"tw-max-w-full"},Hst={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Mst=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Nst={class:"tw-w-4 tw-p-4"},Rst={class:"tw-w-4 tw-p-4"},Yst={class:"tw-w-4 tw-p-4"},Zst={class:"tw-w-4 tw-p-4"},Kst={class:"tw-w-4 tw-p-4"},Bst={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Jst={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Qst=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Gst=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Xst(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[vst,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yst,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",_st,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",kst,[Cst,(0,s._)("div",Dst,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,zst)))),128))],8,Sst),[[a.bM,o.delivery]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ust,[Pst,(0,s._)("div",Lst,[(0,s.wy)((0,s._)("select",{disabled:o.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>o.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,qst)))),128))],8,Ast),[[a.bM,o.product]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Wst,[$st,(0,s._)("div",Tst,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,Est)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Fst,[Ost,(0,s._)("div",null,[(0,s.Wm)(it.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Vst,[(0,s.Wm)(st.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ist])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",jst,[(0,s._)("table",Hst,[Mst,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Nst,(0,at.zw)(t.id),1),(0,s._)("td",Rst,(0,at.zw)(t.size),1),(0,s._)("td",Yst,(0,at.zw)(t.color),1),(0,s._)("td",Zst,(0,at.zw)(t.quantity),1),(0,s._)("td",Kst,[(0,s._)("div",Bst,[(0,s.Wm)(st.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Jst,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Qst])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Gst])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var tlt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Cat.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await et.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return Cat.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const elt=(0,g.Z)(tlt,[["render",Xst]]);var rlt=elt;const alt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),slt={key:0},llt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},olt={class:"tw-w-full"},ilt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),nlt={class:"tw-relative"},wlt=["value"],dlt={class:"tw-w-full"},clt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),ult={class:"tw-relative"},plt=["value"],glt={class:"tw-w-full"},mlt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),hlt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},flt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),blt={class:"tw-max-w-full"},xlt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},vlt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),ylt={class:"tw-w-4 tw-p-4"},_lt={class:"tw-w-4 tw-p-4"},klt={class:"tw-w-4 tw-p-4"},Clt={class:"tw-w-4 tw-p-4"},Dlt={class:"tw-w-4 tw-p-4"},Slt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},zlt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Ult=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Plt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Llt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[alt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",slt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",llt,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",olt,[ilt,(0,s._)("div",nlt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,wlt)))),128))],512),[[a.bM,o.delivery]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dlt,[clt,(0,s._)("div",ult,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.color+" / "+t.size+" / "+t.quantity),9,plt)))),128))],512),[[a.bM,o.variation]]),(0,s.Wm)(ot.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",glt,[mlt,(0,s._)("div",null,[(0,s.Wm)(it.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>o.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",hlt,[(0,s.Wm)(st.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[flt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(Da.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",blt,[(0,s._)("table",xlt,[vlt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",ylt,(0,at.zw)(t.id),1),(0,s._)("td",_lt,(0,at.zw)(t.size),1),(0,s._)("td",klt,(0,at.zw)(t.color),1),(0,s._)("td",Clt,(0,at.zw)(t.quantity),1),(0,s._)("td",Dlt,[(0,s._)("div",Slt,[(0,s.Wm)(st.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",zlt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ult])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Plt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Alt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,Cat.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await et.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return ha.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return Cat.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const qlt=(0,g.Z)(Alt,[["render",Llt]]);var Wlt=qlt;const $lt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Tlt={key:0},Elt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Flt={class:"mb-5 tw-flex"},Olt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Vlt={key:0,class:""};function Ilt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[$lt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Tlt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Elt,[(0,s._)("div",Flt,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Olt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Vlt,[(0,s.Wm)(w,{columns:o.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const jlt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Hlt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Mlt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Nlt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Rlt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Ylt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Zlt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Klt={class:"tw-px-6 tw-py-4"},Blt=(0,s._)("br",null,null,-1),Jlt={class:"tw-px-6 tw-py-4"},Qlt={class:"tw-px-6 tw-py-4"},Glt={class:"tw-px-6 tw-py-4"},Xlt={class:"tw-px-6 tw-py-4"},tot={class:"tw-px-6 tw-py-4"},eot={class:"tw-w-[200px] !tw-whitespace-normal"},rot={class:"tw-px-6 tw-py-4"},aot={class:"tw-px-6 tw-py-4"},sot={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},lot={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},oot=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),iot=["value"],not={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},wot={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},dot={class:"tw-text-white"};function cot(t,e,r,l,o,i){const n=(0,s.up)("router-link"),w=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",jlt,[(0,s._)("table",Hlt,[(0,s._)("thead",Mlt,[(0,s._)("tr",null,[Nlt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Rlt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Ylt,(0,s._)("th",Zlt,(0,at.zw)(t.id),1),(0,s._)("td",Klt,[(0,s.Uk)((0,at.zw)(t.created_at?.split("T")[0])+" ",1),Blt,(0,s.Uk)(" "+(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Jlt,(0,at.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",Qlt,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Glt,(0,at.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Xlt,[(0,s._)("div",{class:(0,at.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,at.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",tot,[(0,s._)("div",eot,(0,at.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",rot,(0,at.zw)(t.delivery.city?.name),1),(0,s._)("td",aot,[(0,s.Wm)(w,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",sot,[(0,s._)("div",lot,[oot,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,iot)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",not,[(0,s._)("div",wot,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,at.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",dot,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const uot={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},pot=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),got={class:"mt-3"},mot=(0,s._)("h2",{class:"mb-2"},"Received",-1),hot={class:"tw-mt-3"},fot=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),bot={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},xot=(0,s._)("span",{class:"text-white"}," Cancel ",-1),vot=(0,s._)("span",{class:"text-white"}," Update ",-1);function yot(t,e,r,l,o,i){const n=(0,s.up)("popup-full"),w=(0,s.up)("MovementDetails"),d=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(st.T,{key:3,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:o.confirmPopup,onCancel:e[6]||(e[6]=t=>o.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",uot,[pot,(0,s._)("div",got,[mot,(0,s.Wm)(Qi.G,{density:"compact","hide-details":!0,modelValue:o.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>o.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",hot,[fot,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,o.note]])]),(0,s._)("div",bot,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=t=>o.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xot])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[vot])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[8]||(e[8]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(w,{key:0,onCancel:e[7]||(e[7]=t=>o.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const _ot={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},kot={class:"tw-p-5"},Cot={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Dot=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Sot={class:"tw-w-4 tw-p-4"},zot={class:"tw-w-4 tw-p-4"},Uot={class:"tw-w-4 tw-p-4"},Pot={class:"tw-w-4 tw-p-4"};function Lot(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",_ot,[(0,s.Wm)(st.T,{onClick:o.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",kot,[(0,s._)("table",Cot,[Dot,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Sot,(0,at.zw)(t.id),1),(0,s._)("td",zot,(0,at.zw)(t.product_variation.size),1),(0,s._)("td",Uot,(0,at.zw)(t.product_variation.color),1),(0,s._)("td",Pot,(0,at.zw)(t.quantity),1)])))),128))])])])])}var Aot={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const qot=(0,g.Z)(Aot,[["render",Lot]]);var Wot=qot,$ot={props:["rowIndex","movement"],components:{MovementDetails:Wot},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,Cat["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,Cat.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){Cat.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const Tot=(0,g.Z)($ot,[["render",yot]]);var Eot=Tot,Fot={props:["columns","movements"],components:{InventoryMovementsActions:Eot},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Oot=(0,g.Z)(Fot,[["render",cot]]);var Vot=Oot,Iot={components:{InventoryMovementsTable:Vot},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await Cat.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const jot=(0,g.Z)(Iot,[["render",Ilt]]);var Hot=jot,Mot={name:"inventory/list",path:"/inventories",component:ya,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:xst,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:Hot,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:rlt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:Wlt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]},Not=r(3012);const Rot={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},Yot={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},Zot=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Scan the QR code ",-1),Kot={class:"tw-p-5"},Bot={class:"tw-rounded tw-overflow-hidden tw-ring tw-ring-orange-400"},Jot={key:1,class:"error"},Qot={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"};var Got={__name:"ScanPopUp",props:["visible"],emits:["update:visible","detect"],setup(t,{emit:e}){const r=t,a=new Audio(n+"assets/bip.mp3"),l=t=>{e("update:visible",t)};function o(t,e){for(const r of t){const[t,...a]=r.cornerPoints;e.strokeStyle="red",e.beginPath(),e.moveTo(t.x,t.y);for(const{x:r,y:s}of a)e.lineTo(r,s);e.lineTo(t.x,t.y),e.closePath(),e.stroke()}}function i(t,e){for(const r of t){const{boundingBox:{x:t,y:a,width:s,height:l}}=r;e.lineWidth=2,e.strokeStyle="#007bff",e.strokeRect(t,a,s,l)}}function w(t,e){for(const r of t){const{boundingBox:t,rawValue:a}=r,s=t.x+t.width/2,l=t.y+t.height/2,o=Math.max(12,50*t.width/e.canvas.width);e.font=`bold ${o}px sans-serif`,e.textAlign="center",e.lineWidth=3,e.strokeStyle="#35495e",e.strokeText(r.rawValue,s,l),e.fillStyle="#5cb984",e.fillText(a,s,l)}}const d=[{text:"nothing (default)",value:void 0},{text:"outline",value:o},{text:"centered text",value:w},{text:"bounding box",value:i}],c=(0,be.iH)(d[1]),u=(0,be.iH)(null),p=(0,be.iH)([]);(0,s.bv)((async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){if(p.value=(await navigator.mediaDevices.enumerateDevices()).filter((({kind:t})=>"videoinput"===t)),p.value.length>0){const t=p.value.find((({label:t})=>t.toLowerCase().includes("back")||t.toLowerCase().includes("rear")));u.value=t||p.value[0]}}else console.error("MediaDevices API not supported")}));const g=(0,be.iH)("");function m(t){const r=t.map((t=>t.rawValue)).join(", ");console.log("Detected Code: "),console.log(r),e("detect",r),l(!1),a.play(),g.value=r}const h=(0,be.iH)({qr_code:!0}),f=(0,s.Fl)((()=>Object.keys(h.value||{}).filter((t=>h.value&&h.value[t])))),b=(0,be.iH)("");function x(t){"NotAllowedError"===t.name?b.value+="you need to grant camera access permission":"NotFoundError"===t.name?b.value+="no camera on this device":"NotSupportedError"===t.name?b.value+="secure context required (HTTPS, localhost)":"NotReadableError"===t.name?b.value+="is the camera already in use?":"OverconstrainedError"===t.name?b.value+="installed cameras are not suitable":"StreamApiNotSupportedError"===t.name?b.value+="Stream API is not supported in this browser":"InsecureContextError"===t.name?b.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.":b.value+=t.message}return(t,e)=>{const a=(0,s.up)("icon"),o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l(!0)),class:"tw-fixed tw-bottom-5 tw-shadow tw-shadow-orange-300 tw-right-5 tw-flex tw-items-center tw-justify-center tw-w-[60px] tw-h-[60px] tw-gap-2 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-border-orange-300 tw-rounded-md tw-mb-2 tw-z-20"},[(0,s.Wm)(a,{icon:"iconamoon:scanner-light",class:"lg:tw-text-3xl tw-text-2xl"})]),(0,s.Wm)(o,{visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Rot,[(0,s._)("div",Yot,[Zot,(0,s._)("div",Kot,[(0,s._)("div",Bot,[null!==u.value?((0,s.wg)(),(0,s.j4)((0,be.SU)(Not.vG),{key:0,constraints:{deviceId:u.value.deviceId},track:c.value.value,formats:(0,be.SU)(f),"facing-mode":"environment",onError:x,onDetect:m},null,8,["constraints","track","formats"])):((0,s.wg)(),(0,s.iD)("p",Jot," No cameras on this device "))])]),(0,s._)("div",Qot,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l(!1)),disabled:!1,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])])),_:1},8,["visible"])])}}};const Xot=Got;var tit=Xot;const eit=t=>((0,s.dD)("data-v-3fcb733e"),t=t(),(0,s.Cn)(),t),rit={class:"!tw-w-[25px] !tw-h-[25px] tw-relative"},ait=eit((()=>(0,s._)("div",{class:"check-container tw-scale-[0.2] tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2"},[(0,s._)("div",{class:"check-background"},[(0,s._)("svg",{viewBox:"0 0 65 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M7 25L27.3077 44L58.5 7",stroke:"white","stroke-width":"13","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1))),sit=[ait];function lit(t,e){return(0,s.wg)(),(0,s.iD)("div",rit,sit)}const oit={},iit=(0,g.Z)(oit,[["render",lit],["__scopeId","data-v-3fcb733e"]]);var nit=iit;const wit={class:"tw-translate-y-0 tw-opacity-100 tw-w-full tw-p-2 tw-min-h-[60px] tw-bg-white tw-duration-300 tw-rounded tw-shadow-md"},dit={class:"tw-flex tw-justify-between tw-items-center"},cit={class:"tw-space-y-4"},uit={class:"tw-flex tw-items-center tw-gap-4"},pit={class:"tw-flex tw-items-center tw-gap-2"},git={style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},mit={key:0,class:"tw-flex tw-items-center tw-gap-0.5 tw-bg-blue-100 tw-p-1 tw-rounded"},hit=(0,s._)("span",{style:{"line-height":"10px"},class:"tw-text-xs tw-capitalize tw-font-medium tw-text-blue-600"},"Double Scan",-1),fit=[hit],bit={class:"tw-flex tw-items-center tw-gap-5"},xit={key:0,class:"tw-flex tw-items-center"},vit=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse"},null,-1),yit=(0,s._)("div",{class:"tw-w-[70px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),_it=(0,s._)("div",{class:"tw-w-[30px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-5"},null,-1),kit=(0,s._)("div",{class:"tw-w-[100px] tw-bg-gray-100 tw-h-[18px] tw-rounded-md tw-animate-pulse tw-ml-2"},null,-1),Cit=[vit,yit,_it,kit],Dit={key:1,class:"tw-flex tw-items-center tw-gap-2"},Sit={key:0,style:{"line-height":"10px"},class:"tw-text-sm tw-font-medium"},zit={key:2,class:"tw-flex tw-items-center tw-gap-2"},Uit={key:0,style:{"line-height":"16px"},class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-max-w-[120px] tw-truncate"},Pit={key:3,class:"tw-w-fit tw-px-2 tw-bg-rose-100 tw-text-rose-500 tw-text-sm tw-uppercase tw-h-[25px] tw-rounded-md tw-flex tw-items-center tw-justify-center"},Lit={class:"tw-h-full tw-space-y-2 tw-flex-col tw-flex tw-items-end tw-justify-between"},Ait={key:0,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},qit={class:"tw-text-blue-500 tw-text-sm"},Wit={key:1,class:"tw-uppercase tw-flex tw-items-center tw-gap-2"},$it={class:"tw-text-amber-500 tw-text-sm"};var Tit={__name:"OrderRow",props:["order"],emits:["update"],setup(t,{emit:e}){const r=t,a=()=>{const t=r.order.scanned.replace(/[^0-9]/g,"");ba.warehouseControl(t,{target:r.order.target,scanned:r.order.scanned}).then((t=>{if("SUCCESS"==t.data.code){const a={...r.order,...t.data.order,loading:!1,check:!0};e("update",r.order.scan_id,a)}else e("update",r.order.scan_id,{...r.order,loading:!1,check:!1})}),(t=>{e("update",r.order.scan_id,{...r.order,loading:!1,check:!1}),console.log(t)}))};return a(),(t,e)=>{const a=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",wit,[(0,s._)("div",dit,[(0,s._)("div",cit,[(0,s._)("div",uit,[(0,s._)("div",pit,[(0,s.Wm)(a,{icon:"solar:qr-code-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),(0,s._)("span",git,(0,at.zw)(r.order.scanned),1)]),r.order.already_scanned?((0,s.wg)(),(0,s.iD)("div",mit,fit)):(0,s.kq)("",!0)]),(0,s._)("div",bit,[r.order.loading?((0,s.wg)(),(0,s.iD)("div",xit,Cit)):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",Dit,[(0,s.Wm)(a,{icon:"solar:hashtag-square-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.id?((0,s.wg)(),(0,s.iD)("span",Sit,(0,at.zw)(r.order.id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.iD)("div",zit,[(0,s.Wm)(a,{icon:"solar:user-id-bold-duotone",class:"tw-text-lg tw-text-gray-500"}),r.order.fullname?((0,s.wg)(),(0,s.iD)("span",Uit,(0,at.zw)(r.order.fullname),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pit,"Not Found"))])]),(0,s._)("div",Lit,[(0,s._)("div",null,[!r.order.loading&&r.order.check?((0,s.wg)(),(0,s.j4)((0,be.SU)(nit),{key:0})):(0,s.kq)("",!0),r.order.loading?((0,s.wg)(),(0,s.j4)(a,{key:1,class:"tw-text-lg tw-text-orange-400 tw-animate-spin",icon:"mingcute:loading-line"})):(0,s.kq)("",!0),r.order.loading||r.order.check?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(a,{key:2,class:"tw-text-2xl tw-text-rose-500",icon:"material-symbols-light:error-outline"}))]),(0,s._)("div",null,["in"==r.order.target?((0,s.wg)(),(0,s.iD)("div",Ait,[(0,s.Wm)(a,{icon:"lets-icons:sign-in-squre-duotone",class:"tw-text-xl tw-text-blue-500"}),(0,s._)("span",qit,(0,at.zw)(r.order.target),1)])):(0,s.kq)("",!0),"out"==r.order.target?((0,s.wg)(),(0,s.iD)("div",Wit,[(0,s.Wm)(a,{icon:"lets-icons:sign-out-squre-duotone",class:"tw-text-xl tw-text-amber-500"}),(0,s._)("span",$it,(0,at.zw)(r.order.target),1)])):(0,s.kq)("",!0)])])])])}}};const Eit=Tit;var Fit=Eit;const Oit={class:"lg:tw-p-6"},Vit={class:"tw-p-5 lg:tw-border tw-min-h-[calc(100vh-135px)] tw-flex tw-flex-col tw-bg-white tw-w-full lg:tw-rounded-md tw-mb-5"},Iit={class:"tw-grid tw-grid-cols-12 tw-h-full tw-flex-1 tw-gap-5"},jit={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},Hit=(0,s._)("h1",{class:"tw-text-lg"},"Target",-1),Mit={class:"tw-grid tw-grid-cols-2 tw-gap-5 tw-mt-2"},Nit={class:"tw-grid tw-px-2 tw-grid-cols-12 tw-justify-center tw-mt-10"},Rit=["onSubmit"],Yit=(0,s._)("p",{class:"tw-text-xl tw-font-semibold tw-py-4"},"Scan the order reference ID.",-1),Zit={class:"tw-grid tw-grid-cols-8 tw-mt-16 col-span-12 tw-gap-2 tw-w-full tw-max-w-[23rem]"},Kit={id:"success-message",class:"tw-inline-flex tw-items-center"},Bit=(0,s._)("div",{class:"tw-grid tw-grid-cols-8 tw-py-5 tw-gap-2 tw-w-full tw-max-w-[23rem]"},[(0,s._)("button",{class:"tw-col-span-8 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",{id:"success-message",class:"tw-inline-flex tw-items-center"}," Confirm ")])],-1),Jit={class:"lg:tw-col-span-6 tw-col-span-12 tw-flex tw-flex-col"},Qit={class:"tw-min-h-[600px] tw-flex-1 tw-w-full tw-bg-gray-100 tw-rounded-md tw-p-2 tw-space-y-2 tw-shadow-inner"};var Git={__name:"ScannerView",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)([]),l=(0,be.iH)(""),o=(0,be.iH)("in"),i=(0,s.Fl)((()=>{if(""==l.value)return!1;const t=l.value.replace(/[^a-zA-Z]/g,"").toLocaleLowerCase(),e=l.value.replace(/[^0-9]/g,"");return t!=u||!e})),n=t=>{l.value=t,g()},w=()=>{var t=document.getElementById("code");t.select(),navigator.clipboard.writeText(t.value)},d=(t,e)=>{r.value=r.value.map((r=>r.scan_id==t?e:r))},c=t=>r.value.some((e=>e.scanned==t)),p=()=>{const t=Date.now().toString(36),e=Math.random().toString(36).substr(2,5);return t+e},g=()=>{const t={scan_id:p(),scanned:l.value,loading:!0,check:!1,target:o.value};if(""==l.value)return Sn("Reference ID is not valid","warning"),!1;c(l.value)&&(t.already_scanned=!0),i.value||""==l.value||(r.value.unshift(t),l.value="")};return(t,c)=>{const u=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",Oit,[(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(tit),{visible:e.value,"onUpdate:visible":c[0]||(c[0]=t=>e.value=t),onDetect:n},null,8,["visible"])]),(0,s._)("div",Vit,[(0,s._)("div",Iit,[(0,s._)("div",jit,[(0,s._)("div",null,[Hit,(0,s._)("div",Mit,[(0,s._)("button",{onClick:c[1]||(c[1]=t=>o.value="in"),class:(0,at.C_)([["in"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-plus",class:(0,at.C_)(["tw-text-2xl",["in"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,at.C_)(["in"==o.value?"tw-text-white":"tw-text-neutral-500"])},"IN",2)],2),(0,s._)("button",{onClick:c[2]||(c[2]=t=>o.value="out"),class:(0,at.C_)([["out"==o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-px-4 tw-py-2 tw-border tw-justify-center tw-border-solid tw-flex tw-items-center tw-gap-2 tw-rounded-lg"])},[(0,s.Wm)(u,{icon:"iconamoon:sign-minus",class:(0,at.C_)(["tw-text-2xl",["out"==o.value?"tw-text-white":"tw-text-neutral-500"]])},null,8,["class"]),(0,s._)("span",{style:{"line-height":"10px"},class:(0,at.C_)(["out"==o.value?"tw-text-white":"tw-text-neutral-500"])},"OUT",2)],2)])]),(0,s._)("div",Nit,[(0,s._)("form",{onSubmit:(0,a.iM)(g,["prevent"]),class:"lg:tw-col-span-12 tw-col-span-12 tw-flex tw-flex-col tw-items-center tw-justify-center"},[Yit,(0,s._)("div",{onClick:c[3]||(c[3]=t=>e.value=!0),class:(0,at.C_)([[(0,be.SU)(i)&&"tw-border-rose-400 tw-ring tw-ring-rose-400"],"tw-relative hover:tw-scale-110 tw-duration-300 tw-cursor-pointer tw-h-[150px] tw-w-[150px] tw-border-2 tw-rounded-3xl tw-mt-10 tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(u,{class:"tw-w-[150px] tw-h-[150px] tw-border-2 tw-rounded-3xl",icon:"fluent:scan-dash-28-regular"}),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(i)&&"!tw-opacity-100"],"tw-opacity-0 tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-w-full tw-h-[30px] tw-bg-rose-500 tw-flex tw-items-center tw-justify-center tw-font-medium tw-text-sm tw-text-white"])}," ID NOT VALID ",2)],2),(0,s.kq)("",!0),(0,s._)("div",Zit,[(0,s.wy)((0,s._)("input",{placeholder:"Reference ID",id:"code",type:"text","onUpdate:modelValue":c[4]||(c[4]=t=>l.value=t),class:"tw-bg-gray-50 border tw-col-span-6 tw-rounded-lg tw-outline-none focus:tw-ring-gray-500 focus:tw-border-gray-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-gray-400 dark:tw-focus:tw-ring-blue-500 dark:focus:tw-border-blue-500"},null,512),[[a.nr,l.value]]),(0,s._)("button",{type:"button",onClick:w,class:"tw-col-span-2 tw-text-white tw-bg-gray-700 tw-hover:bg-blue-800 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-gray-300 tw-font-medium tw-rounded-lg tw-text-sm w-full sm:tw-w-auto tw-py-2.5 tw-text-center dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 dark:focus:tw-ring-blue-800 tw-items-center tw-inline-flex tw-justify-center"},[(0,s._)("span",Kit,[(0,s.Wm)(u,{icon:"mdi:content-copy"})])])]),Bit],40,Rit)])]),(0,s._)("div",Jit,[(0,s._)("div",Qit,[(0,s.Wm)(a.W3,{"enter-from-class":"tw-translate-y-[10px] tw-opacity-0"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(Fit),{onUpdate:d,order:t,key:t.scan_id},null,8,["order"])))),128))])),_:1})])])])])])}}};const Xit=Git;var tnt=Xit,ent={name:"scanner",path:"/scanner",component:ya,meta:{module:"qrcode"},children:[{name:"scanner/code",path:"",component:tnt,meta:{module:"scaanner",subModule:"scaanner/code",title:"Scanner",gate:"stock_management",role:"admin"}}]};const rnt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},ant=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),snt={key:0},lnt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),ont={key:0},int={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},nnt={class:"mb-5 tw-flex"},wnt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},dnt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},cnt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},unt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),pnt={class:"tw-relative"},gnt={class:""};function mnt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",rnt,[ant,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",snt,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),lnt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ont,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",int,[(0,s._)("div",nnt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",wnt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",dnt,[(0,s._)("div",cnt,[unt,(0,s._)("div",pnt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",gnt,[(0,s.Wm)(w,{columns:o.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class hnt{async create(t){return await T.getCookie(),W.post("api/shops/new",{name:t.name})}async update(t,e){return await T.getCookie(),W.post("api/shops/update/"+t,{name:e.name})}async all(){return await T.getCookie(),W.get("api/shops")}async getShop(t){return await T.getCookie(),W.get("api/shops/"+t)}async delete(t){return await T.getCookie(),W["delete"]("api/shops/delete/"+t)}}var fnt=new hnt;const bnt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},xnt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},vnt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ynt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),_nt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},knt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Cnt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Dnt={class:"tw-px-6 tw-py-4"},Snt={class:"tw-px-6 tw-py-4"},znt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Unt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Pnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Lnt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Ant=["value"],qnt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Wnt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},$nt={class:"tw-text-white"};function Tnt(t,e,r,l,o,i){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",bnt,[(0,s._)("table",xnt,[(0,s._)("thead",vnt,[(0,s._)("tr",null,[ynt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",_nt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[knt,(0,s._)("th",Cnt,(0,at.zw)(t.id),1),(0,s._)("td",Dnt,(0,at.zw)(t.name),1),(0,s._)("td",Snt,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",znt,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",Unt,[(0,s._)("div",Pnt,[Lnt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Ant)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",qnt,[(0,s._)("div",Wnt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,at.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",$nt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Ent={class:"tw-flex tw-items-center tw-gap-1"};function Fnt(t,e,r,a,l,o){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Ent,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}var Ont={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,fnt["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),fnt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Vnt=(0,g.Z)(Ont,[["render",Fnt]]);var Int=Vnt,jnt={props:["columns","shops"],components:{ShopActions:Int},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Hnt=(0,g.Z)(jnt,[["render",Tnt]]);var Mnt=Hnt,Nnt={components:{ShopsTable:Mnt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){fnt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Rnt=(0,g.Z)(Nnt,[["render",mnt]]);var Ynt=Rnt;const Znt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Knt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Bnt={class:"tw-w-full"},Jnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),Qnt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gnt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Xnt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),twt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function ewt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[Znt,(0,s._)("div",Knt,[(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Bnt,[Jnt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qnt,(0,at.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Gnt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Xnt])),_:1}),(0,s.Wm)(st.T,{onClick:o.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[twt])),_:1},8,["onClick","loading"])])])])}var rwt={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;fnt.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const awt=(0,g.Z)(rwt,[["render",ewt]]);var swt=awt;const lwt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),owt={key:0},iwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},nwt={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},wwt={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},dwt={class:"tw-w-full"},cwt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),uwt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},pwt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},gwt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),mwt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function hwt(t,e,r,a,l,o){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[lwt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",owt,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",iwt,[(0,s._)("div",nwt,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",wwt,(0,at.zw)(o.id),1)]),(0,s._)("div",null,[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ca.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Da.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",dwt,[cwt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",uwt,(0,at.zw)(l.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",pwt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gwt])),_:1}),(0,s.Wm)(st.T,{onClick:o.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[mwt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var fwt={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;fnt.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){fnt.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const bwt=(0,g.Z)(fwt,[["render",hwt]]);var xwt=bwt,vwt={name:"shops",path:"/shops",component:ya,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:Ynt,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:swt,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:xwt,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const ywt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},_wt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),kwt={key:0},Cwt=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),Dwt={key:0},Swt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},zwt={class:"mb-5 tw-flex"},Uwt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Pwt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Lwt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Awt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),qwt={class:"tw-relative"},Wwt={class:""};function $wt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("WarehousesTable"),d=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",ywt,[_wt,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",kwt,[(0,s.Wm)(st.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Cwt])),_:1})])):(0,s.kq)("",!0)]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Dwt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Swt,[(0,s._)("div",zwt,[(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Uwt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Pwt,[(0,s._)("div",Lwt,[Awt,(0,s._)("div",qwt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Wwt,[(0,s.Wm)(w,{columns:o.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(d,{onCancel:e[4]||(e[4]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const Twt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Ewt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Fwt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Owt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Vwt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Iwt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),jwt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Hwt={class:"tw-px-6 tw-py-4"},Mwt={class:"tw-px-6 tw-py-4"},Nwt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},Rwt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Ywt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Zwt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Kwt=["value"],Bwt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Jwt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Qwt={class:"tw-text-white"};function Gwt(t,e,r,l,o,i){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Twt,[(0,s._)("table",Ewt,[(0,s._)("thead",Fwt,[(0,s._)("tr",null,[Owt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Vwt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Iwt,(0,s._)("th",jwt,(0,at.zw)(t.id),1),(0,s._)("td",Hwt,(0,at.zw)(t.name),1),(0,s._)("td",Mwt,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Nwt,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",Rwt,[(0,s._)("div",Ywt,[Zwt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Kwt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",Bwt,[(0,s._)("div",Jwt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,at.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Qwt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Xwt={class:"tw-flex tw-items-center tw-gap-1"};function tdt(t,e,r,a,l,o){const i=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Xwt,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[2]||(e[2]=t=>l.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const edt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},rdt=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),adt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},sdt={class:"tw-w-full tw-col-span-12"},ldt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),odt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},idt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ndt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),wdt=(0,s._)("span",{class:"text-white"}," Update ",-1);function ddt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",edt,[rdt,(0,s._)("div",adt,[(0,s._)("div",sdt,[ldt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",odt,(0,at.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",idt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ndt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wdt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var cdt={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,kx.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const udt=(0,g.Z)(cdt,[["render",ddt]]);var pdt=udt,gdt={components:{UpdateWarehouse:pdt},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,kx["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const mdt=(0,g.Z)(gdt,[["render",tdt]]);var hdt=mdt,fdt={props:["columns","warehouses"],components:{WarehouseActions:hdt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const bdt=(0,g.Z)(fdt,[["render",Gwt]]);var xdt=bdt;const vdt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},ydt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),_dt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},kdt={class:"tw-w-full tw-col-span-12"},Cdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Ddt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sdt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},zdt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Udt=(0,s._)("span",{class:"text-white"}," Create ",-1);function Pdt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vdt,[ydt,(0,s._)("div",_dt,[(0,s._)("div",kdt,[Cdt,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("name")),"hide-details":!0,modelValue:l.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ddt,(0,at.zw)(l.formStatus.name.message),1)])]),(0,s._)("div",Sdt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zdt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Udt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Ldt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;kx.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const Adt=(0,g.Z)(Ldt,[["render",Pdt]]);var qdt=Adt,Wdt={components:{WarehousesTable:xdt,AddWarehouse:qdt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){kx.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const $dt=(0,g.Z)(Wdt,[["render",$wt]]);var Tdt=$dt,Edt={name:"warehouses",path:"/warehouses",component:ya,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:Tdt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const Fdt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Odt={key:0},Vdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Idt={class:"mb-5 tw-flex"},jdt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Hdt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Mdt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Ndt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Rdt={class:"tw-relative"},Ydt={class:""};function Zdt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[Fdt,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Odt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Vdt,[(0,s._)("div",Idt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",jdt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",Hdt,[(0,s._)("div",Mdt,[Ndt,(0,s._)("div",Rdt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",Ydt,[(0,s.Wm)(w,{columns:o.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}class Kdt{async update(t,e){return await T.getCookie(),W.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await T.getCookie(),W.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await T.getCookie(),W.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await T.getCookie(),W.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await T.getCookie(),W.post("api/factorisations/update/fees/"+t,{fees:e})}async delete(t){return await T.getCookie(),W["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await T.getCookie(),W.post("api/v1/factorisation"+t,e)}}var Bdt=new Kdt;const Jdt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Qdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Gdt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Xdt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),tct={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ect={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},rct={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},act=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),sct=["value"],lct={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},oct={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},ict={class:"tw-text-white"};function nct(t,e,r,l,o,i){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Jdt,[(0,s._)("table",Qdt,[(0,s._)("thead",Gdt,[(0,s._)("tr",null,[Xdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",tct,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",ect,[(0,s._)("div",rct,[act,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,sct)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",lct,[(0,s._)("div",oct,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,at.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",ict,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const wct={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},dct=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),cct={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},uct={class:"tw-px-6 tw-py-4"},pct={class:"tw-px-6 tw-py-4"},gct={class:"tw-px-6 tw-py-4"},mct={class:"tw-px-6 tw-py-4"},hct={class:"tw-px-6 tw-py-4"},fct={class:"tw-px-6 tw-py-4"},bct={class:"tw-px-6 tw-py-4"},xct={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},vct={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},yct=["disabled"],_ct=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),kct={class:"tw-px-6 tw-py-4"},Cct={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Dct={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Sct=["disabled"],zct=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Uct={class:"tw-px-6 tw-py-4"},Pct={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Lct(t,e,r,l,o,i){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",wct,[dct,(0,s._)("th",cct,(0,at.zw)(r.factorisation.id),1),(0,s._)("td",uct,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,at.zw)(r.factorisation.factorisation_id),1)]),(0,s._)("td",pct,(0,at.zw)(i.deliveryName),1),(0,s._)("td",gct,(0,at.zw)(r.factorisation.commands_number),1),(0,s._)("td",mct,(0,at.zw)(r.factorisation.price),1),(0,s._)("td",hct,(0,at.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",fct,(0,at.zw)(r.factorisation.paid_at?.split("T")[0]),1),(0,s._)("td",bct,[(0,s._)("div",xct,[(0,s._)("label",vct,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,yct),[[a.e8,i.close]]),_ct]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",kct,[(0,s._)("div",Cct,[(0,s._)("label",Dct,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Sct),[[a.e8,i.paid]]),zct]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",Uct,(0,at.zw)(r.factorisation.created_at.split("T")[0]),1),(0,s._)("td",Pct,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])])}const Act={class:"tw-flex tw-items-center tw-gap-1"};function qct(t,e,r,a,l,o){const i=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Act,[(0,s.Wm)(st.T,{href:l.serverUrl+"api/export/factorisations/"+r.factorisation.factorisation_id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small",target:"_blank"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:l.showUpdatePopup,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:l.showUpdateCommentPopup,onCancel:e[4]||(e[4]=t=>l.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleResolved},null,8,["loading","visible","onResolved"])])}const Wct={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},$ct=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Tct={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Ect={class:"tw-w-full tw-col-span-6"},Fct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Oct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vct={class:"tw-w-full tw-col-span-6"},Ict=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),jct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Hct={class:"tw-w-full tw-col-span-6"},Mct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Nct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Rct={class:"tw-w-full tw-col-span-6"},Yct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Zct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kct={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Bct=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Jct=(0,s._)("span",{class:"text-white"}," Update ",-1);function Qct(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Wct,[$ct,(0,s._)("div",Tct,[(0,s._)("div",Ect,[Fct,(0,s.Wm)(it.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Oct,(0,at.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",Vct,[Ict,(0,s.Wm)(it.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",jct,(0,at.zw)(l.formStatus.delivery_id.message),1)]),(0,s._)("div",Hct,[Mct,(0,s.Wm)(it.hw,{error:!l.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>o.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Nct,(0,at.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Rct,[Yct,(0,s.Wm)(it.hw,{error:!l.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Zct,(0,at.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",Kct,[(0,s.Wm)(st.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bct])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Jct])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Gct={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Bdt.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Lt(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Lt(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Xct=(0,g.Z)(Gct,[["render",Qct]]);var tut=Xct;const eut={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},rut=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),aut={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},sut={class:"tw-w-full tw-col-span-6"},lut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),out={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},iut={class:"tw-w-full tw-col-span-6"},nut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),wut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dut={class:"tw-w-full tw-col-span-12"},cut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),uut=["error"],put={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gut={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},mut=(0,s._)("span",{class:"text-white"}," Cancel ",-1),hut=(0,s._)("span",{class:"text-white"}," Update ",-1);function fut(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",eut,[rut,(0,s._)("div",aut,[(0,s._)("div",sut,[lut,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",out,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",iut,[nut,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",wut,(0,at.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",dut,[cut,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,uut),[[a.nr,o.Factorisation.comment]]),(0,s._)("div",put,(0,at.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",gut,[(0,s.Wm)(st.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mut])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hut])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var but={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Bdt.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const xut=(0,g.Z)(but,[["render",fut]]);var vut=xut,yut={components:{UpdateFactorisation:tut,UpdateComment:vut},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1,showUpdateCommentPopup:!1,serverUrl:w}},methods:{handleResolved(t){t?(this.isLoading=!0,Bdt["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const _ut=(0,g.Z)(yut,[["render",qct]]);var kut=_ut,Cut={props:["factorisation"],components:{FactorisationActions:kut},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Bdt.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Bdt.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Dut=(0,g.Z)(Cut,[["render",Lct]]);var Sut=Dut,zut={props:["columns","factorisations"],components:{FactorisationRow:Sut},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const Uut=(0,g.Z)(zut,[["render",nct]]);var Put=Uut,Lut={components:{FactorisationsTable:Put},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Bdt.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Aut=(0,g.Z)(Lut,[["render",Zdt]]);var qut=Aut;const Wut={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},$ut={class:"tw-px-3"},Tut={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Eut={class:"tw-flex tw-items-center tw-gap-x-3"},Fut=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),Out={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Vut=(0,s.uE)('<button class="tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"><svg xmlns="http://www.w3.org/2000/svg" class="tw-w-5 tw-h-5" width="24" height="24" viewBox="0 0 24 24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M12 8.25a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5M9.75 12a2.25 2.25 0 1 1 4.5 0a2.25 2.25 0 0 1-4.5 0"></path><path d="M11.975 1.25c-.445 0-.816 0-1.12.02a2.823 2.823 0 0 0-.907.19a2.75 2.75 0 0 0-1.489 1.488c-.145.35-.184.72-.2 1.122a.868.868 0 0 1-.415.731a.868.868 0 0 1-.841-.005c-.356-.188-.696-.339-1.072-.389a2.75 2.75 0 0 0-2.033.545a2.83 2.83 0 0 0-.617.691c-.17.254-.356.575-.578.96l-.025.044c-.223.385-.408.706-.542.98c-.14.286-.25.568-.29.88a2.75 2.75 0 0 0 .544 2.033c.231.301.532.52.872.734a.868.868 0 0 1 .426.726a.868.868 0 0 1-.426.726c-.34.214-.64.433-.872.734a2.75 2.75 0 0 0-.545 2.033c.041.312.15.594.29.88c.135.274.32.595.543.98l.025.044c.222.385.408.706.578.96c.177.263.367.5.617.69a2.75 2.75 0 0 0 2.033.546c.376-.05.716-.2 1.072-.389a.867.867 0 0 1 .84-.005a.863.863 0 0 1 .417.731c.015.402.054.772.2 1.122a2.75 2.75 0 0 0 1.488 1.489c.29.12.59.167.907.188c.304.021.675.021 1.12.021h.05c.445 0 .816 0 1.12-.02c.318-.022.617-.069.907-.19a2.75 2.75 0 0 0 1.489-1.488c.145-.35.184-.72.2-1.122a.868.868 0 0 1 .415-.732a.868.868 0 0 1 .841.006c.356.188.696.339 1.072.388a2.75 2.75 0 0 0 2.033-.544c.25-.192.44-.428.617-.691c.17-.254.356-.575.578-.96l.025-.044c.223-.385.408-.706.542-.98c.14-.286.25-.569.29-.88a2.75 2.75 0 0 0-.544-2.033c-.231-.301-.532-.52-.872-.734a.868.868 0 0 1-.426-.726c0-.278.152-.554.426-.726c.34-.214.64-.433.872-.734a2.75 2.75 0 0 0 .545-2.033a2.826 2.826 0 0 0-.29-.88a17.9 17.9 0 0 0-.543-.98l-.025-.044a18.028 18.028 0 0 0-.578-.96a2.823 2.823 0 0 0-.617-.69a2.75 2.75 0 0 0-2.033-.546c-.376.05-.716.2-1.072.389a.868.868 0 0 1-.84.005a.868.868 0 0 1-.417-.731c-.015-.402-.054-.772-.2-1.122a2.75 2.75 0 0 0-1.488-1.489c-.29-.12-.59-.167-.907-.188c-.304-.021-.675-.021-1.12-.021zm-1.453 1.595c.077-.032.194-.061.435-.078c.247-.017.567-.017 1.043-.017s.796 0 1.043.017c.241.017.358.046.435.078c.307.127.55.37.677.677c.04.096.073.247.086.604c.03.792.439 1.555 1.165 1.974c.726.42 1.591.392 2.292.022c.316-.167.463-.214.567-.227a1.25 1.25 0 0 1 .924.247c.066.051.15.138.285.338c.139.206.299.483.537.895c.238.412.397.69.506.912c.107.217.14.333.15.416a1.25 1.25 0 0 1-.247.924c-.064.083-.178.187-.48.377c-.672.422-1.128 1.158-1.128 1.996c0 .838.456 1.574 1.128 1.996c.302.19.416.294.48.377c.202.263.29.595.247.924c-.01.083-.044.2-.15.416c-.109.223-.268.5-.506.912c-.238.412-.399.689-.537.895c-.135.2-.219.287-.285.338a1.25 1.25 0 0 1-.924.247c-.104-.013-.25-.06-.567-.227c-.7-.37-1.566-.398-2.292.021c-.726.42-1.135 1.183-1.165 1.975c-.013.357-.046.508-.086.604a1.25 1.25 0 0 1-.677.677c-.077.032-.194.061-.435.078c-.247.017-.567.017-1.043.017s-.796 0-1.043-.017c-.241-.017-.358-.046-.435-.078a1.25 1.25 0 0 1-.677-.677c-.04-.096-.073-.247-.086-.604c-.03-.792-.439-1.555-1.165-1.974c-.726-.42-1.591-.392-2.292-.022c-.316.167-.463.214-.567.227a1.25 1.25 0 0 1-.924-.247c-.066-.051-.15-.138-.285-.338a17.055 17.055 0 0 1-.537-.895c-.238-.412-.397-.69-.506-.912c-.107-.217-.14-.333-.15-.416a1.25 1.25 0 0 1 .247-.924c.064-.083.178-.187.48-.377c.672-.422 1.128-1.158 1.128-1.996c0-.838-.456-1.574-1.128-1.996c-.302-.19-.416-.294-.48-.377a1.25 1.25 0 0 1-.247-.924c.01-.083.044-.2.15-.416c.109-.223.268-.5.506-.912c.238-.412.399-.689.537-.895c.135-.2.219-.287.285-.338a1.25 1.25 0 0 1 .924-.247c.104.013.25.06.567.227c.7.37 1.566.398 2.292-.022c.726-.419 1.135-1.182 1.165-1.974c.013-.357.046-.508.086-.604c.127-.307.37-.55.677-.677"></path></g></svg><span>Settings</span></button>',1),Iut=[Vut],jut={key:0};function Hut(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("SettingsPopup");return(0,s.wg)(),(0,s.iD)("div",Wut,[(0,s._)("section",$ut,[(0,s._)("div",Tut,[(0,s._)("div",null,[(0,s._)("div",Eut,[Fut,(0,s._)("span",Out,(0,at.zw)(l.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.settings_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Iut)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.settings_popup?((0,s.wg)(),(0,s.iD)("div",jut,[(0,s.Wm)(w,{visible:l.settings_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.settings_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const Mut={class:"tw-flex tw-flex-col tw-mt-5"},Nut={class:"tw-overflow-x-auto"},Rut={class:"tw-inline-block tw-min-w-full tw-align-middle"},Yut={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Zut={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Kut={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},But=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Jut=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Code ",-1),Qut=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),Gut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," NB Commands ",-1),Xut=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Price ",-1),tpt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),ept=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),rpt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Close ",-1),apt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid ",-1),spt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},lpt=(0,s._)("span",null,"Created",-1),opt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),ipt=[lpt,opt],npt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),wpt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},dpt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},cpt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),upt=[cpt],ppt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},gpt={colspan:"11"},mpt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},hpt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),fpt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),bpt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),xpt=[fpt,bpt],vpt={class:"tw-mt-6"};function ypt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Mut,[(0,s._)("div",Nut,[(0,s._)("div",Rut,[(0,s._)("div",Yut,[(0,s._)("table",Zut,[(0,s._)("thead",Kut,[(0,s._)("tr",null,[But,Jut,Qut,Gut,Xut,(0,s.kq)("",!0),tpt,ept,rpt,apt,(0,s._)("th",spt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},ipt)]),npt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",wpt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",dpt,upt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",ppt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",gpt,[(0,s._)("div",mpt,[hpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},xpt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",vpt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const _pt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},kpt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Cpt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Dpt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Spt=["disabled"],zpt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Upt=(0,s._)("span",null," previous ",-1),Ppt=[zpt,Upt],Lpt=["disabled"],Apt=(0,s._)("span",null," Next ",-1),qpt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Wpt=[Apt,qpt];function $pt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_pt,[(0,s._)("div",kpt,[(0,s.Uk)(" Page "),(0,s._)("span",Cpt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",Dpt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ppt,10,Spt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Wpt,10,Lpt)])])])}var Tpt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Ept=(0,g.Z)(Tpt,[["render",$pt]]);var Fpt=Ept;const Opt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Vpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Ipt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},jpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Hpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Mpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Npt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Rpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ypt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},Zpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Kpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Bpt={key:0},Jpt={key:0},Qpt={key:1},Gpt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Xpt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},tgt={key:0},egt={key:0},rgt={key:1},agt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sgt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lgt={key:0},ogt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},igt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},ngt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function wgt(t,e,r,a,l,o){const i=(0,s.up)("PdfFactorisation"),n=(0,s.up)("CloseFactorisation"),w=(0,s.up)("PaidFactorisation"),d=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Opt,[(0,s._)("div",null,[(0,s._)("h2",Vpt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",Ipt,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),(0,s._)("td",jpt,[(0,s._)("div",null,[(0,s._)("h2",Hpt,[(0,s._)("span",null,(0,at.zw)(r.item.delivery.firstname)+" "+(0,at.zw)(r.item.delivery.lastname),1)])])]),(0,s._)("td",Mpt,[(0,s._)("div",null,[(0,s._)("h2",Npt,[(0,s._)("span",null,(0,at.zw)(r.item.delivery_order_count),1)])])]),(0,s._)("td",Rpt,[(0,s._)("div",null,[(0,s._)("h2",Ypt,[(0,s._)("span",null,(0,at.zw)(r.item.delivery_order_price),1),(0,s.Uk)(" "+(0,at.zw)(l.currency),1)])])]),(0,s._)("td",Zpt,[(0,s._)("div",null,[(0,s._)("h2",Kpt,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",Bpt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",Jpt,(0,at.zw)(l.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",Qpt," - "))])])]),(0,s._)("td",Gpt,[(0,s._)("div",null,[(0,s._)("h2",Xpt,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",tgt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",egt,(0,at.zw)(l.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",rgt," - "))])])]),(0,s._)("td",agt,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(n,{item:r.item,key:r.item.id,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["item"]))])]),(0,s._)("td",sgt,[r.item.close?((0,s.wg)(),(0,s.iD)("div",lgt,[((0,s.wg)(),(0,s.j4)(w,{item:r.item,key:r.item.id,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)]),(0,s._)("td",ogt,[(0,s._)("div",null,[(0,s._)("h2",igt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",ngt,[(0,s._)("div",null,[(0,s.Wm)(d,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const dgt={class:"tw-h-full"},cgt={class:"tw-flex tw-items-center tw-gap-2"},ugt={key:0},pgt={key:1},ggt={key:2};function mgt(t,e,r,a,l,o){const i=(0,s.up)("CommentFactorisation"),n=(0,s.up)("UpdateFactorisation"),w=(0,s.up)("UpdateFees");return(0,s.wg)(),(0,s.iD)("div",dgt,[(0,s._)("div",cgt,[(0,s.Wm)(st.T,{target:"_blank",href:l.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"]),(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.CommentPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.DeletePopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.kq)("",!0)]),l.CommentPopup?((0,s.wg)(),(0,s.iD)("div",ugt,[((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),visible:l.CommentPopup,"onUpdate:visible":e[5]||(e[5]=t=>l.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),l.popup?((0,s.wg)(),(0,s.iD)("div",pgt,[((0,s.wg)(),(0,s.j4)(n,{onUpdate:e[6]||(e[6]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[7]||(e[7]=t=>l.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),l.FeesPopup?((0,s.wg)(),(0,s.iD)("div",ggt,[((0,s.wg)(),(0,s.j4)(w,{onUpdate:e[8]||(e[8]=e=>t.$emit("update",e)),visible:l.FeesPopup,"onUpdate:visible":e[9]||(e[9]=t=>l.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0)])}const hgt={key:0},fgt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},bgt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),xgt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},vgt={class:"tw-w-full tw-col-span-6"},ygt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),_gt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},kgt={class:"tw-w-full tw-col-span-6"},Cgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Dgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Sgt={class:"tw-w-full tw-col-span-12"},zgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Ugt=["error"],Pgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lgt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Agt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),qgt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Wgt(t,e,r,l,o,i){const n=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",hgt,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",fgt,[bgt,(0,s._)("div",xgt,[(0,s._)("div",vgt,[ygt,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:o.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",_gt,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",kgt,[Cgt,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:o.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>o.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Dgt,(0,at.zw)(o.formStatus.commands_number.message),1)]),(0,s._)("div",Sgt,[zgt,(0,s.wy)((0,s._)("textarea",{error:!o.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>o.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,Ugt),[[a.nr,o.itemCopy.comment]]),(0,s._)("div",Pgt,(0,at.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Lgt,[(0,s.Wm)(st.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Agt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[qgt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var $gt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Bdt.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Tgt=(0,g.Z)($gt,[["render",Wgt]]);var Egt=Tgt;const Fgt={key:0},Ogt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Vgt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Igt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},jgt={class:"tw-w-full tw-col-span-6"},Hgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Mgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ngt={class:"tw-w-full tw-col-span-6"},Rgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),Ygt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zgt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Kgt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Bgt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Jgt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",Fgt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ogt,[Vgt,(0,s._)("div",Igt,[(0,s._)("div",jgt,[Hgt,(0,s.Wm)(it.hw,{error:!l.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("factorisation_id")),"hide-details":!0,modelValue:l.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Mgt,(0,at.zw)(l.formStatus.factorisation_id.message),1)]),(0,s._)("div",Ngt,[Rgt,(0,s.Wm)(it.hw,{error:!l.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>o.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:o.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ygt,(0,at.zw)(l.formStatus.delivery_id.message),1)])]),(0,s._)("div",Zgt,[(0,s.Wm)(st.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kgt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Bgt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Qgt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Bdt.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const Ggt=(0,g.Z)(Qgt,[["render",Jgt]]);var Xgt=Ggt;const tmt={key:0},emt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},rmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),amt={class:"tw-w-full tw-col-span-6"},smt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),lmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},omt={class:"tw-w-full tw-col-span-6"},imt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),nmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wmt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},dmt=["onClick"],cmt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),umt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},pmt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),gmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},mmt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),hmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function fmt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",tmt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",emt,[rmt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",amt,[smt,(0,s.Wm)(it.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>o.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",lmt,(0,at.zw)(l.formStatus.price.message),1)]),(0,s._)("div",omt,[imt,(0,s.Wm)(it.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>o.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",nmt,(0,at.zw)(l.formStatus.commands_number.message),1),(0,s._)("div",wmt,[(0,s._)("button",{onClick:e=>o.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),cmt],8,dmt)])])])))),128)),(0,s._)("div",umt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.addFees&&o.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(ot.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),pmt])]),(0,s._)("div",gmt,[(0,s.Wm)(st.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mmt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[hmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var bmt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Bdt.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const xmt=(0,g.Z)(bmt,[["render",fmt]]);var vmt=xmt,ymt={components:{CommentFactorisation:Egt,UpdateFactorisation:Xgt,UpdateFees:vmt},props:{item:{required:!0}},data(){return{CommentPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,serverUrl:w}},computed:{},methods:{}};const _mt=(0,g.Z)(ymt,[["render",mgt]]);var kmt=_mt;const Cmt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Dmt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Smt=["disabled"],zmt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Umt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Cmt,[(0,s._)("label",Dmt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Smt),[[a.e8,i.close]]),zmt]),o.isLoadingClose?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Pmt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Bdt.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const Lmt=(0,g.Z)(Pmt,[["render",Umt]]);var Amt=Lmt;const qmt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Wmt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},$mt=["disabled"],Tmt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Emt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",qmt,[(0,s._)("label",Wmt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,$mt),[[a.e8,i.paid]]),Tmt]),o.isLoadingPaid?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var Fmt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Bdt.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const Omt=(0,g.Z)(Fmt,[["render",Emt]]);var Vmt=Omt;const Imt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"};function jmt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("h2",Imt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>o.download(r.item.id))},(0,at.zw)(r.item.factorisation_id),1)])}var Hmt={props:{item:{required:!0}},methods:{download(t){const e=w+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Mmt=(0,g.Z)(Hmt,[["render",jmt]]);var Nmt=Mmt,Rmt={components:{TableActions:kmt,CloseFactorisation:Amt,PaidFactorisation:Vmt,PdfFactorisation:Nmt},props:{item:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{}};const Ymt=(0,g.Z)(Rmt,[["render",wgt]]);var Zmt=Ymt,Kmt={components:{TablePaginationNoNums:Fpt,TableRow:Zmt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Bmt=(0,g.Z)(Kmt,[["render",ypt]]);var Jmt=Bmt;const Qmt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Gmt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Xmt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),tht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),eht=[tht],rht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),aht=[rht],sht=["disabled"],lht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),oht=[lht],iht={class:"tw-relative"},nht=["value"],wht=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),dht=[wht],cht=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),uht={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},pht=["value"],ght={class:"tw-overflow-hidden tw-col-span-1"},mht=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),hht=[mht];function fht(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Qmt,[(0,s._)("div",Gmt,[Xmt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},eht),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},aht)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},oht,8,sht),(0,s._)("div",iht,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},dht,40,nht),cht])]),(0,s._)("div",uht,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,pht),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",ght,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[o.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},hht,2)):(0,s.kq)("",!0)])}const bht={class:"tw-mb-4"},xht={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},vht={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},yht=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),_ht=(0,s._)("span",null,"Clear",-1),kht=[yht,_ht],Cht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Dht=(0,s._)("span",null,"Filter",-1),Sht=[Cht,Dht];function zht(t,e,r,a,l,o){(0,s.up)("SellerFilter");const i=(0,s.up)("CloseFilter"),n=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",bht,[(0,s._)("div",xht,[(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",vht,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},kht),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Sht)])])])}const Uht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Pht=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),Lht=["value"],Aht=(0,s._)("option",{value:"all"},"All",-1),qht=["value"];function Wht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Uht,[Pht,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Aht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,qht)))),128))],40,Lht)])}var $ht={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Tht=(0,g.Z)($ht,[["render",Wht]]);var Eht=Tht;const Fht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Oht=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),Vht=["value"],Iht=(0,s._)("option",{value:"all"},"All",-1),jht=["value"];function Hht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Fht,[Oht,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Iht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,at.zw)(t.title),9,jht)))),128))],40,Vht)])}var Mht={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const Nht=(0,g.Z)(Mht,[["render",Hht]]);var Rht=Nht;const Yht={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Zht=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),Kht=["value"],Bht=(0,s._)("option",{value:"all"},"All",-1),Jht=["value"];function Qht(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Yht,[Zht,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Bht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,at.zw)(t.title),9,Jht)))),128))],40,Kht)])}var Ght={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const Xht=(0,g.Z)(Ght,[["render",Qht]]);var tft=Xht,eft={components:{SellerFilter:Eht,CloseFilter:Rht,PaidFilter:tft},props:{filters:{required:!0,default:{}}},data(){return{}}};const rft=(0,g.Z)(eft,[["render",zht]]);var aft=rft,sft={components:{FiltersWrapper:aft},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const lft=(0,g.Z)(sft,[["render",fht]]);var oft=lft;const ift={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},nft=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Factorisation Settings ",-1),wft={class:"tw-bg-white tw-p-4"},dft={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},cft={class:"md:tw-col-span-1 tw-col-span-2"},uft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Interval Time",-1),pft={class:"tw-relative"},gft=(0,s._)("option",{value:null,disabled:""},"Choose an Interval",-1),mft=(0,s._)("option",{value:"daily"},"Daily",-1),hft=(0,s._)("option",{value:"weekly"},"Weekly",-1),fft=(0,s._)("option",{value:"monthly"},"Monthly",-1),bft=(0,s._)("option",{value:"yearly"},"Yearly",-1),xft=[gft,mft,hft,fft,bft],vft=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),yft={class:"md:tw-col-span-1 tw-col-span-2"},_ft=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"}," Auto Close Date Starts",-1),kft={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function Cft(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ift,[nft,(0,s._)("div",wft,[(0,s._)("div",dft,[(0,s._)("div",cft,[uft,(0,s._)("div",pft,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.intervalTime=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"},xft,512),[[a.bM,o.intervalTime]]),vft])]),(0,s._)("div",yft,[_ft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.closeDateStart=t),type:"datetime-local",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,512),[[a.nr,o.closeDateStart]])])])]),(0,s._)("div",kft,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var Dft={props:{visible:{required:!0}},data(){return{isLoading:!1,closeDateStart:null,intervalTime:null}},computed:{},methods:{cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)}},mounted(){}};const Sft=(0,g.Z)(Dft,[["render",Cft]]);var zft=Sft,Uft={components:{IndexTable:Jmt,IndexFilters:oft,SettingsPopup:zft},data(){return{fetching:!0,settings_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Bdt.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,console.log(this.items),this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Pft=(0,g.Z)(Uft,[["render",Hut]]);var Lft=Pft,Aft={name:"factorisations",path:"/factorisations",component:ya,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:qut,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/newlist",path:"/newfactorisations",component:Lft,meta:{module:"newfactorisation",subModule:"factorisation/newlist",title:"Factorisations List",gate:"show_all_factorisations"}}]};const qft={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Wft={class:"tw-px-3"},$ft={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Tft={class:"tw-flex tw-items-center tw-gap-x-3"},Eft=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Ads",-1),Fft={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Oft={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-cyan-500 tw-bg-blue-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Vft=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Ads list.",-1),Ift=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),jft=[Ift],Hft={key:0};function Mft(t,e,r,a,l,o){const i=(0,s.up)("router-link"),n=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",qft,[(0,s._)("section",Wft,[(0,s._)("div",$ft,[(0,s._)("div",null,[(0,s._)("div",Tft,[Eft,(0,s._)("span",Fft,(0,at.zw)(l.totalOrders)+" ad",1),(0,s.Wm)(i,{to:"adsaddeddaily"},{default:(0,s.w5)((()=>[(0,s._)("span",Oft,(0,at.zw)(l.adsaddedToday)+" ad(s) added Today",1)])),_:1})]),Vft]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},jft)]),(0,s.Wm)(n,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:o.handleItemUpdate,onDelete:o.handleItemDelete,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onDelete","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",Hft,[(0,s.Wm)(d,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class Nft{async create(t){return await T.getCookie(),W.post("api/ads/new",t)}async addedToday(){return await T.getCookie(),W.get("api/ads/addedtoday")}async updateApprouval(t){return await T.getCookie(),W.post("api/ads/approuve/"+t)}async update(t,e){return await T.getCookie(),W.post("api/ads/update/"+t,e)}async delete(t){return await T.getCookie(),W["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await T.getCookie(),W.post("api/ads"+t,e)}}var Rft=new Nft;const Yft={class:"tw-flex tw-flex-col"},Zft={class:"tw-overflow-x-auto"},Kft={class:"tw-inline-block tw-min-w-full tw-align-middle"},Bft={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Jft={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Qft={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Gft=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Xft={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},tbt=(0,s._)("span",null,"Created",-1),ebt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),rbt=[tbt,ebt],abt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},sbt=(0,s._)("span",null,"Ads For",-1),lbt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),obt=[sbt,lbt],ibt={key:0,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},nbt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),wbt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),dbt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),cbt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),ubt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),pbt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},gbt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},mbt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"9"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No ads yet ! ")])],-1),hbt=[mbt],fbt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},bbt={colspan:"9"},xbt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},vbt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),ybt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),_bt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),kbt=[ybt,_bt],Cbt={class:"tw-mt-6"};function Dbt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=(0,s.up)("TableRowTotal"),w=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Yft,[(0,s._)("div",Zft,[(0,s._)("div",Kft,[(0,s._)("div",Bft,[(0,s._)("table",Jft,[(0,s._)("thead",Qft,[(0,s._)("tr",null,[Gft,(0,s._)("th",Xft,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},rbt)]),(0,s._)("th",abt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},obt)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",ibt," Marketer ")):(0,s.kq)("",!0),nbt,wbt,dbt,cbt,ubt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",pbt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),onDelete:e[3]||(e[3]=e=>t.$emit("delete",e)),key:r.id,item:r},null,8,["item"])))),128)),(0,s.Wm)(n,{items:r.items},null,8,["items"])])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",gbt,hbt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",fbt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",bbt,[(0,s._)("div",xbt,[vbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},kbt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Cbt,[(0,s.Wm)(w,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Sbt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},zbt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Ubt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Pbt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Lbt=["disabled"],Abt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),qbt=(0,s._)("span",null," previous ",-1),Wbt=[Abt,qbt],$bt=["disabled"],Tbt=(0,s._)("span",null," Next ",-1),Ebt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Fbt=[Tbt,Ebt];function Obt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Sbt,[(0,s._)("div",zbt,[(0,s.Uk)(" Page "),(0,s._)("span",Ubt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",Pbt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Wbt,10,Lbt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Fbt,10,$bt)])])])}var Vbt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Ibt=(0,g.Z)(Vbt,[["render",Obt]]);var jbt=Ibt;const Hbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Mbt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Nbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Rbt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},Ybt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Zbt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},Kbt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Bbt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x"},Jbt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Qbt={class:"tw-flex tw-items-center tw-gap-3"},Gbt={class:"tw-w-[28px]"},Xbt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Facebook ",-1),txt={class:"tw-w-[28px]"},ext=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," TikTok ",-1),rxt={class:"tw-w-[28px]"},axt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Google Ads ",-1),sxt={class:"tw-w-[28px] tw-h-[28px] tw-bg-[#fffb09] tw-rounded-md tw-flex tw-items-center tw-justify-center"},lxt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Snapchat ",-1),oxt={class:"tw-w-[28px]"},ixt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"},nxt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wxt={class:"tw-font-bold tw-text-green-500 darkx:tw-text-white tw-font-[cairo]"},dxt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cxt={class:"tw-flex tw-items-center tw-gap-2"},uxt={class:"tw-font-bold tw-text-cyan-500 darkx:tw-text-white"},pxt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gxt={dir:"rtl",class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-max-w-[150px] tw-truncate"},mxt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function hxt(t,e,r,a,l,o){const i=(0,s.up)("icon"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Hbt,[(0,s._)("div",null,[(0,s._)("h2",Mbt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",Nbt,[(0,s._)("div",null,[(0,s._)("h2",Rbt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Ybt,[(0,s._)("div",null,[(0,s._)("h2",Zbt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Kbt,[(0,s._)("div",null,[(0,s._)("h2",Bbt,(0,at.zw)(r.item.marketers?.firstname)+" "+(0,at.zw)(r.item.marketers?.lastname),1)])])):(0,s.kq)("",!0),(0,s._)("td",Jbt,[(0,s._)("div",Qbt,[["facebook","tiktok","snapchat","google"].includes(r.item.source?.toLocaleLowerCase())?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["facebook"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Gbt,[(0,s.Wm)(i,{icon:"logos:facebook",class:"tw-text-2xl"})]),Xbt],64)):(0,s.kq)("",!0),"tiktok"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",txt,[(0,s.Wm)(i,{icon:"logos:tiktok-icon",class:"tw-text-2xl"})]),ext],64)):(0,s.kq)("",!0),"google"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("div",rxt,[(0,s.Wm)(i,{icon:"logos:google-ads",class:"tw-text-2xl"})]),axt],64)):(0,s.kq)("",!0),"snapchat"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("div",sxt,[(0,s.Wm)(i,{icon:"jam:snapchat",class:"tw-text-2xl tw-text-white tw-stroke-black"})]),lxt],64)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",oxt,[(0,s.Wm)(i,{icon:"fluent-mdl2:unknown-solid",class:"tw-text-2xl"})]),(0,s._)("h2",ixt,(0,at.zw)(r.item.source),1)],64))])]),(0,s._)("td",nxt,[(0,s._)("div",null,[(0,s._)("h2",wxt,(0,at.zw)(l.currency)+(0,at.zw)(parseFloat(r.item.amount).toFixed(2)),1)])]),(0,s._)("td",dxt,[(0,s._)("div",cxt,[(0,s._)("h2",uxt,[(0,s.Wm)(i,{icon:"material-symbols-light:leaderboard-rounded",class:"tw-text-sm tw-text-cyan-400"}),(0,s.Uk)(" "+(0,at.zw)(r.item.leads),1)]),(t.$user.role,(0,s.kq)("",!0))])]),(0,s._)("td",pxt,[(0,s._)("div",null,[(0,s._)("h2",gxt,(0,at.zw)(r.item.products.name),1)])]),(0,s._)("td",mxt,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),onDelete:e[1]||(e[1]=e=>t.$emit("delete",e)),item:r.item},null,8,["item"])])])])}const fxt={class:"tw-h-full"},bxt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-w-full"},xxt={key:0};function vxt(t,e,r,a,l,o){const i=(0,s.up)("TableActionsDelete"),n=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",fxt,[(0,s._)("div",bxt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,item:r.item,onDelete:e[1]||(e[1]=e=>t.$emit("delete",e))},null,8,["item"])):(0,s.kq)("",!0)]),l.popup?((0,s.wg)(),(0,s.iD)("div",xxt,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[3]||(e[3]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const yxt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},_xt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),kxt={class:"tw-bg-white tw-p-4"},Cxt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Dxt={class:"tw-col-span-2 md:tw-col-span-1"},Sxt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),zxt=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),Uxt=["value"],Pxt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Lxt={class:"tw-col-span-2 md:tw-col-span-1"},Axt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),qxt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Wxt={class:"tw-col-span-2 md:tw-col-span-1"},$xt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),Txt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Ext={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Fxt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),Oxt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Vxt={key:1,class:"tw-col-span-2 md:tw-col-span-1"},Ixt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),jxt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Hxt=["value"],Mxt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nxt={class:"md:tw-col-span-1 tw-col-span-2"},Rxt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),Yxt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Zxt={class:"tw-col-span-2"},Kxt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),Bxt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Jxt=["disabled"],Qxt=(0,s._)("span",null,"Update",-1);function Gxt(t,e,r,l,o,i){const n=(0,s.up)("vue-select"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",yxt,[_xt,(0,s._)("div",kxt,[(0,s._)("div",Cxt,[(0,s._)("div",Dxt,[Sxt,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>o.errors.source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>o.items.source=t),class:(0,at.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-capitalize tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[zxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,at.zw)(t),9,Uxt)))),128))],34),[[a.bM,o.items.source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",Pxt,(0,at.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",Lxt,[Axt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.amount=t),onInput:e[3]||(e[3]=t=>o.errors.amount=null),class:(0,at.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",qxt,(0,at.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",Wxt,[$xt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items.leads=t),onInput:e[5]||(e[5]=t=>o.errors.leads=null),class:(0,at.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",Txt,(0,at.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",Ext,[Fxt,(0,s.Wm)(n,{reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>o.items.product_id=t.id),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All",modelValue:o.items.product_id,"onUpdate:modelValue":e[7]||(e[7]=t=>o.items.product_id=t),options:o.products,label:"name"},null,8,["reduce","modelValue","options"]),o.errors.product_id?((0,s.wg)(),(0,s.iD)("label",Oxt,(0,at.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Vxt,[Ixt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items.marketer_id=t),class:(0,at.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[jxt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Hxt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",Mxt,(0,at.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Nxt,[Rxt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items.ads_at=t),onInput:e[11]||(e[11]=t=>o.errors.ads_at=null),class:(0,at.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items.ads_at]]),(0,s._)("label",Yxt,(0,at.zw)(o.errors.ads_at),1)]),(0,s._)("div",Zxt,[Kxt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items.note]])])])]),(0,s._)("div",Bxt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Qxt],8,Jxt)])])])),_:1},8,["visible","onCancel"])])}const Xxt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseFloat(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),tvt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},evt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},rvt=(t,e)=>{t.isLoading=!0,t.errors={},Rft.update(e.id,e).then((e=>tvt(t,e.data))).catch((e=>evt(t,e.response.data))).finally((()=>t.isLoading=!1))};var avt={components:{"vue-select":bY.Z},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,sources:["facebook","google","tiktok","snapchat"],products_fetched:null,products:[{id:0,name:"Choose a product"}],items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,leads:null,ads_at:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=Xxt(this,this.items);if(!t)return!1;rvt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=[{id:0,name:"Choose a product"},...t.data.data.products]:this.products=[{id:0,name:"Choose a product"}],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const svt=(0,g.Z)(avt,[["render",Gxt]]);var lvt=svt;const ovt={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},ivt=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete this ?",-1),nvt={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},wvt=["disabled"],dvt=["disabled"];var cvt={__name:"TableActionsDelete",props:["item"],emits:["delete"],setup(t,{emit:e}){const r=t,a=(0,be.iH)(!1),l=(0,be.iH)(!1),o=async()=>{l.value=!0,await Rft["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(Sn("Deleted Successfully"),a.value=!1,e("delete",r.item.id))}),(t=>{console.log(t),Sn("Something went wrong","danger")})),l.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>a.value=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),(0,s.Wm)(r,{visible:a.value,onCancel:e[2]||(e[2]=t=>a.value=!1),closeable:!l.value},{default:(0,s.w5)((()=>[(0,s._)("div",ovt,[ivt,(0,s._)("div",nvt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:l.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,wvt),(0,s._)("button",{onClick:o,disabled:l.value,type:"button",class:(0,at.C_)([[l.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[l.value?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([l.value&&"!tw-invisible"])},"Supprimer",2)],10,dvt)])])])),_:1},8,["visible","closeable"])])}}};const uvt=cvt;var pvt=uvt,gvt={components:{UpdatePopup:lvt,TableActionsDelete:pvt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const mvt=(0,g.Z)(gvt,[["render",vxt]]);var hvt=mvt,fvt={components:{TableActions:hvt},props:{item:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{}};const bvt=(0,g.Z)(fvt,[["render",hxt]]);var xvt=bvt;const vvt={class:"tw-bg-gray-50 tw-border-t tw-border-gray-300 tw-sticky tw-bottom-0"},yvt=(0,s._)("td",{class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},null,-1),_vt=(0,s._)("td",{class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},null,-1),kvt=(0,s._)("td",{class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},null,-1),Cvt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dvt=(0,s._)("td",{class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},null,-1),Svt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zvt={class:"tw-flex tw-flex-col tw-items-start tw-gap-1"},Uvt={class:"tw-font-bold tw-text-green-500 darkx:tw-text-white tw-font-[cairo]"},Pvt=(0,s._)("p",{class:"tw-text-xs tw-text-green-500x tw-font-semibold"},"TOTAL SPEND",-1),Lvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Avt={class:"tw-flex tw-flex-col tw-items-start tw-gap-1"},qvt={class:"tw-flex tw-items-center tw-gap-2"},Wvt={class:"tw-font-bold tw-text-cyan-500 darkx:tw-text-white"},$vt=(0,s._)("p",{class:"tw-text-xs tw-text-cyan-500x tw-font-semibold"},"TOTAL LEADS",-1),Tvt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Evt={class:"tw-flex tw-items-start tw-flex-col tw-gap-1"},Fvt={class:"tw-flex tw-items-center tw-gap-1"},Ovt={class:"tw-font-bold tw-text-fuchsia-500"},Vvt=(0,s._)("p",{class:"tw-text-xs tw-text-fuchsia-500x tw-font-semibold"},"COST PER LEAD",-1),Ivt=(0,s._)("td",{class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"},[(0,s._)("div")],-1);function jvt(t,e,r,a,l,o){const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("tr",vvt,[yvt,_vt,kvt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Cvt)):(0,s.kq)("",!0),Dvt,(0,s._)("td",Svt,[(0,s._)("div",zvt,[(0,s._)("h2",Uvt,(0,at.zw)(l.currency)+(0,at.zw)(o.totalSpend),1),Pvt])]),(0,s._)("td",Lvt,[(0,s._)("div",Avt,[(0,s._)("div",qvt,[(0,s.Wm)(i,{icon:"material-symbols-light:leaderboard-rounded",class:"tw-text-lg tw-text-cyan-400"}),(0,s._)("h2",Wvt,(0,at.zw)(o.totalLeads),1)]),$vt])]),(0,s._)("td",Tvt,[(0,s._)("div",Evt,[(0,s._)("div",Fvt,[(0,s._)("span",Ovt,(0,at.zw)(l.currency)+(0,at.zw)((o.totalSpend/o.totalLeads).toFixed(2)),1)]),Vvt])]),Ivt])}var Hvt={components:{},props:{items:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{totalLeads(){return this.items.reduce(((t,e)=>t+e.leads),0)},totalSpend(){return this.items.reduce(((t,e)=>t+e.amount),0).toFixed(2)}},methods:{}};const Mvt=(0,g.Z)(Hvt,[["render",jvt]]);var Nvt=Mvt,Rvt={components:{TablePaginationNoNums:jbt,TableRow:xvt,TableRowTotal:Nvt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Yvt=(0,g.Z)(Rvt,[["render",Dbt]]);var Zvt=Yvt;const Kvt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Bvt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Jvt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Qvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Gvt=[Qvt],Xvt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),tyt=[Xvt],eyt=["disabled"],ryt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),ayt=[ryt],syt={class:"tw-relative"},lyt=["value"],oyt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),iyt=[oyt],nyt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),wyt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},dyt=["value"],cyt={class:"tw-overflow-hidden tw-col-span-1"};function uyt(t,e,r,l,o,i){const n=(0,s.up)("AdsData"),w=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Kvt,[(0,s._)("div",Bvt,[Jvt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Gvt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},tyt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ayt,8,eyt),(0,s._)("div",null,[(0,s.Wm)(n,{statistics:r.statistics,loading:r.loading},null,8,["statistics","loading"])]),(0,s._)("div",syt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},iyt,40,lyt),nyt])]),(0,s._)("div",wyt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,dyt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",cyt,[(0,s.Wm)(w,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2)])}const pyt={class:"tw-mb-4"},gyt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},myt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),fyt=["value"],byt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},xyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),vyt=["value"],yyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},_yt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),kyt=["value"],Cyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Dyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),Syt=["value"],zyt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Uyt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Pyt=(0,s._)("span",null,"Clear",-1),Lyt=[Uyt,Pyt],Ayt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),qyt=(0,s._)("span",null,"Filter",-1),Wyt=[Ayt,qyt];function $yt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),w=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",pyt,[(0,s._)("div",gyt,[(0,s._)("div",myt,[hyt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,fyt)]),(0,s._)("div",byt,[xyt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,vyt)]),(0,s._)("div",yyt,[_yt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,kyt)]),(0,s._)("div",Cyt,[Dyt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Syt)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",zyt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Lyt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Wyt)])])])}const Tyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Eyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),Fyt=["value"],Oyt=(0,s._)("option",{value:"all"},"All",-1),Vyt=["value"];function Iyt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Tyt,[Eyt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Oyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Vyt)))),128))],40,Fyt)])}var jyt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Hyt=(0,g.Z)(jyt,[["render",Iyt]]);var Myt=Hyt;const Nyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Ryt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function Yyt(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",Nyt,[Ryt,(0,s.Wm)(i,{reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All",value:r.filters.product_id,options:l.products,label:"name"},null,8,["reduce","value","options"]),(0,s.kq)("",!0)])}var Zyt={components:{"vue-select":bY.Z},props:{filters:{required:!0}},data(){return{products:[{id:"all",name:"All"}],fetched:!1}},computed:{},methods:{getProducts(){return ha.allForOrder().then((t=>{"SUCCESS"==t.data.code&&(this.products.push(...t.data.data.products),this.fetched=!0)}),(t=>{this.$handleApiError(t)}))}},mounted(){this.getProducts()}};const Kyt=(0,g.Z)(Zyt,[["render",Yyt]]);var Byt=Kyt;const Jyt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Qyt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),Gyt=["value"],Xyt=(0,s._)("option",{value:"all"},"All",-1),t_t=["value"];function e_t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",Jyt,[Qyt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-capitalize tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Xyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,at.zw)(t),9,t_t)))),128))],40,Gyt)])}var r_t={props:{filters:{required:!0}},data(){return{sources:["facebook","google","tiktok","snapchat"]}}};const a_t=(0,g.Z)(r_t,[["render",e_t]]);var s_t=a_t,l_t={components:{MarketerFilter:Myt,ProductFilter:Byt,SourceFilter:s_t},props:{filters:{required:!0,default:{}}},data(){return{}}};const o_t=(0,g.Z)(l_t,[["render",$yt]]);var i_t=o_t;const n_t={key:0,class:"tw-grid tw-grid-cols-3 tw-divide-x tw-border-solid"},w_t={class:"tw-min-w-[90px] tw-flex tw-flex-col tw-justify-center tw-p-1 tw-px-2"},d_t=(0,s._)("span",{class:"tw-text-[10px]"},"T. SPEND",-1),c_t={class:"tw-flex tw-items-center tw-gap-1"},u_t={class:"tw-text-sm tw-font-bold tw-text-green-500"},p_t={class:"tw-min-w-[90px] tw-flex tw-flex-col tw-justify-center tw-p-1 tw-px-2"},g_t=(0,s._)("span",{class:"tw-text-[10px]"},"T. LEADS",-1),m_t={class:"tw-flex tw-items-center tw-gap-1"},h_t={class:"tw-text-sm tw-text-cyan-500 tw-font-bold"},f_t={class:"tw-min-w-[90px] tw-flex tw-flex-col tw-justify-center tw-p-1 tw-px-2"},b_t=(0,s._)("span",{class:"tw-text-[10px]"},"CPL",-1),x_t={class:"tw-flex tw-items-center tw-gap-1"},v_t={class:"tw-text-sm tw-text-fuchsia-500 tw-font-bold"},y_t={key:1,class:"tw-grid tw-grid-cols-3 tw-divide-x tw-border-solid"},__t=(0,s.uE)('<div class="tw-min-w-[90px] tw-flex tw-flex-col tw-justify-center tw-p-1 tw-px-2"><span class="tw-text-[10px]">T. SPEND</span><div class="tw-flex tw-items-center tw-gap-1"><span class="tw-block tw-h-[18px] tw-w-[50px] tw-rounded-md tw-bg-gray-100 tw-animate-pulse"></span></div></div><div class="tw-min-w-[90px] tw-flex tw-flex-col tw-justify-center tw-p-1 tw-px-2"><span class="tw-text-[10px]">T. LEADS</span><div class="tw-flex tw-items-center tw-gap-1"><span class="tw-block tw-h-[18px] tw-w-[50px] tw-rounded-md tw-bg-gray-100 tw-animate-pulse"></span></div></div><div class="tw-min-w-[90px] tw-flex tw-flex-col tw-justify-center tw-p-1 tw-px-2"><span class="tw-text-[10px]">CPL</span><div class="tw-flex tw-items-center tw-gap-1"><span class="tw-block tw-h-[18px] tw-w-[50px] tw-rounded-md tw-bg-gray-100 tw-animate-pulse"></span></div></div>',3),k_t=[__t];var C_t={__name:"AdsData",props:["statistics","loading"],setup(t){const e=t;return(t,r)=>{const a=(0,s.up)("icon");return!e.loading&&e.statistics?((0,s.wg)(),(0,s.iD)("div",n_t,[(0,s._)("div",w_t,[d_t,(0,s._)("div",c_t,[(0,s._)("span",u_t,(0,at.zw)((0,be.SU)(c))+(0,at.zw)(e.statistics.spend),1)])]),(0,s._)("div",p_t,[g_t,(0,s._)("div",m_t,[(0,s._)("span",h_t,(0,at.zw)(e.statistics.leads),1),(0,s.Wm)(a,{icon:"material-symbols-light:leaderboard-rounded",class:"tw-text-sm tw-text-cyan-400"})])]),(0,s._)("div",f_t,[b_t,(0,s._)("div",x_t,[(0,s._)("span",v_t,(0,at.zw)((0,be.SU)(c))+(0,at.zw)(e.statistics.cost_per_lead),1)])])])):((0,s.wg)(),(0,s.iD)("div",y_t,k_t))}}};const D_t=C_t;var S_t=D_t,z_t={components:{FiltersWrapper:i_t,AdsData:S_t},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const U_t=(0,g.Z)(z_t,[["render",uyt]]);var P_t=U_t;const L_t={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},A_t=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),q_t={class:"tw-bg-white tw-p-4"},W_t={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},$_t={class:"tw-col-span-2 md:tw-col-span-1"},T_t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),E_t=(0,s._)("option",{value:0,selected:""},"Choose Source",-1),F_t=["value"],O_t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V_t={class:"tw-col-span-2 md:tw-col-span-1"},I_t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),j_t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H_t={class:"tw-col-span-2 md:tw-col-span-1"},M_t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),N_t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},R_t={key:0,class:"tw-col-span-2 md:tw-col-span-1"},Y_t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),Z_t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K_t={key:1,class:"tw-col-span-2 md:tw-col-span-1"},B_t=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),J_t=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),Q_t=["value"],G_t={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X_t={class:"md:tw-col-span-1 tw-col-span-2"},tkt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),ekt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rkt={class:"tw-col-span-2"},akt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),skt={class:"tw-col-span-2"},lkt={class:"tw-bg-gray-100 tw-rounded-lg tw-p-4 tw-shadow-md"},okt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-mb-4"},"Added Ads",-1),ikt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200"},nkt=(0,s._)("thead",{class:"tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Product ID"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Marketer"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Source"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Amount"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Leads"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Ads Date"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Note"),(0,s._)("th",{class:"tw-px-4 tw-py-3 tw-text-left tw-text-xs tw-font-medium tw-text-gray-500 tw-uppercase"},"Action")])],-1),wkt={class:"tw-bg-white tw-divide-y tw-divide-gray-200"},dkt={class:"tw-px-4 tw-py-3 tw-whitespace-nowrap"},ckt={class:"tw-px-6 tw-py-4 tw-whitespace-nowrap"},ukt={class:"tw-px-4 tw-py-3 tw-whitespace-nowrap"},pkt={class:"tw-px-4 tw-py-3 tw-whitespace-nowrap"},gkt={class:"tw-px-4 tw-py-3 tw-whitespace-nowrap"},mkt={class:"tw-px-4 tw-py-3 tw-whitespace-nowrap"},hkt={class:"tw-px-4 tw-py-3 tw-whitespace-nowrap"},fkt={class:"tw-px-4 tw-whitespace-nowrap"},bkt=["onClick"],xkt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},vkt=["disabled"],ykt=(0,s._)("span",null,"Create",-1);function _kt(t,e,r,l,o,i){const n=(0,s.up)("vue-select"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",L_t,[A_t,(0,s._)("div",q_t,[(0,s._)("div",W_t,[(0,s._)("div",$_t,[T_t,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>o.errors[0].source=null),"onUpdate:modelValue":e[1]||(e[1]=t=>o.items[0].source=t),class:(0,at.C_)([[o.errors.source&&"!tw-border-red-400"],"tw-capitalize tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[E_t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t,class:"tw-capitalize"},(0,at.zw)(t),9,F_t)))),128))],34),[[a.bM,o.items[0].source]]),o.errors.source?((0,s.wg)(),(0,s.iD)("label",O_t,(0,at.zw)(o.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",V_t,[I_t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items[0].amount=t),onInput:e[3]||(e[3]=t=>o.errors[0].amount=null),class:(0,at.C_)([[o.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items[0].amount]]),o.errors.amount?((0,s.wg)(),(0,s.iD)("label",j_t,(0,at.zw)(o.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",H_t,[M_t,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.items[0].leads=t),onInput:e[5]||(e[5]=t=>o.errors[0].leads=null),class:(0,at.C_)([[o.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items[0].leads]]),o.errors.leads?((0,s.wg)(),(0,s.iD)("label",N_t,(0,at.zw)(o.errors.leads),1)):(0,s.kq)("",!0)]),o.products_fetched?((0,s.wg)(),(0,s.iD)("div",R_t,[Y_t,(0,s.Wm)(n,{reduce:t=>t.id,"onOption:selected":e[6]||(e[6]=t=>o.items.product_id=t.id),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All",modelValue:o.items[0].product_id,"onUpdate:modelValue":e[7]||(e[7]=t=>o.items[0].product_id=t),options:o.products,label:"name"},null,8,["reduce","modelValue","options"]),o.errors[0].product_id?((0,s.wg)(),(0,s.iD)("label",Z_t,(0,at.zw)(o.errors.product_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",K_t,[B_t,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>o.errors[0].marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>o.items[0].marketer_id=t),class:(0,at.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[J_t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Q_t)))),128))],34),[[a.bM,o.items[0].marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",G_t,(0,at.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",X_t,[tkt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>o.items[0].ads_at=t),onInput:e[11]||(e[11]=t=>i.handleDateInput()),class:(0,at.C_)([[o.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,o.items[0].ads_at]]),(0,s._)("label",ekt,(0,at.zw)(o.errors.ads_at),1)]),(0,s._)("div",rkt,[akt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>o.items[0].note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,o.items[0].note]])]),(0,s._)("div",skt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.addAd&&i.addAd(...t)),class:"tw-py-2 tw-px-4 tw-bg-orange-400 tw-text-white tw-rounded"},"Add Ad")])])]),(0,s._)("div",lkt,[okt,(0,s._)("table",ikt,[nkt,(0,s._)("tbody",wkt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items.slice(1),((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",dkt,(0,at.zw)(t.product_id),1),(0,s._)("td",ckt,(0,at.zw)(i.getMarketerNameById(t.marketer_id)),1),(0,s._)("td",ukt,(0,at.zw)(t.source),1),(0,s._)("td",pkt,(0,at.zw)(t.amount),1),(0,s._)("td",gkt,(0,at.zw)(t.leads),1),(0,s._)("td",mkt,(0,at.zw)(t.ads_at),1),(0,s._)("td",hkt,(0,at.zw)(t.note),1),(0,s._)("td",fkt,[(0,s._)("button",{onClick:t=>i.deleteAd(e+1),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can-outline")])),_:1})],8,bkt)])])))),128))])])]),(0,s._)("div",xkt,[(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[16]||(e[16]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ykt],8,vkt)])])])),_:1},8,["visible","onCancel"])])}const kkt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Ckt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Dkt=(t,e)=>{t.isLoading=!0,t.errors={},Rft.create(e).then((e=>kkt(t,e.data))).catch((e=>Ckt(t,e.response.data))).finally((()=>t.isLoading=!1))};var Skt={components:{"vue-select":bY.Z},props:{visible:{required:!0}},data(){return{isLoading:!1,sources:["facebook","google","tiktok","snapchat"],initialDate:null,products_fetched:null,products:[{id:0,name:"Choose a product"}],items:[{product_id:0,marketer_id:0,source:0,amount:0,leads:0,ads_at:null,note:null}],errors:[{product_id:null,marketer_id:null,source:null,amount:null,leads:null,ads_at:null}]}},computed:{cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{getMarketerNameById(t){const e=this.marketers.find((e=>e.id===t));return e?`${e.firstname} ${e.lastname}`:""},deleteAd(t){this.items.splice(t,1)},addAd(){const t={product_id:this.items[0].product_id,marketer_id:this.items[0].marketer_id,source:this.items[0].source,amount:this.items[0].amount,leads:this.items[0].leads,ads_at:this.items[0].ads_at,note:this.items[0].note};0!==this.items[0].product_id&&0!==this.items[0].source&&(this.items.push(t),this.items[0]={product_id:0,marketer_id:0,source:t.source,amount:0,leads:0,ads_at:this.initialDate,note:null},this.errors[0]={product_id:null,marketer_id:null,source:null,amount:null,leads:null,ads_at:null})},handleDateInput(){this.initialDate||(this.initialDate=this.items[0].ads_at)},handleCreate(){const t=this.items.map((t=>{const e=Xxt(this,t);return e?t:null})),e=t.filter((t=>null!==t));e.length>0&&Dkt(this,e)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,ha.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=[{id:0,name:"Choose a product"},...t.data.data.products]:this.products=[{id:0,name:"Choose a product"}],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts()}};const zkt=(0,g.Z)(Skt,[["render",_kt]]);var Ukt=zkt,Pkt={components:{IndexTable:Zvt,IndexFilters:P_t,CreatePopup:Ukt},data(){return{fetching:!0,create_popup:!1,items:[],statistics:{},adsaddedToday:0,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{fetchAdsAddedToday(){return Rft.addedToday().then((({data:t})=>{this.adsaddedToday=t.data.count}))},paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Rft.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.statistics=t.data.statistics,this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handleItemDelete(t){this.items=this.items.filter((e=>e.id!=t))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders(),this.fetchAdsAddedToday()}};const Lkt=(0,g.Z)(Pkt,[["render",Mft]]);var Akt=Lkt;const qkt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Wkt={class:"tw-px-3"},$kt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Tkt={class:"tw-flex tw-items-center tw-gap-x-3"},Ekt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Ad account",-1),Fkt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Okt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Account List.",-1),Vkt=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),Ikt=[Vkt],jkt={key:0};function Hkt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",qkt,[(0,s._)("section",Wkt,[(0,s._)("div",$kt,[(0,s._)("div",null,[(0,s._)("div",Tkt,[Ekt,(0,s._)("span",Fkt,(0,at.zw)(l.totalOrders)+" ad",1)]),Okt]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Ikt)):(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:o.handleItemUpdate,onDelete:o.handleItemDelete,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onUpdate","onDelete","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",jkt,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class Mkt{async create(t){return await T.getCookie(),W.post("api/adaccount/new",t)}async update(t,e){return await T.getCookie(),W.post("api/adaccount/update/"+t,e)}async updateAutoFetch(t,e){return await T.getCookie(),W.post("api/adaccount/"+t+"/auto_fetch",{autoFetch:e})}async delete(t){return await T.getCookie(),W["delete"]("api/adaccount/delete/"+t)}async paginate(t="/",e){return await T.getCookie(),W.post("api/adaccounts"+t,e)}}var Nkt=new Mkt;const Rkt={class:"tw-flex tw-flex-col"},Ykt={class:"tw-overflow-x-auto"},Zkt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Kkt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Bkt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Jkt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Qkt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Gkt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Xkt=(0,s._)("span",null,"Created",-1),tCt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),eCt=[Xkt,tCt],rCt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Ad Account ID")],-1),aCt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"name")],-1),sCt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Auto Fetch")],-1),lCt={key:0,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},oCt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),iCt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},nCt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},wCt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"9"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No ads yet ! ")])],-1),dCt=[wCt],cCt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},uCt={colspan:"9"},pCt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},gCt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),mCt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),hCt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),fCt=[mCt,hCt],bCt={class:"tw-mt-6"};function xCt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Rkt,[(0,s._)("div",Ykt,[(0,s._)("div",Zkt,[(0,s._)("div",Kkt,[(0,s._)("table",Bkt,[(0,s._)("thead",Jkt,[(0,s._)("tr",null,[Qkt,(0,s._)("th",Gkt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},eCt)]),rCt,aCt,sCt,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",lCt," Marketer ")):(0,s.kq)("",!0),oCt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",iCt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),onDelete:e[2]||(e[2]=e=>t.$emit("delete",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",nCt,dCt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",cCt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",uCt,[(0,s._)("div",pCt,[gCt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},fCt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",bCt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const vCt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},yCt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},_Ct={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},kCt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},CCt=["disabled"],DCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),SCt=(0,s._)("span",null," previous ",-1),zCt=[DCt,SCt],UCt=["disabled"],PCt=(0,s._)("span",null," Next ",-1),LCt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),ACt=[PCt,LCt];function qCt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vCt,[(0,s._)("div",yCt,[(0,s.Uk)(" Page "),(0,s._)("span",_Ct,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",kCt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},zCt,10,CCt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},ACt,10,UCt)])])])}var WCt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const $Ct=(0,g.Z)(WCt,[["render",qCt]]);var TCt=$Ct;const ECt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},FCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},OCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},VCt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},ICt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},jCt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x"},HCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},MCt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x"},NCt={class:"tw-px-6 tw-py-4"},RCt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},YCt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},ZCt=["disabled"],KCt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),BCt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},JCt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x"},QCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function GCt(t,e,r,l,o,i){const n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",ECt,[(0,s._)("div",null,[(0,s._)("h2",FCt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",OCt,[(0,s._)("div",null,[(0,s._)("h2",VCt,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("HH[:]mm[:]ss")),1)])])]),(0,s._)("td",ICt,[(0,s._)("div",null,[(0,s._)("h2",jCt,(0,at.zw)(r.item.ad_account_id),1)])]),(0,s._)("td",HCt,[(0,s._)("div",null,[(0,s._)("h2",MCt,(0,at.zw)(r.item.name),1)])]),(0,s._)("td",NCt,[(0,s._)("div",RCt,[(0,s._)("label",YCt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,ZCt),[[a.e8,i.autoFetch]]),KCt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",BCt,[(0,s._)("div",null,[(0,s._)("h2",JCt,(0,at.zw)(r.item.marketer_firstname)+" "+(0,at.zw)(r.item.marketer_lastname),1)])])):(0,s.kq)("",!0),(0,s._)("td",QCt,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),onDelete:e[2]||(e[2]=e=>t.$emit("delete",e)),item:r.item},null,8,["item"])])])])}const XCt={class:"tw-h-full"},tDt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-w-full"},eDt={key:0};function rDt(t,e,r,a,l,o){const i=(0,s.up)("TableActionsDelete"),n=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",XCt,[(0,s._)("div",tDt,["admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:1,item:r.item,onDelete:e[1]||(e[1]=e=>t.$emit("delete",e))},null,8,["item"])):(0,s.kq)("",!0)]),l.popup?((0,s.wg)(),(0,s.iD)("div",eDt,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[3]||(e[3]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const aDt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},sDt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),lDt={class:"tw-bg-white tw-p-4"},oDt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},iDt={class:"tw-col-span-2 md:tw-col-span-1"},nDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ad Account ID",-1),wDt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},dDt={class:"tw-col-span-2 md:tw-col-span-1"},cDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),uDt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},pDt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},gDt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),mDt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),hDt=["value"],fDt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bDt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},xDt=["disabled"],vDt=(0,s._)("span",null,"Update",-1);function yDt(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",aDt,[sDt,(0,s._)("div",lDt,[(0,s._)("div",oDt,[(0,s._)("div",iDt,[nDt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.ad_account_id=t),onInput:e[1]||(e[1]=t=>o.errors.ad_account_id=null),class:(0,at.C_)([[o.errors.ad_account_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.ad_account_id]]),o.errors.ad_account_id?((0,s.wg)(),(0,s.iD)("label",wDt,(0,at.zw)(o.errors.ad_account_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",dDt,[cDt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.name=t),onInput:e[3]||(e[3]=t=>o.errors.name=null),class:(0,at.C_)([[o.errors.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.name]]),o.errors.name?((0,s.wg)(),(0,s.iD)("label",uDt,(0,at.zw)(o.errors.name),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",pDt,[gDt,(0,s.wy)((0,s._)("select",{onChange:e[4]||(e[4]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[5]||(e[5]=t=>o.items.marketer_id=t),class:(0,at.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[mDt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,hDt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",fDt,(0,at.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",bDt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),vDt],8,xDt)])])])),_:1},8,["visible","onCancel"])])}const _Dt=(t,e)=>e.name?!!e.ad_account_id||(t.errors.ad_account_id="Ad account ID is required",!1):(t.errors.name="Name is required",!1),kDt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},CDt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},DDt=(t,e)=>{t.isLoading=!0,t.errors={},Nkt.update(e.id,e).then((e=>kDt(t,e.data))).catch((e=>CDt(t,e.response.data))).finally((()=>t.isLoading=!1))};var SDt={props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,items:{ad_account_id:0,name:0},errors:{ad_account_id:null,name:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=_Dt(this,this.items);if(!t)return!1;DDt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)}},mounted(){this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const zDt=(0,g.Z)(SDt,[["render",yDt]]);var UDt=zDt;const PDt={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},LDt=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete this ?",-1),ADt={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},qDt=["disabled"],WDt=["disabled"];var $Dt={__name:"TableActionsDelete",props:["item"],emits:["delete"],setup(t,{emit:e}){const r=t,a=(0,be.iH)(!1),l=(0,be.iH)(!1),o=async()=>{l.value=!0,await Nkt["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(Sn("Deleted Successfully"),a.value=!1,e("delete",r.item.id))}),(t=>{console.log(t),Sn("Something went wrong","danger")})),l.value=!1};return(t,e)=>{const r=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>a.value=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-rose-500/20 hover:tw-bg-rose-500/10 hover:tw-border-rose-500/70 tw-duration-300 tw-text-rose-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),(0,s.Wm)(r,{visible:a.value,onCancel:e[2]||(e[2]=t=>a.value=!1),closeable:!l.value},{default:(0,s.w5)((()=>[(0,s._)("div",PDt,[LDt,(0,s._)("div",ADt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>a.value=!1),disabled:l.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,qDt),(0,s._)("button",{onClick:o,disabled:l.value,type:"button",class:(0,at.C_)([[l.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[l.value?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([l.value&&"!tw-invisible"])},"Supprimer",2)],10,WDt)])])])),_:1},8,["visible","closeable"])])}}};const TDt=$Dt;var EDt=TDt,FDt={components:{UpdatePopup:UDt,TableActionsDelete:EDt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const ODt=(0,g.Z)(FDt,[["render",rDt]]);var VDt=ODt,IDt={components:{TableActions:VDt},props:{item:{required:!0}},data(){return{moment:_e(),currency:c,isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.item.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,Nkt.updateAutoFetch(this.item.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("adaccount/update",e.data.data.adaccount))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const jDt=(0,g.Z)(IDt,[["render",GCt]]);var HDt=jDt,MDt={components:{TablePaginationNoNums:TCt,TableRow:HDt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const NDt=(0,g.Z)(MDt,[["render",xCt]]);var RDt=NDt;const YDt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},ZDt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},KDt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),BDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),JDt=[BDt],QDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),GDt=[QDt],XDt=["disabled"],tSt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),eSt=[tSt],rSt={class:"tw-relative"},aSt=["value"],sSt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),lSt=[sSt],oSt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iSt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},nSt=["value"],wSt={class:"tw-overflow-hidden tw-col-span-1"};function dSt(t,e,r,l,o,i){const n=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",YDt,[(0,s._)("div",ZDt,[KDt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showFilters=!o.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},JDt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>o.showStatistics=!o.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},GDt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},eSt,8,XDt),(0,s._)("div",rSt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},lSt,40,aSt),oSt])]),(0,s._)("div",iSt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,nSt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[o.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",wSt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2)])}const cSt={class:"tw-mb-4"},uSt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},pSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),mSt=["value"],hSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),bSt=["value"],xSt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},vSt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),ySt=(0,s._)("span",null,"Clear",-1),_St=[vSt,ySt],kSt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),CSt=(0,s._)("span",null,"Filter",-1),DSt=[kSt,CSt];function SSt(t,e,r,a,l,o){const i=(0,s.up)("MarketerFilter");return(0,s.wg)(),(0,s.iD)("div",cSt,[(0,s._)("div",uSt,[(0,s._)("div",pSt,[gSt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,mSt)]),(0,s._)("div",hSt,[fSt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,bSt)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s._)("div",xSt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},_St),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},DSt)])])])}const zSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},USt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),PSt=["value"],LSt=(0,s._)("option",{value:"all"},"All",-1),ASt=["value"];function qSt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",zSt,[USt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[LSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,ASt)))),128))],40,PSt)])}var WSt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const $St=(0,g.Z)(WSt,[["render",qSt]]);var TSt=$St,ESt={components:{MarketerFilter:TSt},props:{filters:{required:!0,default:{}}},data(){return{}}};const FSt=(0,g.Z)(ESt,[["render",SSt]]);var OSt=FSt,VSt={components:{FiltersWrapper:OSt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const ISt=(0,g.Z)(VSt,[["render",dSt]]);var jSt=ISt;const HSt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},MSt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),NSt={class:"tw-bg-white tw-p-4"},RSt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},YSt={class:"tw-col-span-2 md:tw-col-span-1"},ZSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ad account id",-1),KSt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BSt={class:"tw-col-span-2 md:tw-col-span-1"},JSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Name",-1),QSt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},GSt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},XSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),tzt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),ezt=["value"],rzt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},azt={class:"md:tw-col-span-6 tw-col-span-12 tw-m-5"},szt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),lzt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},ozt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),izt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},nzt=["disabled"],wzt=(0,s._)("span",null,"Create",-1);function dzt(t,e,r,l,o,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",HSt,[MSt,(0,s._)("div",NSt,[(0,s._)("div",RSt,[(0,s._)("div",YSt,[ZSt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.items.ad_account_id=t),onInput:e[1]||(e[1]=t=>o.errors.ad_account_id=null),class:(0,at.C_)([[o.errors.ad_account_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.ad_account_id]]),o.errors.ad_account_id?((0,s.wg)(),(0,s.iD)("label",KSt,(0,at.zw)(o.errors.ad_account_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",BSt,[JSt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.items.name=t),onInput:e[3]||(e[3]=t=>o.errors.name=null),class:(0,at.C_)([[o.errors.name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,o.items.name]]),o.errors.name?((0,s.wg)(),(0,s.iD)("label",QSt,(0,at.zw)(o.errors.name),1)):(0,s.kq)("",!0)]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",GSt,[XSt,(0,s.wy)((0,s._)("select",{onChange:e[4]||(e[4]=t=>o.errors.marketer_id=null),"onUpdate:modelValue":e[5]||(e[5]=t=>o.items.marketer_id=t),class:(0,at.C_)([[o.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[tzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,ezt)))),128))],34),[[a.bM,o.items.marketer_id]]),o.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",rzt,(0,at.zw)(o.errors.marketer_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",azt,[szt,(0,s._)("label",lzt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.items.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.items.auto_fetch]]),ozt])]),(0,s._)("div",izt,[(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:o.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),wzt],8,nzt)])])])),_:1},8,["visible","onCancel"])])}const czt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},uzt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},pzt=(t,e)=>{t.isLoading=!0,t.errors={},Nkt.create(e).then((e=>czt(t,e.data))).catch((e=>uzt(t,e.response.data))).finally((()=>t.isLoading=!1))};var gzt={props:{visible:{required:!0}},data(){return{isLoading:!1,items:{ad_account_id:null,name:null,auto_fetch:0,marketer_id:0},errors:{ad_account_id:null,name:null,marketer_id:null}}},computed:{user(){return this.$store.getters["user/user"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=_Dt(this,this.items);if(!t)return!1;pzt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)}}};const mzt=(0,g.Z)(gzt,[["render",dzt]]);var hzt=mzt,fzt={components:{IndexTable:RDt,IndexFilters:jSt,CreatePopup:hzt},data(){return{fetching:!0,create_popup:!1,items:[],statistics:{},first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,marketer_id:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Nkt.paginate(t,e).then((({data:t})=>{const e=t.data.adsaccount;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,marketer_id:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handleItemDelete(t){this.items=this.items.filter((e=>e.id!=t))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const bzt=(0,g.Z)(fzt,[["render",Hkt]]);var xzt=bzt;const vzt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},yzt=(0,s._)("h1",{class:"tw-text-xl tw-m-2 tw-pb-5 tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Appouving Leads",-1),_zt={class:"tw-flex tw-flex-col"},kzt={class:"tw-overflow-x-auto"},Czt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Dzt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Szt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},zzt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Uzt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Pzt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Lzt=(0,s._)("span",null,"Created",-1),Azt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),qzt=[Lzt,Azt],Wzt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},$zt=(0,s._)("span",null,"Ads For",-1),Tzt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Ezt=[$zt,Tzt],Fzt={key:0,scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Ozt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),Vzt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),Izt=(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),jzt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-4 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),Hzt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Mzt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Nzt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Rzt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"9"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No ads yet ! ")])],-1),Yzt=[Rzt],Zzt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Kzt={colspan:"9"},Bzt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Jzt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Qzt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Gzt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Xzt=[Qzt,Gzt],tUt={class:"tw-mt-6"};function eUt(t,e,r,a,l,o){const i=(0,s.up)("TableRowAddedAds"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",vzt,[yzt,(0,s._)("div",_zt,[(0,s._)("div",kzt,[(0,s._)("div",Czt,[(0,s._)("div",Dzt,[(0,s._)("table",Szt,[(0,s._)("thead",zzt,[(0,s._)("tr",null,[Uzt,(0,s._)("th",Pzt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},qzt)]),(0,s._)("th",Wzt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Ezt)]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",Fzt," Marketer ")):(0,s.kq)("",!0),Ozt,Vzt,Izt,jzt,Hzt])]),!l.loading&&l.adsAddedDaily.length>0?((0,s.wg)(),(0,s.iD)("tbody",Mzt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.adsAddedDaily,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,onAdApproved:o.removeAd},null,8,["item","onAdApproved"])))),128))])):(0,s.kq)("",!0),l.loading||0!=l.adsAddedDaily.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Nzt,Yzt)),l.loading?((0,s.wg)(),(0,s.iD)("tbody",Zzt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Kzt,[(0,s._)("div",Bzt,[Jzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Xzt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",tUt,[(0,s.Wm)(n,{from:l.from,to:l.to,"last-page":l.lastPage,"per-page":l.perPage,total:l.total,"current-page":l.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const rUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aUt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},sUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lUt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},oUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},iUt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-flex tw-itemxs-center tw-gap-2"},nUt={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wUt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x"},dUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cUt={class:"tw-flex tw-items-center tw-gap-3"},uUt={class:"tw-w-[28px]"},pUt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Facebook ",-1),gUt={class:"tw-w-[28px]"},mUt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," TikTok ",-1),hUt={class:"tw-w-[28px]"},fUt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Google Ads ",-1),bUt={class:"tw-w-[28px] tw-h-[28px] tw-bg-[#fffb09] tw-rounded-md tw-flex tw-items-center tw-justify-center"},xUt=(0,s._)("h2",{class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"}," Snapchat ",-1),vUt={class:"tw-w-[28px]"},yUt={class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-capitalize"},_Ut={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kUt={class:"tw-font-bold tw-text-green-500 darkx:tw-text-white tw-font-[cairo]"},CUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DUt={class:"tw-flex tw-items-center tw-gap-2"},SUt={class:"tw-font-bold tw-text-cyan-500 darkx:tw-text-white"},zUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},UUt={dir:"rtl",class:"tw-font-semibold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]x tw-max-w-[150px] tw-truncate"},PUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function LUt(t,e,r,a,l,o){const i=(0,s.up)("icon"),n=(0,s.up)("TableActions2");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",rUt,[(0,s._)("div",null,[(0,s._)("h2",aUt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",sUt,[(0,s._)("div",null,[(0,s._)("h2",lUt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",oUt,[(0,s._)("div",null,[(0,s._)("h2",iUt,[(0,s._)("p",null,(0,at.zw)(l.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",nUt,[(0,s._)("div",null,[(0,s._)("h2",wUt,(0,at.zw)(r.item.marketers.firstname)+" "+(0,at.zw)(r.item.marketers.lastname),1)])])):(0,s.kq)("",!0),(0,s._)("td",dUt,[(0,s._)("div",cUt,[["facebook","tiktok","snapchat","google"].includes(r.item.source?.toLocaleLowerCase())?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},["facebook"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",uUt,[(0,s.Wm)(i,{icon:"logos:facebook",class:"tw-text-2xl"})]),pUt],64)):(0,s.kq)("",!0),"tiktok"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",gUt,[(0,s.Wm)(i,{icon:"logos:tiktok-icon",class:"tw-text-2xl"})]),mUt],64)):(0,s.kq)("",!0),"google"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s._)("div",hUt,[(0,s.Wm)(i,{icon:"logos:google-ads",class:"tw-text-2xl"})]),fUt],64)):(0,s.kq)("",!0),"snapchat"==r.item.source?.toLocaleLowerCase()?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("div",bUt,[(0,s.Wm)(i,{icon:"jam:snapchat",class:"tw-text-2xl tw-text-white tw-stroke-black"})]),xUt],64)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",vUt,[(0,s.Wm)(i,{icon:"fluent-mdl2:unknown-solid",class:"tw-text-2xl"})]),(0,s._)("h2",yUt,(0,at.zw)(r.item.source),1)],64))])]),(0,s._)("td",_Ut,[(0,s._)("div",null,[(0,s._)("h2",kUt,(0,at.zw)(l.currency)+(0,at.zw)(parseFloat(r.item.amount).toFixed(2)),1)])]),(0,s._)("td",CUt,[(0,s._)("div",DUt,[(0,s._)("h2",SUt,[(0,s.Wm)(i,{icon:"material-symbols-light:leaderboard-rounded",class:"tw-text-sm tw-text-cyan-400"}),(0,s.Uk)(" "+(0,at.zw)(r.item.leads),1)]),(t.$user.role,(0,s.kq)("",!0))])]),(0,s._)("td",zUt,[(0,s._)("div",null,[(0,s._)("h2",UUt,(0,at.zw)(r.item.products.name),1)])]),(0,s._)("td",PUt,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),onDelete:e[1]||(e[1]=e=>t.$emit("delete",e)),item:r.item,onAdApproved:e[2]||(e[2]=e=>t.$emit("adApproved",e))},null,8,["item"])])])])}const AUt={class:"tw-h-full"},qUt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-end tw-w-full"},WUt={key:0},$Ut={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},TUt=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to confirm it ?",-1),EUt={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},FUt=["disabled"],OUt=["disabled"];function VUt(t,e,r,a,l,o){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",AUt,[(0,s._)("div",qUt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.visible=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])]),l.popup?((0,s.wg)(),(0,s.iD)("div",WUt,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:l.popup,"onUpdate:visible":e[3]||(e[3]=t=>l.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:l.visible,onCancel:e[6]||(e[6]=t=>l.visible=!1),closeable:!l.isLoading},{default:(0,s.w5)((()=>[(0,s._)("div",$Ut,[TUt,(0,s._)("div",EUt,[(0,s._)("button",{onClick:e[4]||(e[4]=t=>l.visible=!1),disabled:l.isLoading,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,FUt),(0,s._)("button",{onClick:e[5]||(e[5]=(...t)=>o.UpdateApprouval&&o.UpdateApprouval(...t)),disabled:l.isLoading,type:"button",class:(0,at.C_)([[l.isLoading&&"!bg-green-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-green-500 hover:tw-bg-green-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-green-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-green-600 dark:hover:tw-bg-green-700 focus:tw-outline-none dark:focus:tw-ring-green-800"])},[l.isLoading?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([l.isLoading&&"!tw-invisible"])},"Confirmer",2)],10,OUt)])])])),_:1},8,["visible","closeable"])])}var IUt={components:{UpdatePopup:lvt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1,visible:!1}},methods:{async UpdateApprouval(){const t=this.item.id;this.isLoading=!0,await Rft.updateApprouval(t).then((e=>{"SUCCESS"==e.data.code&&(Sn("Ad has been confirmed"),this.$emit("adApproved",t))}),(t=>{if(422==t.response.status)for(let e in t.response.data.errors)this.errors[e]=t.response.data.errors[e][0]})),this.isLoading=!1}}};const jUt=(0,g.Z)(IUt,[["render",VUt]]);var HUt=jUt,MUt={components:{TableActions2:HUt},props:{item:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{}};const NUt=(0,g.Z)(MUt,[["render",LUt]]);var RUt=NUt,YUt={components:{TablePaginationNoNums:jbt,TableRowAddedAds:RUt},data(){return{adsAddedDaily:[],from:1,to:1,perPage:10,total:0,currentPage:1,lastPage:1,loading:!0}},methods:{fetchAdsAddedToday(){return Rft.addedToday().then((({data:t})=>{this.adsAddedDaily=t.data.ads,this.total=t.data.total,this.currentPage=t.data.current_page,this.lastPage=t.data.last_page,this.from=this.currentPage*this.perPage-this.perPage+1,this.to=Math.min(this.currentPage*this.perPage,this.total),this.loading=!1}))},handlePageChange(t){this.currentPage=t,this.fetchAdsAddedToday()},removeAd(t){console.log("removeAd called with id:",t),this.adsAddedDaily=this.adsAddedDaily.filter((e=>e.id!==t))}},mounted(){this.fetchAdsAddedToday()}};const ZUt=(0,g.Z)(YUt,[["render",eUt]]);var KUt=ZUt,BUt={name:"ads",path:"/ads",component:ya,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:Akt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}},{name:"ads/adaccounts",path:"/adaccounts",component:xzt,meta:{module:"ads",subModule:"ads/adaccounts",title:"Ad Accounts",gate:"show_all_ads"}},{name:"ads/adsaddeddaily",path:"/adsaddeddaily",component:KUt,meta:{module:"ads",subModule:"ads/adsaddeddaily",title:"Ads Added Daily",gate:"show_all_ads"}}]};const JUt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},QUt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),GUt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),XUt={key:0},tPt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},ePt={class:"tw-flex tw-items-center tw-gap-2"},rPt=(0,s._)("h1",null,"Application's email",-1),aPt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},sPt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),lPt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},oPt={class:"mb-5 tw-flex"},iPt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},nPt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},wPt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},dPt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),cPt={class:"tw-relative"},uPt={class:""};function pPt(t,e,r,l,o,i){const n=(0,s.up)("LoadingAnimation"),w=(0,s.up)("SheetsTable"),d=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",JUt,[QUt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>o.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{icon:"mdi-plus",class:"mr-2 text-white"}),GUt])),_:1})):(0,s.kq)("",!0)])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",XUt,[(0,s.Wm)(n)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",tPt,[(0,s._)("div",ePt,[rPt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(ot.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",aPt,(0,at.zw)(o.email),1),sPt])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",lPt,[(0,s._)("div",oPt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>o.showFilters=!o.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",iPt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:o.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,o.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":o.showFilters}])},[(0,s._)("div",nPt,[(0,s._)("div",wPt,[dPt,(0,s._)("div",cPt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>o.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,o.date]])])])])],2),(0,s._)("div",uPt,[(0,s.Wm)(w,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(d,{onCancel:e[5]||(e[5]=t=>o.showPopup=!1),visible:o.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const gPt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},mPt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},hPt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},fPt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),bPt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},xPt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},vPt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},yPt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),_Pt=["value"],kPt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},CPt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},DPt={class:"tw-text-white"};function SPt(t,e,r,l,o,i){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gPt,[(0,s._)("table",mPt,[(0,s._)("thead",hPt,[(0,s._)("tr",null,[fPt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",bPt,(0,at.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",xPt,[(0,s._)("div",vPt,[yPt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,_Pt)))),128))],512),[[a.bM,o.paginationLimit]])]),(0,s._)("div",kPt,[(0,s._)("div",CPt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(o.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,at.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",DPt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const zPt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},UPt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),PPt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},LPt={class:"tw-px-6 tw-py-4"},APt={class:"tw-px-6 tw-py-4"},qPt={class:"tw-max-w-[120px] tw-truncate"},WPt={class:"tw-px-6 tw-py-4"},$Pt={class:"tw-max-w-[120px] tw-truncate"},TPt={class:"tw-px-6 tw-py-4"},EPt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},FPt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},OPt=["disabled"],VPt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),IPt={class:"tw-px-6 tw-py-4"},jPt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function HPt(t,e,r,l,o,i){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",zPt,[UPt,(0,s._)("th",PPt,(0,at.zw)(r.sheet.id),1),(0,s._)("td",LPt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,at.zw)(r.sheet.name),1)])]),(0,s._)("td",APt,[(0,s._)("div",qPt,(0,at.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",WPt,[(0,s._)("div",$Pt,(0,at.zw)(r.sheet.user_name),1)]),(0,s._)("td",TPt,[(0,s._)("div",EPt,[(0,s._)("label",FPt,[(0,s.wy)((0,s._)("input",{disabled:o.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,OPt),[[a.e8,i.autoFetch]]),VPt]),o.isLoadingAuto?((0,s.wg)(),(0,s.j4)(ot.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",IPt,(0,at.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",jPt,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const MPt={key:0};function NPt(t,e,r,a,l,o){const i=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),w=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",MPt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:o.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{class:(0,at.C_)([l.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>l.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:l.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>l.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>l.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:l.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>l.showSheetPopup=t),sheet:r.sheet,orders:l.orders,onCancel:e[5]||(e[5]=t=>l.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:o.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const RPt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},YPt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),ZPt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},KPt={class:"md:tw-col-span-6 tw-col-span-12"},BPt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),JPt={class:"md:tw-col-span-6 tw-col-span-12"},QPt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),GPt={class:"md:tw-col-span-12 tw-col-span-12"},XPt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),tLt={class:"md:tw-col-span-6 tw-col-span-12"},eLt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),rLt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},aLt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),sLt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},lLt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),oLt=(0,s._)("span",{class:"text-white"}," Save ",-1);function iLt(t,e,r,l,o,i){const n=(0,s.up)("SelectUser"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[6]||(e[6]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",RPt,[YPt,(0,s._)("div",ZPt,[(0,s.Wm)(n,{"user-id":o.newSheet.user_id,"onUpdate:user-id":e[0]||(e[0]=t=>o.newSheet.user_id=t)},null,8,["user-id"]),(0,s._)("div",KPt,[BPt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.name]])]),(0,s._)("div",JPt,[QPt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_name]])]),(0,s._)("div",GPt,[XPt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.newSheet.sheet_id]])]),(0,s._)("div",tLt,[eLt,(0,s._)("label",rLt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.newSheet.auto_fetch]]),aLt])])]),(0,s._)("div",sLt,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[lLt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[oLt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}const nLt={class:"md:tw-col-span-12 tw-col-span-12 tw-mb-4"},wLt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Marketer",-1),dLt=["value"],cLt=(0,s._)("option",{selected:"",value:""},"Select",-1),uLt=["value"],pLt={key:1,class:"tw-py-2 tw-h-[42.5px] tw-animate-pulse tw-bg-neutral-100 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-200 focus:tw-border-orange-500"};var gLt={__name:"SelectUser",props:["userId"],emits:["update:user-id"],setup(t,{emit:e}){const r=t,a=(0,s.Fl)((()=>X.getters["user/users"].filter((t=>"marketer"==t.role.name)))),l=(0,s.Fl)((()=>X.getters["user/fetched"]));return(t,o)=>((0,s.wg)(),(0,s.iD)("div",nLt,[wLt,(0,be.SU)(l)?((0,s.wg)(),(0,s.iD)("select",{key:0,value:r.userId,onChange:o[0]||(o[0]=t=>e("update:user-id",t.target.value)),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[cLt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(a),(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,uLt)))),128))],40,dLt)):(0,s.kq)("",!0),(0,be.SU)(l)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pLt))]))}};const mLt=gLt;var hLt=mLt,fLt={props:["visible","sheet"],components:{SelectUser:hLt},data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0,user_id:null}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;ga.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const bLt=(0,g.Z)(fLt,[["render",iLt]]);var xLt=bLt;const vLt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},yLt={key:0},_Lt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},kLt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),CLt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},DLt={class:"tw-relative tw-overflow-x-auto"},SLt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},zLt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),ULt={class:"tw-px-6 tw-py-2"},PLt={class:"tw-px-6 tw-py-2"},LLt={class:"tw-px-6 tw-py-2"},ALt={class:"tw-px-6 tw-py-2"},qLt={class:"tw-px-6 tw-py-2"},WLt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},$Lt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),TLt=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function ELt(t,e,r,a,l,o){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",vLt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",yLt,[(0,s._)("div",_Lt,[kLt,(0,s._)("div",CLt,(0,at.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",DLt,[(0,s._)("table",SLt,[zLt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",ULt,(0,at.zw)(t["Full name"]),1),(0,s._)("td",PLt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,at.zw)(t),1)))),128))])]),(0,s._)("td",LLt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,at.zw)(t),1)))),128))])]),(0,s._)("td",ALt,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,at.zw)(t),1)))),128))])]),(0,s._)("td",qLt,(0,at.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",WLt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[$Lt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:o.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[TLt])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var FLt={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,ga.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const OLt=(0,g.Z)(FLt,[["render",ELt]]);var VLt=OLt,ILt={props:["sheet"],name:"sheetActions",components:{UpdateSheet:xLt,SheetOrders:VLt},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,ga["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,ga.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const jLt=(0,g.Z)(ILt,[["render",NPt]]);var HLt=jLt,MLt={props:["sheet"],components:{SheetActions:HLt},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,ga.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const NLt=(0,g.Z)(MLt,[["render",HPt]]);var RLt=NLt,YLt={props:["sheets"],components:{SheetRow:RLt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","Marketer","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const ZLt=(0,g.Z)(YLt,[["render",SPt]]);var KLt=ZLt;const BLt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},JLt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),QLt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},GLt={class:"md:tw-col-span-6 tw-col-span-12"},XLt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),tAt={class:"md:tw-col-span-6 tw-col-span-12"},eAt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),rAt={class:"md:tw-col-span-12 tw-col-span-12"},aAt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),sAt={class:"md:tw-col-span-6 tw-col-span-12"},lAt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),oAt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},iAt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),nAt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},wAt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),dAt=(0,s._)("span",{class:"text-white"}," Save ",-1);function cAt(t,e,r,l,o,i){const n=(0,s.up)("SelectUser"),w=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{onCancel:e[6]||(e[6]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",BLt,[JLt,(0,s._)("div",QLt,[(0,s.Wm)(n,{"user-id":o.sheet.user_id,"onUpdate:user-id":e[0]||(e[0]=t=>o.sheet.user_id=t)},null,8,["user-id"]),(0,s._)("div",GLt,[XLt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.name]])]),(0,s._)("div",tAt,[eAt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>o.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_name]])]),(0,s._)("div",rAt,[aAt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>o.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,o.sheet.sheet_id]])]),(0,s._)("div",sAt,[lAt,(0,s._)("label",oAt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.sheet.auto_fetch]]),iAt])])]),(0,s._)("div",nAt,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[wAt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dAt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var uAt={components:{SelectUser:hLt},props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0,user_id:null}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;ga.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const pAt=(0,g.Z)(uAt,[["render",cAt]]);var gAt=pAt,mAt={components:{SheetsTable:KLt,AddSheet:gAt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,ga.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const hAt=(0,g.Z)(mAt,[["render",pPt]]);var fAt=hAt,bAt={name:"sheets",path:"/sheets",component:ya,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:fAt,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const xAt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},vAt={class:"tw-px-3"},yAt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},_At={class:"tw-flex tw-items-center tw-gap-x-3"},kAt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),CAt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},DAt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),SAt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},zAt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),UAt=(0,s._)("span",null,"Create",-1),PAt=[zAt,UAt],LAt={key:1};function AAt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",xAt,[(0,s._)("section",vAt,[(0,s._)("div",yAt,[(0,s._)("div",null,[(0,s._)("div",_At,[kAt,(0,s._)("span",CAt,(0,at.zw)(l.totalOrders)+" order",1)]),DAt]),(0,s._)("div",SAt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},PAt)])]),(0,s.Wm)(i,{search:l.search,"onUpdate:search":e[1]||(e[1]=t=>l.search=t),filters:l.filters,"onUpdate:filters":e[2]||(e[2]=t=>l.filters=t),onFilter:e[3]||(e[3]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateOrders,loading:l.fetching,statistics:l.statistics,"per-page":l.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:l.selected,"onUpdate:selected":e[5]||(e[5]=t=>l.selected=t),onUpdate:o.handleItemUpdate,onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items,deliveries:l.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),l.create_popup?((0,s.wg)(),(0,s.iD)("div",LAt,[(0,s.Wm)(w,{visible:l.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>l.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const qAt={class:"tw-mb-4"},WAt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},$At={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},TAt={class:"tw-flex tw-items-center tw-gap-2"},EAt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},FAt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),OAt={class:"tw-flex tw-items-center tw-gap-2"},VAt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),IAt=(0,s._)("span",null," Clear Selection ",-1),jAt=[VAt,IAt],HAt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),MAt=(0,s._)("span",null," Actions ",-1),NAt=[HAt,MAt],RAt={key:0};function YAt(t,e,r,a,l,o){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",qAt,[(0,s._)("div",WAt,[(0,s._)("div",$At,[(0,s._)("div",TAt,[(0,s._)("div",EAt,(0,at.zw)(r.selected.length),1),FAt]),(0,s._)("div",OAt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},jAt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},NAt)])])]),l.popup?((0,s.wg)(),(0,s.iD)("div",RAt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:o.handleUpdate,visible:l.popup,"onUpdate:visible":e[2]||(e[2]=t=>l.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const ZAt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},KAt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},BAt=(0,s._)("span",null,"Quick Actions",-1),JAt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},QAt={class:"tw-bg-white tw-p-4"},GAt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},XAt={class:"tw-col-span-2 md:tw-col-span-1"},tqt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},eqt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},rqt=(0,s._)("span",null,"Apply",-1);function aqt(t,e,r,a,l,o){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!l.isLoading,onCancel:o.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",ZAt,[(0,s._)("div",KAt,[BAt,(0,s._)("span",JAt,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",QAt,[(0,s._)("div",GAt,[(0,s._)("div",XAt,[(0,s.Wm)(i,{action:l.action,"onUpdate:action":e[0]||(e[0]=t=>l.action=t)},null,8,["action"])]),2==l.action?((0,s.wg)(),(0,s.iD)("div",tqt,[(0,s.Wm)(n,{value:l.value,"onUpdate:value":e[1]||(e[1]=t=>l.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",eqt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>o.cancel&&o.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>o.execute&&o.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rqt])])])])),_:1},8,["visible","closeable","onCancel"])])}const sqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),lqt={class:"tw-relative"},oqt=["value"],iqt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function nqt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[sqt,(0,s._)("div",lqt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,oqt)))),128))],512),[[a.bM,i.vaction]]),iqt]),(0,s.kq)("",!0)])}var wqt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const dqt=(0,g.Z)(wqt,[["render",nqt]]);var cqt=dqt;const uqt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),pqt={class:"tw-relative"},gqt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),mqt=["value"],hqt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function fqt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[uqt,(0,s._)("div",pqt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[gqt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,mqt)))),128))],512),[[a.bM,i.vvalue]]),hqt]),(0,s.kq)("",!0)])}var bqt={props:{value:{required:!0}},data(){return{statuses:Fd}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const xqt=(0,g.Z)(bqt,[["render",fqt]]);var vqt=xqt,yqt=(t,e)=>{t.isLoading=!0,UK.execute(e).then((e=>_qt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const _qt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var kqt={components:{BulkSelectAction:cqt,BulkDeliveryAction:vqt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};yqt(this,t)}}};const Cqt=(0,g.Z)(kqt,[["render",aqt]]);var Dqt=Cqt,Sqt={components:{BulkPopup:Dqt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const zqt=(0,g.Z)(Sqt,[["render",YAt]]);var Uqt=zqt,Pqt={components:{IndexTable:h0,IndexFilters:a2,CreatePopup:a5,BulkActions:Uqt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ui.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const Lqt=(0,g.Z)(Pqt,[["render",AAt]]);var Aqt=Lqt,qqt={path:"/followup",name:"followup",component:ya,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:Aqt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const Wqt={class:"tw-pb-40"},$qt={class:"tw-space-y-3"};function Tqt(t,e,r,a,l,o){const i=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),w=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",Wqt,[(0,s._)("div",$qt,[(0,s.Wm)(i),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(w,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])])}const Eqt={class:"tw-bg-white tw-p-5"},Fqt={class:"tw-flex tw-items-center tw-justify-between"},Oqt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),Vqt={class:"tw-relative tw-flex tw-items-center"},Iqt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),jqt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},Hqt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),Mqt={key:0,class:""},Nqt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Rqt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),Yqt=[Rqt],Zqt={key:1,class:"tw-min-h-[50px]"},Kqt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Bqt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},Jqt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},Qqt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},Gqt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},Xqt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},tWt={class:"tw-font-bold"},eWt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},rWt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},aWt={key:1},sWt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},lWt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function oWt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)("div",Eqt,[(0,s._)("div",Fqt,[Oqt,(0,s._)("div",Vqt,[Iqt,(0,s._)("label",jqt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>o.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,o.showAll]]),Hqt])])]),o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Mqt,[(0,s._)("div",Nqt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},Yqt))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zqt,[(0,s._)("div",Kqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Bqt,[(0,s._)("div",Jqt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",Gqt)):((0,s.wg)(),(0,s.iD)("div",Xqt)):((0,s.wg)(),(0,s.iD)("div",Qqt)),(0,s._)("span",tWt,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1)]),(0,s._)("div",eWt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",aWt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",sWt," Online ")):((0,s.wg)(),(0,s.iD)("div",lWt,(0,at.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",rWt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var iWt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?_e()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?_e()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,cs.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const nWt=(0,g.Z)(iWt,[["render",oWt]]);var wWt=nWt;const dWt={class:"tw-bg-white"},cWt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},uWt={class:"tw-p-5"};function pWt(t,e,r,a,l,o){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",dWt,[(0,s._)("div",cWt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.active=1),class:(0,at.C_)([[1==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.active=2),class:(0,at.C_)([[2==l.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",uWt,[1==l.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==l.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const gWt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},mWt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),hWt=[mWt],fWt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function bWt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",gWt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},hWt))),64))])):((0,s.wg)(),(0,s.iD)("div",fWt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const xWt={class:"tw-flex tw-justify-between"},vWt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},yWt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},_Wt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},kWt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function CWt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",xWt,[(0,s._)("div",null,[(0,s._)("div",vWt,[(0,s._)("p",yWt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",_Wt,[(0,s._)("span",kWt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var DWt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const SWt=(0,g.Z)(DWt,[["render",CWt]]);var zWt=SWt,UWt={components:{DashboardCard:zWt},props:{statistics:{required:!0},fetching:{required:!0}}};const PWt=(0,g.Z)(UWt,[["render",bWt]]);var LWt=PWt;const AWt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},qWt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),WWt=[qWt],$Wt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function TWt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",AWt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},WWt))),64))])):((0,s.wg)(),(0,s.iD)("div",$Wt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var EWt={components:{DashboardCard:zWt},props:{statistics:{required:!0},fetching:{required:!0}}};const FWt=(0,g.Z)(EWt,[["render",TWt]]);var OWt=FWt,VWt={components:{ConfirmationTab:LWt,DeliveryTab:OWt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const IWt=(0,g.Z)(VWt,[["render",pWt]]);var jWt=IWt;const HWt={class:"tw-bg-white tw-p-5"},MWt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),NWt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},RWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ZWt=(0,s._)("option",{value:"all",selected:""},"All",-1),KWt=["value"],BWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JWt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),QWt=(0,s._)("option",{value:"all",selected:""},"All",-1),GWt=["value"],XWt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},t$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),e$t=(0,s._)("option",{value:"all",selected:""},"All",-1),r$t=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),a$t=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),s$t=[e$t,r$t,a$t],l$t={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},o$t=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),i$t=(0,s._)("span",null,"Clear",-1),n$t=[o$t,i$t],w$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),d$t=(0,s._)("span",null,"Filter",-1),c$t=[w$t,d$t];function u$t(t,e,r,l,o,i){const n=(0,s.up)("DateFilter"),w=(0,s.up)("AgentFilter"),d=(0,s.up)("AffectationFilter"),c=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",HWt,[MWt,(0,s._)("div",NWt,[(0,s.Wm)(n,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.treated_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.treated_from=t),to:o.filters.treated_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.treated_to=t),label:"Treated"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.dropped_from,"onUpdate:from":e[4]||(e[4]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[5]||(e[5]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{from:o.filters.delivered_from,"onUpdate:from":e[6]||(e[6]=t=>o.filters.delivered_from=t),to:o.filters.delivered_to,"onUpdate:to":e[7]||(e[7]=t=>o.filters.delivered_to=t),label:"Delivered"},null,8,["from","to"]),(0,s.Wm)(w,{filters:o.filters,onUpdate:e[8]||(e[8]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",RWt,[YWt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ZWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,KWt)))),128))],512),[[a.bM,o.filters.confirmation]])]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[10]||(e[10]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",BWt,[JWt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>o.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[QWt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,GWt)))),128))],512),[[a.bM,o.filters.delivery]])]),(0,s.Wm)(c,{filters:o.filters,onUpdate:e[12]||(e[12]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",XWt,[t$t,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>o.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},s$t,512),[[a.bM,o.filters.upsell]])]),(0,s._)("div",l$t,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},n$t),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},c$t)])])])}const p$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},g$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),m$t=["value"],h$t=(0,s._)("option",{value:"all"},"All",-1),f$t=(0,s._)("option",{value:""},"No Delivery",-1),b$t=["value"];function x$t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",p$t,[g$t,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[h$t,f$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,b$t)))),128))],40,m$t)])}var v$t={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const y$t=(0,g.Z)(v$t,[["render",x$t]]);var _$t=y$t;const k$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},C$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),D$t=["value"],S$t=(0,s._)("option",{value:"all"},"All",-1),z$t=(0,s._)("option",{value:""},"No Agent",-1),U$t=["value"];function P$t(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",k$t,[C$t,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[S$t,z$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,U$t)))),128))],40,D$t)])}var L$t={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const A$t=(0,g.Z)(L$t,[["render",P$t]]);var q$t=A$t;const W$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1);function T$t(t,e,r,a,l,o){const i=(0,s.up)("vue-select");return(0,s.wg)(),(0,s.iD)("div",W$t,[$$t,(0,s.Wm)(i,{reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.id})),clearable:!1,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full",placeholder:"All","v-model":o.products,options:o.allProducts,label:"name"},null,8,["reduce","v-model","options"])])}var E$t={components:{"vue-select":bY.Z},props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},allProducts(){return[{id:"all",name:"All"},...this.products]}}};const F$t=(0,g.Z)(E$t,[["render",T$t]]);var O$t=F$t;const V$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},I$t={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},j$t=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),H$t=[j$t],M$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},N$t={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},R$t=["value"],Y$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Z$t={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},K$t=["value"];function B$t(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",V$t,[(0,s._)("label",I$t,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},H$t,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",M$t,[(0,s._)("label",N$t,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,R$t)]),(0,s._)("div",Y$t,[(0,s._)("label",Z$t,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,K$t)])],64)):(0,s.kq)("",!0)],64)}var J$t={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=_e()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=_e()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=_e()().startOf("month").format("YYYY-MM-DD"),a=_e()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=_e()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=_e()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}},from(t){null===t&&null===this.to&&(this.filterBy="all")},to(t){null===t&&null===this.from&&(this.filterBy="all")}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const Q$t=(0,g.Z)(J$t,[["render",B$t]]);var G$t=Q$t,X$t={components:{AffectationFilter:_$t,AgentFilter:q$t,ProductFilter:O$t,DateFilter:G$t},props:{},data(){return{confirmations:Wd,deliveries:Fd,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,treated_from:null,treated_to:null,dropped_from:null,dropped_to:null,delivered_from:null,delivered_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const tTt=(0,g.Z)(X$t,[["render",u$t]]);var eTt=tTt;const rTt={key:0},aTt={class:"tw-bg-white tw-p-5"},sTt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Revenue",-1),lTt={class:"tw-bg-white tw-grid tw-grid-cols-4 tw-gap-5"};function oTt(t,e,r,a,l,o){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",rTt,[(0,s._)("div",aTt,[sTt,(0,s._)("div",lTt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])])):(0,s.kq)("",!0)}const iTt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},nTt={class:"tw-flex tw-justify-between"},wTt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},dTt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},cTt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},uTt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function pTt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iTt,[(0,s._)("div",nTt,[(0,s._)("div",null,[(0,s._)("div",wTt,[(0,s._)("p",dTt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",cTt,[(0,s._)("span",uTt,(0,at.zw)(o.format(r.value)),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var gTt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const mTt=(0,g.Z)(gTt,[["render",pTt]]);var hTt=mTt,fTt={components:{RevenueCard:hTt},props:{statistics:{required:!0},fetching:{required:!0}}};const bTt=(0,g.Z)(fTt,[["render",oTt]]);var xTt=bTt,vTt={components:{OnlineUsers:wWt,IndexStatistics:jWt,IndexFilters:eTt,IndexRevenue:xTt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,_p.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,console.log(this.statistics),this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const yTt=(0,g.Z)(vTt,[["render",Tqt]]);var _Tt=yTt;function kTt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:l.statistics,fetching:l.fetching},null,8,["statistics","fetching"])])}const CTt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},DTt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),STt=[DTt];function zTt(t,e,r,a,l,o){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",CTt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},STt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const UTt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},PTt={class:"tw-flex tw-justify-between"},LTt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},ATt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},qTt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},WTt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function $Tt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",UTt,[(0,s._)("div",PTt,[(0,s._)("div",null,[(0,s._)("div",LTt,[(0,s._)("p",ATt,(0,at.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",qTt,[(0,s._)("span",WTt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var TTt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const ETt=(0,g.Z)(TTt,[["render",$Tt]]);var FTt=ETt,OTt={components:{DashCard:FTt},props:{statistics:{required:!0},fetching:{required:!0}}};const VTt=(0,g.Z)(OTt,[["render",zTt]]);var ITt=VTt;const jTt={class:"tw-bg-white tw-p-5"},HTt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),MTt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},NTt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},RTt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),YTt=(0,s._)("span",null,"Clear",-1),ZTt=[RTt,YTt],KTt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),BTt=(0,s._)("span",null,"Filter",-1),JTt=[KTt,BTt];function QTt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",jTt,[HTt,(0,s._)("div",MTt,[(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.treated_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.treated_from=t),to:l.filters.treated_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.treated_to=t),label:"Treated"},null,8,["from","to"]),(0,s._)("div",NTt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ZTt),(0,s._)("button",{onClick:e[5]||(e[5]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},JTt)])])])}const GTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XTt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},tEt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),eEt=[tEt],rEt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aEt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},sEt=["value"],lEt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oEt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},iEt=["value"];function nEt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",GTt,[(0,s._)("label",XTt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},eEt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",rEt,[(0,s._)("label",aEt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sEt)]),(0,s._)("div",lEt,[(0,s._)("label",oEt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,iEt)])],64)):(0,s.kq)("",!0)],64)}var wEt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=_e()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=_e()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=_e()().startOf("month").format("YYYY-MM-DD"),a=_e()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=_e()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=_e()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}},from(t){null===t&&null===this.to&&(this.filterBy="all")},to(t){null===t&&null===this.from&&(this.filterBy="all")}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const dEt=(0,g.Z)(wEt,[["render",nEt]]);var cEt=dEt,uEt={components:{DateFilter:cEt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={dropped_from:null,dropped_to:null,treated_from:null,treated_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const pEt=(0,g.Z)(uEt,[["render",QTt]]);var gEt=pEt,mEt={components:{IndexStatistics:ITt,IndexFilters:gEt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,F.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const hEt=(0,g.Z)(mEt,[["render",kTt]]);var fEt=hEt;const bEt={class:"tw-p-5 tw-relative"},xEt={class:"tw-flex tw-justify-between"},vEt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Cost Per Lead",-1),yEt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},_Et=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),kEt={class:"tw-flex tw-justify-between tw-items-center"},CEt={class:"tw-flex tw-w-full"},DEt=(0,s._)("span",null,"Custom",-1),SEt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},zEt={key:0},UEt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var PEt={__name:"AmountPerLead",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=(0,be.iH)(0),c=async(t=null,a=null,s="lastsevendays")=>{const i=sessionStorage.getItem("cachedAmountPerLead");let n=null;i&&(n=JSON.parse(i),n.date_avant===t&&n.date_apres===a&&n.period===s&&(e.value=n.amount_per_lead,d.value=n.average_cost_per_lead_general,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),n&&n.date_avant===t&&n.date_apres===a&&n.period===s||(r.value=!0,w.value=!0),await kr.AmountPerLead(t,a,s).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,amount_per_lead:l.data.data.amount_per_lead};n&&JSON.stringify(n.amount_per_lead)===JSON.stringify(o.amount_per_lead)?w.value=!1:(sessionStorage.setItem("cachedAmountPerLead",JSON.stringify(o)),e.value=l.data.data.amount_per_lead,d.value=l.data.data.average_cost_per_lead_general,w.value=!0),w.value=!1,r.value=!1}}))};c();const u=(0,s.Fl)((()=>d.value.toFixed(2)));var p=(0,s.Fl)((()=>r.value?null:{series:[{name:"CPL",data:e.value.map((t=>t?t.average_cost_per_lead:null))}],chart:{type:"area",stacked:!0},theme:{palette:"palette5"},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},annotations:{yaxis:[{y:d.value,borderColor:"#000000",borderWidth:2,borderStyle:"solid",label:{borderColor:"#BFBFBF",style:{color:"#fff",background:"#BFBFBF",fontSize:"20px",fontWeight:"600"},text:`Average : ${u.value}`}}]},xaxis:{categories:e.value.map((t=>t.date)),labels:{}},dataLabels:{formatter:function(t){return t.toFixed(2)}},legend:{position:"top",horizontalAlign:"left"}}));return(t,e)=>{const d=(0,s.up)("Loading"),u=(0,s.up)("icon"),g=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",bEt,[(0,s._)("div",xEt,[vEt,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",yEt,[(0,s.Wm)(d,{class:"tw-scale-50"}),_Et])):(0,s.kq)("",!0)]),(0,s._)("div",kEt,[(0,s._)("div",CEt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>c(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>c(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>c(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>c(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>c(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(u,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),DEt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",SEt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>c(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),r.value?((0,s.wg)(),(0,s.iD)("div",UEt,[(0,s.Wm)(d)])):((0,s.wg)(),(0,s.iD)("div",zEt,[(0,s.Wm)(g,{height:400,series:(0,be.SU)(p).series,chart:(0,be.SU)(p).chart,options:(0,be.SU)(p)},null,8,["series","chart","options"])]))])}}};const LEt=PEt;var AEt=LEt;const qEt={class:"tw-p-5 tw-relative"},WEt={class:"tw-flex tw-justify-between"},$Et=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Leads Per Day",-1),TEt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},EEt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),FEt={class:"tw-flex tw-justify-between tw-items-center"},OEt={class:"tw-flex tw-w-full"},VEt=(0,s._)("span",null,"Custom",-1),IEt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},jEt={key:0},HEt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var MEt={__name:"LeadsChart",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=async(t=null,a=null,s="lastsevendays")=>{const i=sessionStorage.getItem("cachedLeadPerDay");let n=null;i&&(n=JSON.parse(i),n.date_avant===t&&n.date_apres===a&&n.period===s&&(e.value=n.leads_per_day,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),n&&n.date_avant===t&&n.date_apres===a&&n.period===s||(r.value=!0,w.value=!0),await kr.LeadsPerDay(t,a,s).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,leads_per_day:l.data.data.leads_per_day};n&&JSON.stringify(n.leads_per_day)===JSON.stringify(o.leads_per_day)?w.value=!1:(sessionStorage.setItem("cachedLeadPerDay",JSON.stringify(o)),e.value=l.data.data.leads_per_day,w.value=!0),w.value=!1,r.value=!1}}))};d();var c=(0,s.Fl)((()=>r.value?null:{series:[{name:"Leads",data:e.value?e.value.map((t=>t?t.leads:null)):[]}],chart:{type:"area"},dataLabels:{formatter:function(t){return t.toFixed(2)}},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:e.value.map((t=>t.date)),labels:{}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"}}));return(t,e)=>{const u=(0,s.up)("Loading"),p=(0,s.up)("icon"),g=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",qEt,[(0,s._)("div",WEt,[$Et,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",TEt,[(0,s.Wm)(u,{class:"tw-scale-50"}),EEt])):(0,s.kq)("",!0)]),(0,s._)("div",FEt,[(0,s._)("div",OEt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>d(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>d(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>d(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>d(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>d(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(p,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),VEt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",IEt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>d(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),r.value?((0,s.wg)(),(0,s.iD)("div",HEt,[(0,s.Wm)(u)])):((0,s.wg)(),(0,s.iD)("div",jEt,[(0,s.Wm)(g,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])}}};const NEt=MEt;var REt=NEt;const YEt={class:"tw-flex"},ZEt={class:"tw-p-5 tw-w-full tw-relative"},KEt={class:"tw-flex tw-justify-between"},BEt=(0,s._)("h1",{class:"tw-text-xl tw-font-medium tw-py-2"},"Sources",-1),JEt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},QEt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),GEt={key:0},XEt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var tFt={__name:"SourceDonutsCharts",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),a=(0,be.iH)(!0),l=async()=>{const t=sessionStorage.getItem("cachedstatusdonutmarketer");let s=null;t&&(s=JSON.parse(t),e.value=s.confirmation_state_donuts,r.value=!1),await kr.ConfirmationStatesDonuts().then((t=>{if("SUCCESS"==t.data.code){const l={confirmation_state_donuts:t.data.data.confirmation_state_donuts[0]};s&&JSON.stringify(s.confirmation_state_donuts)===JSON.stringify(l.confirmation_state_donuts)?a.value=!1:(sessionStorage.setItem("cachedstatusdonutmarketer",JSON.stringify(l)),e.value=t.data.data.confirmation_state_donuts[0],a.value=!0),a.value=!1,r.value=!1}}))};l();var o=(0,s.Fl)((()=>r.value?null:{series:e.value.source_for_marketer.map((t=>t.total)),chart:{type:"donut"},legend:{position:"top",horizontalAlign:"left"},labels:e.value.source_for_marketer.map((t=>t.source))}));return(t,e)=>{const l=(0,s.up)("Loading"),i=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",YEt,[(0,s._)("div",ZEt,[(0,s._)("div",KEt,[BEt,a.value?((0,s.wg)(),(0,s.iD)("div",JEt,[(0,s.Wm)(l,{class:"tw-scale-50"}),QEt])):(0,s.kq)("",!0)]),r.value?((0,s.wg)(),(0,s.iD)("div",XEt,[(0,s.Wm)(l)])):((0,s.wg)(),(0,s.iD)("div",GEt,[(0,s.Wm)(i,{height:400,series:(0,be.SU)(o).series,chart:(0,be.SU)(o).chart,options:(0,be.SU)(o)},null,8,["series","chart","options"])]))])])}}};const eFt=tFt;var rFt=eFt;const aFt={class:"tw-p-5 tw-relative"},sFt={class:"tw-flex tw-justify-between"},lFt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Spent Per Day",-1),oFt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-2"},iFt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),nFt={class:"tw-flex tw-gap-2 tw-flex-col"},wFt={class:"tw-flex tw-w-full"},dFt=(0,s._)("span",null,"Custom",-1),cFt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},uFt={key:0},pFt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var gFt={__name:"CostPerDay",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=async(t=null,a=null,s="lastsevendays")=>{const i=sessionStorage.getItem("cachedCostPerDay");let n=null;i&&(n=JSON.parse(i),n.date_avant===t&&n.date_apres===a&&n.period===s&&(e.value=n.cost_per_day,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),n&&n.date_avant===t&&n.date_apres===a&&n.period===s||(r.value=!0,w.value=!0),await kr.CostPerDay(t,a,s).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,cost_per_day:l.data.data.cost_per_day};n&&JSON.stringify(n.cost_per_day)===JSON.stringify(o.cost_per_day)?w.value=!1:(sessionStorage.setItem("cachedCostPerDay",JSON.stringify(o)),e.value=l.data.data.cost_per_day,w.value=!0),w.value=!1,r.value=!1}}))};d();var c=(0,s.Fl)((()=>r.value?null:{series:[{name:"Spent",data:e.value.map((t=>t?t.cost:null))}],chart:{type:"bar",stacked:!0},theme:{palette:"palette9"},stroke:{width:1,colors:["#fff"]},dataLabels:{formatter:()=>""},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:e.value.map((t=>t.date)),labels:{}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"},yaxis:{labels:{formatter:function(t){return t+"$"}}}}));return(t,e)=>{const u=(0,s.up)("Loading"),p=(0,s.up)("icon"),g=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",aFt,[(0,s._)("div",sFt,[lFt,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",oFt,[(0,s.Wm)(u,{class:"tw-scale-50"}),iFt])):(0,s.kq)("",!0)]),(0,s._)("div",nFt,[(0,s._)("div",wFt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>d(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>d(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>d(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>d(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>d(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(p,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),dFt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",cFt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>d(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2)]),r.value?((0,s.wg)(),(0,s.iD)("div",pFt,[(0,s.Wm)(u)])):((0,s.wg)(),(0,s.iD)("div",uFt,[(0,s.Wm)(g,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])}}};const mFt=gFt;var hFt=mFt;const fFt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},bFt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),xFt=[bFt],vFt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function yFt(t,e,r,a,l,o){const i=(0,s.up)("CardsMarketer");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",fFt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-border tw-border-dashed tw-border-neutral-200 tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},xFt))),64))])):((0,s.wg)(),(0,s.iD)("div",vFt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const _Ft={class:"tw-flex tw-justify-between"},kFt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},CFt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},DFt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},SFt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function zFt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",_Ft,[(0,s._)("div",null,[(0,s._)("div",kFt,[(0,s._)("p",CFt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",DFt,[(0,s._)("span",SFt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var UFt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const PFt=(0,g.Z)(UFt,[["render",zFt]]);var LFt=PFt,AFt={components:{CardsMarketer:LFt},props:{statistics:{required:!0},fetching:{required:!0}}};const qFt=(0,g.Z)(AFt,[["render",yFt]]);var WFt=qFt;const $Ft={class:"tw-grid tw-grid-cols-12 tw-gap-2"},TFt={class:"tw-col-span-12"},EFt={class:"tw-col-span-4 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},FFt={class:"tw-col-span-8 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},OFt={class:"tw-col-span-12 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},VFt={class:"tw-col-span-12 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"};var IFt={__name:"DashboardView",setup(t){const e=(0,be.iH)(null),r=(0,be.iH)(null),a=(0,be.iH)(null),l=()=>{r.value=!0,kr.statistics(a.value).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.data.statistics,r.value=!1)}))};return l(),(t,a)=>((0,s.wg)(),(0,s.iD)("div",$Ft,[(0,s._)("div",TFt,[(0,s.Wm)((0,be.SU)(WFt),{statistics:e.value,fetching:r.value},null,8,["statistics","fetching"])]),(0,s._)("div",EFt,[(0,s.Wm)((0,be.SU)(rFt))]),(0,s._)("div",FFt,[(0,s.Wm)((0,be.SU)(hFt))]),(0,s._)("div",OFt,[(0,s.Wm)((0,be.SU)(REt))]),(0,s._)("div",VFt,[(0,s.Wm)((0,be.SU)(AEt))])]))}};const jFt=IFt;var HFt=jFt;const MFt={class:"tw-pb-40"},NFt={class:"tw-space-y-3"};function RFt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",MFt,[(0,s._)("div",NFt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>l.filters=t),onFilter:o.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:l.analytics,fetching:l.fetching},null,8,["analytics","fetching"])])])}const YFt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},ZFt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),KFt=[ZFt],BFt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function JFt(t,e,r,a,l,o){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",YFt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},KFt))),64))])):((0,s.wg)(),(0,s.iD)("div",BFt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const QFt={class:"tw-flex tw-justify-between"},GFt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},XFt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},tOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},eOt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function rOt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",QFt,[(0,s._)("div",null,[(0,s._)("div",GFt,[(0,s._)("p",XFt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",tOt,[(0,s._)("span",eOt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(ot.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var aOt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const sOt=(0,g.Z)(aOt,[["render",rOt]]);var lOt=sOt,oOt={components:{DashboardCard:lOt},props:{analytics:{required:!0},fetching:{required:!0}}};const iOt=(0,g.Z)(oOt,[["render",JFt]]);var nOt=iOt;const wOt={class:"tw-bg-white tw-p-5"},dOt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),cOt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},uOt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},pOt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),gOt=(0,s._)("span",null,"Clear",-1),mOt=[pOt,gOt],hOt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),fOt=(0,s._)("span",null,"Filter",-1),bOt=[hOt,fOt];function xOt(t,e,r,a,l,o){const i=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),w=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",wOt,[dOt,(0,s._)("div",cOt,[(0,s.Wm)(i,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",uOt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>o.clear&&o.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},mOt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>o.filter&&o.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},bOt)])])])}const vOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yOt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),_Ot=["value"],kOt=(0,s._)("option",{value:"all"},"All",-1),COt=["value"];function DOt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",vOt,[yOt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[kOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,COt)))),128))],40,_Ot)])}var SOt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const zOt=(0,g.Z)(SOt,[["render",DOt]]);var UOt=zOt;const POt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},LOt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),AOt=["value"],qOt=(0,s._)("option",{value:"all"},"All",-1),WOt=["value"];function $Ot(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",POt,[LOt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qOt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,WOt)))),128))],40,AOt)])}var TOt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const EOt=(0,g.Z)(TOt,[["render",$Ot]]);var FOt=EOt;const OOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},IOt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),jOt=[IOt],HOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},MOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},NOt=["value"],ROt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},YOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},ZOt=["value"];function KOt(t,e,r,l,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",OOt,[(0,s._)("label",VOt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},jOt,512),[[a.bM,o.filterBy]])]),"custom"==o.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",HOt,[(0,s._)("label",MOt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,NOt)]),(0,s._)("div",ROt,[(0,s._)("label",YOt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,ZOt)])],64)):(0,s.kq)("",!0)],64)}var BOt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=_e()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=_e()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=_e()().startOf("month").format("YYYY-MM-DD"),a=_e()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=_e()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=_e()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const JOt=(0,g.Z)(BOt,[["render",KOt]]);var QOt=JOt,GOt={components:{SellerFilter:UOt,ProductFilter:FOt,DateFilter:QOt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const XOt=(0,g.Z)(GOt,[["render",xOt]]);var tVt=XOt,eVt={components:{IndexAnalytics:nOt,IndexFilters:tVt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,_p.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const rVt=(0,g.Z)(eVt,[["render",RFt]]);var aVt=rVt;const sVt={class:"tw-p-5 tw-relative"},lVt={class:"tw-flex tw-justify-between"},oVt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Top Selling Product",-1),iVt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},nVt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),wVt={class:"tw-flex tw-justify-between tw-items-center"},dVt={class:"tw-flex tw-items-center"},cVt=(0,s._)("option",{value:"5"},"5",-1),uVt=(0,s._)("option",{value:"10"},"10",-1),pVt=(0,s._)("option",{value:"15"},"15",-1),gVt=(0,s._)("option",{value:"20"},"20",-1),mVt=[cVt,uVt,pVt,gVt],hVt=(0,s._)("option",{value:"desc"},"The best selling product",-1),fVt=(0,s._)("option",{value:"asc"},"the lowest selling product",-1),bVt=[hVt,fVt],xVt=(0,s._)("option",{value:"total_orders"},"By Total Order",-1),vVt=(0,s._)("option",{value:"total_quantity"},"By Total Quantity",-1),yVt=[xVt,vVt],_Vt={key:0},kVt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var CVt={__name:"TopProductChart",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(10),l=(0,be.iH)(80),o=(0,be.iH)("total_orders"),i=(0,be.iH)("desc"),n=(0,be.iH)(10),w=(0,be.iH)(!0),d=(0,be.iH)(!0);function c(t,e){const r=Object.keys(t).slice(0,e),a={};return r.forEach((e=>{a[e]=t[e]})),a}const u=async(t,r,a)=>{const s=sessionStorage.getItem("cachedTopProduct");let l=null;s&&(l=JSON.parse(s),l.sort_order===t&&l.sort_by===r&&(e.value=l.topProducts,w.value=!1)),l&&l.sort_order===t&&l.sort_by===r||(w.value=!0,d.value=!0),await kr.TopProductSelles(t,r,a).then((s=>{if("SUCCESS"===s.data.code){const o={sort_order:t,sort_by:r,topProducts:Object.values(c(s.data.data.topProducts.data,a))};l&&JSON.stringify(l.topProducts)===JSON.stringify(o.topProducts)?d.value=!1:(sessionStorage.setItem("cachedTopProduct",JSON.stringify(o)),e.value=o.topProducts,d.value=!0),d.value=!1,w.value=!1}}))};u(o.value,i.value,r.value);var p=(0,s.Fl)((()=>{const t=[{name:"Total Orders",data:e.value.map((t=>t.total_orders))},{name:"Total Quantity",data:e.value.map((t=>t.total_quantity))}];return{series:t,chart:{type:"bar"},plotOptions:{bar:{horizontal:!0}},xaxis:{type:"category",categories:e.value.map((t=>t.product_name))},theme:{palette:"palette8"},stroke:{curve:"smooth"},fill:{height:1},legend:{position:"top",horizontalAlign:"left"}}}));return(t,e)=>{const c=(0,s.up)("Loading"),g=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",sVt,[(0,s._)("div",lVt,[oVt,d.value&&!w.value?((0,s.wg)(),(0,s.iD)("div",iVt,[(0,s.Wm)(c,{class:"tw-scale-50"}),nVt])):(0,s.kq)("",!0)]),(0,s._)("div",wVt,[(0,s._)("div",dVt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),class:"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},mVt,512),[[a.bM,n.value]]),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),class:"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},bVt,512),[[a.bM,i.value]]),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t),class:"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},yVt,512),[[a.bM,o.value]]),(0,s._)("button",{onClick:e[3]||(e[3]=t=>u(o.value,i.value,n.value)),class:"tw-items-center tw-text-white hover:tw-text-neutral-700 tw-gap-2 tw-py-2 tw-px-4 tw-bg-orange-500 hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.value=t),type:"number",class:"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},null,512),[[a.nr,l.value,void 0,{number:!0}]])])]),w.value?((0,s.wg)(),(0,s.iD)("div",kVt,[(0,s.Wm)(c)])):((0,s.wg)(),(0,s.iD)("div",_Vt,[((0,s.wg)(),(0,s.j4)(g,{height:r.value*l.value,key:l.value,series:(0,be.SU)(p).series,chart:(0,be.SU)(p).chart,options:(0,be.SU)(p)},null,8,["height","series","chart","options"]))]))])}}};const DVt=CVt;var SVt=DVt;const zVt={class:"tw-p-5 tw-mb-3 tw-relative"},UVt={class:"tw-flex tw-justify-between"},PVt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Total Spend For Each Product",-1),LVt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},AVt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),qVt={class:"tw-flex tw-justify-between tw-items-center"},WVt={class:"tw-flex tw-w-full"},$Vt=(0,s._)("span",null,"Custom",-1),TVt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},EVt={class:"tw-flex"},FVt={key:0},OVt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var VVt={__name:"CostPerProduct",setup(t){(0,s.aZ)({components:{"vue-select":bY.Z}});const e=(0,be.iH)([]),r=(0,be.iH)([]),l=(0,be.iH)(!0),o=(0,be.iH)(!1),i=(0,be.iH)("lastsevendays"),n=(0,be.iH)(null),w=(0,be.iH)(null),d=(0,be.iH)([]),c=(0,be.iH)(!0),u=(0,s.Fl)((()=>d.value.map((t=>t.name)))),p=async(t=null,a=null,s="lastsevendays")=>{const n=sessionStorage.getItem("cachedCostPerProduct");let w=null;n&&(w=JSON.parse(n),w.date_avant===t&&w.date_apres===a&&w.period===s&&(e.value=w.cost_per_product,l.value=!1)),a&&a?i.value=null:(o.value=!1,i.value=s),w&&w.date_avant===t&&w.date_apres===a&&w.period===s||(l.value=!0,c.value=!0),await kr.CostPerProduct(t,a,s).then((o=>{if("SUCCESS"==o.data.code){const i={date_avant:t,date_apres:a,period:s,cost_per_product:o.data.data.cost_per_product};w&&JSON.stringify(w.cost_per_product)===JSON.stringify(i.cost_per_product)?c.value=!1:(sessionStorage.setItem("cachedCostPerProduct",JSON.stringify(i)),e.value=o.data.data.cost_per_product,c.value=!0),d.value=o.data.data.cost_per_product,r.value||(r.value=d.value[0].name),l.value=!1,c.value=!1,g()}}))};p();const g=async()=>{m.value.series=r.value.map((t=>{const r=e.value.find((e=>e.name===t));if(r)return{name:r.name,data:r.data.map((t=>t.cost_per_lead_product))}})).filter(Boolean)};(0,s.YP)(r,(()=>{p(null,null,null,r.value),g()}));var m=(0,s.Fl)((()=>{let t=[];return"all"===r.value?t=e.value.map((t=>({name:t.name,data:t.data.map((t=>t.cost_per_lead_product))}))):e.value[r.value]&&(t=[{name:e.value[r.value].name,data:e.value[r.value].data.map((t=>t.cost_per_lead_product))}]),{series:t,chart:{type:"area"},xaxis:{type:"category",categories:e.value[0].data.map((t=>t.date))},theme:{palette:"palette7"},stroke:{curve:"smooth"},fill:{opacity:1},legend:{show:!1}}}));return(t,e)=>{const d=(0,s.up)("Loading"),h=(0,s.up)("icon"),f=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",zVt,[(0,s._)("div",UVt,[PVt,c.value&&!l.value?((0,s.wg)(),(0,s.iD)("div",LVt,[(0,s.Wm)(d,{class:"tw-scale-50"}),AVt])):(0,s.kq)("",!0)]),(0,s._)("div",qVt,[(0,s._)("div",WVt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>p(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>p(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>p(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>p(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==i.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>p(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>o.value=!o.value),class:(0,at.C_)([[o.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(h,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),$Vt],2)]),(0,s._)("div",{class:(0,at.C_)([[o.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",TVt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>w.value=t)},null,512),[[a.nr,w.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>p(n.value,w.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2),(0,s._)("div",EVt,[(0,s.Wm)((0,be.SU)(bY.Z),{multiple:!0,reduce:t=>t,onInput:g,clearable:!1,class:"tw-bg-white tw-items-center tw-border-solid tw-outline-none tw-mb-5 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-[200px] tw-h-[44px]",modelValue:r.value,"onUpdate:modelValue":e[9]||(e[9]=t=>r.value=t),options:(0,be.SU)(u),label:"name"},null,8,["reduce","modelValue","options"])])]),l.value?((0,s.wg)(),(0,s.iD)("div",OVt,[(0,s.Wm)(d)])):((0,s.wg)(),(0,s.iD)("div",FVt,[(0,s.Wm)(f,{height:400,series:(0,be.SU)(m).series,chart:(0,be.SU)(m).chart,options:(0,be.SU)(m)},null,8,["series","chart","options"])]))])}}};const IVt=VVt;var jVt=IVt;const HVt={class:"tw-p-5 tw-relative"},MVt={class:"tw-flex tw-justify-between"},NVt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Cost Per Lead For Each Marketer",-1),RVt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},YVt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),ZVt={class:"tw-flex tw-justify-between tw-items-center"},KVt={class:"tw-flex tw-w-full"},BVt=(0,s._)("span",null,"Custom",-1),JVt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},QVt={class:"tw-flex"},GVt={key:0},XVt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var tIt={__name:"CostPerLead",setup(t){(0,s.aZ)({components:{"vue-select":bY.Z}});const e=(0,be.iH)([]),r=(0,be.iH)(!0),l=(0,be.iH)(!1),o=(0,be.iH)("lastsevendays"),i=(0,be.iH)(null),n=(0,be.iH)(null),w=(0,be.iH)(!0),d=(0,be.iH)(0),c=(0,s.Fl)((()=>{if(u.value&&u.value.length>0&&!u.value.includes("all")){const t=e.value.filter((t=>u.value.includes(t.marketer_id))),r=t.reduce(((t,e)=>t+e.data.reduce(((t,e)=>t+e.average_cost_per_lead),0)),0),a=t.reduce(((t,e)=>t+e.data.reduce(((t,e)=>0!==e.average_cost_per_lead?t+1:t),0)),0);return(r/a).toFixed(2)}return d.value})),u=(0,be.iH)(null),p=(0,s.Fl)((()=>e.value.map((t=>({marketer_id:t.marketer_id,name:t.name}))))),g=async(t=null,a=null,s="lastsevendays",i=null)=>{const n=sessionStorage.getItem("cachedAmountPerLead");let c=null;n&&(c=JSON.parse(n),c.date_avant===t&&c.date_apres===a&&c.period===s&&(e.value=c.amount_per_lead,d.value=c.average_cost_per_lead_general,r.value=!1)),a&&a?o.value=null:(l.value=!1,o.value=s),c&&c.date_avant===t&&c.date_apres===a&&c.period===s||(r.value=!0,w.value=!0),await kr.AmountPerLead(t,a,s,i).then((l=>{if("SUCCESS"==l.data.code&&"SUCCESS"===l.data.code){const o={date_avant:t,date_apres:a,period:s,amount_per_lead:l.data.data.amount_per_lead,average_cost_per_lead_general:l.data.data.average_cost_per_lead_general};c&&JSON.stringify(c.amount_per_lead)===JSON.stringify(o.amount_per_lead)&&JSON.stringify(c.average_cost_per_lead_general)===JSON.stringify(o.average_cost_per_lead_general)?w.value=!1:(sessionStorage.setItem("cachedAmountPerLead",JSON.stringify(o)),e.value=l.data.data.amount_per_lead,d.value=l.data.data.average_cost_per_lead_general,w.value=!0),w.value=!1,r.value=!1,m()}}))};g();const m=()=>{if(h.value){let t=e.value;u.value&&u.value.length>0&&!u.value.includes("all")&&(t=e.value.filter((t=>u.value.includes(t.marketer_id)))),h.value.series=t.map((t=>({name:t.name,data:t.data.map((t=>t.average_cost_per_lead))}))),h.value.xaxis.categories=t[0]?.data.map((t=>t.date))}};(0,s.YP)(u,(()=>{g(null,null,null,u.value),m()}));var h=(0,s.Fl)((()=>r.value?null:{series:e.value.map((t=>({name:t.name,data:t.data.map((t=>t.average_cost_per_lead))}))),chart:{type:"area"},tooltip:{y:{formatter:function(t,{seriesIndex:r,dataPointIndex:a}){let s,l;if(u.value&&u.value.length>0&&!u.value.includes("all")){let t=u.value[r],o=e.value.find((e=>e.marketer_id===t));o&&(s=o.data.find((t=>t.date===h.value.xaxis.categories[a])).average_cost_per_lead,l=o.name)}else s=e.value[r].data.find((t=>t.date===h.value.xaxis.categories[a])).average_cost_per_lead,l=e.value[r].name;return`${l}: ${s}`},title:{formatter:()=>""}}},theme:{palette:"palette5"},stroke:{curve:"smooth"},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,90,100]}},annotations:{yaxis:[{y:c.value,borderColor:"#000000",borderWidth:2,borderStyle:"solid",label:{borderColor:"#BFBFBF",style:{color:"#fff",background:"#BFBFBF",fontSize:"20px",fontWeight:"600"},text:`Average : ${c.value}`}}]},xaxis:{categories:e.value[0]?.data.map((t=>t.date)),labels:{}},dataLabels:{formatter:function(t){return t.toFixed(2)}},legend:{show:!1,position:"top",horizontalAlign:"left"}}));return(t,e)=>{const d=(0,s.up)("Loading"),c=(0,s.up)("icon"),f=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",HVt,[(0,s._)("div",MVt,[NVt,w.value&&!r.value?((0,s.wg)(),(0,s.iD)("div",RVt,[(0,s.Wm)(d,{class:"tw-scale-50"}),YVt])):(0,s.kq)("",!0)]),(0,s._)("div",ZVt,[(0,s._)("div",KVt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>g(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>g(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>g(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>g(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==o.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>g(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.value=!l.value),class:(0,at.C_)([[l.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(c,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),BVt],2)]),(0,s._)("div",{class:(0,at.C_)([[l.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",JVt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>n.value=t)},null,512),[[a.nr,n.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>g(i.value,n.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2),(0,s._)("div",QVt,[(0,s.Wm)((0,be.SU)(bY.Z),{multiple:!0,onInput:m,reduce:t=>t.marketer_id,clearable:!1,class:"tw-bg-white tw-items-center tw-border-solid tw-outline-none tw-mb-5 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-[200px] tw-h-[44px]",modelValue:u.value,"onUpdate:modelValue":e[9]||(e[9]=t=>u.value=t),options:[{marketer_id:"all",name:"All"},...(0,be.SU)(p)],label:"name"},null,8,["reduce","modelValue","options"])])]),r.value?((0,s.wg)(),(0,s.iD)("div",XVt,[(0,s.Wm)(d)])):((0,s.wg)(),(0,s.iD)("div",GVt,[(0,s.Wm)(f,{height:400,series:(0,be.SU)(h).series,chart:(0,be.SU)(h).chart,options:(0,be.SU)(h)},null,8,["series","chart","options"])]))])}}};const eIt=tIt;var rIt=eIt;const aIt={class:"tw-p-5 tw-relative"},sIt={class:"tw-flex tw-justify-between"},lIt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Total Spend For Each Marketer",-1),oIt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},iIt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),nIt={class:"tw-flex tw-justify-between tw-items-center"},wIt={class:"tw-flex tw-w-full"},dIt=(0,s._)("span",null,"Custom",-1),cIt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},uIt={class:"tw-flex"},pIt={key:0},gIt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var mIt={__name:"CostForMarketer",setup(t){(0,s.aZ)({components:{"vue-select":bY.Z}});const e=(0,be.iH)([]),r=(0,be.iH)(!1),l=(0,be.iH)("lastsevendays"),o=(0,be.iH)(null),i=(0,be.iH)(null),n=(0,be.iH)(!0),w=(0,be.iH)(!0),d=(0,be.iH)(null),c=(0,s.Fl)((()=>e.value.map((t=>({marketer_id:t.marketer_id,name:t.name}))))),u=async(t=null,a=null,s="lastsevendays",o=null,i=null)=>{const d=sessionStorage.getItem("cachedCostPerMarketer");let c=null;d&&(c=JSON.parse(d),c.date_avant===t&&c.date_apres===a&&c.period===s&&c.selectedOption===o&&(e.value=c.cost_per_marketer,n.value=!1)),t&&a?l.value=null:(r.value=!1,l.value=s),c&&c.date_avant===t&&c.date_apres===a&&c.period===s&&c.selectedOption===o||(n.value=!0,w.value=!0),await kr.CostPerMarketer(t,a,s,i).then((r=>{if("SUCCESS"===r.data.code){const l={date_avant:t,date_apres:a,period:s,selectedOption:o,cost_per_marketer:r.data.data.cost_per_marketer,total_cost:r.data.data.total_cost};c&&JSON.stringify(c.cost_per_marketer)===JSON.stringify(l.cost_per_marketer)&&JSON.stringify(c.total_cost)===JSON.stringify(l.total_cost)?w.value=!1:(sessionStorage.setItem("cachedCostPerMarketer",JSON.stringify(l)),e.value=r.data.data.cost_per_marketer,w.value=!0),w.value=!1,n.value=!1,p()}}))},p=()=>{if(d.value&&d.value.length>0&&!d.value.includes("all")){const t=e.value.filter((t=>d.value.includes(t.marketer_id)));g.value.series=t.map((t=>({...t,data:t.data.map((t=>t.cost_per_marketer))})))}else g.value.series=e.value.map((t=>({...t,data:t.data.map((t=>t.total_cost))})))};(0,s.YP)(d,(()=>{u(null,null,null,d.value),p()})),u();var g=(0,s.Fl)((()=>({series:[...e.value.map((t=>({...t,data:t.data.map((t=>t.cost_per_marketer))})))],chart:{type:"area"},xaxis:{type:"category",categories:e.value[0].data.map((t=>t.date))},theme:{palette:"palette4"},stroke:{curve:"smooth"},fill:{opacity:1},tooltip:{y:{formatter:function(t,{seriesIndex:r,dataPointIndex:a}){let s,l;if(d.value&&d.value.length>0&&!d.value.includes("all")){let t=d.value[r],o=e.value.find((e=>e.marketer_id===t));o&&(s=o.data.find((t=>t.date===g.value.xaxis.categories[a])).cost_per_marketer,l=o.name)}else s=e.value[r].data.find((t=>t.date===g.value.xaxis.categories[a])).cost_per_marketer,l=e.value[r].name;return`${l}: ${s}`},title:{formatter:()=>""}}},legend:{show:!1,position:"top",horizontalAlign:"left"}})));return(t,e)=>{const m=(0,s.up)("Loading"),h=(0,s.up)("icon"),f=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",aIt,[(0,s._)("div",sIt,[lIt,w.value&&!n.value?((0,s.wg)(),(0,s.iD)("div",oIt,[(0,s.Wm)(m,{class:"tw-scale-50"}),iIt])):(0,s.kq)("",!0)]),(0,s._)("div",nIt,[(0,s._)("div",wIt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>u(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>u(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>u(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>u(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>u(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!r.value),class:(0,at.C_)([[r.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(h,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),dIt],2)]),(0,s._)("div",{class:(0,at.C_)([[r.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",cIt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>o.value=t)},null,512),[[a.nr,o.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>u(o.value,i.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2),(0,s._)("div",uIt,[(0,s.Wm)((0,be.SU)(bY.Z),{multiple:!0,onInput:p,reduce:t=>t.marketer_id,clearable:!1,class:"tw-bg-white tw-items-center tw-border-solid tw-outline-none tw-mb-5 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-[200px] tw-h-[44px]",modelValue:d.value,"onUpdate:modelValue":e[9]||(e[9]=t=>d.value=t),options:[{marketer_id:"all",name:"All"},...(0,be.SU)(c)],label:"name"},null,8,["reduce","modelValue","options"])])]),n.value?((0,s.wg)(),(0,s.iD)("div",gIt,[(0,s.Wm)(m)])):((0,s.wg)(),(0,s.iD)("div",pIt,[(0,s.Wm)(f,{height:400,series:(0,be.SU)(g).series,chart:(0,be.SU)(g).chart,options:(0,be.SU)(g)},null,8,["series","chart","options"])]))])}}};const hIt=mIt;var fIt=hIt;const bIt={class:"tw-p-5 tw-relative"},xIt={class:"tw-flex tw-justify-between"},vIt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium tw-py-2"},"Total Lead For Each Marketer",-1),yIt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},_It=(0,s._)("p",{class:"tw-tetx-xs"},"Updating",-1),kIt={class:"tw-flex tw-justify-between tw-items-center"},CIt={class:"tw-flex tw-w-full"},DIt=(0,s._)("span",null,"Custom",-1),SIt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},zIt={class:"tw-flex"},UIt={key:0},PIt={key:1,class:"tw-h-[500px] tw-flex tw-items-center tw-justify-center"};var LIt={__name:"LeadPerMarketer",setup(t){(0,s.aZ)({components:{"vue-select":bY.Z}});const e=(0,be.iH)([]),r=(0,be.iH)(!1),l=(0,be.iH)("lastsevendays"),o=(0,be.iH)(null),i=(0,be.iH)(null),n=(0,be.iH)(!0),w=(0,be.iH)(!0),d=(0,be.iH)(null),c=(0,s.Fl)((()=>e.value.map((t=>({marketer_id:t.marketer_id,name:t.name}))))),u=async(t=null,a=null,s="lastsevendays",o=null,i=null)=>{const d=sessionStorage.getItem("cachedLeadPerMarketer");let c=null;d&&(c=JSON.parse(d),c.date_avant===t&&c.date_apres===a&&c.period===s&&c.selectedOption===o&&(e.value=c.lead_per_marketer,n.value=!1)),t&&a?l.value=null:(r.value=!1,l.value=s),c&&c.date_avant===t&&c.date_apres===a&&c.period===s&&c.selectedOption===o||(n.value=!0,w.value=!0),await kr.CostPerMarketer(t,a,s,o,i).then((r=>{if("SUCCESS"===r.data.code){const l={date_avant:t,date_apres:a,period:s,selectedOption:o,lead_per_marketer:r.data.data.cost_per_marketer,total_lead:r.data.data.cost_per_marketer};c&&JSON.stringify(c.lead_per_marketer)===JSON.stringify(l.lead_per_marketer)?w.value=!1:(sessionStorage.setItem("cachedLeadPerMarketer",JSON.stringify(l)),e.value=r.data.data.cost_per_marketer,w.value=!0),w.value=!1,n.value=!1,p()}}))};u();const p=()=>{if(d.value&&d.value.length>0&&!d.value.includes("all")){const t=e.value.filter((t=>d.value.includes(t.marketer_id)));g.value.series=t.map((t=>({...t,data:t.data.map((t=>t.lead_per_marketer))})))}else g.value.series=e.value.map((t=>({...t,data:t.data.map((t=>t.total_lead))})))};(0,s.YP)(d,(()=>{u(null,null,null,d.value),p()}));var g=(0,s.Fl)((()=>({series:[...e.value.map((t=>({...t,data:t.data.map((t=>t.lead_per_marketer))})))],chart:{type:"area"},xaxis:{type:"category",categories:e.value[0].data.map((t=>t.date))},theme:{palette:"palette1"},stroke:{curve:"smooth"},fill:{opacity:1},tooltip:{y:{formatter:function(t,{seriesIndex:r,dataPointIndex:a}){let s,l;if(d.value&&d.value.length>0&&!d.value.includes("all")){let t=d.value[r],o=e.value.find((e=>e.marketer_id===t));o&&(s=o.data.find((t=>t.date===g.value.xaxis.categories[a])).lead_per_marketer,l=o.name)}else s=e.value[r].data.find((t=>t.date===g.value.xaxis.categories[a])).lead_per_marketer,l=e.value[r].name;return`${l}: ${s}`},title:{formatter:()=>""}}},legend:{show:!1,position:"top",horizontalAlign:"left"}})));return(t,e)=>{const m=(0,s.up)("Loading"),h=(0,s.up)("icon"),f=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",bIt,[(0,s._)("div",xIt,[vIt,w.value&&!n.value?((0,s.wg)(),(0,s.iD)("div",yIt,[(0,s.Wm)(m,{class:"tw-scale-50"}),_It])):(0,s.kq)("",!0)]),(0,s._)("div",kIt,[(0,s._)("div",CIt,[(0,s._)("button",{class:(0,at.C_)([["lastsevendays"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[0]||(e[0]=t=>u(null,null,"lastsevendays"))},"Last Seven Days ",2),(0,s._)("button",{class:(0,at.C_)([["week"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[1]||(e[1]=t=>u(null,null,"week"))},"This Week",2),(0,s._)("button",{class:(0,at.C_)([["month"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[2]||(e[2]=t=>u(null,null,"month"))},"This Month",2),(0,s._)("button",{class:(0,at.C_)([["lastmonth"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[3]||(e[3]=t=>u(null,null,"lastmonth"))},"Last Month",2),(0,s._)("button",{class:(0,at.C_)([["year"==l.value&&"!tw-bg-orange-500 tw-text-white"],"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"]),onClick:e[4]||(e[4]=t=>u(null,null,"year"))},"This Year",2),(0,s._)("button",{onClick:e[5]||(e[5]=t=>r.value=!r.value),class:(0,at.C_)([[r.value&&"!tw-bg-orange-500 !tw-text-white"],"tw-flex tw-justify-center tw-gap-2 tw-items-center tw-text-neutral-700 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"])},[(0,s.Wm)(h,{icon:"ph:gear-six-duotone",class:"tw-text-2xl"}),DIt],2)]),(0,s._)("div",{class:(0,at.C_)([[r.value?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",SIt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[6]||(e[6]=t=>o.value=t)},null,512),[[a.nr,o.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[7]||(e[7]=t=>i.value=t)},null,512),[[a.nr,i.value]]),(0,s._)("button",{onClick:e[8]||(e[8]=t=>u(o.value,i.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")])],2),(0,s._)("div",zIt,[(0,s.Wm)((0,be.SU)(bY.Z),{multiple:!0,onInput:p,reduce:t=>t.marketer_id,clearable:!1,class:"tw-bg-white tw-items-center tw-border-solid tw-outline-none tw-mb-5 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-[200px] tw-h-[44px]",modelValue:d.value,"onUpdate:modelValue":e[9]||(e[9]=t=>d.value=t),options:[{marketer_id:"all",name:"All"},...(0,be.SU)(c)],label:"name"},null,8,["reduce","modelValue","options"])])]),n.value?((0,s.wg)(),(0,s.iD)("div",PIt,[(0,s.Wm)(m)])):((0,s.wg)(),(0,s.iD)("div",UIt,[(0,s.Wm)(f,{height:400,series:(0,be.SU)(g).series,chart:(0,be.SU)(g).chart,options:(0,be.SU)(g)},null,8,["series","chart","options"])]))])}}};const AIt=LIt;var qIt=AIt;const WIt={class:"tw-grid tw-grid-cols-3 tw-gap-4 tw-w-full"},$It={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-relative"},TIt={class:"tw-p-5"},EIt={class:""},FIt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Sources",-1),OIt={class:"tw-flex tw-w-full tw-justify-end tw-overflow-hidden"},VIt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},IIt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),jIt={key:0},HIt={key:1,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"},MIt={key:2,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"},NIt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-relative"},RIt={class:"tw-p-5"},YIt={class:"tw-flex tw-justify-between"},ZIt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Confirmation Rate",-1),KIt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},BIt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),JIt={key:0},QIt={key:1,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"},GIt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200 tw-relative"},XIt={class:"tw-p-5"},tjt={class:"tw-flex tw-justify-between"},ejt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Delivery Rate",-1),rjt={key:0,class:"tw-flex tw-text-neutral-500 tw-items-center tw-gap-1 tw-absolute tw-top-2 tw-right-3"},ajt=(0,s._)("p",{class:"tw-tetx-xs"},"Updating...",-1),sjt={key:0},ljt={key:1,class:"tw-min-h-[400px] tw-flex tw-items-center tw-justify-center"};var ojt={__name:"StatusDonutChart",setup(t){const e=(0,be.iH)([]),r=(0,be.iH)(null),l=(0,be.iH)(null),o=(0,be.iH)(!0),i=(0,be.iH)(!0),n=async(t,r)=>{const a=sessionStorage.getItem("cachedStatusDonut");let s=null;a&&(s=JSON.parse(a),e.value=s.confirmation_state_donuts,o.value=!1),await kr.ConfirmationStatesDonuts(t,r).then((t=>{if("SUCCESS"==t.data.code){const r={confirmation_state_donuts:t.data.data.confirmation_state_donuts[0]};s&&JSON.stringify(s.confirmation_state_donuts)===JSON.stringify(r.confirmation_state_donuts)?i.value=!1:(sessionStorage.setItem("cachedStatusDonut",JSON.stringify(r)),e.value=t.data.data.confirmation_state_donuts[0],i.value=!0),i.value=!1,o.value=!1}}))};n();const w=t=>{switch(t){case"no-answer":return"#fbbf24";case"":return"#10b981";case"change":return"#d946ef";case"livrer-et-retourner":return"#06b6d4";case"in-warehouse":return"#84cc16";case"expidier":return"#d946ef";case"transfer":return"#8b5cf6";case"confirmer":return"#22c55e";case"paid":return"#22c55e";case"livrer":return"#22c55e";case"reporter":return"#14b8a6";case"annuler":return"#ef4444";case"refund":return"#f43f5e";case"wrong-number":return"#d946ef";case"double":return"#a855f7";case"retourner":return"#a855f7";case"reconfirmer":return"#6366f1";case"banned":return"#eab308";case"pas-de-reponse":return"#eab308";case"dispatch":return"#eab308";case"printed":return"#3b82f6";case"refuser":return"#ec4899";default:return"#0000ff"}};var d=(0,s.Fl)((()=>o.value?null:{series:e.value.orders.map((t=>t.total)),chart:{type:"donut"},fill:{colors:e.value.orders.map((t=>w(t.confirmation)))},legend:{position:"top",horizontalAlign:"left",markers:{fillColors:e.value.orders.map((t=>w(t.confirmation)))}},theme:{monochrome:{enabled:!0,color:"#616161"}},labels:e.value.orders.map((t=>{const e=Wd.find((e=>e.value==t.confirmation));return"no-answer"==t.confirmation?"No Answer":t.confirmation?e?e.name:"":"New"}))})),c=(0,s.Fl)((()=>o.value?null:{series:e.value.delivery.map((t=>t.total)),chart:{type:"donut"},fill:{colors:e.value.delivery.map((t=>w(t.delivery)))},legend:{position:"top",horizontalAlign:"left",markers:{fillColors:e.value.delivery.map((t=>w(t.delivery)))}},theme:{monochrome:{enabled:!0,color:"#616161"}},labels:e.value.delivery.map((t=>Fd.find((e=>e.value==t.delivery))?.name))})),u=(0,s.Fl)((()=>o.value||0===e.value.lead.length?null:{series:e.value.lead.map((t=>t.total)),chart:{type:"donut"},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"},labels:e.value.lead.map((t=>t.source))}));return(t,e)=>{const w=(0,s.up)("Loading"),p=(0,s.up)("apexchart");return(0,s.wg)(),(0,s.iD)("div",WIt,[(0,s._)("div",$It,[(0,s._)("div",TIt,[(0,s._)("div",EIt,[FIt,(0,s._)("div",OIt,[(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t)},null,512),[[a.nr,r.value]]),(0,s.wy)((0,s._)("input",{type:"date",class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-w-[250px] tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2","onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t)},null,512),[[a.nr,l.value]]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>n(r.value,l.value)),class:"tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-bg-white hover:tw-bg-neutral-100 tw-duration-200 tw-border tw-border-solid tw-mx-1 tw-border-neutral-200 tw-rounded-md tw-mb-2"},"Filter")]),i.value&&!o.value?((0,s.wg)(),(0,s.iD)("div",VIt,[(0,s.Wm)(w,{class:"tw-scale-50"}),IIt])):(0,s.kq)("",!0)]),!o.value&&(0,be.SU)(u)?((0,s.wg)(),(0,s.iD)("div",jIt,[(0,s.Wm)(p,{height:400,series:(0,be.SU)(u).series,chart:(0,be.SU)(u).chart,options:(0,be.SU)(u)},null,8,["series","chart","options"])])):o.value||(0,be.SU)(u)?((0,s.wg)(),(0,s.iD)("div",MIt,[(0,s.Wm)(w)])):((0,s.wg)(),(0,s.iD)("div",HIt," No data "))])]),(0,s._)("div",NIt,[(0,s._)("div",RIt,[(0,s._)("div",YIt,[ZIt,i.value&&!o.value?((0,s.wg)(),(0,s.iD)("div",KIt,[(0,s.Wm)(w,{class:"tw-scale-50"}),BIt])):(0,s.kq)("",!0)]),o.value?((0,s.wg)(),(0,s.iD)("div",QIt,[(0,s.Wm)(w)])):((0,s.wg)(),(0,s.iD)("div",JIt,[(0,s.Wm)(p,{height:400,series:(0,be.SU)(d).series,chart:(0,be.SU)(d).chart,options:(0,be.SU)(d)},null,8,["series","chart","options"])]))])]),(0,s._)("div",GIt,[(0,s._)("div",XIt,[(0,s._)("div",tjt,[ejt,i.value?((0,s.wg)(),(0,s.iD)("div",rjt,[(0,s.Wm)(w,{class:"tw-scale-50"}),ajt])):(0,s.kq)("",!0)]),o.value?((0,s.wg)(),(0,s.iD)("div",ljt,[(0,s.Wm)(w)])):((0,s.wg)(),(0,s.iD)("div",sjt,[(0,s.Wm)(p,{height:400,series:(0,be.SU)(c).series,chart:(0,be.SU)(c).chart,options:(0,be.SU)(c)},null,8,["series","chart","options"])]))])])])}}};const ijt=ojt;var njt=ijt;const wjt={class:"tw-gap-2"},djt={class:"tw-mb-2"},cjt={class:"tw-mb-2 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},ujt={class:"tw-mb-2 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},pjt={class:"tw-mb-2 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},gjt={class:"tw-mb-2 tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"},mjt={class:"tw-bg-white tw-rounded tw-border tw-border-solid tw-border-gray-200"};var hjt={__name:"DashboardChartsView",setup(t){return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",wjt,[(0,s._)("div",djt,[(0,s.Wm)((0,be.SU)(njt))]),(0,s._)("div",cjt,[(0,s.Wm)((0,be.SU)(fIt))]),(0,s._)("div",ujt,[(0,s.Wm)((0,be.SU)(qIt))]),(0,s._)("div",pjt,[(0,s.Wm)((0,be.SU)(rIt))]),(0,s._)("div",gjt,[(0,s.Wm)((0,be.SU)(jVt))]),(0,s._)("div",mjt,[(0,s.Wm)((0,be.SU)(SVt))])])]))}};const fjt=hjt;var bjt=fjt;const xjt={class:"tw-pb-40"},vjt={class:"tw-space-y-3"};function yjt(t,e,r,a,l,o){const i=(0,s.up)("IndexTopProducts");return(0,s.wg)(),(0,s.iD)("div",xjt,[(0,s._)("div",vjt,[(0,s.Wm)(i)])])}const _jt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},kjt={class:"tw-px-3"},Cjt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Top Selling Products ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ")])],-1);function Djt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",_jt,[(0,s._)("section",kjt,[Cjt,(0,s.Wm)(i,{filters:l.filters,"onUpdate:filters":e[0]||(e[0]=t=>l.filters=t),onFilter:e[1]||(e[1]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,"per-page":l.per_page},null,8,["filters","onClear","onPerPageChange","onFresh","loading","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class Sjt{async get_top_products(t="/",e){return await T.getCookie(),W.post("api/v1/admin/get_top_products/table"+t,e)}}var zjt=new Sjt;const Ujt={class:"tw-flex tw-flex-col"},Pjt={class:"tw-overflow-x-auto"},Ljt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Ajt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},qjt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Wjt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},$jt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Tjt=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),Ejt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Fjt=(0,s._)("span",null,"Total Orders",-1),Ojt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Vjt=[Fjt,Ojt],Ijt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},jjt=(0,s._)("span",null,"Total Unit",-1),Hjt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Mjt=[jjt,Hjt],Njt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Rjt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Yjt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Zjt=[Yjt],Kjt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Bjt={colspan:"11"},Jjt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Qjt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Gjt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Xjt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),tHt=[Gjt,Xjt],eHt={class:"tw-mt-6"};function rHt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ujt,[(0,s._)("div",Pjt,[(0,s._)("div",Ljt,[(0,s._)("div",Ajt,[(0,s._)("table",qjt,[(0,s._)("thead",Wjt,[(0,s._)("tr",null,[$jt,Tjt,(0,s._)("th",Ejt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"total_orders"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Vjt)]),(0,s._)("th",Ijt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"total_quantity"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Mjt)])])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Njt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),all:l,index:a,key:a,item:r},null,8,["all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Rjt,Zjt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Kjt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Bjt,[(0,s._)("div",Jjt,[Qjt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},tHt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",eHt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const aHt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},sHt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},lHt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},oHt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},iHt=["disabled"],nHt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),wHt=(0,s._)("span",null," previous ",-1),dHt=[nHt,wHt],cHt=["disabled"],uHt=(0,s._)("span",null," Next ",-1),pHt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),gHt=[uHt,pHt];function mHt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",aHt,[(0,s._)("div",sHt,[(0,s.Uk)(" Page "),(0,s._)("span",lHt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",oHt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},dHt,10,iHt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},gHt,10,cHt)])])])}var hHt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const fHt=(0,g.Z)(hHt,[["render",mHt]]);var bHt=fHt;const xHt={class:"hover:tw-bg-gray-50"},vHt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},yHt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},_Ht={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kHt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},CHt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DHt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},SHt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zHt={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},UHt={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"};function PHt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",xHt,[(0,s._)("td",vHt,[(0,s._)("div",null,[(0,s._)("h2",yHt,(0,at.zw)(r.item.product_id),1)])]),(0,s._)("td",_Ht,[(0,s._)("div",null,[(0,s._)("h2",kHt,(0,at.zw)(r.item.product_name),1)])]),(0,s._)("td",CHt,[(0,s._)("div",null,[(0,s._)("h2",DHt,(0,at.zw)(r.item.total_orders),1)])]),(0,s._)("td",SHt,[(0,s._)("div",zHt,[(0,s._)("h2",UHt,(0,at.zw)(r.item.total_quantity),1)])])])}var LHt={components:{},props:{item:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{},mounted(){}};const AHt=(0,g.Z)(LHt,[["render",PHt]]);var qHt=AHt,WHt={components:{TablePaginationNoNums:bHt,TableRow:qHt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},computed:{},methods:{}};const $Ht=(0,g.Z)(WHt,[["render",rHt]]);var THt=$Ht;const EHt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},FHt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},OHt=["disabled"],VHt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),IHt=[VHt],jHt=["disabled"],HHt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),MHt=[HHt],NHt={class:"tw-relative"},RHt=["value"],YHt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),ZHt=[YHt],KHt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),BHt={class:"tw-overflow-hidden tw-col-span-1"};function JHt(t,e,r,a,l,o){const i=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",EHt,[(0,s._)("div",FHt,[(0,s._)("button",{class:(0,at.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>o.filterToday(!1))}," View all ",10,OHt),(0,s._)("button",{title:"Show Filters Tab",onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),class:(0,at.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},IHt,2),(0,s._)("button",{title:"Refresh",onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},MHt,8,jHt),(0,s._)("div",NHt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>o.handlePerPageChange&&o.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ZHt,40,RHt),KHt])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",BHt,[(0,s.Wm)(i,{onClear:e[4]||(e[4]=e=>t.$emit("clear")),onFilter:e[5]||(e[5]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2)])}const QHt={class:"tw-mb-4"},GHt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},XHt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered From",-1),eMt=["value"],rMt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aMt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivered To",-1),sMt=["value"],lMt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},oMt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),iMt=(0,s._)("span",null,"Clear",-1),nMt=[oMt,iMt],wMt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),dMt=(0,s._)("span",null,"Filter",-1),cMt=[wMt,dMt];function uMt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",QHt,[(0,s._)("div",GHt,[(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",XHt,[tMt,(0,s._)("input",{value:r.filters.delivered_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,delivered_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,eMt)]),(0,s._)("div",rMt,[aMt,(0,s._)("input",{value:r.filters.delivered_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,delivered_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,sMt)]),(0,s._)("div",lMt,[(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},nMt),(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},cMt)])])])}var pMt={components:{DateFilter:KR,ProductFilter:yY},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const gMt=(0,g.Z)(pMt,[["render",uMt]]);var mMt=gMt,hMt={components:{FiltersWrapper:mMt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const fMt=(0,g.Z)(hMt,[["render",JHt]]);var bMt=fMt,xMt={components:{IndexTable:THt,IndexFilters:bMt},data(){return{fetching:!0,items:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"total_orders",sort_order:"desc",per_page:10,current_page:1,filters:{delivered_from:null,delivered_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,zjt.get_top_products(t,e).then((({data:t})=>{const e=t.data.topProducts;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={delivered_from:null,delivered_to:null,product_id:"all"},this.handlePageChange(1)},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const vMt=(0,g.Z)(xMt,[["render",Djt]]);var yMt=vMt,_Mt={components:{IndexTopProducts:yMt},computed:{user(){return this.$store.getters["user/user"]}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const kMt=(0,g.Z)(_Mt,[["render",yjt]]);var CMt=kMt;const DMt={class:"tw-pb-40"},SMt={class:"tw-space-y-3"};function zMt(t,e,r,a,l,o){const i=(0,s.up)("IndexTopProducts");return(0,s.wg)(),(0,s.iD)("div",DMt,[(0,s._)("div",SMt,[(0,s.Wm)(i)])])}const UMt={class:"px-2 py-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},PMt={class:"tw-px-3"},LMt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Profit Per Product ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ")])],-1);function AMt(t,e,r,a,l,o){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",UMt,[(0,s._)("section",PMt,[LMt,(0,s.Wm)(i,{filters:l.filters,"onUpdate:filters":e[0]||(e[0]=t=>l.filters=t),onFilter:e[1]||(e[1]=t=>o.handlePerPageChange(l.per_page)),onClear:o.handleClearFilters,onPerPageChange:o.handlePerPageChange,onFresh:o.paginateProducts,loading:l.fetching,"per-page":l.per_page},null,8,["filters","onClear","onPerPageChange","onFresh","loading","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{onPageChange:o.handlePageChange,onSortOrder:o.handleSortOrderChange,loading:l.fetching,from:l.from,to:l.to,"last-page":l.last_page,"per-page":l.per_page,total:l.total,"current-page":l.current_page,items:l.items},null,8,["onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}const qMt={class:"tw-flex tw-flex-col"},WMt={class:"tw-overflow-x-auto"},$Mt={class:"tw-inline-block tw-min-w-full tw-align-middle"},TMt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},EMt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},FMt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},OMt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),VMt=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),IMt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},jMt=(0,s._)("span",null,"Ad Spend",-1),HMt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),MMt=[jMt,HMt],NMt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},RMt=(0,s._)("span",null,"Product Profit",-1),YMt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),ZMt=[RMt,YMt],KMt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},BMt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},JMt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Product was found ! ")])],-1),QMt=[JMt],GMt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},XMt={colspan:"11"},tNt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},eNt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),rNt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),aNt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),sNt=[rNt,aNt],lNt={class:"tw-mt-6"};function oNt(t,e,r,a,l,o){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qMt,[(0,s._)("div",WMt,[(0,s._)("div",$Mt,[(0,s._)("div",TMt,[(0,s._)("table",EMt,[(0,s._)("thead",FMt,[(0,s._)("tr",null,[OMt,VMt,(0,s._)("th",IMt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"total_orders"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},MMt)]),(0,s._)("th",NMt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"total_quantity"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},ZMt)])])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",KMt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,l)=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),all:l,index:a,key:a,item:r},null,8,["all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",BMt,QMt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",GMt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",XMt,[(0,s._)("div",tNt,[eNt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},sNt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",lNt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const iNt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},nNt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},wNt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},dNt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},cNt=["disabled"],uNt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),pNt=(0,s._)("span",null," previous ",-1),gNt=[uNt,pNt],mNt=["disabled"],hNt=(0,s._)("span",null," Next ",-1),fNt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),bNt=[hNt,fNt];function xNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",iNt,[(0,s._)("div",nNt,[(0,s.Uk)(" Page "),(0,s._)("span",wNt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",dNt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>o.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},gNt,10,cNt),(0,s._)("button",{disabled:r.currentPage>=o.totalPages,onClick:e[1]||(e[1]=t=>o.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=o.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},bNt,10,mNt)])])])}var vNt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const yNt=(0,g.Z)(vNt,[["render",xNt]]);var _Nt=yNt;const kNt={class:"hover:tw-bg-gray-50"},CNt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},DNt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},SNt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zNt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},UNt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},PNt={class:"tw-font-medium tw-text-red-600 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},LNt={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ANt={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},qNt={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"};function WNt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("tr",kNt,[(0,s._)("td",CNt,[(0,s._)("div",null,[(0,s._)("h2",DNt,(0,at.zw)(r.item.product_id),1)])]),(0,s._)("td",SNt,[(0,s._)("div",null,[(0,s._)("h2",zNt,(0,at.zw)(r.item.product_name),1)])]),(0,s._)("td",UNt,[(0,s._)("div",null,[(0,s._)("h2",PNt,(0,at.zw)(r.item.total_spend)+" € ",1)])]),(0,s._)("td",LNt,[(0,s._)("div",ANt,[(0,s._)("h2",qNt,(0,at.zw)(r.item.profit),1)])])])}var $Nt={components:{},props:{item:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:_e(),currency:c}},computed:{},methods:{},mounted(){}};const TNt=(0,g.Z)($Nt,[["render",WNt]]);var ENt=TNt,FNt={components:{TablePaginationNoNums:_Nt,TableRow:ENt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},computed:{},methods:{}};const ONt=(0,g.Z)(FNt,[["render",oNt]]);var VNt=ONt;const INt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},jNt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},HNt=["disabled"],MNt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),NNt=[MNt],RNt=["disabled"],YNt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),ZNt=[YNt],KNt={class:"tw-relative"},BNt=["value"],JNt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),QNt=[JNt],GNt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),XNt={class:"tw-overflow-hidden tw-col-span-1"};function tRt(t,e,r,a,l,o){const i=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",INt,[(0,s._)("div",jNt,[(0,s._)("button",{class:(0,at.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>o.filterToday(!1))}," View all ",10,HNt),(0,s._)("button",{title:"Show Filters Tab",onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),class:(0,at.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},NNt,2),(0,s._)("button",{title:"Refresh",onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},ZNt,8,RNt),(0,s._)("div",KNt,[(0,s._)("select",{onChange:e[3]||(e[3]=(...t)=>o.handlePerPageChange&&o.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},QNt,40,BNt),GNt])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",XNt,[(0,s.Wm)(i,{onClear:e[4]||(e[4]=e=>t.$emit("clear")),onFilter:e[5]||(e[5]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2)])}const eRt={class:"tw-mb-4"},rRt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},aRt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},sRt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),lRt=(0,s._)("span",null,"Clear",-1),oRt=[sRt,lRt],iRt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),nRt=(0,s._)("span",null,"Filter",-1),wRt=[iRt,nRt];function dRt(t,e,r,a,l,o){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",eRt,[(0,s._)("div",rRt,[(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",aRt,[(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},oRt),(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},wRt)])])])}var cRt={components:{DateFilter:KR,ProductFilter:yY},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const uRt=(0,g.Z)(cRt,[["render",dRt]]);var pRt=uRt,gRt={components:{FiltersWrapper:pRt},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=_e()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const mRt=(0,g.Z)(gRt,[["render",tRt]]);var hRt=mRt,fRt={components:{IndexTable:VNt,IndexFilters:hRt},data(){return{fetching:!0,items:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"total_spend",sort_order:"desc",per_page:10,current_page:1,filters:{delivered_from:null,delivered_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,_p.products(t,e).then((({data:t})=>{console.log(t);const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=no(t.first_page_url),this.lase_page_url=no(t.last_page_url),this.next_page_url=no(t.next_page_url),this.prev_page_url=no(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={delivered_from:null,delivered_to:null,product_id:"all"},this.handlePageChange(1)},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const bRt=(0,g.Z)(fRt,[["render",AMt]]);var xRt=bRt,vRt={components:{IndexTopProducts:xRt},computed:{user(){return this.$store.getters["user/user"]}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const yRt=(0,g.Z)(vRt,[["render",zMt]]);var _Rt=yRt,kRt={name:"dashboards",path:"/dashboards",component:ya,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:_Tt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:aVt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/finance",path:"/finance",component:CMt,meta:{module:"dashboards",subModule:"dashboards/finance",title:"Dashboard Finance",gate:"show_all_ads"}},{name:"dashboards/product",path:"/product",component:_Rt,meta:{module:"dashboards",subModule:"dashboards/product",title:"Dashboard Product",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:fEt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}},{name:"dashboards/marketer",path:"marketer",component:HFt,meta:{module:"dashboards",subModule:"dashboards/marketer",title:"Dashboard",gate:"all"}},{name:"dashboards/admin/charts",path:"admin/charts",component:bjt,meta:{module:"dashboards",subModule:"admin/charts",title:"Charts",role:"admin"}}]};class CRt{async paginate(t="",e){return await T.getCookie(),W.post("api/sourcings"+t,e)}async create(t){return await T.getCookie(),W.post("api/sourcings/new",t)}async update(t,e){return await T.getCookie(),W.post("api/sourcings/"+t,e)}async get(t){return await T.getCookie(),W.get("api/sourcings/"+t)}async history(t){return await T.getCookie(),W.get("api/sourcings/"+t+"/history")}async delete(t){return await T.getCookie(),W["delete"]("api/sourcings/"+t)}}var DRt=new CRt;const SRt=[{name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{name:"Quoting",value:"quoting",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"},{name:"Confirmed",value:"confirmed",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"}],zRt=[{step:1,name:"Pending",value:"pending",class:"tw-text-white tw-bg-gray-600 tw-font-medium"},{step:2,name:"Processing",value:"processing",class:"tw-text-white tw-bg-blue-500 tw-font-medium"},{step:3,name:"Packing",value:"packing",class:"tw-text-black tw-bg-orange-500 tw-font-medium"},{step:4,name:"Shipped",value:"shipped",class:"tw-text-white tw-bg-violet-500 tw-font-medium"},{step:5,name:"Delivered",value:"delivered",class:"tw-text-white tw-bg-emerald-500 tw-font-medium"},{step:0,name:"Cancelled",value:"cancelled",class:"tw-text-white tw-bg-rose-500 tw-font-medium"}],URt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PRt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Quotation",-1),LRt=(0,s._)("option",{value:"all"},"All",-1),ARt=["value"];var qRt={__name:"FilterByQuotation",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",URt,[PRt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,be.SU)(e).setFilter("quotation_status",t.target.value)),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[LRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(SRt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,at.zw)(t.name),9,ARt)))),128))],32)]))}};const WRt=qRt;var $Rt=WRt;const TRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ERt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Sourcing",-1),FRt=(0,s._)("option",{value:"all"},"All",-1),ORt=["value"];var VRt={__name:"FilterBySourcing",setup(t){const e=(0,s.f3)("options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",TRt,[ERt,(0,s._)("select",{onChange:r[0]||(r[0]=t=>(0,be.SU)(e).setFilter("sourcing_status",t.target.value)),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[FRt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(zRt),(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.value},(0,at.zw)(t.name),9,ORt)))),128))],32)]))}};const IRt=VRt;var jRt=IRt;const HRt={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-pb-4"},MRt={key:0,class:"md:tw-col-span-4 tw-col-span-12"},NRt={key:1,class:"md:tw-col-span-4 tw-col-span-12"},RRt={class:"tw-col-span-12 tw-flex tw-justify-end"},YRt=(0,s._)("span",null,"Filter",-1),ZRt=[YRt];var KRt={__name:"FilterOption",setup(t){const e=(0,s.f3)("options");(0,be.Vh)(e,"options");return(t,r)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",HRt,[["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",MRt,[(0,s.Wm)((0,be.SU)($Rt))])):(0,s.kq)("",!0),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",NRt,[(0,s.Wm)((0,be.SU)(jRt))])):(0,s.kq)("",!0),(0,s._)("div",RRt,[(0,s._)("button",{onClick:r[0]||(r[0]=t=>(0,be.SU)(e).getData()),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},ZRt)])])]))}};const BRt=KRt;var JRt=BRt;const QRt={class:"tw-relative tw-h-[40px] tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},GRt=["value"],XRt=["value"],tYt=["value","onKeyup"];var eYt={__name:"SearchOption",emits:["update:search-by-field","update:search","filter"],setup(t,{emit:e}){const r=(0,be.iH)([{field:"all",name:"All"},{field:"id",name:"ID"}]),l=(0,be.iH)("all"),o=(0,be.iH)(""),i=t=>{e("update:search-by-field",t.target.value)},n=t=>{e("update:search",t.target.value)},w=()=>{e("filter")};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",QRt,[(0,s._)("select",{onChange:i,value:l.value,class:"tw-block tw-h-[40px] !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.field,key:t.field},(0,at.zw)(t.name),9,XRt)))),128))],40,GRt),(0,s._)("input",{type:"text",placeholder:"Search",value:o.value,onInput:n,onKeyup:(0,a.D2)(w,["enter"]),class:"tw-block tw-h-[40px] tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,tYt),(0,s._)("button",{onClick:w,class:"tw-absolute tw-h-[40px] tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(ot.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])]))}};const rYt=eYt;var aYt=rYt;const sYt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between tw-flex-wrap"},lYt={class:"tw-inline-flex tw-flex-wrap tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},oYt={class:"tw-relative tw-h-[40px]"},iYt=["value"],nYt={class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},wYt={key:0},dYt={class:"tw-overflow-hidden tw-col-span-1"};var cYt={__name:"IndexOptions",setup(t){const e=(0,be.qj)({filters:!1}),r=(0,s.f3)("options"),a=t=>{r.setOptions({...r.options,per_page:parseInt(t)}),r.getData()};return(t,r)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sYt,[(0,s._)("div",lYt,[(0,s._)("button",{class:(0,at.C_)([["!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:!0}," View all "),(0,s._)("button",{title:"Requests created today",class:(0,at.C_)([[!1],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:!1}," Today "),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Filters",class:(0,at.C_)([[e.filters&&"!tw-bg-gray-100"],"tw-h-[40px] tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),onClick:r[0]||(r[0]=t=>e.filters=!e.filters)},[(0,s.Wm)(l,{icon:"mi:filter",class:"tw-text-2xl"})],2)):(0,s.kq)("",!0),(0,s._)("div",oYt,[(0,s._)("select",{value:10,onChange:r[1]||(r[1]=t=>a(t.target.value)),class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([5,10,20,50,100,250,500],(t=>(0,s._)("option",{value:t,key:t},(0,at.zw)(t),9,iYt))),64))],32),(0,s._)("div",nYt,[(0,s.Wm)(l,{icon:"mdi:chevron-down",class:"tw-text-xl"})])])]),(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(aYt))])]),["admin"].includes(t.$user.role)?((0,s.wg)(),(0,s.iD)("div",wYt,[(0,s._)("div",{class:(0,at.C_)([[e.filters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",dYt,[(0,s.Wm)((0,be.SU)(JRt))])],2)])):(0,s.kq)("",!0)])}}};const uYt=cYt;var pYt=uYt;const gYt={class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},mYt=["colspan"],hYt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},fYt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),bYt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),xYt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),vYt=[bYt,xYt];var yYt={__name:"TableLoading",props:{columns:{type:Number,required:!1,default:10},rows:{type:Number,required:!1,default:10}},setup(t){const e=t;return(t,r)=>((0,s.wg)(),(0,s.iD)("tbody",gYt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:e.rows},[(0,s._)("div",hYt,[fYt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.columns,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},vYt)))),128))])],8,mYt)])]))}};const _Yt=yYt;var kYt=_Yt;const CYt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},DYt={class:"tw-p-4 tw-text-lg tw-relative tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},SYt=(0,s._)("span",null,"Sourcing History",-1),zYt={key:0,class:"tw-h-[250px] tw-flex tw-items-center tw-justify-center tw-bg-white"},UYt={key:1,class:"tw-bg-white tw-p-5 tw-pl-8 tw-py-10"},PYt={key:0,class:"tw-text-neutral-500 tw-text-lg tw-font-semibold tw-text-center"},LYt={key:1,class:"tw-relative tw-border-l tw-border-neutral-200 dark:tw-border-gray-700"},AYt=(0,s._)("span",{class:"tw-absolute tw-flex tw-items-center tw-justify-center tw-w-6 tw-h-6 tw-bg-neutral-100 tw-rounded-full -tw-left-3 tw-ring-8 tw-ring-white dark:tw-ring-gray-900 dark:tw-bg-blue-900"},null,-1),qYt={class:"tw-flex tw-items-center tw-justify-between tw-mb-2"},WYt={class:"tw-text-gray-500"},$Yt={class:"tw-text-black tw-font-semibold tw-capitalize tw-mb-2"},TYt=["onMouseenter","onMouseleave"],EYt={class:"tw-items-start tw-justify-between tw-p-4 tw-bg-white tw-border tw-border-gray-200 tw-rounded-lg tw-shadow-sm sm:tw-flex dark:tw-bg-gray-700 dark:tw-border-gray-600"},FYt={class:"tw-flex tw-flex-col tw-gap-4"},OYt={key:0,class:"tw-text-sm tw-font-normal tw-text-gray-500 dark:tw-text-gray-300"},VYt={class:"tw-font-semibold tw-text-blue-600 dark:tw-text-blue-500 hover:tw-underline"},IYt={class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-rose-100 dark:tw-text-rose-500"},jYt={class:"tw-bg-emerald-100 tw-text-emerald-800 tw-text-xs tw-font-normal tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded dark:tw-bg-green-100 dark:tw-text-green-500"},HYt={key:1,class:"tw-w-full"},MYt=(0,s._)("div",{class:"tw-items-center tw-justify-between tw-mb-3 sm:tw-flex"},[(0,s._)("div",{class:"tw-text-sm tw-font-normal tw-text-gray-500 lex dark:tw-text-gray-300"},"Added a note:")],-1),NYt={class:"tw-p-3 tw-w-full tw-text-sm tw-italic tw-font-normal tw-text-gray-500 tw-border tw-border-gray-200 tw-rounded-lg tw-bg-gray-50 dark:tw-bg-gray-600 dark:tw-border-gray-500 dark:tw-text-gray-300"};var RYt={__name:"TableActionsHistory",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a={product_name:"Product name",product_url:"Product URL",estimated_quantity:"Estimated Quantity",destination_country:"Destination Country",note:"Note",shipping_method:"Shipping Method",quotation_status:"Quotation Status",sourcing_status:"Sourcing Status",cost_per_unit:"Unit Price",total_cost:"Total Cost",additional_fees:"Additional Fees"},l={shipping_method:{"air-freight":"Air Freight","ocean-freight":"Ocean Freight"},quotation_status:SRt.reduce(((t,e)=>(t[e.value]=e.name,t)),{}),sourcing_status:zRt.reduce(((t,e)=>(t[e.value]=e.name,t)),{})},o=(0,be.Vh)(r,"visible"),i=(0,be.Vh)(r,"sourcing"),n=(0,be.iH)(!0),w=(0,be.iH)([!0]),d=async()=>{n.value=!0,await DRt.history(i.value.id).then((t=>{"SUCCESS"==t.data.code&&(console.log(t.data),w.value=t.data.history,w.value.reverse())})),n.value=!1};return d(),(t,r)=>{const i=(0,s.up)("icon"),d=(0,s.up)("loading"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(c,{visible:(0,be.SU)(o),onCancel:r[1]||(r[1]=t=>e("update:visible",!1))},{default:(0,s.w5)((()=>[(0,s._)("div",CYt,[(0,s._)("div",DYt,[SYt,(0,s._)("button",{onClick:r[0]||(r[0]=t=>e("update:visible",!1)),class:"tw-absolute tw-right-3 tw-top-1/2 tw-p-2 tw-rounded-md hover:tw-bg-black/10 tw-duration-200 -tw-translate-y-1/2"},[(0,s.Wm)(i,{icon:"ic:round-close",class:"tw-text-xl tw-text-neutral-700"})])]),n.value?((0,s.wg)(),(0,s.iD)("div",zYt,[(0,s.Wm)(d)])):(0,s.kq)("",!0),n.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",UYt,[w.value.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",PYt,"There is no history for this sourcing yet.")),w.value.length?((0,s.wg)(),(0,s.iD)("ol",LYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-mb-10 tw-mx-6"},[AYt,(0,s._)("div",qYt,[(0,s._)("p",WYt,[(0,s.Uk)(" by "),(0,s._)("span",$Yt,(0,at.zw)(t.action_by),1)]),(0,s._)("time",{class:"tw-mb-1 tw-text-xs tw-font-normal tw-text-gray-400 sm:tw-order-last sm:tw-mb-0 tw-whitespace-nowrap",onMouseenter:e=>t.isHovering=!0,onMouseleave:e=>t.isHovering=!1},(0,at.zw)(t.isHovering?(0,be.SU)(_e())(t.created_at).format("YYYY-MM-DD HH:mm:ss"):(0,be.SU)(_e())(t.created_at).fromNow()),41,TYt)]),(0,s._)("div",EYt,[(0,s._)("div",FYt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.fields,(t=>((0,s.wg)(),(0,s.iD)(s.HY,{key:t.field},[["note"].includes(t.field)?((0,s.wg)(),(0,s.iD)("div",HYt,[MYt,(0,s._)("div",NYt,(0,at.zw)(t.new_value),1)])):((0,s.wg)(),(0,s.iD)("div",OYt,[(0,s.Uk)("Changed "),(0,s._)("span",VYt,(0,at.zw)(a[t.field]),1),(0,s.Uk)(" from "),(0,s._)("span",IYt,(0,at.zw)(t.field in l?l[t.field][t.old_value]:t.old_value),1),(0,s.Uk)("to "),(0,s._)("span",jYt,(0,at.zw)(t.field in l?l[t.field][t.new_value]:t.new_value),1)]))],64)))),128))])])])))),128))])):(0,s.kq)("",!0)]))])])),_:1},8,["visible"])}}};const YYt=RYt;var ZYt=YYt;const KYt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"};var BYt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,be.qj)({history:!1}),a=(0,be.Vh)(e,"item");return(t,e)=>{const l=(0,s.up)("icon"),o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",KYt,["seller"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:0,to:{name:"sourcings.show",params:{id:(0,be.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-blue-300 tw-text-blue-500 tw-duration-200 hover:tw-bg-blue-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"solar:eye-bold"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(o,{key:1,to:{name:"sourcings.show",params:{id:(0,be.SU)(a).id}},class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-emerald-300 tw-text-emerald-500 tw-duration-200 hover:tw-bg-emerald-500 hover:tw-text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"clarity:edit-solid"})])),_:1},8,["to"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e[0]||(e[0]=t=>r.history=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-purple-300 tw-text-purple-500 tw-duration-200 hover:tw-bg-purple-500 hover:tw-text-white"},[(0,s.Wm)(l,{icon:"iconamoon:history"})])):(0,s.kq)("",!0)]),"admin"==t.$user.role&&r.history?((0,s.wg)(),(0,s.j4)((0,be.SU)(ZYt),{key:0,visible:r.history,"onUpdate:visible":e[1]||(e[1]=t=>r.history=t),sourcing:(0,be.SU)(a)},null,8,["visible","sourcing"])):(0,s.kq)("",!0)])}}};const JYt=BYt;var QYt=JYt;const GYt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},XYt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tZt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},eZt={class:"tw-px-4 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rZt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aZt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sZt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},lZt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},oZt={class:"tw-px-4"},iZt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-capitalize"},nZt={class:"tw-px-4"},wZt=["admin"];var dZt={__name:"TableRow",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,be.Vh)(e,"item"),o=(0,be.iH)(SRt.find((t=>t.value==l.value.quotation_status))),n=(0,be.iH)(zRt.find((t=>t.value==l.value.sourcing_status)));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",GYt,(0,at.zw)((0,be.SU)(l).id),1),(0,s._)("td",XYt,(0,at.zw)((0,be.SU)(_e())((0,be.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",tZt,(0,at.zw)((0,be.SU)(l).product_name),1),(0,s._)("td",eZt,[(0,s._)("p",{class:(0,at.C_)({"tw-text-xs tw-text-center  tw-py-1 tw-font-medium tw-rounded tw-bg-blue-100 darkx:tw-bg-gray-800 darkx:tw-text-orange-400":"ocean-freight"===(0,be.SU)(l).shipping_method,"tw-text-xs tw-text-center tw-py-1 tw-font-medium tw-bg-yellow-100  tw-rounded":"air-freight"===(0,be.SU)(l).shipping_method})},(0,at.zw)("air-freight"===(0,be.SU)(l).shipping_method?"By Air":"ocean-freight"===(0,be.SU)(l).shipping_method?"By Ocean":(0,be.SU)(l).shipping_method),3)]),(0,s._)("td",rZt,(0,at.zw)((0,be.SU)(c))+(0,at.zw)((0,be.SU)(l).total_cost),1),(0,s._)("td",aZt,(0,at.zw)((0,be.SU)(l).estimated_quantity),1),(0,s._)("td",sZt,(0,at.zw)((0,be.SU)(l).destination_country),1),(0,s._)("td",lZt,[(0,s._)("div",oZt,[(0,s._)("div",{class:(0,at.C_)([o.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,at.zw)(o.value.name),3)])]),(0,s._)("td",iZt,[(0,s._)("div",nZt,[(0,s._)("div",{class:(0,at.C_)([n.value.class,"tw-rounded tw-px-4 tw-py-1 tw-text-center"])},(0,at.zw)(n.value.name),3)])]),(0,s._)("td",{admin:(0,be.SU)(a)},[(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(QYt),{item:(0,be.SU)(l)},null,8,["item"])])],8,wZt)]))}};const cZt=dZt;var uZt=cZt;const pZt={class:"tw-overflow-x-auto"},gZt={class:"tw-inline-block tw-min-w-full tw-align-middle"},mZt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},hZt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},fZt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},bZt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},xZt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vZt=["colspan"],yZt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No request was found ! ",-1),_Zt=[yZt];var kZt={__name:"IndexTable",props:{loading:{required:!0,type:Boolean},sourcings:{required:!0,type:Array}},setup(t){const e=t,r=(0,i.oR)(),a=(0,s.Fl)((()=>r.getters["user/user"])),l=(0,be.Vh)(e,"loading"),o=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"Total",name:"total_cost",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],n=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Requested at",class:"tw-w-[100px]"},{field:"product_name",name:"Product name",class:""},{field:"shipping_method",name:"Shipping Method",class:"tw-w-[100px]"},{field:"Total",name:"total_cost",class:"tw-w-[100px]"},{field:"quantity",name:"Quantity",class:"tw-w-[100px]"},{field:"country",name:"Country",class:"tw-w-[100px]"},{field:"quotation",name:"Quotation",class:"tw-w-[100px]"},{field:"sourcing",name:"Sourcing",class:"tw-w-[100px]"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],w=(0,be.iH)("admin"==a.value.role?o:n),d=(0,be.Vh)(e,"sourcings");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pZt,[(0,s._)("div",gZt,[(0,s._)("div",mZt,[(0,s._)("table",hZt,[(0,s._)("thead",fZt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.value,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.field,class:(0,at.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,at.zw)(t.name),1)],2)))),128))])]),(0,be.SU)(l)?((0,s.wg)(),(0,s.j4)((0,be.SU)(kYt),{key:1,columns:w.value.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,be.SU)(d).length?((0,s.wg)(),(0,s.iD)("tbody",bZt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(d),(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(uZt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,be.SU)(d).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",xZt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:w.value.length},_Zt,8,vZt)])]))],64))])])])])]))}};const CZt=kZt;var DZt=CZt;const SZt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},zZt={class:"tw-px-3"},UZt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},PZt={class:"tw-flex tw-items-center tw-gap-x-3"},LZt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Requested Products ",-1),AZt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},qZt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all requested products. ",-1),WZt={key:0},$Zt=(0,s._)("span",null,"Request new product",-1),TZt={class:"tw-mt-5"};var EZt={__name:"IndexSourcingView",setup(t){const e=(0,be.iH)([]),r=(0,be.qj)({total:0,current_page:1,last_page:1,from:1,to:1,per_page:10,sort_by:"created_at",sort_order:"desc",filters:{}}),a=(0,be.iH)(!1),l=async()=>{a.value=!0,await DRt.paginate("",r).then((t=>{"SUCCESS"==t.data.code&&(e.value=t.data.sourcings.data,r.total=t.data.sourcings.total,r.current_page=t.data.sourcings.current_page,r.last_page=t.data.sourcings.last_page,r.from=t.data.sourcings.from,r.to=t.data.sourcings.to,r.per_page=t.data.sourcings.per_page,r.page=r.current_page)})),a.value=!1},o=t=>{r.current_page=t,r.page=t,l()};return(0,s.JJ)("options",{options:r,getData:l,setOptions:t=>Object.assign(r,t),setFilter:(t,e)=>r.filters[t]=e}),l(),(t,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",SZt,[(0,s._)("section",zZt,[(0,s._)("div",UZt,[(0,s._)("div",null,[(0,s._)("div",PZt,[LZt,(0,s._)("span",AZt,(0,at.zw)(r.total)+" request",1)]),qZt]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("div",WZt,[(0,s.Wm)(i,{to:{name:"sourcings.new"},class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},{default:(0,s.w5)((()=>[$Zt])),_:1},8,["to"])])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(pYt))]),(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(DZt),{loading:a.value,sourcings:e.value},null,8,["loading","sourcings"])]),(0,s._)("div",TZt,[(0,s.Wm)((0,be.SU)($i),{total:r.total,"current-page":r.current_page,"last-page":r.last_page,from:r.from,to:r.to,"per-page":r.per_page,onPageChange:o},null,8,["total","current-page","last-page","from","to","per-page"])])])])}}};const FZt=EZt;var OZt=FZt;const VZt={class:"tw-p-3 tw-border-b tw-border-solid tw-border-neutral-200 tw-text-sm"},IZt=(0,s._)("span",{class:"tw-font-bold"},"Request No:",-1),jZt=(0,s._)("span",{class:"tw-font-bold"},"Requested at:",-1),HZt={class:"tw-p-3 tw-grid md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-border-b tw-border-solid tw-border-neutral-200"},MZt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},NZt={class:"tw-relative tw-z-40"},RZt=["disabled","value"],YZt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ZZt={key:0,class:""},KZt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},BZt={class:"tw-space-y-1 tw-py-1"},JZt=["onClick"],QZt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},GZt={class:"tw-relative tw-z-30"},XZt=["disabled","value"],tKt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eKt={key:0,class:""},rKt={class:"tw-absolute tw-bg-white tw-bottom-1.5 tw-shadow-md tw-rounded-b-lg tw-z-30 tw-overflow-hidden tw-w-full tw-border tw-border-solid tw-border-gray-300 tw-left-0 tw-translate-y-full"},aKt={class:"tw-space-y-1 tw-py-1"},sKt=["onClick"],lKt={class:"tw-p-5"},oKt={class:"tw-grid tw-grid-cols-5"},iKt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},nKt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Placed",-1),wKt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},dKt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Processing",-1),cKt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},uKt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Packing",-1),pKt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},gKt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Shipped",-1),mKt={class:"tw-relative tw-flex tw-items-center tw-justify-center tw-h-[100px]"},hKt=(0,s._)("span",{class:"tw-absolute -tw-bottom-[5px] tw-text-sm tw-hidden md:tw-block"},"Delivered",-1);var fKt={__name:"SourcingRequestProcess",props:["sourcing"],setup(t){const e=t,r=(0,f.yj)(),l=(0,be.Vh)(e,"sourcing"),o=(0,s.f3)("sourcing"),i=(0,be.qj)({quotation_status:!1,sourcing_status:!1}),n=(0,be.qj)({quotation_status:!1,sourcing_status:!1}),w=(0,s.Fl)((()=>SRt.find((t=>t.value==l.value.quotation_status)))),d=(0,s.Fl)((()=>zRt.find((t=>t.value==l.value.sourcing_status)))),c=async(t,e)=>{if(i[t]=!1,l.value[t]==e.value)return!1;n[t]=!0,await DRt.update(l.value.id,{...l.value,[t]:e.value}).then((t=>{"SUCCESS"==t.data.code&&o.updateSourcing(t.data.sourcing)})),n[t]=!1};return(t,e)=>{const o=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",VZt,[(0,s._)("p",null,[IZt,(0,s.Uk)(" "+(0,at.zw)((0,be.SU)(r).params.id),1)]),(0,s._)("p",null,[jZt,(0,s.Uk)(" "+(0,at.zw)((0,be.SU)(_e())((0,be.SU)(l).created_at).format("YYYY-MM-DD HH:mm:ss")),1)])]),(0,s._)("div",HZt,[(0,s._)("div",null,[(0,s._)("label",MZt,[(0,s.Uk)(" Quotation Status "),n.quotation_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",NZt,[(0,s._)("input",{class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-text-start tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.quotation_status,onClick:e[0]||(e[0]=t=>i.quotation_status=!i.quotation_status),type:"button",value:(0,be.SU)(w).name,readonly:"",required:""},null,8,RZt),YZt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.quotation_status?((0,s.wg)(),(0,s.iD)("div",ZZt,[(0,s._)("div",KZt,[(0,s._)("div",BZt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(SRt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("quotation_status",t),class:(0,at.C_)(["tw-w-full tw-p-2",[t.class]])},(0,at.zw)(t.name),11,JZt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,()=>i.quotation_status=!1]]),(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("label",QZt,[(0,s.Uk)(" Sourcing Status "),n.sourcing_status?((0,s.wg)(),(0,s.j4)(o,{key:0,icon:"eos-icons:loading",class:"tw-text-lg tw-text-orange-500"})):(0,s.kq)("",!0)]),(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",GZt,[(0,s._)("input",{class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border tw-text-start tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),disabled:n.sourcing_status,onClick:e[1]||(e[1]=t=>i.sourcing_status=!i.sourcing_status),type:"button",value:(0,be.SU)(d).name,readonly:"",required:""},null,8,XZt),tKt,(0,s.Wm)(a.uT,{class:"tw-duration-200","enter-from-class":"tw-translate-y-[10px]  tw-opacity-0","leave-to-class":"tw-translate-y-[10px]  tw-opacity-0"},{default:(0,s.w5)((()=>[i.sourcing_status?((0,s.wg)(),(0,s.iD)("div",eKt,[(0,s._)("div",rKt,[(0,s._)("div",aKt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(zRt),(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.value,onClick:e=>c("sourcing_status",t),class:(0,at.C_)(["tw-w-full tw-p-2",[t.class]])},(0,at.zw)(t.name),11,sKt)))),128))])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,()=>i.sourcing_status=!1]]),(0,s.kq)("",!0)])]),(0,s._)("div",lKt,[(0,s._)("div",oKt,[(0,s._)("div",iKt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=1?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=1?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:document-add-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),nKt]),(0,s._)("div",wKt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=2&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=2&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:settings-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),dKt]),(0,s._)("div",cKt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=3&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=3&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:box-minimalistic-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),uKt]),(0,s._)("div",pKt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=4&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=4&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:routing-2-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),gKt]),(0,s._)("div",mKt,[(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=5&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500":"tw-bg-neutral-200"],"tw-h-1 tw-w-full"])},null,2),(0,s._)("div",{class:(0,at.C_)([[(0,be.SU)(d).step>=5&&"confirmed"==(0,be.SU)(w).value?"tw-bg-orange-500 tw-text-white":"tw-bg-neutral-200 tw-text-neutral-700"],"lg:tw-h-[50px] lg:tw-w-[50px] md:tw-h-[30px] md:tw-w-[30px] tw-h-[40px] tw-w-[40px] tw-rounded-full tw-z-10 tw-aspect-square tw-absolute tw-flex tw-items-center tw-justify-center"])},[(0,s.Wm)(o,{icon:"solar:garage-bold",class:"lg:tw-text-2xl tw-text-xl"})],2),hKt])])])])}}};const bKt=fKt;var xKt=bKt;const vKt={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},yKt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},_Kt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Quotation ",-1),kKt={class:"tw-p-5 tw-space-y-4"},CKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),DKt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),SKt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),zKt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),UKt=[DKt,SKt,zKt],PKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),AKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},qKt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Unit Price",-1),WKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$Kt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Additional Fees",-1),TKt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},EKt=(0,s._)("div",{class:"tw-border-b tw-border-solid tw-border-neutral-300 tw-my-2"},null,-1),FKt={class:"tw-flex tw-items-center tw-justify-between"},OKt=(0,s._)("label",{class:"tw-block tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Total",-1),VKt={class:"tw-text-lg tw-font-bold"},IKt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},jKt=["disabled"],HKt=(0,s._)("span",null,"Update quotation",-1);var MKt={__name:"SourcingRequestPricingEdit",props:["visible","sourcing"],emits:["update:visible"],setup(t,{emit:e}){const r=t,l=(0,s.f3)("sourcing"),o=(0,be.iH)(!1),i=(0,be.qj)({sourcing:{},errors:{}}),n=(0,s.Fl)((()=>(i.sourcing.estimated_quantity??0)*(i.sourcing.cost_per_unit??0)+(i.sourcing.additional_fees??0))),w=()=>{e("update:visible",!1)},d=async()=>{o.value=!0;const t="pending"==i.sourcing.quotation_status?"quoting":i.sourcing.quotation_status;await DRt.update(i.sourcing.id,{...i.sourcing,total_cost:n.value,quotation_status:t}).then((t=>{"SUCCESS"==t.data.code&&(l.updateSourcing(t.data.sourcing),Sn("Quotation sent"),w())}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)i.errors[e]=t?.response?.data?.errors[e][0]})),o.value=!1};return(0,s.YP)((()=>r.visible),(()=>{i.sourcing=wo(r.sourcing)})),(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(l,{visible:r.visible,onCancel:w},{default:(0,s.w5)((()=>[(0,s._)("div",vKt,[(0,s._)("div",yKt,[_Kt,(0,s._)("div",kKt,[(0,s._)("div",null,[CKt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.shipping_method=t),onInput:e[1]||(e[1]=t=>i.errors.shipping_method=null),class:(0,at.C_)([[i.errors.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},UKt,34),[[a.bM,i.sourcing.shipping_method,void 0,{number:!0}]]),i.errors.shipping_method?((0,s.wg)(),(0,s.iD)("label",PKt,(0,at.zw)(i.errors.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[LKt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.estimated_quantity=t),onInput:e[3]||(e[3]=t=>i.errors.estimated_quantity=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[i.errors.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter the quantity",required:""},null,34),[[a.nr,i.sourcing.estimated_quantity,void 0,{number:!0}]]),i.errors.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",AKt,(0,at.zw)(i.errors.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[qKt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.cost_per_unit=t),onInput:e[5]||(e[5]=t=>i.errors.cost_per_unit=null),type:"number",class:(0,at.C_)([[i.errors.cost_per_unit&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a unit price for the quotation",required:""},null,34),[[a.nr,i.sourcing.cost_per_unit,void 0,{number:!0}]]),i.errors.cost_per_unit?((0,s.wg)(),(0,s.iD)("label",WKt,(0,at.zw)(i.errors.cost_per_unit),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[$Kt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.additional_fees=t),onInput:e[7]||(e[7]=t=>i.errors.additional_fees=null),type:"number",class:(0,at.C_)([[i.errors.additional_fees&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a additional fees for the sourcing",required:""},null,34),[[a.nr,i.sourcing.additional_fees,void 0,{number:!0}]]),i.errors.additional_fees?((0,s.wg)(),(0,s.iD)("label",TKt,(0,at.zw)(i.errors.additional_fees),1)):(0,s.kq)("",!0)]),EKt,(0,s._)("div",FKt,[OKt,(0,s._)("span",VKt,(0,at.zw)((0,be.SU)(n))+" "+(0,at.zw)((0,be.SU)(c)),1)])]),(0,s._)("div",IKt,[(0,s._)("button",{onClick:w,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:d,disabled:o.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),HKt],8,jKt)])])])])),_:1},8,["visible"])}}};const NKt=MKt;var RKt=NKt;const YKt={class:"tw-p-5"},ZKt={class:"tw-space-y-4"},KKt={class:"tw-flex tw-items-center tw-justify-between"},BKt=(0,s._)("span",null,"Destination Country:",-1),JKt={class:"tw-font-black tw-text-neutral-800 tw-capitalize"},QKt={class:"tw-flex tw-items-center tw-justify-between"},GKt=(0,s._)("span",null,"Shipping Method:",-1),XKt={key:0,class:"tw-font-black tw-text-neutral-800"},tBt={key:1,class:"tw-font-black tw-text-neutral-800"},eBt={class:"tw-flex tw-items-center tw-justify-between"},rBt=(0,s._)("span",null,"Quantity:",-1),aBt={class:"tw-font-black tw-text-neutral-800"},sBt={class:"tw-flex tw-items-center tw-justify-between"},lBt=(0,s._)("span",null,"Unit Price:",-1),oBt={class:"tw-font-black tw-text-neutral-800"},iBt={class:"tw-flex tw-items-center tw-justify-between tw-"},nBt=(0,s._)("span",null,"Additional Fees:",-1),wBt={class:"tw-font-black tw-text-neutral-800"},dBt=(0,s._)("li",{class:"tw-border-b tw-border-solid tw-border-neutral-200"},null,-1),cBt={class:"tw-flex tw-items-center tw-justify-between"},uBt=(0,s._)("span",null,"Total:",-1),pBt={class:"tw-font-black tw-text-neutral-800"},gBt={class:"tw-space-y-2 mt-5"},mBt=(0,s._)("span",null,"Edit",-1);var hBt={__name:"SourcingRequestPricingBox",props:["sourcing"],setup(t){const e=t,r=(0,be.Vh)(e,"sourcing"),a=(0,be.iH)(!1);return(t,e)=>{const l=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",YKt,[(0,s._)("div",null,[(0,s._)("ul",ZKt,[(0,s._)("li",KKt,[BKt,(0,s._)("span",JKt,(0,at.zw)((0,be.SU)(r).destination_country),1)]),(0,s._)("li",QKt,[GKt,"air-freight"==(0,be.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",XKt,"Air freight")):(0,s.kq)("",!0),"ocean-freight"==(0,be.SU)(r).shipping_method?((0,s.wg)(),(0,s.iD)("span",tBt,"Ocean freight")):(0,s.kq)("",!0)]),(0,s._)("li",eBt,[rBt,(0,s._)("span",aBt,(0,at.zw)((0,be.SU)(r).estimated_quantity),1)]),(0,s._)("li",sBt,[lBt,(0,s._)("span",oBt,(0,at.zw)((0,be.SU)(r).cost_per_unit)+" "+(0,at.zw)((0,be.SU)(c)),1)]),(0,s._)("li",iBt,[nBt,(0,s._)("span",wBt,(0,at.zw)((0,be.SU)(r).additional_fees)+" "+(0,at.zw)((0,be.SU)(c)),1)]),dBt,(0,s._)("li",cBt,[uBt,(0,s._)("span",pBt,(0,at.zw)((0,be.SU)(r).total_cost)+" "+(0,at.zw)((0,be.SU)(c)),1)])])]),(0,s._)("div",gBt,[(0,s._)("button",{disabled:!1,onClick:e[0]||(e[0]=t=>a.value=!0),class:"tw-py-2 tw-px-7 tw-gap-2 tw-w-full justify-center tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[!1]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1}),(0,s.Wm)(l,{icon:"clarity:edit-solid",class:"tw-text-lg tw-text-white"}),mBt]),(0,s.kq)("",!0)]),(0,s.Wm)((0,be.SU)(RKt),{sourcing:(0,be.SU)(r),visible:a.value,"onUpdate:visible":e[1]||(e[1]=t=>a.value=t)},null,8,["sourcing","visible"])])}}};const fBt=hBt;var bBt=fBt;const xBt={class:"tw-p-5"},vBt={class:"tw-grid tw-grid-cols-12 tw-gap-5"},yBt={class:"md:tw-col-span-6 tw-col-span-12"},_Bt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),kBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CBt={class:"md:tw-col-span-6 tw-col-span-12"},DBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),SBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zBt={class:"md:tw-col-span-6 tw-col-span-12"},UBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),PBt={class:"tw-relative"},LBt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),ABt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),qBt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),WBt=[LBt,ABt,qBt],$Bt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),TBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},EBt={class:"md:tw-col-span-6 tw-col-span-12"},FBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),OBt={class:"tw-relative"},VBt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),IBt=[VBt],jBt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),HBt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},MBt={class:"tw-col-span-12"},NBt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),RBt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-pt-4 tw-gap-3"},YBt=["disabled"],ZBt=(0,s._)("span",null,"Update",-1);var KBt={__name:"SourcingRequestDetails",props:["sourcing"],setup(t){const e=t,r=(0,be.qj)({}),l=(0,be.iH)(!1),o=(0,s.f3)("sourcing"),i=(0,be.qj)({sourcing:{}}),n=async()=>{l.value=!0,await DRt.update(i.sourcing.id,i.sourcing).then((t=>{"SUCCESS"==t.data.code&&(o.updateSourcing(t.data.sourcing),Sn("Updated success"))}),(t=>{if(422==t?.response?.status)for(let e in t?.response?.data?.errors)r[e]=t?.response?.data?.errors[e][0]})),l.value=!1};return(0,s.YP)((()=>e.sourcing),(()=>{i.sourcing=wo(e.sourcing)}),{deep:!0}),i.sourcing=wo(e.sourcing),(t,e)=>((0,s.wg)(),(0,s.iD)("div",xBt,[(0,s._)("div",vBt,[(0,s._)("div",yBt,[_Bt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.sourcing.product_name=t),onInput:e[1]||(e[1]=t=>r.product_name=null),class:(0,at.C_)([[r.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,i.sourcing.product_name]]),r.product_name?((0,s.wg)(),(0,s.iD)("label",kBt,(0,at.zw)(r.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",CBt,[DBt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.sourcing.product_url=t),onInput:e[3]||(e[3]=t=>r.product_url=null),class:(0,at.C_)([[r.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,i.sourcing.product_url]]),r.product_url?((0,s.wg)(),(0,s.iD)("label",SBt,(0,at.zw)(r.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",zBt,[UBt,(0,s._)("div",PBt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.sourcing.shipping_method=t),onChange:e[5]||(e[5]=t=>r.shipping_method=null),class:(0,at.C_)([[r.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},WBt,34),[[a.bM,i.sourcing.shipping_method]]),$Bt]),r.shipping_method?((0,s.wg)(),(0,s.iD)("label",TBt,(0,at.zw)(r.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",EBt,[FBt,(0,s._)("div",OBt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.sourcing.destination_country=t),onChange:e[7]||(e[7]=t=>r.destination_country=null),class:(0,at.C_)([[r.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},IBt,34),[[a.bM,i.sourcing.destination_country]]),jBt]),r.destination_country?((0,s.wg)(),(0,s.iD)("label",HBt,(0,at.zw)(r.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",MBt,[NBt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.sourcing.note=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request"},null,512),[[a.nr,i.sourcing.note]])]),(0,s._)("div",RBt,[(0,s._)("button",{disabled:l.value,onClick:n,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),ZBt],8,YBt)])])]))}};const BBt=KBt;var JBt=BBt;const QBt={class:"tw-w-full"},GBt={class:"tw-w-full"},XBt=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Product details "),(0,s._)("th",{class:"tw-text-start tw-border-b tw-pb-2 tw-border-solid"}," Quantity ")])],-1),tJt={class:"tw-pt-2"},eJt=["href"],rJt={class:"tw-pt-2"};var aJt={__name:"SourcingRequestProductDetails",props:["sourcing"],setup(t){const e=t,r=(0,be.Vh)(e,"sourcing");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",QBt,[(0,s._)("table",GBt,[XBt,(0,s._)("tbody",null,[(0,s._)("tr",null,[(0,s._)("td",tJt,[(0,s._)("a",{href:(0,be.SU)(r).product_url,class:"tw-truncate tw-text-blue-500 tw-cursor-pointer hover:tw-underline"},(0,at.zw)((0,be.SU)(r).product_name),9,eJt)]),(0,s._)("td",rJt,(0,at.zw)((0,be.SU)(r).estimated_quantity),1)])])])]))}};const sJt=aJt;var lJt=sJt;const oJt={class:"tw-relative"},iJt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},nJt={class:"tw-px-3"},wJt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dJt={class:"tw-flex tw-items-center tw-gap-x-5"},cJt={class:"tw-text-xl tw-font-bold tw-text-gray-800 darkx:tw-text-white"},uJt={class:"tw-flex tw-items-center tw-gap-2"},pJt={class:"tw-mt-2 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},gJt={class:"tw-grid lg:tw-grid-cols-12 tw-grid-cols-1 tw-gap-4 tw-mt-4"},mJt={class:"tw-space-y-4 lg:tw-col-span-8"},hJt={key:0,class:"tw-bg-white tw-w-full tw-rounded-md tw-overflow-hidden"},fJt={class:"tw-flex tw-items-center tw-gap-2 tw-p-2 tw-bg-blue-100 tw-border tw-border-blue-200 tw-rounded-t-md"},bJt=(0,s._)("span",null,"Note",-1),xJt={class:"tw-p-2 tw-border tw-border-t-0 tw-bg-white tw-border-blue-200 tw-rounded-b-md"},vJt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},yJt={class:"tw-p-4 tw-border tw-bg-white tw-w-full tw-rounded-md"},_Jt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"},kJt={class:"lg:tw-col-span-4"},CJt={class:"tw-border tw-bg-white tw-w-full tw-rounded-md"};var DJt={__name:"ShowSourcingView",props:["sourcing","loading"],setup(t){const e=t,r=(0,f.yj)(),a=(0,be.Vh)(e,"sourcing"),l=((0,be.Vh)(e,"loading"),(0,s.Fl)((()=>SRt.find((t=>t.value==a.value.quotation_status))))),o=(0,s.Fl)((()=>zRt.find((t=>t.value==a.value.sourcing_status))));return(t,e)=>{const i=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",oJt,[(0,s._)("div",iJt,[(0,s._)("section",nJt,[(0,s._)("div",wJt,[(0,s._)("div",null,[(0,s._)("div",dJt,[(0,s._)("h2",cJt," Quotation: #"+(0,at.zw)((0,be.SU)(r).params.id),1),(0,s._)("div",uJt,[(0,s._)("div",{class:(0,at.C_)([(0,be.SU)(l).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,at.zw)((0,be.SU)(l).name),3),(0,s._)("div",{class:(0,at.C_)([(0,be.SU)(o).class,"tw-rounded tw-px-4 tw-py-1 tw-text-sm tw-text-center"])},(0,at.zw)((0,be.SU)(o).name),3)])]),(0,s._)("p",pJt,(0,at.zw)((0,be.SU)(_e())("2023-09-08T17:45:06.000000Z").format("MMMM D, YYYY hh:mm A")),1)])])])]),(0,s._)("div",gJt,[(0,s._)("div",mJt,[(0,be.SU)(a).note?((0,s.wg)(),(0,s.iD)("div",hJt,[(0,s._)("div",fJt,[(0,s.Wm)(i,{icon:"ph:info-fill",class:"tw-text-xl tw-text-blue-500"}),bJt]),(0,s._)("div",xJt,[(0,s._)("h1",null,(0,at.zw)((0,be.SU)(a).note),1)])])):(0,s.kq)("",!0),(0,s._)("div",vJt,[(0,s.Wm)((0,be.SU)(xKt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",yJt,[(0,s.Wm)((0,be.SU)(lJt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])]),(0,s._)("div",_Jt,[(0,s.Wm)((0,be.SU)(JBt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])])]),(0,s._)("div",kJt,[(0,s._)("div",CJt,[(0,s.Wm)((0,be.SU)(bBt),{sourcing:(0,be.SU)(a)},null,8,["sourcing"])])])])])}}};const SJt=DJt;var zJt=SJt;const UJt={key:0,class:"tw-h-[calc(100vh-170px)] tw-flex tw-items-center tw-justify-center tw-rounded-md tw-border tw-bg-white"};var PJt={__name:"ShowSourcingView",setup(t){const e=(0,i.oR)(),r=(0,f.yj)(),a=(0,f.tv)(),l=r.params.id,o=(0,be.iH)(!0),n=(0,be.iH)(null),w=e.getters["user/user"],d=async()=>{o.value=!0,await DRt.get(l).then((t=>{"SUCCESS"==t.data.code&&(n.value=t.data.sourcing),"NOT_FOUND"==t.data.code&&a.push({name:"404"})})),o.value=!1},c=t=>{n.value=t};return(0,s.JJ)("sourcing",{updateSourcing:c}),d(),(t,e)=>{const r=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.value?((0,s.wg)(),(0,s.iD)("div",UJt,[(0,s.Wm)(r)])):(0,s.kq)("",!0),o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},["admin"==(0,be.SU)(w).role?((0,s.wg)(),(0,s.j4)((0,be.SU)(zJt),{key:0,sourcing:n.value,loading:o.value},null,8,["sourcing","loading"])):(0,s.kq)("",!0)],64))],64)}}};const LJt=PJt;var AJt=LJt;const qJt={class:"tw-p-5 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},WJt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-12 tw-gap-5 tw-mt-5"},$Jt={class:"tw-hidden tw-col-span-4 tw-py-16 md:tw-flex tw-items-center tw-justify-center"},TJt=["src"],EJt={class:"tw-col-span-8"},FJt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-2xl tw-font-semibold"},"We Source For You"),(0,s._)("p",{class:"tw-text-lg tw-mt-2"},"Let our professional sourcing team take care all of your sourcing.")],-1),OJt={class:"tw-grid tw-grid-cols-12 tw-mt-10 tw-gap-5"},VJt={class:"md:tw-col-span-6 tw-col-span-12"},IJt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product Name",-1),jJt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},HJt={class:"md:tw-col-span-6 tw-col-span-12"},MJt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product URL",-1),NJt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RJt={class:"md:tw-col-span-6 tw-col-span-12"},YJt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Estimated Quantity",-1),ZJt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},KJt={class:"md:tw-col-span-6 tw-col-span-12"},BJt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Destination Country",-1),JJt={class:"tw-relative"},QJt=(0,s._)("option",{value:"lebanon"},"Lebanon",-1),GJt=[QJt],XJt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tQt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},eQt={class:"tw-col-span-12"},rQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),aQt={class:"md:tw-col-span-6 tw-col-span-12"},sQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Shipping Method",-1),lQt={class:"tw-relative"},oQt=(0,s._)("option",{value:"not-selected",selected:""},"Select shipping method",-1),iQt=(0,s._)("option",{value:"air-freight"},"Air freight",-1),nQt=(0,s._)("option",{value:"ocean-freight"},"Ocean freight",-1),wQt=[oQt,iQt,nQt],dQt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),cQt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uQt={class:"tw-col-span-12 tw-flex tw-justify-end tw-items-center tw-py-4 tw-gap-3"},pQt=(0,s._)("button",{class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",-1),gQt=["disabled"],mQt=(0,s._)("span",null,"Add to sourcing",-1);var hQt={__name:"CreateSourcingView",setup(t){const e=(0,be.qj)({}),r=(0,be.iH)(!1),l=(0,be.qj)({destination_country:"lebanon",shipping_method:"not-selected"}),o=async()=>{r.value=!0,await DRt.create(l).then((t=>{"SUCCESS"==t.data.code&&(Sn("Your sourcing has been added"),Object.keys(l).forEach((t=>l[t]=null)),l.destination_country="lebanon",l.shipping_method="not-selected")}),(t=>{if(422==t.response.status)for(let r in t.response.data.errors)e[r]=t.response.data.errors[r][0]})),r.value=!1};return(t,i)=>((0,s.wg)(),(0,s.iD)("div",qJt,[(0,s._)("div",WJt,[(0,s._)("div",$Jt,[(0,s._)("img",{src:t.$frontend("images/delivering.svg"),class:"tw-w-full"},null,8,TJt)]),(0,s._)("div",EJt,[FJt,(0,s._)("div",OJt,[(0,s._)("div",VJt,[IJt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.product_name=t),onInput:i[1]||(i[1]=t=>e.product_name=null),class:(0,at.C_)([[e.product_name&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Product Name",required:""},null,34),[[a.nr,l.product_name]]),e.product_name?((0,s.wg)(),(0,s.iD)("label",jJt,(0,at.zw)(e.product_name),1)):(0,s.kq)("",!0)]),(0,s._)("div",HJt,[MJt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>l.product_url=t),onInput:i[3]||(i[3]=t=>e.product_url=null),class:(0,at.C_)([[e.product_url&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"https://...",required:""},null,34),[[a.nr,l.product_url]]),e.product_url?((0,s.wg)(),(0,s.iD)("label",NJt,(0,at.zw)(e.product_url),1)):(0,s.kq)("",!0)]),(0,s._)("div",RJt,[YJt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":i[4]||(i[4]=t=>l.estimated_quantity=t),onInput:i[5]||(i[5]=t=>e.estimated_quantity=null),class:(0,at.C_)([[e.estimated_quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"number",placeholder:"Estimated quantity",required:""},null,34),[[a.nr,l.estimated_quantity]]),e.estimated_quantity?((0,s.wg)(),(0,s.iD)("label",ZJt,(0,at.zw)(e.estimated_quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",KJt,[BJt,(0,s._)("div",JJt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[6]||(i[6]=t=>l.destination_country=t),onChange:i[7]||(i[7]=t=>e.destination_country=null),class:(0,at.C_)([[e.destination_country&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},GJt,34),[[a.bM,l.destination_country]]),XJt]),e.destination_country?((0,s.wg)(),(0,s.iD)("label",tQt,(0,at.zw)(e.destination_country),1)):(0,s.kq)("",!0)]),(0,s._)("div",eQt,[rQt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":i[8]||(i[8]=t=>l.note=t),rows:"4",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Special request..."},null,512),[[a.nr,l.note]])]),(0,s._)("div",aQt,[sQt,(0,s._)("div",lQt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":i[9]||(i[9]=t=>l.shipping_method=t),onChange:i[10]||(i[10]=t=>e.shipping_method=null),class:(0,at.C_)([[e.shipping_method&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},wQt,34),[[a.bM,l.shipping_method]]),dQt]),e.shipping_method?((0,s.wg)(),(0,s.iD)("label",cQt,(0,at.zw)(e.shipping_method),1)):(0,s.kq)("",!0)]),(0,s._)("div",uQt,[pQt,(0,s._)("button",{disabled:r.value,onClick:o,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mQt],8,gQt)])])])])]))}};const fQt=hQt;var bQt=fQt,xQt={name:"sourcings",path:"/sourcings",component:ya,meta:{module:"sourcing"},children:[{name:"sourcings.index",path:"",component:OZt,meta:{module:"sourcing",title:"Sourcing",role:["admin"]}},{name:"sourcings.admin",path:"admin",redirect:{name:"sourcings.index"}},{name:"sourcings.seller",path:"seller",redirect:{name:"sourcings.index"}},{name:"sourcings.new",path:"new",component:bQt,meta:{module:"sourcing",title:"New Sourcing",role:["admin"]}},{name:"sourcings.show",path:":id",component:AJt,meta:{module:"sourcing",title:"Sourcing",role:["admin"]}}]};const vQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Role",-1);var yQt={__name:"RoleSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>X.getters["user/roles"])),a=(0,be.iH)(null),l=(0,be.iH)(!1),o=(0,be.iH)([{id:null,name:"Choose Role"},...r.value.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]),i=t=>{o.value=[{id:null,name:"Choose Role"},...t.map((t=>({id:t.id,name:t.name.toLocaleUpperCase()})))]},n=async()=>{if(X.getters["user/fetchedRoles"])return!1;l.value=!0,await et.roles().then((t=>{"SUCCESS"==t.data.code&&(X.dispatch("user/setRoles",t.data.data.roles),X.dispatch("user/setFetchedRoles",!0),i(r.value))})),l.value=!1},w=t=>{console.log(t),e("update:target",t.name)};return n(),(t,e)=>{const r=(0,s.up)("icon");return(0,s.wg)(),(0,s.iD)("div",null,[vQt,(0,s.Wm)((0,be.SU)(bY.Z),{loading:l.value,"append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>w(t,2)),clearable:!1,class:"tw-min-w-[200px]",placeholder:"Choose Role",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:o.value,label:"name"},{"open-indicator":(0,s.w5)((({attributes:t})=>[(0,s.Wm)(r,(0,s.dG)({icon:"octicon:chevron-down-24"},t,{class:"tw-text-xl"}),null,16)])),_:1},8,["loading","reduce","modelValue","options"])])}}};const _Qt=yQt;var kQt=_Qt;const CQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"User",-1);var DQt={__name:"UserSelector",props:["target"],emits:["update:target"],setup(t,{emit:e}){const r=(0,s.Fl)((()=>X.getters["user/users"])),a=(0,be.iH)(null),l=(0,be.iH)([{id:null,name:"Choose User"},...r.value.map((t=>({id:t.id,name:t.firstname+" "+t.lastname})))]),o=t=>{e("update:target",t.id)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[CQt,(0,s.Wm)((0,be.SU)(bY.Z),{class:"tw-min-w-[200px]","append-to-body":"",reduce:t=>t.id,"onOption:selected":e[0]||(e[0]=t=>o(t)),clearable:!1,placeholder:"Choose User",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),options:l.value,label:"name"},null,8,["reduce","modelValue","options"])]))}};const SQt=DQt;var zQt=SQt;const UQt=(0,s._)("span",null,"Make announcement",-1),PQt=[UQt],LQt={class:"tw-w-full tw-max-w-[600px] tw-mx-auto tw-p-2"},AQt={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md"},qQt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Make Announcement ",-1),WQt={class:"tw-p-5 tw-space-y-4"},$Qt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Variant",-1),TQt={class:"tw-grid tw-grid-cols-4 tw-gap-2"},EQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Type",-1),FQt={class:"tw-grid tw-grid-cols-3 tw-gap-2"},OQt={key:2,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},VQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Closeable",-1),IQt={class:"tw-grid tw-grid-cols-2 tw-gap-2"},jQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Direction",-1),HQt={class:"tw-grid tw-grid-cols-2 tw-gap-2"},MQt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Content",-1),NQt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},RQt={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},YQt=["disabled"],ZQt=["disabled"],KQt=(0,s._)("span",null,"Send",-1);var BQt={__name:"AddAlertForm",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)(!1),l=(0,s.f3)("alerts"),o=(0,be.iH)({variant:"success",type:"global",target:null,content:"",closeable:!0,direction:"rtl"});(0,s.YP)((()=>o.value.target),(t=>{console.log("Target has been updated: ",t)})),(0,s.YP)((()=>o.value.type),(()=>{o.value.target=null}));const i=(0,be.iH)({}),n=async()=>(i.value.content="",i.value.target="","global"==o.value.type||o.value.target?""==o.value.content?(i.value.content="The content can't be empty.",!1):(r.value=!0,await ra.create(o.value).then((t=>{"SUCCESS"==t.data.code&&(e.value=!1,l.data.value.unshift(t.data.alert),Sn("Sent successfully"))})).catch((t=>{console.log(t)})),void(r.value=!1)):(i.value.target="The target cannot be empty.",!1));return(t,l)=>{const w=(0,s.up)("icon"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:l[0]||(l[0]=t=>e.value=!0),role:"button",class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},PQt),(0,s.Wm)(d,{visible:e.value,onCancel:l[17]||(l[17]=t=>e.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",LQt,[(0,s._)("div",AQt,[qQt,(0,s._)("div",WQt,[(0,s._)("div",null,[$Qt,(0,s._)("div",TQt,[(0,s._)("button",{onClick:l[1]||(l[1]=t=>o.value.variant="success"),class:(0,at.C_)([["success"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-emerald-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[2]||(l[2]=t=>o.value.variant="info"),class:(0,at.C_)([["info"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-cyan-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[3]||(l[3]=t=>o.value.variant="danger"),class:(0,at.C_)([["danger"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-rose-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2),(0,s._)("button",{onClick:l[4]||(l[4]=t=>o.value.variant="warning"),class:(0,at.C_)([["warning"==o.value.variant&&" tw-ring tw-ring-orange-500"],"tw-bg-amber-500 tw-text-white tw-flex tw-justify-center tw-items-center tw-gap-2 tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])},[(0,s.Wm)(w,{icon:"line-md:bell-alert-loop",class:"tw-text-2xl"})],2)])]),(0,s._)("div",null,[EQt,(0,s._)("div",FQt,[(0,s._)("button",{onClick:l[5]||(l[5]=t=>o.value.type="global"),class:(0,at.C_)([["global"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Global ",2),(0,s._)("button",{onClick:l[6]||(l[6]=t=>o.value.type="role"),class:(0,at.C_)([["role"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Role ",2),(0,s._)("button",{onClick:l[7]||(l[7]=t=>o.value.type="user"),class:(0,at.C_)([["user"==o.value.type&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," User ",2)])]),(0,s.wy)((0,s._)("div",null,["role"==o.value.type?((0,s.wg)(),(0,s.j4)((0,be.SU)(kQt),{key:0,target:o.value.target,"onUpdate:target":l[8]||(l[8]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),"user"==o.value.type?((0,s.wg)(),(0,s.j4)((0,be.SU)(zQt),{key:1,target:o.value.target,"onUpdate:target":l[9]||(l[9]=t=>o.value.target=t)},null,8,["target"])):(0,s.kq)("",!0),i.value.target?((0,s.wg)(),(0,s.iD)("label",OQt,(0,at.zw)(i.value.target),1)):(0,s.kq)("",!0)],512),[[a.F8,"global"!=o.value.type]]),(0,s._)("div",null,[VQt,(0,s._)("div",IQt,[(0,s._)("button",{onClick:l[10]||(l[10]=t=>o.value.closeable=!0),class:(0,at.C_)([[1==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Yes ",2),(0,s._)("button",{onClick:l[11]||(l[11]=t=>o.value.closeable=!1),class:(0,at.C_)([[0==o.value.closeable&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," No ",2)])]),(0,s._)("div",null,[jQt,(0,s._)("div",HQt,[(0,s._)("button",{onClick:l[12]||(l[12]=t=>o.value.direction="rtl"),class:(0,at.C_)([["rtl"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Right To Left ",2),(0,s._)("button",{onClick:l[13]||(l[13]=t=>o.value.direction="ltr"),class:(0,at.C_)([["ltr"==o.value.direction&&" !tw-border-orange-500"],"tw-py-2 tw-px-4 tw-rounded tw-border tw-border-solid tw-border-neutral-200"])}," Left To Right ",2)])]),(0,s._)("div",null,[MQt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":l[14]||(l[14]=t=>o.value.content=t),onInput:l[15]||(l[15]=t=>i.value.content=null),class:(0,at.C_)([[i.value.content&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Announcement content"},null,34),[[a.nr,o.value.content]]),i.value.content?((0,s.wg)(),(0,s.iD)("label",NQt,(0,at.zw)(i.value.content),1)):(0,s.kq)("",!0)])]),(0,s._)("div",RQt,[(0,s._)("button",{onClick:l[16]||(l[16]=t=>e.value=!1),disabled:r.value,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ",8,YQt),(0,s._)("button",{onClick:n,disabled:r.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[r.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),KQt],8,ZQt)])])])])),_:1},8,["visible"])])}}};const JQt=BQt;var QQt=JQt;const GQt={class:"tw-flex tw-items-center tw-justify-end tw-px-4 tw-gap-2"},XQt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[500px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},tGt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Delete Announcement ",-1),eGt=(0,s._)("div",{class:"tw-p-4 tw-bg-white"},[(0,s._)("p",{class:"tw-text-lg tw-font-medium"}," Are you sure you want to delete this announcement ? ")],-1),rGt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},aGt=["disabled"],sGt=(0,s._)("span",null,"Confirm",-1);var lGt={__name:"TableActions",props:{item:{type:Object,required:!0}},setup(t){const e=t,r=(0,be.Vh)(e,"item"),a=(0,s.f3)("alerts"),l=(0,be.iH)({delete:!1}),o=(0,be.iH)({delete:!1}),i=async()=>{o.value.delete=!0,await ra["delete"](r.value.id).then((t=>{"SUCCESS"==t.data.code&&(Sn("Deleted successfully."),l.value.delete=!1,a.data.value=a.data.value.filter((t=>t.id!=r.value.id)))})),o.value.delete=!1};return(t,e)=>{const r=(0,s.up)("icon"),a=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GQt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.value.delete=!0),class:"tw-text-lg tw-p-1.5 tw-rounded tw-border tw-border-solid tw-border-rose-300 tw-text-rose-500 tw-duration-200 hover:tw-bg-rose-500 hover:tw-text-white"},[(0,s.Wm)(r,{icon:"fluent:delete-28-filled"})])]),(0,s.Wm)(a,{visible:l.value.delete,onCancel:e[2]||(e[2]=t=>l.value.delete=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",XQt,[tGt,eGt,(0,s._)("div",rGt,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>l.value.delete=!1),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:i,disabled:o.value.delete,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-rose-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-rose-600 dark:tw-border-neutral-900 dark:hover:tw-border-rose-500 hover:tw-bg-rose-500/80 dark:hover:tw-bg-rose-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(ot.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.value.delete&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),sGt],8,aGt)])])])),_:1},8,["visible"])])}}};const oGt=lGt;var iGt=oGt;const nGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},dGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cGt={class:"tw-w-[70px] tw-truncate"},uGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pGt={class:"tw-w-[80px] tw-truncate"},gGt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mGt={class:"tw-w-[100px] tw-truncate"},hGt={class:"tw-p-2"};var fGt={__name:"TableRow",props:["item"],setup(t){return(e,r)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",nGt,(0,at.zw)(t.item.id),1),(0,s._)("td",wGt,(0,at.zw)((0,be.SU)(_e())(t.item.created_at).format("YYYY-MM-DD HH:mm:ss")),1),(0,s._)("td",dGt,[(0,s._)("p",cGt,(0,at.zw)(t.item.type),1)]),(0,s._)("td",uGt,[(0,s._)("p",pGt,(0,at.zw)(t.item.to),1)]),(0,s._)("td",gGt,[(0,s._)("p",mGt,(0,at.zw)(t.item.content),1)]),(0,s._)("td",null,[(0,s._)("div",hGt,[(0,s.Wm)((0,be.SU)(iGt),{item:t.item},null,8,["item"])])])]))}};const bGt=fGt;var xGt=bGt;const vGt={class:"tw-overflow-x-auto"},yGt={class:"tw-inline-block tw-min-w-full tw-align-middle"},_Gt={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},kGt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},CGt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},DGt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},SGt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zGt=["colspan"],UGt=(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No alert was found ! ",-1),PGt=[UGt];var LGt={__name:"AlertsTable",props:["loading","data"],setup(t){const e=t,r=(0,be.Vh)(e,"loading"),a=[{field:"id",name:"ID",class:"tw-w-[60px]"},{field:"created",name:"Added at",class:"tw-w-[100px]"},{field:"type",name:"Type",class:"tw-w-[70px] tw-truncate"},{field:"to",name:"To",class:"tw-w-[70px] tw-truncate"},{field:"content",name:"Content",class:"tw-max-w-[150px] tw-truncate"},{field:"actions",name:"Actions",class:"tw-w-[100px]"}],l=(0,be.Vh)(e,"data");return(t,e)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vGt,[(0,s._)("div",yGt,[(0,s._)("div",_Gt,[(0,s._)("table",kGt,[(0,s._)("thead",CGt,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(a,(t=>(0,s._)("th",{key:t.field,class:(0,at.C_)([t.class,"tw-py-3.5 tw-whitespace-nowrap tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"])},[(0,s._)("span",null,(0,at.zw)(t.name),1)],2))),64))])]),(0,be.SU)(r)?((0,s.wg)(),(0,s.j4)((0,be.SU)(kYt),{key:1,columns:a.length,rows:10},null,8,["columns"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,be.SU)(l).length?((0,s.wg)(),(0,s.iD)("tbody",DGt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,be.SU)(l),(t=>((0,s.wg)(),(0,s.j4)((0,be.SU)(xGt),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,be.SU)(l).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",SGt,[(0,s._)("tr",null,[(0,s._)("td",{colspan:a.length},PGt,8,zGt)])]))],64))])])])])]))}};const AGt=LGt;var qGt=AGt;const WGt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},$Gt={class:"tw-px-3"},TGt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},EGt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Manage Alerts ")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," Create and manage announcements. ")],-1),FGt={class:"tw-mt-5"};var OGt={__name:"IndexView",setup(t){const e=(0,be.iH)(!1),r=(0,be.iH)({}),a=(0,be.iH)({}),l=async()=>{e.value=!0,await ra.paginate("",a.value).then((t=>{const{data:e,...s}=t.data.alerts;r.value=e,a.value=s}),(t=>{console.log(t)})),e.value=!1};return l(),(0,s.JJ)("alerts",{data:r}),(t,a)=>((0,s.wg)(),(0,s.iD)("div",WGt,[(0,s._)("section",$Gt,[(0,s._)("div",TGt,[EGt,(0,s._)("div",null,[(0,s.Wm)((0,be.SU)(QQt))])]),(0,s._)("div",FGt,[(0,s.Wm)((0,be.SU)(qGt),{data:r.value,loading:e.value},null,8,["data","loading"])])])]))}};const VGt=OGt;var IGt=VGt,jGt={name:"alerts",path:"/alerts",component:ya,meta:{module:"alerts"},children:[{name:"alert/list",path:"",component:IGt,meta:{module:"alert",subModule:"alert/list",title:"Alerts List",role:["admin"]}}]};const HGt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),MGt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},NGt={class:"tw-flex tw-items-center tw-flex-col"},RGt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),YGt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},ZGt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function KGt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[HGt,(0,s._)("div",MGt,[(0,s._)("div",NGt,[RGt,(0,s._)("div",YGt,[(0,s.Wm)(ot.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),ZGt])])])}var BGt={};const JGt=(0,g.Z)(BGt,[["render",KGt]]);var QGt=JGt;const GGt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function XGt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",GGt,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:o.sendRequest,loading:l.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const tXt="api/charts/cost_per_day",eXt="get";var rXt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},aXt={data(){return{isLoading:!1,test:rXt}},methods:{async sendRequest(){switch(this.isLoading=!0,await T.getCookie(),eXt){case"get":W.get(tXt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":W.post(tXt,rXt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":W["delete"](tXt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const sXt=(0,g.Z)(aXt,[["render",XGt]]);var lXt=sXt;const oXt=[Rt,BUt,Ji,Hw,kRt,pC,VU,i5,Btt,mat,Mot,vwt,Edt,Aft,bAt,qqt,xQt,jGt,ent,{name:"default",path:"/test",component:ya,children:[{name:"test",path:"",component:lXt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:ya,meta:{title:"Not Found"},children:[{name:"404",path:"",component:QGt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],iXt=(0,f.p7)({history:(0,f.PO)("/"),routes:oXt});iXt.beforeEach(((t,e)=>rt(t,e,iXt)));var nXt=iXt,wXt=(r(9773),r(8957));const dXt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var cXt=(0,wXt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:dXt}}});const uXt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var pXt=uXt;const gXt={install(t){t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var mXt=gXt;const hXt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",l=!0;const o=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(o.includes(r)&&(l=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":l=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":l=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":l=!1,document.getElementById("app").innerHTML="";break;default:break}return l&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var fXt=hXt,bXt=r(7025),xXt=r(407),vXt=r.n(xXt),yXt={install(t){t.config.globalProperties.$frontend=t=>n+t,t.config.globalProperties.$backend=t=>w+t;const e={get:(e,r)=>t.config.globalProperties.$store.getters["user/user"][r]};t.config.globalProperties.$user=new Proxy(t.config.globalProperties.$store.getters["user/user"],e)}};const _Xt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),kXt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},CXt=_Xt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),DXt=[CXt];function SXt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",kXt,DXt)}var zXt={};const UXt=(0,g.Z)(zXt,[["render",SXt],["__scopeId","data-v-ff4afcd0"]]);var PXt=UXt;const LXt={class:"tw-flex tw-justify-center tw-items-center"},AXt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),qXt=[AXt];function WXt(t,e,r,a,l,o){return(0,s.wg)(),(0,s.iD)("div",LXt,qXt)}var $Xt={};const TXt=(0,g.Z)($Xt,[["render",WXt]]);var EXt=TXt;const FXt={key:0},OXt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},VXt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},IXt=["innerHTML"],jXt={key:1,class:"tw-text-lg tw-text-gray-700"},HXt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function MXt(t,e,r,a,l,o){return r.visible?((0,s.wg)(),(0,s.iD)("div",FXt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",OXt,[(0,s._)("div",VXt,[(0,s._)("div",{class:(0,at.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",o.currentType.class])},[(0,s.Wm)(ot.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,at.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,IXt)):((0,s.wg)(),(0,s.iD)("div",jXt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(Qe.C),(0,s._)("div",HXt,[(0,s.Wm)(st.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>o.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>o.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>o.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var NXt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const RXt=(0,g.Z)(NXt,[["render",MXt]]);var YXt=RXt;const ZXt={key:0},KXt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function BXt(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",ZXt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",KXt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var JXt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const QXt=(0,g.Z)(JXt,[["render",BXt]]);var GXt=QXt,XXt=r(2340),t0t=r(5781),e0t=r.n(t0t);const r0t={key:0},a0t={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function s0t(t,e,r,l,o,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",r0t,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",a0t,[(0,s.Wm)(Tt.Z5,null,{default:(0,s.w5)((()=>[o.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var l0t={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const o0t=(0,g.Z)(l0t,[["render",s0t]]);var i0t=o0t,n0t=r(6088),w0t=(0,a.ri)(h).use(nXt).use(X).use(cXt).use(pXt).use(mXt).use(fXt).use(yXt).use(bXt.Z).use(vXt()).component("LoadingAnimation",PXt).component("Loading",EXt).component("Popup",YXt).component("PopupFull",GXt).component("VueDatePicker",XXt.Z).component("downloadCsv",e0t()).component("popupNew",i0t).component("icon",n0t.JO).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,l){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],l=t[d][2];for(var i=!0,n=0;n<a.length;n++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,l<o&&(o=l));if(i){t.splice(d--,1);var w=s();void 0!==w&&(e=w)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,s,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,l,o=a[0],i=a[1],n=a[2],w=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(n)var d=n(r)}for(e&&e(a);w<o.length;w++)l=o[w],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(d)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(8108)}));a=r.O(a)})();
//# sourceMappingURL=app.c6480dad.js.map